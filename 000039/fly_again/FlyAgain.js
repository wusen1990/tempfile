(function(){function K(a,b){function d(){}d.prototype=a;var h=new d,c;for(c in b)h[c]=b[c];b.toString!==Object.prototype.toString&&(h.toString=b.toString);return h}function B(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Nd++);var d;null==a.hx__closures__?a.hx__closures__={}:d=a.hx__closures__[b.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},d.scope=a,d.method=b,a.hx__closures__[b.__id__]=d);return d}var n={},T=function(){return I.Boot.__string_rec(this,"")},M=function(){};
n.ApplicationMain=M;M.__name__=["ApplicationMain"];M.loadEmbed=function(a){M.embeds++;var b=null,b=function(d){a.removeEventListener("load",b);0==--M.embeds&&M.preload()};a.addEventListener("load",b)};M.main=function(){0==M.embeds&&M.preload()};M.preload=function(){M.completed=0;M.loaders=new r.ds.StringMap;M.urlLoaders=new r.ds.StringMap;M.total=0;l.Lib.get_current().loaderInfo=l.display.LoaderInfo.create(null);l.Lib.get_stage().set_frameRate(30);l.Lib.get_current().addChild(M.preloader=new ca);
M.preloader.onInit();M.loadFile("preassets/ozdylogo.png");M.loadFile("assets/Objects.png");M.loadFile("assets/SuperHooda1_0.png");for(var a=0,b=r.Resource.listNames();a<b.length;){var d=b[a];++a;$.startsWith(d,"NME_:bitmap_")&&(d=U.resolveClass($.replace(d.substring(12),"_",".")),null!=d&&(M.total++,U.createInstance(d,[0,0,!0,16777215,M.bitmapClass_onComplete])))}if(0!=M.total){M.loaderStack=[];for(a=M.loaders.keys();a.hasNext();)b=a.next(),M.loaderStack.push(b);M.urlLoaderStack=[];for(a=M.urlLoaders.keys();a.hasNext();)b=
a.next(),M.urlLoaderStack.push(b);for(a=0;8>a;)a++,M.nextLoader()}else M.begin()};M.nextLoader=function(){if(0!=M.loaderStack.length){var a=M.loaderStack.shift(),b=M.loaders.get(a);b.contentLoaderInfo.addEventListener("complete",M.loader_onComplete);b.load(new l.net.URLRequest(a))}else 0!=M.urlLoaderStack.length&&(a=M.urlLoaderStack.shift(),b=M.urlLoaders.get(a),b.addEventListener("complete",M.loader_onComplete),b.load(new l.net.URLRequest(a)))};M.loadFile=function(a){var b=new l.display.Loader;M.loaders.set(a,
b);M.total++};M.loadBinary=function(a){var b=new l.net.URLLoader;b.set_dataFormat(0);M.urlLoaders.set(a,b);M.total++};M.loadSound=function(a){};M.begin=function(){M.preloader.addEventListener("complete",M.preloader_onComplete);M.preloader.onLoaded()};M.bitmapClass_onComplete=function(a){M.completed++;U.getClass(a).preload=a;M.completed==M.total&&M.begin()};M.loader_onComplete=function(a){M.completed++;M.preloader.onUpdate(M.completed,M.total);M.completed==M.total?M.begin():M.nextLoader()};M.preloader_onComplete=
function(a){M.preloader.removeEventListener("complete",M.preloader_onComplete);l.Lib.get_current().removeChild(M.preloader);M.preloader=null;null==X.field(w,"main")?(a=U.createInstance(Gb,[]),I.Boot.__instanceof(a,l.display.DisplayObject)&&l.Lib.get_current().addChild(a)):X.callMethod(w,X.field(w,"main"),[])};var l={events:{}};l.events.IEventDispatcher=function(){};n["flash.events.IEventDispatcher"]=l.events.IEventDispatcher;l.events.IEventDispatcher.__name__=["flash","events","IEventDispatcher"];
l.events.IEventDispatcher.prototype={__class__:l.events.IEventDispatcher};l.events.EventDispatcher=function(){this.eventList=new r.ds.StringMap};n["flash.events.EventDispatcher"]=l.events.EventDispatcher;l.events.EventDispatcher.__name__=["flash","events","EventDispatcher"];l.events.EventDispatcher.__interfaces__=[l.events.IEventDispatcher];l.events.EventDispatcher.prototype={addEventListener:function(a,b,d,h,c){this.eventList.exists(a)?d=this.eventList.get(a):(h=d=[],this.eventList.set(a,h));d.push(b)},
removeEventListener:function(a,b,d,h,c){if(this.eventList.exists(a)){d=this.eventList.get(a);for(h=0;h<d.length;)if(c=d[h],++h,X.compareMethods(c,b)){S.remove(d,c);break}0==d.length&&this.eventList.remove(a)}},hasEventListener:function(a){return this.eventList.exists(a)},dispatchEvent:function(a){null==a.get_target()&&a.set_target(this);var b=a.type;if(this.eventList.exists(b))for(var d=0,b=this.eventList.get(b);d<b.length;){var h=b[d];++d;h(a)}return!0},__class__:l.events.EventDispatcher};l.events.EventWrapper=
function(){l.events.EventDispatcher.call(this);this.eventMap=new r.ds.ObjectMap};n["flash.events.EventWrapper"]=l.events.EventWrapper;l.events.EventWrapper.__name__=["flash","events","EventWrapper"];l.events.EventWrapper.__super__=l.events.EventDispatcher;l.events.EventWrapper.prototype=K(l.events.EventDispatcher.prototype,{addEventListener:function(a,b,d,h,c){null==c&&(c=!1);null==h&&(h=0);null==d&&(d=!1);var f=this;l.events.EventDispatcher.prototype.addEventListener.call(this,a,b,d,h,c);h=function(a){a.get_target()==
f.component&&a.set_target(f);a.set_currentTarget(f);b(a)};null==this.eventMap.h.__keys__[b.__id__]&&this.eventMap.set(b,h);this.component.addEventListener(a,h,d)},removeEventListener:function(a,b,d,h,c){null==c&&(c=!1);null==h&&(h=0);null==d&&(d=!1);l.events.EventDispatcher.prototype.removeEventListener.call(this,a,b,d,h,c);null!=this.eventMap.h.__keys__[b.__id__]&&(this.component.removeEventListener(a,this.eventMap.h[b.__id__],d),this.eventMap.remove(b))},__class__:l.events.EventWrapper});l.display=
{};l.display.DisplayObject=function(){this.rotation=this.x=this.y=0;this.alpha=this.scaleX=this.scaleY=1;this.visible=!0;l.events.EventWrapper.call(this);this.eventRemap=new r.ds.StringMap;null==this.component&&(this.component=l.Lib.jsNode("div"));this.component.node=this;this.component.setAttribute("node",U.getClassName(U.getClass(this)));this.transform=new l.geom.Transform(this)};n["flash.display.DisplayObject"]=l.display.DisplayObject;l.display.DisplayObject.__name__=["flash","display","DisplayObject"];
l.display.DisplayObject.__super__=l.events.EventWrapper;l.display.DisplayObject.prototype=K(l.events.EventWrapper.prototype,{broadcastEvent:function(a){this.dispatchEvent(a)},invalidate:function(){},syncMtx:function(){var a=this.component.style,b;!0!=this._syncMtx_set&&(this._syncMtx_set=!0,l.Lib.setCSSProperties(a,"transform-origin","0% 0%",31));b="";if(0!=this.x||0!=this.y)b+="translate("+this.x+"px, "+this.y+"px) ";if(1!=this.scaleX||1!=this.scaleY)b+="scale("+this.scaleX+", "+this.scaleY+") ";
0!=this.rotation&&(b+="rotate("+this.rotation+"deg) ");if(null!=this.transform){var d=this.transform.get_matrix();null==d||d.isIdentity()||(b+="matrix("+d.a+", "+d.b+", "+d.c+", "+d.d+", "+d.tx+", "+d.ty+") ")}this.component.setAttribute("transform",b);a.setProperty("transform",b,null);a.setProperty("-o-transform",b,null);a.setProperty("-ms-transform",b,null);a.setProperty("-moz-transform",b,null);a.setProperty("-webkit-transform",b,null)},set_x:function(a){this.x!=a&&(this.x=a,this.syncMtx());return a},
set_y:function(a){this.y!=a&&(this.y=a,this.syncMtx());return a},set_rotation:function(a){this.rotation!=a&&(this.rotation=a,this.syncMtx());return a},set_scaleX:function(a){this.scaleX!=a&&(this.scaleX=a,this.syncMtx());return a},set_scaleY:function(a){this.scaleY!=a&&(this.scaleY=a,this.syncMtx());return a},get_width:function(){return this.qWidth||0},get_height:function(){return this.qHeight||0},set_width:function(a){var b=this.get_width();this.set_scaleX(0==b||null==b?1:a/b);return this.qWidth=
a},set_height:function(a){var b=this.get_height();this.set_scaleY(0==b||null==b?1:a/b);return this.qHeight=a},set_alpha:function(a){a!=this.alpha&&(this.component.style.opacity=(this.alpha=a).toFixed(4));return a},set_visible:function(a){(this.visible=a)?this.component.style.display=null:this.component.style.display="none";return a},set_scrollRect:function(a){var b=H.string(this)+".scrollRect = "+H.string(a);console&&console.log(b);return a},get_stage:function(){return this._stage},set_stage:function(a){if(this._stage!=
a){var b=null!=this._stage!=(null!=a);this._stage=a;b&&this.dispatchEvent(new l.events.Event(null!=a?"addedToStage":"removedFromStage"))}return a},getBounds:function(a){var b=this.getGlobalMatrix(),d=new l.geom.Rectangle(0,0,this.get_width(),this.get_height());null==a&&(a=this);a!=this&&(d.transform(b),null!=a&&(b=a.getGlobalMatrix(),b.invert(),d.transform(b)));return d},getRect:function(a){return this.getBounds(a)},concatTransform:function(a){this.transform.get_matrix().isIdentity()||a.concat(this.transform.get_matrix());
0!=this.rotation&&a.rotate(this.rotation*Math.PI/180);1==this.scaleX&&1==this.scaleY||a.scale(this.scaleX,this.scaleY);0==this.x&&0==this.y||a.translate(this.x,this.y)},getGlobalMatrix:function(a){null==a&&(a=new l.geom.Matrix);for(var b=this;null!=b;)b.concatTransform(a),b=b.parent;return a},globalToLocal:function(a,b){null==b&&(b=new l.geom.Point);var d=l.display.DisplayObject.convMatrix,h=a.x,c=a.y;null==d&&(d=l.display.DisplayObject.convMatrix=new l.geom.Matrix);d.identity();d=this.getGlobalMatrix(d);
d.invert();b.x=h*d.a+c*d.c+d.tx;b.y=h*d.b+c*d.d+d.ty;return b},localToGlobal:function(a,b){null==b&&(b=new l.geom.Point);var d=l.display.DisplayObject.convMatrix,h=a.x,c=a.y;null==d&&(d=l.display.DisplayObject.convMatrix=new l.geom.Matrix);d.identity();d=this.getGlobalMatrix(d);b.x=h*d.a+c*d.c+d.tx;b.y=h*d.b+c*d.d+d.ty;return b},get_mouseX:function(){return(l.display.DisplayObject.convPoint=this.globalToLocal(l.Lib.get_current().get_stage().mousePos,l.display.DisplayObject.convPoint)).x},get_mouseY:function(){return(l.display.DisplayObject.convPoint=
this.globalToLocal(l.Lib.get_current().get_stage().mousePos,l.display.DisplayObject.convPoint)).y},hitTestPoint:function(a,b,d){null==d&&(d=!1);l.display.DisplayObject.convPoint.x=a;l.display.DisplayObject.convPoint.y=b;this.globalToLocal(l.display.DisplayObject.convPoint,l.display.DisplayObject.convPoint);return this.hitTestLocal(l.display.DisplayObject.convPoint.x,l.display.DisplayObject.convPoint.y,d)},hitTestLocal:function(a,b,d,h){return(!h||this.visible)&&0<=a&&0<=b&&a<=this.get_width()&&b<=
this.get_height()},addEventListener:function(a,b,d,h,c){null==c&&(c=!1);null==h&&(h=0);null==d&&(d=!1);l.events.EventWrapper.prototype.addEventListener.call(this,a,b,d,h,c)},broadcastMouse:function(a,b,d,h){if(!this.visible)return!1;var c,f=b.type,m,u=a.length,g;if(this.hasEventListener(f)||"mouseMove"==f&&(this.hasEventListener(f="mouseOver")||this.hasEventListener(f="mouseOut"))){a.push(this);m=0<h.length?h.pop():new l.geom.Matrix;for(g=d.length;g<=u;)c=a[g],m.identity(),c.concatTransform(m),m.invert(),
c=0<h.length?h.pop():new l.geom.Matrix,0<g?c.copy(d[g-1]):c.identity(),c.concat(m),d.push(c),g++;m.copy(d[u]);d=b.stageX*m.a+b.stageY*m.c+m.tx;u=b.stageX*m.b+b.stageY*m.d+m.ty;h.push(m);a.pop();if(this.hitTestLocal(d,u,!0,!0)&&(null==b.relatedObject&&(b.localX=d,b.localY=u,b.relatedObject=this),f==b.type))return this.dispatchEvent(b),!0}return!1},dispatchEvent:function(a){var b=l.events.EventWrapper.prototype.dispatchEvent.call(this,a);if(b&&l.display.DisplayObject.routedEvents.exists(a.type)&&a.bubbles){var d=
this.parent;null!=d&&d.dispatchEvent(a)}return b},toString:function(){return U.getClassName(U.getClass(this))},__class__:l.display.DisplayObject});l.display.InteractiveObject=function(){l.display.DisplayObject.call(this);this.tabEnabled=!1;this.tabIndex=0;this.mouseEnabled=this.doubleClickEnabled=!0};n["flash.display.InteractiveObject"]=l.display.InteractiveObject;l.display.InteractiveObject.__name__=["flash","display","InteractiveObject"];l.display.InteractiveObject.__super__=l.display.DisplayObject;
l.display.InteractiveObject.prototype=K(l.display.DisplayObject.prototype,{giveFocus:function(){this.component.focus()},__class__:l.display.InteractiveObject});l.display.DisplayObjectContainer=function(){l.display.InteractiveObject.call(this);this.children=[];this.mouseChildren=!0};n["flash.display.DisplayObjectContainer"]=l.display.DisplayObjectContainer;l.display.DisplayObjectContainer.__name__=["flash","display","DisplayObjectContainer"];l.display.DisplayObjectContainer.__super__=l.display.InteractiveObject;
l.display.DisplayObjectContainer.prototype=K(l.display.InteractiveObject.prototype,{get_numChildren:function(){return this.children.length},addChild:function(a){null!=a.parent&&a.parent.removeChild(a);a.parent=this;a.set_stage(this.get_stage());this.children.push(a);this.component.appendChild(a.component);var b=new l.events.Event("added");a.dispatchEvent(b);this.dispatchEvent(b);return a},removeChild:function(a){a.parent=null;a.set_stage(null);S.remove(this.children,a);this.component.removeChild(a.component);
var b=new l.events.Event("removed");a.dispatchEvent(b);this.dispatchEvent(b);return a},addChildAt:function(a,b){return b<this.children.length?(null!=a.parent&&a.parent.removeChild(a),a.parent=this,a.set_stage(this.get_stage()),this.component.insertBefore(a.component,this.children[b].component),this.children.splice(b,0,a),a):this.addChild(a)},removeChildAt:function(a){return this.removeChild(this.children[a])},removeChildren:function(a,b){null==a&&(a=0);null==b&&(b=this.children.length);for(var d=
b-a;0<=--d;)this.removeChild(this.children[a])},getChildAt:function(a){return this.children[a]},getChildIndex:function(a){for(var b=-1,d=this.children.length;++b<d;)if(this.children[b]==a)return b;return-1},contains:function(a){for(var b=0,d=this.children;b<d.length;){var h=d[b];++b;if(h==a)return!0}return!1},broadcastEvent:function(a){this.dispatchEvent(a);for(var b=0,d=this.children;b<d.length;){var h=d[b];++b;h.broadcastEvent(a)}},broadcastMouse:function(a,b,d,h){if(!this.visible)return!1;var c=
!1,f=this.children.length;if(this.mouseChildren){for(a.push(this);0<=--f;)c=c||this.children[f].broadcastMouse(a,b,d,h);a.pop()}for(c=c||l.display.InteractiveObject.prototype.broadcastMouse.call(this,a,b,d,h);d.length>a.length;)h.push(d.pop());return c},hitTestLocal:function(a,b,d,h){if(!h||this.visible){var c=this.children.length,f,m;if(0<c){for(f=l.geom.Matrix.create();0<=--c;)if(f.identity(),m=this.children[c],m.concatTransform(f),f.invert(),m.hitTestLocal(a*f.a+b*f.c+f.tx,a*f.b+b*f.d+f.ty,d,h))return!0;
l.geom.Matrix.pool.push(f)}}return!1},set_stage:function(a){l.display.InteractiveObject.prototype.set_stage.call(this,a);for(var b=0,d=this.children;b<d.length;){var h=d[b];++b;h.set_stage(a)}return a},__class__:l.display.DisplayObjectContainer});l.display.IBitmapDrawable=function(){};n["flash.display.IBitmapDrawable"]=l.display.IBitmapDrawable;l.display.IBitmapDrawable.__name__=["flash","display","IBitmapDrawable"];l.display.IBitmapDrawable.prototype={__class__:l.display.IBitmapDrawable};l.display.Sprite=
function(){l.display.DisplayObjectContainer.call(this)};n["flash.display.Sprite"]=l.display.Sprite;l.display.Sprite.__name__=["flash","display","Sprite"];l.display.Sprite.__interfaces__=[l.display.IBitmapDrawable];l.display.Sprite.__super__=l.display.DisplayObjectContainer;l.display.Sprite.prototype=K(l.display.DisplayObjectContainer.prototype,{get_graphics:function(){if(null==this._graphics){var a=new l.display.Graphics,b=a.component;a.set_displayObject(this);0==this.children.length?this.component.appendChild(b):
this.component.insertBefore(b,this.children[0].component);this._graphics=a}return this._graphics},set_stage:function(a){var b=null==this.get_stage()&&null!=a;a=l.display.DisplayObjectContainer.prototype.set_stage.call(this,a);b&&null!=this._graphics&&this._graphics.invalidate();return a},set_useHandCursor:function(a){this.component.style.cursor=a?"pointer":null;return this.useHandCursor=a},drawToSurface:function(a,b,d,h,c,f,m){this.get_graphics().drawToSurface(a,b,d,h,c,f,m)},hitTestLocal:function(a,
b,d,h){var c;return(!h||this.visible)&&(l.display.DisplayObjectContainer.prototype.hitTestLocal.call(this,a,b,d,h)||null!=(c=this._graphics)&&c.hitTestLocal(a,b,d))},__class__:l.display.Sprite});var w=function(){this.oldFrames=0;this.screenRect=null;this.initted=!1;this.frameCount=0;l.display.Sprite.call(this);this.ScreenBMD=new l.display.BitmapData(w.WIDTH_MAX,w.HEIGHT,!0,0);this.ScreenBitmap=new l.display.Bitmap(this.ScreenBMD,l.display.PixelSnapping.AUTO,!0);this.addChild(this.ScreenBitmap);w.RESIZE_WIDTH=
w.WIDTH;w.RESIZE_HEIGHT=w.HEIGHT;w.instance=this;r.Log.trace("before inits",{fileName:"Main.hx",lineNumber:115,className:"Main",methodName:"new"});k.OzTween.Init();r.Log.trace("before globals",{fileName:"Main.hx",lineNumber:117,className:"Main",methodName:"new"});G.Init();r.Log.trace("before audio",{fileName:"Main.hx",lineNumber:119,className:"Main",methodName:"new"});N.Init();r.Log.trace("before spriteinit",{fileName:"Main.hx",lineNumber:121,className:"Main",methodName:"new"});k.OzSprite.StaticInit();
r.Log.trace("before particle init",{fileName:"Main.hx",lineNumber:123,className:"Main",methodName:"new"});k.OzParticle.StaticInit();r.Log.trace("before matrixinit",{fileName:"Main.hx",lineNumber:125,className:"Main",methodName:"new"});k.OzMatrix.InitPool();r.Log.trace("before objectsinit",{fileName:"Main.hx",lineNumber:127,className:"Main",methodName:"new"});q.Register();r.Log.trace("before superhoodainit",{fileName:"Main.hx",lineNumber:132,className:"Main",methodName:"new"});z.Register();r.Log.trace("before sortinit",
{fileName:"Main.hx",lineNumber:137,className:"Main",methodName:"new"});k.OzUtil.SortIdsByName(k.OzSprite.BitmapsIds,k.OzSprite.BitmapsNames);r.Log.trace("before inputinit",{fileName:"Main.hx",lineNumber:139,className:"Main",methodName:"new"});F.init(this);w.isMobile=this.MobileCheck();this.doc=k.OzSprite.New(null,null,!1);this.stateSprite=k.OzSprite.New(null,null,!1);this.debugSprite=k.OzSprite.New(null,null,!1);this.doc.addChild(this.stateSprite);this.doc.addChild(this.whiteRect=k.OzSprite.New(q.cmcWhiteRect,
null,!1));this.whiteRect.scaleX=this.whiteRect.scaleY=10;this.whiteRect.visible=!1;this.doc.addChild(this.debugSprite);this.debugSprite.x=w.WIDTH-50;this.debugText=k.OzSprite.New(null,k.SpriteType.TEXT,!1);this.debugText.font=z.Font;this.debugText.text="0";this.debugSprite.addChild(this.debugText);this.debugSprite.setFluid(64);this.debugSprite.visible=!1;this.doc.setFluid(64);this.doc.adjustAllLayouts();l.Lib.get_current().get_stage().addEventListener("blur",w.Deactivate);l.Lib.get_current().get_stage().addEventListener("focus",
w.Activate);l.Lib.get_current().get_stage().addEventListener("deactivate",w.Deactivate);l.Lib.get_current().get_stage().addEventListener("activate",w.Activate);l.Lib.get_current().get_stage().addEventListener("enterFrame",B(this,this.update));this.doc.addChild(this.rotateDeviceSprite=new k.OzSprite(null,k.SpriteType.EMPTY));this.rotateDeviceSprite.visible=!1;this.onResize()};n.Main=w;w.__name__=["Main"];w.Deactivate=function(a){w.fnPause()};w.Activate=function(a){w.fnResume()};w.fnPause=function(){w.systemPaused||
(w.systemPaused=!0,w.hadSound=!N.muteMusic,w.hadSound&&N.ToggleMuteMusic());r.Log.trace("fnPause",{fileName:"Main.hx",lineNumber:473,className:"Main",methodName:"fnPause"})};w.fnResume=function(){w.systemPaused&&(w.systemPaused=!1,w.hadSound&&N.ToggleMuteMusic());r.Log.trace("fnResume",{fileName:"Main.hx",lineNumber:480,className:"Main",methodName:"fnResume"})};w.__super__=l.display.Sprite;w.prototype=K(l.display.Sprite.prototype,{start:function(){r.Log.trace("we start",{fileName:"Main.hx",lineNumber:215,
className:"Main",methodName:"start"});l.Lib.get_current().get_stage().addEventListener("mouseDown",N.HTML5Init);Z.ConvertSpilLogoToMC();r.Log.trace("after audio init start",{fileName:"Main.hx",lineNumber:222,className:"Main",methodName:"start"});this.s=new D.StateGGG;(new r.Timer(1E3)).run=B(this,this.measureFPS);r.Log.trace("before chartboost init",{fileName:"Main.hx",lineNumber:238,className:"Main",methodName:"start"});r.Log.trace("after chartboost init",{fileName:"Main.hx",lineNumber:244,className:"Main",
methodName:"start"});l.Lib.get_current().get_stage().addEventListener("resize",B(this,this.onResize));N.PlayMusic("main")},onResize:function(a){da.PlatformHTML5.resize();this.doc.adjustAllLayouts()},update:function(a){!0!=w.started&&r.Log.trace("started = ",{fileName:"Main.hx",lineNumber:315,className:"Main",methodName:"update",customParams:[w.started]});if(!w.systemPaused)if(w.started){this.frameCount++;a=1==this.frameCount;!a&&da.PlatformHTML5.invalidRect()&&(a=!0);if(a)this.onResize();this.rotateDeviceSprite.visible?
w.systemPaused||this.draw():(this.s.update(),k.OzTween.UpdateAll(),k.OzParticle.UpdateAll(),this.draw())}else!N.loaded||null==Z.logoBmd&&!1==Z.hideLogo||(w.started=!0,this.start())},disposeState:function(){null!=this.s&&(this.whiteRect.visible=!1,this.s.destroy(),k.OzTween.RemoveStateBounds(),k.OzParticle.RemoveStateBounds(),k.OzSprite.RemoveStateBounds(),this.s=null)},changeState:function(a){null!=this.s&&this.disposeState();this.s=a;this.doc.adjustAllLayouts();this.s.update()},clearScreenBMD:function(a){null==
a&&(a=0);null==this.screenRect&&(this.screenRect=new l.geom.Rectangle(0,0,w.WIDTH,w.HEIGHT));this.ScreenBMD.fillRect(this.screenRect,a)},transitionChangeState:function(a,b){var d=this;this.s=null;this.s=a;this.s.update();this.whiteRect.visible=!0;this.whiteRect.alpha=1;var h=k.OzTween.New();h.startValue=this.whiteRect.alpha;h.endValue=0;h.duration=b;h.cnt=0;h.updateFunc=function(a){d.whiteRect.alpha=(1-a*a)*h.startValue+a*a*h.endValue};h.repeat=0;h.endFunc=function(){d.whiteRect.visible=!1};h.stateBound=
!0;h.gameBound=!1;k.OzTween.Add(h)},draw:function(a){k.OzSprite.TilesheetId=-1;this.doc.draw();k.OzSprite.Flush();k.OzSprite.RemoveRequested()},measureFPS:function(){this.debugText.text=""+(this.frameCount-this.oldFrames);this.oldFrames=this.frameCount},MobileCheck:function(){return window.mobilecheck()},touchCheck:function(){return X.field(l.Lib.get_current().get_stage(),"isTouchScreen")},__class__:w});var Gb=function(){w.call(this)};n.DocumentClass=Gb;Gb.__name__=["DocumentClass"];Gb.__super__=
w;Gb.prototype=K(w.prototype,{get_stage:function(){return l.Lib.get_current().get_stage()},__class__:Gb});var N=function(){};n.Audio=N;N.__name__=["Audio"];N.HTML5Init=function(a){l.Lib.get_current().get_stage().removeEventListener("mouseDown",N.HTML5Init);r.Log.trace("we init audio",{fileName:"Audio.hx",lineNumber:52,className:"Audio",methodName:"HTML5Init",customParams:[N.hasMusic]});N.initted=N.hasMusic;N.PlayMusic("main");r.Log.trace("we played main",{fileName:"Audio.hx",lineNumber:55,className:"Audio",
methodName:"HTML5Init"})};N.Init=function(){};N.PlayMusic=function(a){try{N.initted&&(N.muteMusic||N.currentMusic==a&&N.playingMusic==a||(N.musc=createjs.Sound.play(a,{interrupt:createjs.Sound.INTERRUPT_EARLY,loop:-1}),N.playingMusic=a),N.currentMusic=a)}catch(b){r.Log.trace("Error playing music"+a,{fileName:"Audio.hx",lineNumber:81,className:"Audio",methodName:"PlayMusic"})}};N.StopMusic=function(){};N.PlaySound=function(a){};N.ToggleMuteMusic=function(){try{N.muteMusic=!N.muteMusic,N.initted&&(N.muteMusic?
null!=N.musc&&N.musc.pause():null!=N.musc&&N.playingMusic==N.currentMusic?N.musc.resume():N.PlayMusic(N.currentMusic))}catch(a){r.Log.trace("Error toggle mute music",{fileName:"Audio.hx",lineNumber:99,className:"Audio",methodName:"ToggleMuteMusic"})}};N.ToggleMuteSound=function(){};N.updateVolume=function(){};var x={AssetLibrary:function(){}};n["openfl.AssetLibrary"]=x.AssetLibrary;x.AssetLibrary.__name__=["openfl","AssetLibrary"];x.AssetLibrary.prototype={exists:function(a,b){return!1},getBitmapData:function(a){return null},
getBytes:function(a){return null},getText:function(a){return null},getFont:function(a){return null},getMovieClip:function(a){return null},getMusic:function(a){return this.getSound(a)},getPath:function(a){return null},getSound:function(a){return null},isLocal:function(a,b){return!0},list:function(a){return null},load:function(a){a(this)},loadBitmapData:function(a,b){b(this.getBitmapData(a))},loadBytes:function(a,b){b(this.getBytes(a))},loadText:function(a,b){b(this.getText(a))},loadFont:function(a,
b){b(this.getFont(a))},loadMovieClip:function(a,b){b(this.getMovieClip(a))},loadMusic:function(a,b){b(this.getMusic(a))},loadSound:function(a,b){b(this.getSound(a))},__class__:x.AssetLibrary};var Da=function(){this.type=new r.ds.StringMap;this.path=new r.ds.StringMap;this.className=new r.ds.StringMap;x.AssetLibrary.call(this);var a;a="preassets/ozdylogo.png";this.path.set(a,a);this.type.set(a,x.AssetType.IMAGE);a="assets/Objects.png";this.path.set(a,a);this.type.set(a,x.AssetType.IMAGE);a="assets/SuperHooda1_0.png";
this.path.set(a,a);this.type.set(a,x.AssetType.IMAGE)};n.DefaultAssetLibrary=Da;Da.__name__=["DefaultAssetLibrary"];Da.__super__=x.AssetLibrary;Da.prototype=K(x.AssetLibrary.prototype,{exists:function(a,b){var d=this.type.get(a);return null==d||d!=b&&(b!=x.AssetType.SOUND&&b!=x.AssetType.MUSIC||d!=x.AssetType.MUSIC&&d!=x.AssetType.SOUND)&&b!=x.AssetType.BINARY&&null!=b?!1:!0},getBitmapData:function(a){return I.Boot.__cast(function(b){b=b.path.get(a);return M.loaders.get(b)}(this).contentLoaderInfo.content,
l.display.Bitmap).bitmapData},getBytes:function(a){var b=null,b=this.path.get(a);a=M.urlLoaders.get(b).data;"string"==typeof a?(b=new l.utils.ByteArray,b.writeUTFBytes(a)):b=I.Boot.__instanceof(a,l.utils.ByteArray)?a:null;return null!=b?(b.position=0,b):null},getFont:function(a){return I.Boot.__cast(U.createInstance(this.className.get(a),[]),l.text.Font)},getMusic:function(a){return new l.media.Sound(new l.net.URLRequest(this.path.get(a)))},getPath:function(a){return this.path.get(a)},getSound:function(a){return new l.media.Sound(new l.net.URLRequest(this.path.get(a)))},
getText:function(a){var b=null;a=this.path.get(a);a=M.urlLoaders.get(a).data;if("string"==typeof a)return a;b=I.Boot.__instanceof(a,l.utils.ByteArray)?a:null;return null!=b?(b.position=0,b.readUTFBytes(b.length)):null},isLocal:function(a,b){return!0},list:function(a){for(var b=[],d=this.type.keys();d.hasNext();){var h=d.next();(null==a||this.exists(h,a))&&b.push(h)}return b},loadBitmapData:function(a,b){if(this.path.exists(a)){var d=new l.display.Loader;d.contentLoaderInfo.addEventListener("complete",
function(a){b(I.Boot.__cast(a.get_currentTarget().content,l.display.Bitmap).bitmapData)});d.load(new l.net.URLRequest(this.path.get(a)))}else b(this.getBitmapData(a))},loadBytes:function(a,b){if(this.path.exists(a)){var d=new l.net.URLLoader;d.addEventListener("complete",function(a){var d=new l.utils.ByteArray;d.writeUTFBytes(a.get_currentTarget().data);d.position=0;b(d)});d.load(new l.net.URLRequest(this.path.get(a)))}else b(this.getBytes(a))},loadFont:function(a,b){b(this.getFont(a))},loadMusic:function(a,
b){b(this.getMusic(a))},loadSound:function(a,b){b(this.getSound(a))},loadText:function(a,b){if(this.path.exists(a)){var d=new l.net.URLLoader;d.addEventListener("complete",function(a){b(a.get_currentTarget().data)});d.load(new l.net.URLRequest(this.path.get(a)))}else b(this.getText(a))},__class__:Da});var G=function(){};n.Globals=G;G.__name__=["Globals"];G.Init=function(){G.levelsXML=R.parse(r.Resource.getString("levels")).firstElement();G.definitionsXML=R.parse(r.Resource.getString("definitions")).firstElement();
G.levelsXMLLoaded=!0;G.definitionsXMLLoaded=!0;G.load()};G.load=function(){G.so=l.net.SharedObject.getLocal("sushi_dream2");if(null==G.so.data||null==G.so.data.levelScores){G.so.data.edit_data="<level/>";G.so.data.levelScores=[];G.so.data.checkpoints=[];G.so.data.gottenStars=[];for(var a=0,b=G.NUMLEVELS;a<b;){var d=a++;G.so.data.levelScores[d]=-1}a=0;for(b=G.NUMLEVELS;a<b;)d=a++,G.so.data.checkpoints[d]=0;a=0;for(b=G.NUMLEVELS;a<b;)d=a++,G.so.data.gottenStars[d]=0}G.edit_data=R.parse(I.Boot.__cast(G.so.data.edit_data,
String)).firstElement();G.levelScores=G.so.data.levelScores;G.checkpoints=G.so.data.checkpoints;G.gottenStars=G.so.data.gottenStars};G.save=function(){G.so.data.edit_data=G.edit_data.toString();G.so.data.levelScores=G.levelScores;G.so.data.checkpoints=G.checkpoints;G.so.data.gottenStars=G.gottenStars;var a=null;try{a=I.Boot.__cast(G.so.flush(),String)}catch(b){r.Log.trace("couldnt write...",{fileName:"Globals.hx",lineNumber:98,className:"Globals",methodName:"save"})}null!=a&&(a==I.Boot.__cast(l.net.SharedObjectFlushStatus.PENDING,
String)&&r.Log.trace("requesting permission to save",{fileName:"Globals.hx",lineNumber:112,className:"Globals",methodName:"save"}),I.Boot.__cast(l.net.SharedObjectFlushStatus.FLUSHED,String))};G.BtnToggleMute=function(){N.ToggleMuteMusic();N.ToggleMuteSound();return N.muteMusic};G.android=function(a){l.Lib.getURL(new l.net.URLRequest("http://spil.com/FlyGN"),"_blank")};G.moreGames=function(a){G.isHooda?l.Lib.getURL(new l.net.URLRequest("http://www.hoodamath.com")):null!=Z.action?(r.Log.trace("Spil api action",
{fileName:"Globals.hx",lineNumber:141,className:"Globals",methodName:"moreGames"}),Z.action()):l.Lib.getURL(new l.net.URLRequest("http://www.cocaji.com/"))};G.facebook=function(a){l.Lib.getURL(new l.net.URLRequest("https://www.facebook.com/pages/Ozdy/312711385427046"))};G.twitter=function(a){l.Lib.getURL(new l.net.URLRequest("https://twitter.com/OzdyGames"))};var S=function(){};n.HxOverrides=S;S.__name__=["HxOverrides"];S.dateStr=function(a){var b=a.getMonth()+1,d=a.getDate(),h=a.getHours(),c=a.getMinutes(),
f=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>d?"0"+d:""+d)+" "+(10>h?"0"+h:""+h)+":"+(10>c?"0"+c:""+c)+":"+(10>f?"0"+f:""+f)};S.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+
a;}};S.cca=function(a,b){var d=a.charCodeAt(b);return d!=d?void 0:d};S.substr=function(a,b,d){if(null!=b&&0!=b&&null!=d&&0>d)return"";null==d&&(d=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>d&&(d=a.length+d-b);return a.substr(b,d)};S.indexOf=function(a,b,d){var h=a.length;for(0>d&&(d+=h,0>d&&(d=0));d<h;){if(a[d]===b)return d;d++}return-1};S.remove=function(a,b){var d=S.indexOf(a,b,0);if(-1==d)return!1;a.splice(d,1);return!0};S.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},
next:function(){return this.arr[this.cur++]}}};var F=function(){};n.Input=F;F.__name__=["Input"];F.key=function(a){return S.cca(a,0)};F.init=function(a){F.mouseWheelDelta=0;F.mctrl=!1;F.mshift=!1;F.kctrl=!1;F.kshift=!1;F.down=[];F.kproc=[];for(var b=0;256>b;)b++,F.down.push(!1),F.kproc.push(!1);F.hasFocus=!0;F.iDoc=a;F.iStage=a.get_stage();a.get_stage().addEventListener("keydown",F.keyDownHandler);a.get_stage().addEventListener("keyup",F.keyUpHandler);a.get_stage().addEventListener("mouseMove",F.mouseMoveHandler);
a.get_stage().addEventListener("mouseDown",F.mouseDownHandler);a.get_stage().addEventListener("mouseUp",F.mouseUpHandler);a.get_stage().addEventListener("mouseWheel",F.mouseWheelHandler);a.get_stage().addEventListener("blur",F.focusOutHandler);a.get_stage().addEventListener("focus",F.focusInHandler)};F.reFocus=function(a){F.iStage.get_focus()!=F.iStage&&F.iStage.set_focus(F.iStage)};F.keyDownHandler=function(a){F.down[a.keyCode%256]=!0;F.kshift=a.shiftKey;F.kctrl=a.ctrlKey};F.keyUpHandler=function(a){a=
a.keyCode;F.down[a%256]=!1;F.kproc[a%256]=!1};F.SetMouseXY=function(a,b){F.mx=a-F.mOffsetX;F.my=b-F.mOffsetY;F.mx-=da.PlatformHTML5.offsetX;F.my-=da.PlatformHTML5.offsetY;F.mx/=w.instance.scaleX;F.my/=w.instance.scaleY};F.mouseMoveHandler=function(a){F.SetMouseXY(a.stageX,a.stageY)};F.mouseWheelHandler=function(a){F.mouseWheelDelta=a.delta};F.UpdateSpriteUnder=function(){F.spriteUnder=k.OzSprite.GetSpriteAtPoint(w.instance.doc,F.mx,F.my)};F.mouseDownHandler=function(a){F.SetMouseXY(a.stageX,a.stageY);
F.UpdateSpriteUnder();F.clicked&&F.lastClicked+1<w.instance.frameCount&&(F.clicked=!1);if(!F.clicked&&null!=F.spriteUnder&&null!=F.spriteUnder.eventListeners&&F.spriteUnder.eventListeners.exists(2))F.spriteUnder.eventListeners.get(2)(new k.OzEvent(F.spriteUnder)),N.PlaySound("roll");else if(F.clicked||null==F.spriteUnder||null==F.spriteUnder.eventListeners||!F.spriteUnder.eventListeners.exists(1))F.mdown=!0;F.mup=!1;F.mctrl=a.ctrlKey;F.mshift=a.shiftKey;F.clicked=!0;F.lastClicked=w.instance.frameCount};
F.mouseUpHandler=function(a){F.clicked=!1;F.mdown=!1;F.mup=!0};F.touchMoveHandler=function(a){F.SetMouseXY(a.stageX,a.stageY)};F.touchDownHandler=function(a){F.SetMouseXY(a.stageX,a.stageY);F.clicked=!0;var b=k.OzSprite.GetSpriteAtPoint(w.instance.doc,F.mx,F.my);null!=b&&null!=b.eventListeners&&b.eventListeners.exists(2)?b.eventListeners.get(2)(new k.OzEvent(b)):null!=b&&null!=b.eventListeners&&b.eventListeners.exists(1)||(F.mdown=!0);F.mup=!1;F.mctrl=a.ctrlKey;F.mshift=a.shiftKey};F.touchUpHandler=
function(a){F.mdown=!1;F.mup=!0};F.focusOutHandler=function(a){F.hasFocus=!1;for(a=0;256>a;)a++};F.focusInHandler=function(a){F.hasFocus=!0};var Ja=function(){this.length=0};n.List=Ja;Ja.__name__=["List"];Ja.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:Ja};var ta=function(){};n.IMap=
ta;ta.__name__=["IMap"];Math.__name__=["Math"];var eb=function(){l.display.Sprite.call(this);var a=this.getBackgroundColor(),b=0;70>0.299*(a>>16&255)+0.587*(a>>8&255)+0.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-4.5,d=this.getWidth()-60;this.outline=new l.display.Sprite;this.outline.get_graphics().lineStyle(1,b,0.15,!0);this.outline.get_graphics().drawRoundRect(0,0,d,9,6,6);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new l.display.Sprite;this.progress.get_graphics().beginFill(b,
0.35);this.progress.get_graphics().drawRect(0,0,d-6,3);this.progress.set_x(33);this.progress.set_y(a+3);this.progress.set_scaleX(0);this.addChild(this.progress)};n.NMEPreloader=eb;eb.__name__=["NMEPreloader"];eb.__super__=l.display.Sprite;eb.prototype=K(l.display.Sprite.prototype,{getBackgroundColor:function(){return 0},getHeight:function(){return l.Lib.get_current().get_stage().get_stageHeight()},getWidth:function(){return l.Lib.get_current().get_stage().get_stageWidth()},onInit:function(){},onLoaded:function(){this.dispatchEvent(new l.events.Event("complete"))},
onUpdate:function(a,b){var d=a/b;1<d&&1==d;this.progress.set_scaleX(d)},__class__:eb});var q=function(){};n.Objects=q;q.__name__=["Objects"];q.Register=function(){q.MovieClips=[q.bmpBrick,q.bmpMetal,q.bmpMud,q.bmpStone,q.bmpWood,q.btnBack,q.btnCancel,q.btnCredits,q.btnIconPlay,q.btnLevels,q.btnMoreGames,q.btnNext,q.btnPause,q.btnPlay,q.btnRestart,q.cbtnAudio,q.cbtnFacebook,q.cbtnTwitter,q.cmcAimBall,q.cmcAlien1,q.cmcAlien2,q.cmcAlien3,q.cmcArm,q.cmcArm1,q.cmcArm2,q.cmcArm3,q.cmcBG,q.cmcBGGGG,q.cmcBGSolid,
q.cmcBarrel,q.cmcBlueMetalBig,q.cmcBlueMetalMedium,q.cmcBlueMetalSmall,q.cmcBlueStar,q.cmcBomb,q.cmcBoomOneThird,q.cmcBrain,q.cmcBrickTiles,q.cmcBullet,q.cmcChain,q.cmcChainPin,q.cmcChecking,q.cmcChess,q.cmcCloudBig,q.cmcCloudMedium,q.cmcCloudSmall,q.cmcCloudTiles,q.cmcCrate,q.cmcCreditsText,q.cmcCross,q.cmcCrossHair,q.cmcDashedCircle,q.cmcDialogBG,q.cmcDot,q.cmcExplosiveCrate,q.cmcFlyingStar,q.cmcGoldStar,q.cmcGooglePlay,q.cmcGround100x25,q.cmcGround200x25,q.cmcGround400x25,q.cmcGround50x25,q.cmcGround650x60,
q.cmcHand,q.cmcHangarCheckPoint,q.cmcHangarFinish,q.cmcHangarStart,q.cmcHeart,q.cmcIceFragment1,q.cmcIceFragment2,q.cmcIceFragment3,q.cmcIceFragment4,q.cmcIcePlatform100x24,q.cmcIcePlatform150x24,q.cmcInLabel,q.cmcInstructions,q.cmcIntestine,q.cmcLeg1,q.cmcLeg2,q.cmcLeg3,q.cmcLevelSelectButton,q.cmcLevelsLeft,q.cmcLevelsRight,q.cmcMetalCrate,q.cmcMetalPlatform100x24,q.cmcMetalPlatform200x24,q.cmcMetalPlatform400x24,q.cmcMetalPlatform50x24,q.cmcMetalWheel,q.cmcNext,q.cmcOutLabel,q.cmcPausedText,q.cmcPlatform100x25,
q.cmcPlatform160x25,q.cmcPlayer,q.cmcRedMetalBig,q.cmcRedMetalMedium,q.cmcRedMetalSmall,q.cmcRibs,q.cmcRubberPlatform,q.cmcSaucerPart,q.cmcSelectALevel,q.cmcShotCounter,q.cmcSkull1,q.cmcSkull2,q.cmcSkull3,q.cmcSmoke,q.cmcSnowPlatform100x25,q.cmcSnowPlatform200x25,q.cmcSnowPlatform400x25,q.cmcSnowPlatform50x25,q.cmcSoulBoy,q.cmcSoulGirl,q.cmcSpikeWheel,q.cmcStarGold,q.cmcStarGreen,q.cmcStarPink,q.cmcStarPurple,q.cmcSuperHoodaTitle,q.cmcSwitch,q.cmcTeleportIn,q.cmcTeleportOut,q.cmcTileGrassMud,q.cmcTryCounter,
q.cmcTryStars,q.cmcWhiteRect,q.cmcWoodFragment1,q.cmcWoodFragment2,q.cmcWoodFragment3,q.cmcWoodFragment4,q.cmcWoodenCrate,q.cmcWoodenWheel,q.cmcYouLoseText,q.cmcYouWinText,q.sponsorGGG,q.sysRateStar,q.sysRateUs,q.sysRectBlack];k.OzSprite.RegisterTilesheet(q.BitmapName,q.MovieClips,q.Frames)};var aa=function(){};n.ObjectsLayouts=aa;aa.__name__=["ObjectsLayouts"];aa.cmcCredits=function(a){var b;b=k.OzSprite.New(q.cmcBG);a.addChild(b);b.name="bg";b.x=0;b.y=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=
1;b=k.OzSprite.New(q.cmcCreditsText);a.addChild(b);b.name="author";b.x=166;b.y=-8;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnBack);a.addChild(b);b.name="btnBack";b.x=321;b.y=435;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sponsorGGG);a.addChild(b);b.name="sponsor";b.x=556;b.y=456;b.rotation=0;b.scaleX=0.6493072509765625;b.scaleY=0.6493072509765625;b.alpha=1};aa.cmcGGG=function(a){var b;b=k.OzSprite.New(q.cmcBGGGG);a.addChild(b);b.name="bg";b.x=320;b.y=240;
b.rotation=0;b.scaleX=17.79168701171875;b.scaleY=8;b.alpha=1;b=k.OzSprite.New(q.sponsorGGG);a.addChild(b);b.name="sponsor";b.x=327;b.y=244;b.rotation=0;b.scaleX=1.6802978515625;b.scaleY=1.6800537109375;b.alpha=1};aa.cmcLevels=function(a){var b;b=k.OzSprite.New(q.cmcBG);a.addChild(b);b.name="bg";b.x=0;b.y=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnBack);a.addChild(b);b.name="btnBack";b.x=320;b.y=449;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcSelectALevel);
a.addChild(b);b.name="select";b.x=320;b.y=55;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sponsorGGG);a.addChild(b);b.name="sponsor";b.x=576;b.y=455;b.rotation=0;b.scaleX=0.4674224853515625;b.scaleY=0.4674224853515625;b.alpha=1};aa.cmcMenu=function(a){var b;b=k.OzSprite.New(q.cmcBG);a.addChild(b);b.name="bg";b.x=0;b.y=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcSuperHoodaTitle);a.addChild(b);b.name="title";b.x=324;b.y=97;b.rotation=0;b.scaleX=1;b.scaleY=
1;b.alpha=1;b=k.OzSprite.New(q.btnPlay);a.addChild(b);b.name="btnPlay";b.x=311;b.y=310;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnMoreGames);a.addChild(b);b.name="btnMore";b.x=311;b.y=385;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnCredits);a.addChild(b);b.name="btnCredits";b.x=312;b.y=448;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cbtnAudio);a.addChild(b);b.name="btnAudio";b.x=603;b.y=36;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=
1;b=k.OzSprite.New(q.sponsorGGG);a.addChild(b);b.name="sponsor";b.x=599;b.y=398;b.rotation=0;b.scaleX=0.71221923828125;b.scaleY=0.71221923828125;b.alpha=1;b=k.OzSprite.New(q.cmcWhiteRect);a.addChild(b);b.name="crossGames";b.x=14;b.y=257;b.rotation=0;b.scaleX=1.55413818359375;b.scaleY=4.34051513671875;b.alpha=1;b=k.OzSprite.New(q.cbtnFacebook);a.addChild(b);b.name="btnFacebook";b.x=27;b.y=30;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cbtnTwitter);a.addChild(b);b.name="btnTwitter";
b.x=27;b.y=84;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcGooglePlay);a.addChild(b);b.name="googlePlay";b.x=602;b.y=310;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1};aa.cmcPaused=function(a){var b;b=k.OzSprite.New(q.cmcDialogBG);a.addChild(b);b.name="";b.x=320;b.y=240;b.rotation=0;b.scaleX=17.791641235351562;b.scaleY=8;b.alpha=1;b=k.OzSprite.New(q.btnLevels);a.addChild(b);b.name="btnLevels";b.x=392;b.y=264;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcPausedText);
a.addChild(b);b.name="";b.x=320;b.y=151;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnIconPlay);a.addChild(b);b.name="btnPlay";b.x=248;b.y=264;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnMoreGames);a.addChild(b);b.name="btnMore";b.x=320;b.y=366;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cbtnAudio);a.addChild(b);b.name="btnAudio";b.x=591;b.y=435;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1};aa.cmcPlay=function(a){var b;b=k.OzSprite.New(q.cmcBGSolid);
a.addChild(b);b.name="bg";b.x=0;b.y=0;b.rotation=0;b.scaleX=3;b.scaleY=3;b.alpha=1;b=k.OzSprite.New(q.cmcStarGold);a.addChild(b);b.name="starCounter";b.x=19;b.y=18;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sponsorGGG);a.addChild(b);b.name="sponsor";b.x=583;b.y=458;b.rotation=0;b.scaleX=0.4230499267578125;b.scaleY=0.4230499267578125;b.alpha=1;b=k.OzSprite.New(q.btnPause);a.addChild(b);b.name="btnPause";b.x=31;b.y=447;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1};aa.cmcYouLose=
function(a){var b;b=k.OzSprite.New(q.btnRestart);a.addChild(b);b.name="btnRestart";b.x=245;b.y=346;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnLevels);a.addChild(b);b.name="btnLevels";b.x=529;b.y=346;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnMoreGames);a.addChild(b);b.name="btnMore";b.x=320;b.y=434;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcYouLoseText);a.addChild(b);b.name="";b.x=316;b.y=60;b.rotation=0;b.scaleX=1;b.scaleY=1;
b.alpha=1};aa.cmcYouWin=function(a){var b;b=k.OzSprite.New(q.cmcYouWinText);a.addChild(b);b.name="";b.x=314;b.y=59;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnLevels);a.addChild(b);b.name="btnLevels";b.x=223;b.y=351;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnNext);a.addChild(b);b.name="btnNext";b.x=383;b.y=351;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.btnMoreGames);a.addChild(b);b.name="btnMore";b.x=300;b.y=445;b.rotation=0;b.scaleX=
1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcGoldStar);a.addChild(b);b.name="star1";b.x=250;b.y=111;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcGoldStar);a.addChild(b);b.name="star2";b.x=305;b.y=110;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcGoldStar);a.addChild(b);b.name="star3";b.x=359;b.y=110;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.cmcWhiteRect);a.addChild(b);b.name="crossGames";b.x=508;b.y=220;b.rotation=0;b.scaleX=1.55413818359375;
b.scaleY=4.34051513671875;b.alpha=1;b=k.OzSprite.New(q.cmcWhiteRect);a.addChild(b);b.name="rater";b.x=300;b.y=152;b.rotation=0;b.scaleX=1.833282470703125;b.scaleY=0.3898162841796875;b.alpha=1;b=k.OzSprite.New(q.cmcGooglePlay);a.addChild(b);b.name="googlePlay";b.x=300;b.y=237;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1};aa.sysRater=function(a){var b;b=k.OzSprite.New(q.sysRateStar);a.addChild(b);b.name="star1";b.x=7;b.y=-1;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sysRateUs);
a.addChild(b);b.name="";b.x=-93;b.y=1;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sysRateStar);a.addChild(b);b.name="star2";b.x=45;b.y=-1;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sysRateStar);a.addChild(b);b.name="star3";b.x=84;b.y=-1;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sysRateStar);a.addChild(b);b.name="star4";b.x=123;b.y=-1;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1;b=k.OzSprite.New(q.sysRateStar);a.addChild(b);b.name="star5";
b.x=162;b.y=-1;b.rotation=0;b.scaleX=1;b.scaleY=1;b.alpha=1};var ca=function(){this.didLoad=!1;this.docClick=null;this._painted=this.assetsLoaded=!1;this.firstWidth=this.getWidth();this.firstHeight=this.getHeight();eb.call(this);var a=this.outline;a.set_y(a.y+this.firstHeight/4);a=this.progress;a.set_y(a.y+this.firstHeight/4);l.Lib.get_current().addChild(ca._outline=this.outline);l.Lib.get_current().addChild(ca._progress=this.progress);r.Log.trace("we preloading",{fileName:"Preloader.hx",lineNumber:46,
className:"Preloader",methodName:"new"});this.set_visible(!1);Z.Init();a=[createjs.WebAudioPlugin,createjs.HTMLAudioPlugin];createjs.Sound.BrowserDetect.isFirefox&&(a=[createjs.HTMLAudioPlugin]);N.hasMusic=createjs.Sound.registerPlugins(a);createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry?(N.hasSound=0<=createjs.Sound.activePlugin.toString().indexOf("WebAudio"),N.hasMusic=N.hasSound):N.hasSound=!0;a=new createjs.LoadQueue;createjs.Sound.alternateExtensions=
["mp3"];a.installPlugin(createjs.Sound);a.addEventListener("complete",ca.audioLoadComplete);a.loadFile({id:"main",src:"audioassets/main.ogg"})};n.Preloader=ca;ca.__name__=["Preloader"];ca.audioLoadComplete=function(a){r.Log.trace("sounds are loaded",{fileName:"Preloader.hx",lineNumber:33,className:"Preloader",methodName:"audioLoadComplete"});N.loaded=!0;r.Log.trace("Audio.loaded = ",{fileName:"Preloader.hx",lineNumber:35,className:"Preloader",methodName:"audioLoadComplete",customParams:[N.loaded]})};
ca.Destroy=function(){null!=ca.bm&&null!=ca.bm.parent&&l.Lib.get_current().removeChild(ca.bm);l.Lib.get_current().removeChild(ca._outline);l.Lib.get_current().removeChild(ca._progress);r.Log.trace("we destroy",{fileName:"Preloader.hx",lineNumber:171,className:"Preloader",methodName:"Destroy"})};ca.__super__=eb;ca.prototype=K(eb.prototype,{mochiEnd:function(){this.didLoad=!0},onUpdate:function(a,b){var d;d=a/b*0.9;1<d&&1==d;this.progress.set_scaleX(d);if(!this._painted)try{var h=Z.logoBmd;if(null==
h)throw new l.errors.Error("Spil Api not loaded catch plz");this.putBitmap(h);this._painted=!0}catch(c){}},putBitmap:function(a){this.set_visible(!0);ca.bm=new l.display.Bitmap(a);ca.bm.set_scaleX(ca.bm.set_scaleY(this.firstWidth/a.component.width));l.Lib.get_current().addChildAt(ca.bm,0);ca.bm.addEventListener("mouseClick",G.moreGames)},onInit:function(){r.Log.trace("we init preloader",{fileName:"Preloader.hx",lineNumber:153,className:"Preloader",methodName:"onInit"})},onLoaded:function(){r.Log.trace("we done assets",
{fileName:"Preloader.hx",lineNumber:158,className:"Preloader",methodName:"onLoaded"});this.assetsLoaded=!0;ca.Destroy();this.dispatchEvent(new l.events.Event("complete"))},__class__:ca});var X=function(){};n.Reflect=X;X.__name__=["Reflect"];X.field=function(a,b){try{return a[b]}catch(d){return null}};X.setField=function(a,b,d){a[b]=d};X.callMethod=function(a,b,d){return b.apply(a,d)};X.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,h;for(h in a)"__id__"!=h&&"hx__closures__"!=
h&&d.call(a,h)&&b.push(h)}return b};X.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};X.compareMethods=function(a,b){return a==b?!0:X.isFunction(a)&&X.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};X.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};X.copy=function(a){for(var b={},d=0,h=X.fields(a);d<h.length;){var c=h[d];++d;X.setField(b,c,X.field(a,c))}return b};var Z=function(){};n.SpilAPI=
Z;Z.__name__=["SpilAPI"];Z.Init=function(){GameAPI.loadAPI(function(a){Z.initted=!0;a=a.Branding.getLogo();console.log("spil init info",a,a.image,a.action);"undefined"!=typeof a.image?a.image?Z.imageUrl=a.image:Z.hideLogo=!0:Z.hideLogo=!0;"undefined"!=typeof a.image&&(Z.action=a.action);Z.prepareLoad()},{id:"576742227280292457"});r.Log.trace("We initted Spil API!",{fileName:"SpilAPI.hx",lineNumber:43,className:"SpilAPI",methodName:"Init"})};Z.prepareLoad=function(){r.Log.trace(Z.imageUrl,{fileName:"SpilAPI.hx",
lineNumber:48,className:"SpilAPI",methodName:"prepareLoad"});if(!Z.hideLogo){r.Log.trace("We have to init spil logo",{fileName:"SpilAPI.hx",lineNumber:50,className:"SpilAPI",methodName:"prepareLoad"});var a=new l.net.URLRequest(Z.imageUrl),b=new l.display.Loader;b.contentLoaderInfo.addEventListener("complete",Z.onLogoLoad);b.load(a)}};Z.onLogoLoad=function(a){r.Log.trace("we loaded it",{fileName:"SpilAPI.hx",lineNumber:60,className:"SpilAPI",methodName:"onLogoLoad",customParams:[Z.url]});var b=a.get_target().content;
Z.logoBmd=b.bitmapData;a.get_target().removeEventListener("complete",Z.onLogoLoad)};Z.ConvertSpilLogoToMC=function(){null!=Z.logoBmd&&(Z.MC=k.OzSprite.AddRuntimeBitmapData(Z.logoBmd,"SpilLogo"));k.OzUtil.SortIdsByName(k.OzSprite.BitmapsIds,k.OzSprite.BitmapsNames)};Z.RequestAd=function(){Z.initted&&(GameAPI.GameBreak.request(w.fnPause,w.fnResume),r.Log.trace("let's try ad",{fileName:"SpilAPI.hx",lineNumber:81,className:"SpilAPI",methodName:"RequestAd"}))};var H=function(){};n.Std=H;H.__name__=["Std"];
H.is=function(a,b){return I.Boot.__instanceof(a,b)};H.string=function(a){return I.Boot.__string_rec(a,"")};H["int"]=function(a){return a|0};H.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=S.cca(a,1)&&88!=S.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};H.parseFloat=function(a){return parseFloat(a)};var Ka=function(){this.b=""};n.StringBuf=Ka;Ka.__name__=["StringBuf"];Ka.prototype={add:function(a){this.b+=H.string(a)},addSub:function(a,b,d){this.b=null==d?this.b+S.substr(a,b,null):this.b+
S.substr(a,b,d)},__class__:Ka};var $=function(){};n.StringTools=$;$.__name__=["StringTools"];$.urlEncode=function(a){return encodeURIComponent(a)};$.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};$.startsWith=function(a,b){return a.length>=b.length&&S.substr(a,0,b.length)==b};$.replace=function(a,b,d){return a.split(b).join(d)};$.hex=function(a,b){var d="";do d="0123456789ABCDEF".charAt(a&
15)+d,a>>>=4;while(0<a);if(null!=b)for(;d.length<b;)d="0"+d;return d};$.fastCodeAt=function(a,b){return a.charCodeAt(b)};var z=function(){};n.SuperHooda1=z;z.__name__=["SuperHooda1"];z.Register=function(){z.Font=new k.OzFont;z.Font.face="Visitor TT1 BRK";z.Font.size=36;z.Font.padding=[0,0,0,0];z.Font.spacing=[1,1];z.Font.lineHeight=36;z.Font.base=28;z.Font.numPages=1;z.Font.bitmapName="SuperHooda1_0.png";z.Font.numChars=200;z.Font.chars[32]={id:32,x:37,y:34,width:3,height:1,xOffset:-1,yOffset:35,
xAdvance:24,page:0,letter:" ",movieClip:null};z.Font.chars[33]={id:33,x:436,y:150,width:6,height:20,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:"!",movieClip:null};z.Font.chars[34]={id:34,x:217,y:171,width:14,height:8,xOffset:-1,yOffset:8,xAdvance:16,page:0,letter:'"',movieClip:null};z.Font.chars[35]={id:35,x:437,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"#",movieClip:null};z.Font.chars[36]={id:36,x:106,y:0,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,
letter:"$",movieClip:null};z.Font.chars[37]={id:37,x:460,y:104,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"%",movieClip:null};z.Font.chars[38]={id:38,x:152,y:0,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"&",movieClip:null};z.Font.chars[39]={id:39,x:283,y:171,width:6,height:8,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:"'",movieClip:null};z.Font.chars[40]={id:40,x:407,y:150,width:10,height:20,xOffset:-1,yOffset:8,xAdvance:12,page:0,letter:"(",movieClip:null};
z.Font.chars[41]={id:41,x:396,y:150,width:10,height:20,xOffset:-1,yOffset:8,xAdvance:12,page:0,letter:")",movieClip:null};z.Font.chars[42]={id:42,x:11,y:179,width:22,height:12,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"*",movieClip:null};z.Font.chars[43]={id:43,x:483,y:104,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"+",movieClip:null};z.Font.chars[44]={id:44,x:269,y:171,width:6,height:8,xOffset:-1,yOffset:24,xAdvance:8,page:0,letter:",",movieClip:null};z.Font.chars[45]=
{id:45,x:359,y:171,width:14,height:4,xOffset:-1,yOffset:16,xAdvance:16,page:0,letter:"-",movieClip:null};z.Font.chars[46]={id:46,x:37,y:29,width:6,height:4,xOffset:-1,yOffset:24,xAdvance:8,page:0,letter:".",movieClip:null};z.Font.chars[47]={id:47,x:0,y:137,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"/",movieClip:null};z.Font.chars[48]={id:48,x:23,y:137,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"0",movieClip:null};z.Font.chars[49]={id:49,x:374,y:150,width:10,
height:20,xOffset:-1,yOffset:8,xAdvance:12,page:0,letter:"1",movieClip:null};z.Font.chars[50]={id:50,x:46,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"2",movieClip:null};z.Font.chars[51]={id:51,x:92,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"3",movieClip:null};z.Font.chars[52]={id:52,x:115,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"4",movieClip:null};z.Font.chars[53]={id:53,x:138,y:129,width:22,height:20,xOffset:-1,
yOffset:8,xAdvance:24,page:0,letter:"5",movieClip:null};z.Font.chars[54]={id:54,x:161,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"6",movieClip:null};z.Font.chars[55]={id:55,x:184,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"7",movieClip:null};z.Font.chars[56]={id:56,x:207,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"8",movieClip:null};z.Font.chars[57]={id:57,x:391,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,
page:0,letter:"9",movieClip:null};z.Font.chars[58]={id:58,x:443,y:150,width:6,height:20,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:":",movieClip:null};z.Font.chars[59]={id:59,x:497,y:58,width:6,height:24,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:";",movieClip:null};z.Font.chars[60]={id:60,x:329,y:150,width:14,height:20,xOffset:-1,yOffset:8,xAdvance:16,page:0,letter:"<",movieClip:null};z.Font.chars[61]={id:61,x:103,y:171,width:22,height:12,xOffset:-1,yOffset:12,xAdvance:24,page:0,letter:"=",
movieClip:null};z.Font.chars[62]={id:62,x:344,y:150,width:14,height:20,xOffset:-1,yOffset:8,xAdvance:16,page:0,letter:">",movieClip:null};z.Font.chars[63]={id:63,x:253,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[64]={id:64,x:276,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"@",movieClip:null};z.Font.chars[65]={id:65,x:299,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"A",movieClip:null};
z.Font.chars[66]={id:66,x:322,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"B",movieClip:null};z.Font.chars[67]={id:67,x:345,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"C",movieClip:null};z.Font.chars[68]={id:68,x:368,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"D",movieClip:null};z.Font.chars[69]={id:69,x:391,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"E",movieClip:null};z.Font.chars[70]=
{id:70,x:414,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"F",movieClip:null};z.Font.chars[71]={id:71,x:437,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"G",movieClip:null};z.Font.chars[72]={id:72,x:483,y:125,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"H",movieClip:null};z.Font.chars[73]={id:73,x:0,y:158,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"I",movieClip:null};z.Font.chars[74]={id:74,x:23,y:158,
width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"J",movieClip:null};z.Font.chars[75]={id:75,x:46,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"K",movieClip:null};z.Font.chars[76]={id:76,x:69,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"L",movieClip:null};z.Font.chars[77]={id:77,x:92,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"M",movieClip:null};z.Font.chars[78]={id:78,x:138,y:150,width:22,height:20,
xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"N",movieClip:null};z.Font.chars[79]={id:79,x:161,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"O",movieClip:null};z.Font.chars[80]={id:80,x:184,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"P",movieClip:null};z.Font.chars[81]={id:81,x:474,y:58,width:22,height:24,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"Q",movieClip:null};z.Font.chars[82]={id:82,x:184,y:108,width:22,height:20,xOffset:-1,yOffset:8,
xAdvance:24,page:0,letter:"R",movieClip:null};z.Font.chars[83]={id:83,x:207,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"S",movieClip:null};z.Font.chars[84]={id:84,x:230,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"T",movieClip:null};z.Font.chars[85]={id:85,x:253,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"U",movieClip:null};z.Font.chars[86]={id:86,x:0,y:95,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,
letter:"V",movieClip:null};z.Font.chars[87]={id:87,x:23,y:95,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"W",movieClip:null};z.Font.chars[88]={id:88,x:46,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"X",movieClip:null};z.Font.chars[89]={id:89,x:69,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"Y",movieClip:null};z.Font.chars[90]={id:90,x:92,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"Z",movieClip:null};
z.Font.chars[91]={id:91,x:418,y:150,width:10,height:20,xOffset:-1,yOffset:8,xAdvance:12,page:0,letter:"[",movieClip:null};z.Font.chars[92]={id:92,x:115,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\\",movieClip:null};z.Font.chars[93]={id:93,x:385,y:150,width:10,height:20,xOffset:-1,yOffset:8,xAdvance:12,page:0,letter:"]",movieClip:null};z.Font.chars[94]={id:94,x:232,y:171,width:14,height:8,xOffset:-1,yOffset:8,xAdvance:16,page:0,letter:"^",movieClip:null};z.Font.chars[95]=
{id:95,x:336,y:171,width:22,height:4,xOffset:-1,yOffset:32,xAdvance:24,page:0,letter:"_",movieClip:null};z.Font.chars[96]={id:96,x:276,y:171,width:6,height:8,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:"`",movieClip:null};z.Font.chars[97]={id:97,x:138,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"a",movieClip:null};z.Font.chars[98]={id:98,x:161,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"b",movieClip:null};z.Font.chars[99]={id:99,x:184,y:87,
width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"c",movieClip:null};z.Font.chars[100]={id:100,x:207,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"d",movieClip:null};z.Font.chars[101]={id:101,x:230,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"e",movieClip:null};z.Font.chars[102]={id:102,x:253,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"f",movieClip:null};z.Font.chars[103]={id:103,x:276,y:87,width:22,
height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"g",movieClip:null};z.Font.chars[104]={id:104,x:299,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"h",movieClip:null};z.Font.chars[105]={id:105,x:504,y:58,width:6,height:20,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:"i",movieClip:null};z.Font.chars[106]={id:106,x:322,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"j",movieClip:null};z.Font.chars[107]={id:107,x:230,y:129,width:22,height:20,
xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"k",movieClip:null};z.Font.chars[108]={id:108,x:345,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"l",movieClip:null};z.Font.chars[109]={id:109,x:368,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"m",movieClip:null};z.Font.chars[110]={id:110,x:391,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"n",movieClip:null};z.Font.chars[111]={id:111,x:414,y:87,width:22,height:20,xOffset:-1,
yOffset:8,xAdvance:24,page:0,letter:"o",movieClip:null};z.Font.chars[112]={id:112,x:437,y:87,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"p",movieClip:null};z.Font.chars[113]={id:113,x:451,y:58,width:22,height:24,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"q",movieClip:null};z.Font.chars[114]={id:114,x:460,y:83,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"r",movieClip:null};z.Font.chars[115]={id:115,x:483,y:83,width:22,height:20,xOffset:-1,yOffset:8,
xAdvance:24,page:0,letter:"s",movieClip:null};z.Font.chars[116]={id:116,x:0,y:116,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"t",movieClip:null};z.Font.chars[117]={id:117,x:23,y:116,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"u",movieClip:null};z.Font.chars[118]={id:118,x:46,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"v",movieClip:null};z.Font.chars[119]={id:119,x:69,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,
page:0,letter:"w",movieClip:null};z.Font.chars[120]={id:120,x:92,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"x",movieClip:null};z.Font.chars[121]={id:121,x:115,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"y",movieClip:null};z.Font.chars[122]={id:122,x:138,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"z",movieClip:null};z.Font.chars[123]={id:123,x:299,y:150,width:14,height:20,xOffset:-1,yOffset:8,xAdvance:16,page:0,
letter:"{",movieClip:null};z.Font.chars[124]={id:124,x:30,y:0,width:6,height:36,xOffset:-1,yOffset:0,xAdvance:8,page:0,letter:"|",movieClip:null};z.Font.chars[125]={id:125,x:314,y:150,width:14,height:20,xOffset:-1,yOffset:8,xAdvance:16,page:0,letter:"}",movieClip:null};z.Font.chars[126]={id:126,x:57,y:171,width:22,height:12,xOffset:-1,yOffset:12,xAdvance:24,page:0,letter:"~",movieClip:null};z.Font.chars[127]={id:127,x:161,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\u007f",
movieClip:null};z.Font.chars[128]={id:128,x:11,y:192,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[129]={id:129,x:133,y:184,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[141]={id:141,x:194,y:180,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[142]={id:142,x:72,y:184,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};
z.Font.chars[143]={id:143,x:435,y:171,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[144]={id:144,x:316,y:176,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[157]={id:157,x:374,y:171,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[158]={id:158,x:255,y:180,width:60,height:1,xOffset:-20,yOffset:35,xAdvance:24,page:0,letter:"?",movieClip:null};z.Font.chars[160]=
{id:160,x:506,y:29,width:3,height:1,xOffset:-1,yOffset:35,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[161]={id:161,x:429,y:150,width:6,height:20,xOffset:-1,yOffset:8,xAdvance:8,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[162]={id:162,x:230,y:29,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[163]={id:163,x:207,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[164]=
{id:164,x:230,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[165]={id:165,x:253,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[166]={id:166,x:23,y:0,width:6,height:36,xOffset:-1,yOffset:0,xAdvance:8,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[167]={id:167,x:115,y:29,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[168]=
{id:168,x:194,y:171,width:22,height:8,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[169]={id:169,x:253,y:29,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[170]={id:170,x:495,y:146,width:10,height:16,xOffset:-1,yOffset:0,xAdvance:12,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[171]={id:171,x:80,y:171,width:22,height:12,xOffset:-1,yOffset:12,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[172]=
{id:172,x:171,y:171,width:22,height:8,xOffset:-1,yOffset:12,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[173]={id:173,x:290,y:171,width:22,height:4,xOffset:-1,yOffset:16,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[174]={id:174,x:46,y:29,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[175]={id:175,x:313,y:171,width:22,height:4,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[176]=
{id:176,x:126,y:171,width:14,height:12,xOffset:-1,yOffset:0,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[177]={id:177,x:276,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[178]={id:178,x:450,y:150,width:14,height:16,xOffset:-1,yOffset:0,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[179]={id:179,x:465,y:146,width:14,height:16,xOffset:-1,yOffset:0,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[180]=
{id:180,x:258,y:171,width:10,height:8,xOffset:-1,yOffset:0,xAdvance:12,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[181]={id:181,x:405,y:0,width:22,height:28,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[182]={id:182,x:299,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[183]={id:183,x:141,y:171,width:14,height:12,xOffset:-1,yOffset:12,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[184]=
{id:184,x:247,y:171,width:10,height:8,xOffset:-1,yOffset:28,xAdvance:12,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[185]={id:185,x:0,y:179,width:10,height:16,xOffset:-1,yOffset:0,xAdvance:12,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[186]={id:186,x:480,y:146,width:14,height:16,xOffset:-1,yOffset:0,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[187]={id:187,x:34,y:179,width:22,height:12,xOffset:-1,yOffset:12,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[188]=
{id:188,x:23,y:37,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[189]={id:189,x:129,y:0,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[190]={id:190,x:267,y:0,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[191]={id:191,x:322,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[192]=
{id:192,x:0,y:37,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[193]={id:193,x:474,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[194]={id:194,x:451,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[195]={id:195,x:428,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[196]=
{id:196,x:198,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[197]={id:197,x:207,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[198]={id:198,x:345,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[199]={id:199,x:184,y:29,width:22,height:28,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[200]=
{id:200,x:161,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[201]={id:201,x:138,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[202]={id:202,x:92,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[203]={id:203,x:382,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[204]=
{id:204,x:336,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[205]={id:205,x:313,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[206]={id:206,x:290,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[207]={id:207,x:244,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[208]=
{id:208,x:368,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[209]={id:209,x:221,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[210]={id:210,x:37,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[211]={id:211,x:175,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[212]=
{id:212,x:83,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[213]={id:213,x:60,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[214]={id:214,x:299,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[215]={id:215,x:156,y:171,width:14,height:12,xOffset:-1,yOffset:12,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[216]=
{id:216,x:414,y:108,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[217]={id:217,x:322,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[218]={id:218,x:345,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[219]={id:219,x:368,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[220]=
{id:220,x:391,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[221]={id:221,x:414,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[222]={id:222,x:437,y:29,width:22,height:28,xOffset:-1,yOffset:4,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[223]={id:223,x:69,y:129,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[224]=
{id:224,x:276,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[225]={id:225,x:460,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[226]={id:226,x:483,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[227]={id:227,x:0,y:66,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[228]=
{id:228,x:23,y:66,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[229]={id:229,x:46,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[230]={id:230,x:276,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[231]={id:231,x:69,y:58,width:22,height:28,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[232]=
{id:232,x:92,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[233]={id:233,x:115,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[234]={id:234,x:138,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[235]={id:235,x:230,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[236]=
{id:236,x:429,y:58,width:10,height:28,xOffset:-1,yOffset:0,xAdvance:12,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[237]={id:237,x:440,y:58,width:10,height:28,xOffset:-1,yOffset:0,xAdvance:12,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[238]={id:238,x:497,y:0,width:14,height:28,xOffset:-1,yOffset:0,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[239]={id:239,x:414,y:58,width:14,height:28,xOffset:-1,yOffset:0,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[240]=
{id:240,x:460,y:125,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[241]={id:241,x:161,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[242]={id:242,x:184,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[243]={id:243,x:207,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[244]=
{id:244,x:359,y:0,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[245]={id:245,x:253,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[246]={id:246,x:276,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[247]={id:247,x:359,y:150,width:14,height:20,xOffset:-1,yOffset:8,xAdvance:16,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[248]=
{id:248,x:115,y:150,width:22,height:20,xOffset:-1,yOffset:8,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[249]={id:249,x:299,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[250]={id:250,x:322,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[251]={id:251,x:345,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[252]=
{id:252,x:368,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[253]={id:253,x:391,y:58,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[254]={id:254,x:0,y:0,width:22,height:36,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.chars[255]={id:255,x:69,y:29,width:22,height:28,xOffset:-1,yOffset:0,xAdvance:24,page:0,letter:"\ufffd",movieClip:null};z.Font.numKernings=
0;z.Font.RegisterCharacters()};var V=n.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};V.TNull=["TNull",0];V.TNull.toString=T;V.TNull.__enum__=V;V.TInt=["TInt",1];V.TInt.toString=T;V.TInt.__enum__=V;V.TFloat=["TFloat",2];V.TFloat.toString=T;V.TFloat.__enum__=V;V.TBool=["TBool",3];V.TBool.toString=T;V.TBool.__enum__=V;V.TObject=["TObject",4];V.TObject.toString=T;V.TObject.__enum__=V;V.TFunction=["TFunction",5];V.TFunction.toString=
T;V.TFunction.__enum__=V;V.TClass=function(a){a=["TClass",6,a];a.__enum__=V;a.toString=T;return a};V.TEnum=function(a){a=["TEnum",7,a];a.__enum__=V;a.toString=T;return a};V.TUnknown=["TUnknown",8];V.TUnknown.toString=T;V.TUnknown.__enum__=V;var U=function(){};n.Type=U;U.__name__=["Type"];U.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__};U.getClassName=function(a){return a.__name__.join(".")};U.getEnumName=function(a){return a.__ename__.join(".")};U.resolveClass=
function(a){a=n[a];return null!=a&&a.__name__?a:null};U.resolveEnum=function(a){a=n[a];return null!=a&&a.__ename__?a:null};U.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};U.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};U.createEnum=function(a,b,d){var h=X.field(a,b);if(null==h)throw"No such constructor "+b;if(X.isFunction(h)){if(null==d)throw"Constructor "+b+" need parameters";return h.apply(a,d)}if(null!=d&&0!=d.length)throw"Constructor "+b+" does not need parameters";return h};U.getEnumConstructs=function(a){return a.__constructs__.slice()};U["typeof"]=
function(a){switch(typeof a){case "boolean":return V.TBool;case "string":return V.TClass(String);case "number":return Math.ceil(a)==a%2147483648?V.TInt:V.TFloat;case "object":if(null==a)return V.TNull;var b=a.__enum__;if(null!=b)return V.TEnum(b);a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?V.TClass(a):V.TObject;case "function":return a.__name__||a.__ename__?V.TObject:V.TFunction;case "undefined":return V.TNull;default:return V.TUnknown}};n.XmlType={__ename__:["XmlType"],
__constructs__:[]};var R=function(){};n.Xml=R;R.__name__=["Xml"];R.parse=function(a){return r.xml.Parser.parse(a)};R.createElement=function(a){var b=new R;b.nodeType=R.Element;b._children=[];b._attributes=new r.ds.StringMap;b.set_nodeName(a);return b};R.createPCData=function(a){var b=new R;b.nodeType=R.PCData;b.set_nodeValue(a);return b};R.createCData=function(a){var b=new R;b.nodeType=R.CData;b.set_nodeValue(a);return b};R.createComment=function(a){var b=new R;b.nodeType=R.Comment;b.set_nodeValue(a);
return b};R.createDocType=function(a){var b=new R;b.nodeType=R.DocType;b.set_nodeValue(a);return b};R.createProcessingInstruction=function(a){var b=new R;b.nodeType=R.ProcessingInstruction;b.set_nodeValue(a);return b};R.createDocument=function(){var a=new R;a.nodeType=R.Document;a._children=[];return a};R.prototype={get_nodeName:function(){if(this.nodeType!=R.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=R.Element)throw"bad nodeType";return this._nodeName=
a},set_nodeValue:function(a){if(this.nodeType==R.Element||this.nodeType==R.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=R.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=R.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=R.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,
hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,d=this.x.length;b<d;){var h=this.x[b];if(h.nodeType==R.Element&&h._nodeName==a)break;b++}this.cur=b;return b<d},next:function(){for(var b=this.cur,d=this.x.length;b<d;){var h=this.x[b];b++;if(h.nodeType==R.Element&&h._nodeName==a)return this.cur=b,h}return null}}},firstElement:function(){if(null==
this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var d=this._children[a];if(d.nodeType==R.Element)return d;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&S.remove(a._parent._children,a);a._parent=this;this._children.push(a)},removeChild:function(a){if(null==this._children)throw"bad nodetype";var b=S.remove(this._children,a);b&&(a._parent=null);return b},toString:function(){if(this.nodeType==R.PCData)return $.htmlEscape(this._nodeValue);
if(this.nodeType==R.CData)return"<![CDATA["+this._nodeValue+"]]\x3e";if(this.nodeType==R.Comment)return"\x3c!--"+this._nodeValue+"--\x3e";if(this.nodeType==R.DocType)return"<!DOCTYPE "+this._nodeValue+">";if(this.nodeType==R.ProcessingInstruction)return"<?"+this._nodeValue+"?>";var a=new Ka;if(this.nodeType==R.Element){a.b+="<";a.b+=H.string(this._nodeName);for(var b=this._attributes.keys();b.hasNext();){var d=b.next();a.b+=" ";a.b=null==d?a.b+"null":a.b+(""+d);a.b+='="';a.add(this._attributes.get(d));
a.b+='"'}if(0==this._children.length)return a.b+="/>",a.b;a.b+=">"}for(b=this.iterator();b.hasNext();)d=b.next(),a.add(d.toString());this.nodeType==R.Element&&(a.b+="</",a.b+=H.string(this._nodeName),a.b+=">");return a.b},__class__:R};l.display.Stage=function(){this.intervalHandle=null;this.touchCount=0;this.isTouchScreen=!1;this.frameRate=null;l.display.DisplayObjectContainer.call(this);var a=this.component.style,b=window;a.position="absolute";a.overflow="hidden";a.left=a.top="0";a.width=a.height=
"100%";this.mousePos=new l.geom.Point;b.addEventListener("contextmenu",function(a){a.preventDefault()});b.addEventListener("click",B(this,this.onMouse));b.addEventListener("mousedown",B(this,this.onMouse));b.addEventListener("mouseup",B(this,this.onMouse));b.addEventListener("mousemove",B(this,this.onMouse));b.addEventListener("mousewheel",B(this,this.onWheel));b.addEventListener("touchmove",this.getOnTouch(0));b.addEventListener("touchstart",this.getOnTouch(1));b.addEventListener("touchend",this.getOnTouch(2));
b.addEventListener("touchcancel",this.getOnTouch(2));this.mouseMtxDepth=[];this.mouseMtxStack=[];this.mouseMtxCache=[];this.mouseTriggered=[];this.mouseUntrigger=[];for(a=-1;3>++a;)this.mouseTriggered[a]=!1,this.mouseUntrigger[a]=this.getMouseUntrigger(a)};n["flash.display.Stage"]=l.display.Stage;l.display.Stage.__name__=["flash","display","Stage"];l.display.Stage.__super__=l.display.DisplayObjectContainer;l.display.Stage.prototype=K(l.display.DisplayObjectContainer.prototype,{_broadcastMouseEvent:function(a){var b=
this.mouseOver,d;a.stageX=this.mousePos.x;a.stageY=this.mousePos.y;this.broadcastMouse(this.mouseMtxDepth,a,this.mouseMtxStack,this.mouseMtxCache);this.mouseOver=d=a.relatedObject;b!=d&&(null!=b&&b.dispatchEvent(this._alterMouseEvent(a,"mouseOut")),null!=d&&d.dispatchEvent(this._alterMouseEvent(a,"mouseOver")))},_broadcastTouchEvent:function(a,b,d){a.stageX=b;a.stageY=d;this.broadcastMouse(this.mouseMtxDepth,a,this.mouseMtxStack,this.mouseMtxCache)},getMouseUntrigger:function(a){var b=this;return function(){b.mouseTriggered[a]=
!1}},_alterMouseEvent:function(a,b){var d=new l.events.MouseEvent(b,a.bubbles,a.cancelable,a.localX,a.localY,a.relatedObject,a.ctrlKey,a.altKey,a.shiftKey,a.buttonDown,a.delta);d.stageX=a.stageX;d.stageY=a.stageY;return d},_translateMouseEvent:function(a,b){return new l.events.MouseEvent(b,!0,!1,null,null,null,a.ctrlKey,a.altKey,a.shiftKey)},_translateTouchEvent:function(a,b,d){return new l.events.TouchEvent(d,!0,!1,b.identifier,!1,null,null,b.radiusX,b.radiusY,b.force,null,a.ctrlKey,a.altKey,a.shiftKey)},
mouseEventPrevent:function(a,b,d){var h=this.mousePos,h=h.x==b&&h.y==d;if(0<=a&&h&&this.mouseTriggered[a])return!0;h||this.mousePos.setTo(b,d);0<=a&&!this.mouseTriggered[a]&&(this.mouseTriggered[a]=!0,window.setTimeout(this.mouseUntrigger[a],0));1==a?this.mouseDown?this._broadcastMouseEvent(this._alterMouseEvent(this.mouseLastEvent,"mouseUp")):this.mouseDown=!0:2==a&&(this.mouseDown?this.mouseDown=!1:this._broadcastMouseEvent(new l.events.MouseEvent("mouseDown")));return!1},getOnTouch:function(a){var b=
this;return function(d){b.onTouch(d,a)}},onTouch:function(a,b){var d=a.targetTouches,h=d.length,c=a.changedTouches,f=c.length,d=0<h?d[0]:0<f?c[0]:null,m;a.preventDefault();this.isTouchScreen=!0;null!=d&&(0==b||1==b&&h==f||2==b&&0==h&&0<f)&&!this.mouseEventPrevent(b,d.pageX,d.pageY)&&(this._broadcastMouseEvent(this.mouseLastEvent=new l.events.MouseEvent(1==b?"mouseDown":2==b?"mouseUp":"mouseMove")),2==b&&this._broadcastMouseEvent(new l.events.MouseEvent("mouseClick")));if(0<f){switch(b){case 1:d="touchBegin";
break;case 2:d="touchEnd";break;default:d="touchMove"}for(h=-1;++h<f;)m=c[h],this._broadcastTouchEvent(this._translateTouchEvent(a,m,d),m.pageX,m.pageY)}},onWheel:function(a){var b=this._translateMouseEvent(a,"mouseWheel");b.delta=Math.round(a.wheelDelta/40);this.mousePos.setTo(a.pageX,a.pageY);this._broadcastMouseEvent(b)},onMouse:function(a){var b=null,d=-1,h;if("mousemove"==a.type)b="mouseMove",d=0;else switch(h=a.button,a.type){case "click":0==h?b="mouseClick":1==h?b="rightClick":2==h&&(b="middleClick");
break;case "mousedown":0==h?b="mouseDown":1==h?b="middleMouseDown":2==h&&(b="rightMouseDown");d=1;break;case "mouseup":0==h?b="mouseUp":1==h?b="middleMouseUp":2==h&&(b="rightMouseUp");d=2;break;default:return}this.mouseEventPrevent(d,a.pageX,a.pageY)||this._broadcastMouseEvent(new l.events.MouseEvent(b))},hitTestLocal:function(a,b,d,h){return!h||this.visible},addEventListener:function(a,b,d,h,c){null==c&&(c=!1);null==h&&(h=0);null==d&&(d=!1);var f=this.component;this.component=window;l.display.DisplayObjectContainer.prototype.addEventListener.call(this,
a,b,d,h,c);this.component=f},removeEventListener:function(a,b,d,h,c){null==c&&(c=!1);null==h&&(h=0);null==d&&(d=!1);var f=this.component;this.component=window;l.display.DisplayObjectContainer.prototype.removeEventListener.call(this,a,b,d,h,c);this.component=f},get_focus:function(){var a=document.activeElement;return null!=a&&H.is(a=a.node,l.display.InteractiveObject)?a:null},set_focus:function(a){null!=a?a.giveFocus():this.component.blur();return a},get_stageWidth:function(){return window.innerWidth},
get_stageHeight:function(){return window.innerHeight},get_stage:function(){return this},set_frameRate:function(a){this.frameRate!=a&&(null!=this.intervalHandle&&(0>=this.frameRate?window._cancelAnimationFrame(this.intervalHandle):window.clearInterval(this.intervalHandle)),0>=(this.frameRate=a)?this.intervalHandle=window._requestAnimationFrame(B(this,this.onTimer)):this.intervalHandle=window.setInterval(B(this,this.onTimer),H["int"](Math.max(0,1E3/a))));return a},onTimer:function(){l.Lib.getTimer();
for(var a=-1;++a<l.Lib.schLength;)l.Lib.schList[a](),l.Lib.schList[a]=null;l.Lib.schLength=0;this.broadcastEvent(new l.events.Event("enterFrame"));0>=this.frameRate&&(this.intervalHandle=window._requestAnimationFrame(B(this,this.onTimer)))},__class__:l.display.Stage});l.geom={};l.geom.Point=function(a,b){this.x=null!=a?a:0;this.y=null!=b?b:0};n["flash.geom.Point"]=l.geom.Point;l.geom.Point.__name__=["flash","geom","Point"];l.geom.Point.interpolate=function(a,b,d){return new l.geom.Point(a.x+d*(b.x-
a.x),a.y+d*(b.y-a.y))};l.geom.Point.polar=function(a,b){return new l.geom.Point(Math.cos(b)*a,Math.sin(b)*a)};l.geom.Point.prototype={clone:function(){return new l.geom.Point(this.x,this.y)},equals:function(a){return this.x==a.x&&this.y==a.y},setTo:function(a,b){this.x=a;this.y=b},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"point("+this.x+", "+this.y+")"},normalize:function(a){0==this.y?this.x=0>this.x?-a:a:0==this.x?this.y=0>this.y?-a:a:(a/=Math.sqrt(this.x*
this.x+this.y*this.y),this.x*=a,this.y*=a)},offset:function(a,b){this.x+=a;this.y+=b},add:function(a){return new l.geom.Point(this.x+a.x,this.y+a.y)},subtract:function(a){return new l.geom.Point(this.x-a.x,this.y-a.y)},__class__:l.geom.Point};l.geom.Transform=function(a){if(null==a)throw"Cannot create Transform with no DisplayObject.";this._displayObject=a;this._matrix=new l.geom.Matrix;this._fullMatrix=new l.geom.Matrix;this.set_colorTransform(new l.geom.ColorTransform)};n["flash.geom.Transform"]=
l.geom.Transform;l.geom.Transform.__name__=["flash","geom","Transform"];l.geom.Transform.prototype={nmeGetFullMatrix:function(a){var b;null!=a?(b=new l.geom.Matrix(a.a,a.b,a.c,a.d,a.tx,a.ty)).concat(this._fullMatrix):b=this._fullMatrix.clone();return b},nmeSetFullMatrix:function(a){this._fullMatrix.copy(a);return this._fullMatrix},nmeSetMatrix:function(a){this._matrix.copy(a)},set_colorTransform:function(a){return this.colorTransform=a},get_concatenatedMatrix:function(){return this.nmeGetFullMatrix(this._matrix)},
get_matrix:function(){return this._matrix.clone()},set_matrix:function(a){this._matrix.copy(a);this._displayObject.syncMtx();return this._matrix},get_pixelBounds:function(){return this._displayObject.getBounds(null)},__class__:l.geom.Transform};l.geom.Matrix=function(a,b,d,h,c,f){this.a=null==a?1:a;this.b=null==b?0:b;this.c=null==d?0:d;this.d=null==h?1:h;this.tx=null==c?0:c;this.ty=null==f?0:f};n["flash.geom.Matrix"]=l.geom.Matrix;l.geom.Matrix.__name__=["flash","geom","Matrix"];l.geom.Matrix.create=
function(){var a=l.geom.Matrix.pool;return 0<a.length?a.pop():new l.geom.Matrix};l.geom.Matrix.prototype={setTo:function(a,b,d,h,c,f){this.a=a;this.b=b;this.tx=c;this.c=d;this.d=h;this.ty=f},clone:function(){return new l.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},identity:function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0},isIdentity:function(){return 1==this.a&&1==this.d&&0==this.tx&&0==this.ty&&0==this.b&&0==this.c},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=
a.d;this.tx=a.tx;this.ty=a.ty},invert:function(){var a,b=this.a*this.d-this.b*this.c;0==b?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(b=1/b,a=this.d*b,this.d=this.a*b,this.a=a,this.b*=-b,this.c*=-b,a=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=a)},translate:function(a,b){this.tx+=a;this.ty+=b},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var d;d=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=d;d=this.c*b-this.d*a;this.d=this.c*a+this.d*
b;this.c=d;d=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=d},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},concat:function(a){var b;b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},transformPoint:function(a){return new l.geom.Point(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},createBox:function(a,
b,d,h,c){this.a=a;this.d=b;this.b=null!=d?d:0;this.tx=null!=h?h:0;this.ty=null!=c?c:0},createGradientBox:function(a,b,d,h,c){this.a=a/1638.4;this.d=b/1638.4;if(null!=d&&0!=d){var f=Math.cos(d);d=Math.sin(d);this.b=d*this.d;this.c=-d*this.a;this.a*=f;this.d*=f}else this.b=this.c=0;this.tx=null!=h?h+a/2:a/2;this.ty=null!=c?c+b/2:b/2},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},to3dString:function(){return"matrix3d("+this.a+", "+this.b+
", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},free:function(){l.geom.Matrix.pool.push(this)},__class__:l.geom.Matrix};l.geom.ColorTransform=function(a,b,d,h,c,f,m,u){null==u&&(u=0);null==m&&(m=0);null==f&&(f=0);null==c&&(c=0);null==h&&(h=1);null==d&&(d=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=d;this.alphaMultiplier=h;this.redOffset=c;this.greenOffset=f;this.blueOffset=m;this.alphaOffset=u};n["flash.geom.ColorTransform"]=
l.geom.ColorTransform;l.geom.ColorTransform.__name__=["flash","geom","ColorTransform"];l.geom.ColorTransform.prototype={concat:function(a){this.redMultiplier+=a.redMultiplier;this.greenMultiplier+=a.greenMultiplier;this.blueMultiplier+=a.blueMultiplier;this.alphaMultiplier+=a.alphaMultiplier},isColorSetter:function(){return 0==this.redMultiplier&&0==this.greenMultiplier&&0==this.blueMultiplier&&(0==this.alphaMultiplier||0==this.alphaOffset)},isAlphaMultiplier:function(){return 1==this.redMultiplier&&
1==this.greenMultiplier&&1==this.blueMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},get_color:function(){return(this.redOffset|0)<<16|(this.greenOffset|0)<<8|this.blueOffset|0},set_color:function(a){this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255;this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;return this.get_color()},__class__:l.geom.ColorTransform};var r={ds:{}};r.ds.ObjectMap=function(){this.h={};this.h.__keys__=
{}};n["haxe.ds.ObjectMap"]=r.ds.ObjectMap;r.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];r.ds.ObjectMap.__interfaces__=[ta];r.ds.ObjectMap.prototype={set:function(a,b){var d=a.__id__||(a.__id__=++r.ds.ObjectMap.count);this.h[d]=b;this.h.__keys__[d]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return S.iter(a)},__class__:r.ds.ObjectMap};
l.Lib=function(){};n["flash.Lib"]=l.Lib;l.Lib.__name__=["flash","Lib"];l.Lib.__init=function(){var a;l.Lib.schList=[];l.Lib.schLength=0;var b=window;a="equestAnimationFrame";l.Lib.getTimer();b._requestAnimationFrame=b["r"+a]||b["webkitR"+a]||b["mozR"+a]||b["oR"+a]||b["msR"+a]||function(a){return b.setTimeout(a,700/l.Lib.get_stage().frameRate|0)};a="ancelAnimationFrame";b._cancelAnimationFrame=b["c"+a]||b["webkitC"+a]||b["mozC"+a]||b["oC"+a]||b["msC"+a]||function(a){return b.clearTimeout(a)};a=navigator.userAgent||
navigator.vendor||b.opera;l.Lib.mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))};l.Lib.getTimer=function(){return H["int"](new Date-l.Lib.qTimeStamp)};l.Lib.getURL=function(a,b){window.open(a.url,b)};l.Lib.jsNode=function(a){var b=document.createElement(a),d=b.style;d.position="absolute";switch(a){case "canvas":d.setProperty("-webkit-touch-callout","none",null);l.Lib.setCSSProperties(d,"user-select","none",47);break;case "input":case "textarea":d.outline="none"}return b};l.Lib.jsHelper=function(){if(null==l.Lib.qHelper){var a=l.Lib.jsNode("div");l.Lib.get_stage().component.appendChild(a);
a.style.visibility="hidden";a.setAttribute("node","flash.Lib.jsHelper");a.appendChild(l.Lib.qHelper=l.Lib.jsNode("div"))}return l.Lib.qHelper};l.Lib.get_current=function(){null==l.Lib.qCurrent&&l.Lib.get_stage().addChild(l.Lib.qCurrent=new l.display.MovieClip);return l.Lib.qCurrent};l.Lib.get_stage=function(){null==l.Lib.qStage&&document.body.appendChild((l.Lib.qStage=new l.display.Stage).component);return l.Lib.qStage};l.Lib.schedule=function(a){l.Lib.schList[l.Lib.schLength++]=a};l.Lib.rgba=function(a){return"rgba("+
(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+((a>>24&255)/255).toFixed(4)+")"};l.Lib.rgbf=function(a,b){return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+b.toFixed(4)+")"};l.Lib.setCSSProperties=function(a,b,d,h){h||(h=31);h&1&&a.setProperty(b,d,null);h&2&&a.setProperty("-webkit-"+b,d,null);h&4&&a.setProperty("-moz-"+b,d,null);h&8&&a.setProperty("-ms-"+b,d,null);h&16&&a.setProperty("-o-"+b,d,null);h&32&&a.setProperty("-khtml-"+b,d,null)};l.display.Bitmap=function(a,b,d){this.smoothing=!1;l.display.DisplayObject.call(this);
this.set_bitmapData(a)};n["flash.display.Bitmap"]=l.display.Bitmap;l.display.Bitmap.__name__=["flash","display","Bitmap"];l.display.Bitmap.__interfaces__=[l.display.IBitmapDrawable];l.display.Bitmap.__super__=l.display.DisplayObject;l.display.Bitmap.prototype=K(l.display.DisplayObject.prototype,{set_bitmapData:function(a){null!=this.bitmapData&&this.component.removeChild(this.bitmapData.component);null!=a&&this.component.appendChild(a.handle());return this.bitmapData=a},set_smoothing:function(a){var b=
this.bitmapData.qContext;return b.imageSmoothingEnabled=b.oImageSmoothingEnabled=b.msImageSmoothingEnabled=b.webkitImageSmoothingEnabled=b.mozImageSmoothingEnabled=a},get_width:function(){return null!=this.qWidth?this.qWidth:null!=this.bitmapData?this.bitmapData.component.width:0},get_height:function(){return null!=this.qHeight?this.qHeight:null!=this.bitmapData?this.bitmapData.component.height:0},drawToSurface:function(a,b,d,h,c,f,m){this.bitmapData.drawToSurface(a,b,d,h,c,f,m)},hitTestLocal:function(a,
b,d,h){return(!h||this.visible)&&null!=this.bitmapData&&0<=a&&0<=b&&a<this.bitmapData.component.width&&b<this.bitmapData.component.height},__class__:l.display.Bitmap});l.display.ImageDataLease=function(){};n["flash.display.ImageDataLease"]=l.display.ImageDataLease;l.display.ImageDataLease.__name__=["flash","display","ImageDataLease"];l.display.ImageDataLease.prototype={set:function(a,b){this.seed=a;this.time=b},clone:function(){var a=new l.display.ImageDataLease;a.seed=this.seed;a.time=this.time;
return a},__class__:l.display.ImageDataLease};l.display.BitmapData=function(a,b,d,h){null==d&&(d=!0);this.qSync=1;this.qTransparent=d;this.qTick=0;this.qTime=(new Date).getTime();this.rect=new l.geom.Rectangle(0,0,a,b);this.component=l.Lib.jsNode("canvas");this.component.setAttribute("node",U.getClassName(U.getClass(this)));this.component.width=a;this.component.height=b;this.qContext=this.component.getContext("2d");l.display.BitmapData.setSmoothing(this.qContext,!0);this.qPixel=this.qContext.createImageData(1,
1);null==h&&(h=-1);d||(h|=-16777216);0!=(h&-16777216)&&this.fillRect(this.rect,h)};n["flash.display.BitmapData"]=l.display.BitmapData;l.display.BitmapData.__name__=["flash","display","BitmapData"];l.display.BitmapData.__interfaces__=[l.display.IBitmapDrawable];l.display.BitmapData.setSmoothing=function(a,b){a.imageSmoothingEnabled=a.oImageSmoothingEnabled=a.msImageSmoothingEnabled=a.webkitImageSmoothingEnabled=a.mozImageSmoothingEnabled=b};l.display.BitmapData.makeColor=function(a){return"rgba("+
(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+((a>>24&255)/255).toFixed(4)+")"};l.display.BitmapData.loadFromBytes=function(a,b,d){var h=new l.display.BitmapData(0,0);h.nmeLoadFromBytes(a,b,d);return h};l.display.BitmapData.nmeIsPNG=function(a){a.position=0;return 137==a.data.getUint8(a.position++)&&80==a.data.getUint8(a.position++)&&78==a.data.getUint8(a.position++)&&71==a.data.getUint8(a.position++)&&13==a.data.getUint8(a.position++)&&10==a.data.getUint8(a.position++)&&26==a.data.getUint8(a.position++)&&
10==a.data.getUint8(a.position++)};l.display.BitmapData.nmeIsJPG=function(a){a.position=0;return 255==a.data.getUint8(a.position++)&&216==a.data.getUint8(a.position++)};l.display.BitmapData.prototype={fillRect:function(a,b){null==a||0>=a.width||0>=a.height||(a.equals(this.rect)&&this.qTransparent&&0==(b&-16777216)?this.component.width=this.component.width:(this.qTransparent?-16777216!=(b&-16777216)&&this.qContext.clearRect(a.x,a.y,a.width,a.height):b|=-16777216,0!=(b&-16777216)&&(this.qContext.fillStyle=
l.display.BitmapData.makeColor(b),this.qContext.fillRect(a.x,a.y,a.width,a.height)),this.qSync|=5))},clone:function(){this.syncCanvas();var a=new l.display.BitmapData(this.component.width,this.component.height,this.qTransparent,0);a.qContext.drawImage(this.component,0,0);a.qSync|=5;return a},dispose:function(){this.component.width=this.component.height=1;this.qImageData=null;this.qSync=5},handle:function(){this.syncCanvas();0!=(this.qSync&4)&&(this.qTick++,this.qTime=(new Date).getTime(),this.qSync&=
-5);return this.component},getTime:function(){return this.qTime},getTick:function(){return this.qTick},drawToSurface:function(a,b,d,h,c,f,m){b.save();null!=m&&b.imageSmoothingEnabled!=m&&l.display.BitmapData.setSmoothing(b,m);null!=d&&(1==d.a&&0==d.b&&0==d.c&&1==d.d?b.translate(d.tx,d.ty):b.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty));b.drawImage(this.handle(),0,0);b.restore()},copyPixels:function(a,b,d,h,c,f){null==f&&(f=!1);this.syncCanvas();if(null!=h)throw"alphaBitmapData is not supported yet.";a=
a.handle();var m,u;h=this.component.width;c=this.component.height;if(!(null==a||0>=(m=a.width)||0>=(u=a.height))){var g=~~d.x;d=~~d.y;var W,k,v;null!=b?(W=b.x,k=b.y,v=b.width,b=b.height,0>W&&(v+=W,W=0),0>k&&(b+=k,k=0),W+v>m&&(v=m-W),k+b>u&&(b=u-k)):(W=k=0,v=m,b=u);0>g&&(v+=g,W-=g,g=0);0>d&&(b+=d,k-=d,d=0);g+v>h&&(v=h-g);d+b>c&&(b=c-d);0>=v||0>=b||(this.qTransparent&&!f&&this.qContext.clearRect(g,d,v,b),this.qContext.drawImage(a,W,k,v,b,g,d,v,b),this.qSync|=5)}},draw:function(a,b,d,h,c,f){this.syncCanvas();
var m=0;this.qContext.save();null!=d&&(m=d.alphaMultiplier,d.alphaMultiplier=1,this.qContext.globalAlpha*=m);null!=c&&(this.qContext.beginPath(),this.qContext.rect(c.x,c.y,c.width,c.height),this.qContext.clip(),this.qContext.beginPath());null!=f&&l.display.BitmapData.setSmoothing(this.qContext,f);a.drawToSurface(this.handle(),this.qContext,b,d,h,c,null);this.qContext.restore();null!=d&&(d.alphaMultiplier=m);this.qSync|=5},lock:function(){this.syncData()},unlock:function(){this.syncCanvas()},hitTestLocal:function(a,
b){if(0<=a&&0<=b&&a<this.component.width&&b<this.component.height)try{return 0!=this.qContext.getImageData(a,b,1,1).data[3]}catch(d){return!0}return!1},getPixel:function(a,b){if(0>a||0>b||a>=this.component.width||b>=this.component.height)return 0;if(1==(this.qSync&3)){var d=this.qContext.getImageData(a,b,1,1).data;return d[0]<<16|d[1]<<8|d[2]}d=b*this.component.width+a<<2;return this.qImageData.data[d]<<16|this.qImageData.data[d+1]<<8|this.qImageData.data[d+2]},getPixel32:function(a,b){if(0>a||0>
b||a>=this.component.width||b>=this.component.height)return 0;if(1==(this.qSync&3)){var d=this.qContext.getImageData(a,b,1,1).data;return(this.qTransparent?d[3]<<24:-16777216)|d[0]<<16|d[1]<<8|d[2]}d=b*this.component.width+a<<2;return(this.qTransparent?this.qImageData.data[d+3]<<24:-16777216)|this.qImageData.data[d]<<16|this.qImageData.data[d+1]<<8|this.qImageData.data[d+2]},setPixel:function(a,b,d){0>a||0>b||a>=this.component.width||b>=this.component.height||(2!=(this.qSync&3)?(this.qPixel.data[0]=
d>>>16&255,this.qPixel.data[1]=d>>>8&255,this.qPixel.data[2]=d&255,this.qPixel.data[3]=255,this.qContext.putImageData(this.qPixel,a,b),this.qSync|=5):(a=b*this.component.width+a<<2,this.qImageData.data[a]=d>>>16&255,this.qImageData.data[a+1]=d>>>8&255,this.qImageData.data[a+2]=d&255,this.qImageData.data[a+3]=255,this.qSync|=6))},setPixel32:function(a,b,d){0>a||0>b||a>=this.component.width||b>=this.component.height||(2!=(this.qSync&3)?(this.qPixel.data[0]=d>>>16&255,this.qPixel.data[1]=d>>>8&255,this.qPixel.data[2]=
d&255,this.qPixel.data[3]=d>>>24&255,this.qContext.putImageData(this.qPixel,a,b),this.qSync|=5):(a=b*this.component.width+a<<2,this.qImageData.data[a]=d>>>16&255,this.qImageData.data[a+1]=d>>>8&255,this.qImageData.data[a+2]=d&255,this.qImageData.data[a+3]=d>>>24&255,this.qSync|=6))},getPixels:function(a){var b,d=new l.utils.ByteArray,h;b=a.x|0;var c=a.y|0,f=a.width|0,m=a.height|0;a=0;var u;u=f*m*4;d.set_length(u);if(1==(this.qSync&3))for(b=this.qContext.getImageData(b,c,f,m),h=b.data;a<u;)d.writeUnsignedInt(h[a++]<<
16|h[a++]<<8|h[a++]|h[a++]<<24);else if(h=this.qImageData.data,0==b&&0==c&&f==this.component.width&&m==this.component.height)for(;a<u;)d.writeUnsignedInt(h[a++]<<16|h[a++]<<8|h[a++]|h[a++]<<24);else for(;0<m--;)for(a=4*(b+c++*(u=f));0<u--;)d.writeUnsignedInt(h[a++]<<16|h[a++]<<8|h[a++]|h[a++]<<24);return d},setPixels:function(a,b){var d=a.x|0,h=a.y|0,c=a.width|0,f=a.height|0,m=0,u;u=c*f*4;var g,k=this.component.width,p;if(2!=(this.qSync&3)){c=this.qContext.createImageData(c,f);for(p=c.data;m<u;)g=
b.readUnsignedInt(),p[m]=g>>16&255,p[m+1]=g>>8&255,p[m+2]=g&255,p[m+3]=g>>>24&255,m+=4;this.qContext.putImageData(c,d,h);r.Log.trace("?",{fileName:"BitmapData.hx",lineNumber:373,className:"flash.display.BitmapData",methodName:"setPixels"})}else for(p=this.qImageData.data;0<f--;)for(m=4*(d+h++*k),u=c;0<u--;)g=b.readUnsignedInt(),p[m]=g>>16&255,p[m+1]=g>>8&255,p[m+2]=g&255,p[m+3]=g>>>24&255,m+=4},getColorBoundsRect:function(a,b,d){null==d&&(d=!0);this.syncData();a=this.qImageData.data;var h=this.component.width,
c=this.component.height,f=0,m=0,u=a.length,g,k,p;for(g=0;g<u;)k=(this.qTransparent?a[g+3]<<24:-16777216)|(a[g]&255)<<16|(a[g+1]&255)<<8|a[g+2]&255,k==b==d&&(k=Math.floor((g>>2)%this.component.width),p=Math.floor((g>>2)/this.component.width),k<h&&(h=k),k>f&&(f=k),p<c&&(c=p),p>m&&(m=p)),g+=4;return h<=f&&c<=m?new l.geom.Rectangle(h,c,f-h+1,m-c+1):d?new l.geom.Rectangle(0,0,0,0):new l.geom.Rectangle(0,0,this.component.width,this.component.height)},floodFill:function(a,b,d){var h=1==(this.qSync&3);this.lock();
var c=[a|b<<16],f=1,m=this.qImageData.data,u,g,k,p,v,l,Y,s,n=[],q=this.component.width,r=this.component.height;s=b*this.component.width+a<<4;a=m[s];b=m[s+1];u=m[s+2];g=m[s+3];v=d>>>24;k=d>>16&255;p=d>>8&255;d&=255;for(Y=-1;++Y<r;)for(n.push(s=[]),l=0;l<q;)s.push(0),l+=32;for(;0<f;)s=c[--f],l=s&65535,Y=s>>>16,0>l||0>Y||l>=q||Y>=r||0!=(n[Y][l>>5]>>(l&31)&1)||(n[Y][l>>5]|=1<<(l&31),s=Y*this.component.width+l<<2,m[s]==a&&m[s+1]==b&&m[s+2]==u&&m[s+3]==g&&(m[s]=k,m[s+1]=p,m[s+2]=d,m[s+3]=v,(s=l+1)<q&&0==
(n[Y][s>>5]>>(s&31)&1)&&(c[f++]=Y<<16|s),0<l&&0==(n[Y][(s=l-1)>>5]>>(s&31)&1)&&(c[f++]=Y<<16|s),(s=Y+1)<r&&0==(n[s][l>>5]>>(l&31)&1)&&(c[f++]=s<<16|l),0<Y&&0==(n[s=Y-1][l>>5]>>(l&31)&1)&&(c[f++]=s<<16|l)));this.qSync|=6;h&&this.unlock()},colorTransform:function(a,b){var d=~~a.x,h=~~a.y,c=~~a.width,f=~~a.height,m=this.component.width,u=this.component.height,g=this.qContext.globalCompositeOperation,k=this.qContext.globalAlpha;0>d&&(c+=d,d=0);0>h&&(f+=h,h=0);d+c>m&&(c=m-d);h+f>u&&(f=u-h);if(!(0>=c||
0>=f)){if(b.isAlphaMultiplier())this.syncCanvas(),this.qContext.globalCompositeOperation="copy",this.qContext.globalAlpha*=b.alphaMultiplier,this.qContext.drawImage(this.component,d,h,c,f,d,h,c,f),this.qSync|=5;else if(b.isColorSetter())m=this.qContext.fillStyle,0!=b.alphaMultiplier?(this.qContext.globalCompositeOperation="source-in",this.qContext.fillStyle="rgb("+~~b.redOffset+","+~~b.greenOffset+","+~~b.blueOffset+")",this.qContext.fillRect(d,h,c,f),this.qContext.globalCompositeOperation="copy",
this.qContext.globalAlpha=b.alphaMultiplier,this.qContext.drawImage(this.component,d,h,c,f,d,h,c,f)):(this.qContext.globalCompositeOperation="copy",this.qContext.fillStyle="rgba("+~~b.redOffset+","+~~b.greenOffset+","+~~b.blueOffset+","+~~b.alphaOffset+")",this.qContext.fillRect(d,h,c,f)),this.qContext.fillStyle=m;else{var p=2!=(this.qSync&3);this.lock();var v=this.qImageData.data,l=m*u*4,Y,s=b.redMultiplier,n=b.greenMultiplier,q=b.blueMultiplier,r=b.alphaMultiplier,y=b.redOffset,w=b.greenOffset,
A=b.blueOffset,t=b.alphaOffset;if(0==d&&0==h&&c==m&&f==u)for(;0<=(l-=4);)0<(Y=v[l+3])&&(0>(Y=Y*r+t)?v[l+3]=0:v[l+3]=255<Y?255:~~Y),0>(Y=v[l+2]*q+A)?v[l+2]=0:v[l+2]=255<Y?255:~~Y,0>(Y=v[l+1]*n+w)?v[l+1]=0:v[l+1]=255<Y?255:~~Y,0>(Y=v[l]*s+y)?v[l]=0:v[l]=255<Y?255:~~Y;else for(u=h-1,h+=f;++u<h;)for(l=m*u+d-1<<2,f=l+4*c;(l+=4)<f;)0<(Y=v[l+3])&&(0>(Y=Y*r+t)?v[l+3]=0:v[l+3]=255<Y?255:~~Y),0>(Y=v[l+2]*q+A)?v[l+2]=0:v[l+2]=255<Y?255:~~Y,0>(Y=v[l+1]*n+w)?v[l+1]=0:v[l+1]=255<Y?255:~~Y,0>(Y=v[l]*s+y)?v[l]=0:
v[l]=255<Y?255:~~Y;this.qSync|=6;p&&this.unlock()}this.qContext.globalCompositeOperation=g;this.qContext.globalAlpha=k}},copyChannel:function(a,b,d,c,e){var f=~~a.x,m=~~d.x,u=~~a.y,g=~~d.y;d=~~b.width;var k=~~b.height;b=a.component.width;var p=a.component.height,v=this.component.width,l=this.component.height,Y,s,n=e;0>m&&(d+=m,m=0);0>g&&(k+=g,g=0);0>f&&(d+=f,f=0);0>u&&(k+=u,u=0);f+d>b&&(d=b-f);u+k>p&&(k=p-u);m+d>v&&(d=v-m);g+k>l&&(k=l-g);if(!(0>=d||0>=k))if(8==c&&8==n){b=this.qContext.globalCompositeOperation;
v=this.qContext.fillStyle;this.qContext.globalCompositeOperation="darker";for(e=0;8>e++;)this.qContext.drawImage(this.component,m,g,d,k,m,g,d,k);this.qContext.globalCompositeOperation="destination-over";this.qContext.fillStyle="black";this.qContext.fillRect(f,u,d,k);this.qContext.globalCompositeOperation="destination-atop";this.qContext.drawImage(a.handle(),f,u,d,k,m,g,d,k);this.qContext.globalCompositeOperation=b;this.qContext.fillStyle=v}else if(p=2!=(this.qSync&3),this.lock(),l=this.qImageData.data,
a.lock(),a=a.qImageData.data,c=8==c?3:4==c?2:2==c?1:1==c?0:-1,n=8==n?3:4==n?2:2==n?1:1==n?0:-1,!(0>c||0>n)){g+=k;for(Y=u+k;--Y>=u;)for(--g,s=d,e=4*(m+v*g)+n,k=4*(f+b*Y)+c;0<s--;)l[k]=a[e],e+=4,k+=4;this.qSync|=6;p&&this.unlock()}},noise:function(a,b,d,c,e){null==e&&(e=!1);null==c&&(c=7);null==d&&(d=255);null==b&&(b=0);var f=2!=(this.qSync&3),m=0,u;d=d-b+1;var g=0<(c&1),k=0<(c&2),p=0<(c&4),v=0<(c&8);this.lock();u=this.qImageData.data;for(c=u.length;m<c;)e?(u[m]=u[m+1]=u[m+2]=b+(a=16807*a%2147483647)%
d,m+=3):(g?u[m++]=b+(a=16807*a%2147483647)%d:u[m++]=0,k?u[m++]=b+(a=16807*a%2147483647)%d:u[m++]=0,p?u[m++]=b+(a=16807*a%2147483647)%d:u[m++]=0),v?u[m++]=b+(a=16807*a%2147483647)%d:u[m++]=255;this.qSync|=6;f&&this.unlock()},applyFilter:function(a,b,d,c){},jeashOnLoad:function(a,b){var d=a.texture,c=a.image.width,e=a.image.height;d.width=c;d.height=e;d.getContext("2d").drawImage(a.image,0,0,c,e);a.bitmapData.width=c;a.bitmapData.height=e;a.bitmapData.rect=new l.geom.Rectangle(0,0,c,e);null!=a.inLoader&&
(d=new l.events.Event("complete"),d.set_target(a.inLoader),a.inLoader.dispatchEvent(d))},nmeLoadFromFile:function(a,b){var d=this,c=window.document.createElement("img");if(null!=b){var e={image:c,texture:this.component,inLoader:b,bitmapData:this};c.addEventListener("load",function(a,b){return function(d){return a(b,d)}}(B(this,this.jeashOnLoad),e),!1);c.addEventListener("error",function(a){c.complete||d.jeashOnLoad(e,a)},!1)}c.src=a},syncCanvas:function(){2==(this.qSync&3)&&(this.qContext.putImageData(this.qImageData,
0,0),this.qSync&=-4)},syncData:function(){1==(this.qSync&3)&&(this.qImageData=this.qContext.getImageData(0,0,this.component.width,this.component.height),this.qSync&=-4)},nmeLoadFromBytes:function(a,b,d){var c=this,e,f=document.createElement("img"),m=this.component,u,g=null,k,p,v;if(!(l.display.BitmapData.nmeIsPNG(a)?e="png":l.display.BitmapData.nmeIsJPG(a)?e="jpeg":e=""))throw new l.errors.IOError("BitmapData can only load from ByteArrays with PNG/JPEG data.");g=function(a){f.removeEventListener("load",
g);c.rect.width=m.width=f.width;c.rect.height=m.height=f.height;u=c.qContext=m.getContext("2d");u.drawImage(f,0,0);if(null!=b){k=-1;p=b.length;for(v=u.getImageData(0,0,f.width,f.height);++k<p;)v.data[(k<<2)+3]=b.data.getUint8(b.position++);u.putImageData(v,0,0)}null!=d&&d(c)};f.addEventListener("load",g);f.src="data:image/"+e+";base64,"+a.toBase64()},__class__:l.display.BitmapData};l.display.BitmapDataChannel=function(){};n["flash.display.BitmapDataChannel"]=l.display.BitmapDataChannel;l.display.BitmapDataChannel.__name__=
["flash","display","BitmapDataChannel"];l.display.Graphics=function(){this.rgPending=!1;this.synced=!0;this.component=l.Lib.jsNode("canvas");this.component.setAttribute("node",U.getClassName(U.getClass(this)));this.context=this.component.getContext("2d");this.context.save();this.bounds=new l.geom.Rectangle;this.resetBounds();this.irec=[];this.frec=[];this.arec=[];this.lineWidth=this.ilen=this.flen=this.alen=0};n["flash.display.Graphics"]=l.display.Graphics;l.display.Graphics.__name__=["flash","display",
"Graphics"];l.display.Graphics.__interfaces__=[l.display.IBitmapDrawable];l.display.Graphics.prototype={regenerate:function(){var a=this.component,b=this.component.style,d=this.context,c=this.bounds,e=~~(c.x-2),f=~~(c.y-2),m=Math.ceil(c.width+4),u=Math.ceil(c.height+4);this.synced=!0;this.rgPending=!1;if(0>=c.width||0>=c.height)a.width=a.height=1,b.top=b.left="0";else{if(this.offsetX!=e||this.offsetY!=f)b.left=(this.offsetX=e)+"px",b.top=(this.offsetY=f)+"px";m!=a.width||u!=a.height?(a.width=m,a.height=
u):d.clearRect(0,0,m,u);d.save();d.translate(-e,-f);this.render(a,d);d.restore()}},regenerateTask:function(){this.rgPending&&this.regenerate()},requestRegeneration:function(){l.Lib.schedule(B(this,this.regenerateTask));this.rgPending=!0},set_displayObject:function(a){this.displayObject!=a&&(this.displayObject=a,this.synced||this.requestRegeneration());return a},resetBounds:function(){this.bounds.setVoid();this.invalidate()},grab:function(a,b,d,c){var e;a<(e=this.bounds.x)&&(e-=a,this.bounds.x-=e,
this.bounds.width+=e);b<(e=this.bounds.y)&&(e-=b,this.bounds.y-=e,this.bounds.height+=e);d>(e=this.bounds.get_right())&&(this.bounds.width+=d-e);c>(e=this.bounds.get_bottom())&&(this.bounds.height+=c-e);this.invalidate()},invalidate:function(){this.synced&&(this.synced=!1,this.rgPending||null==this.displayObject||null==this.displayObject.get_stage()||this.requestRegeneration())},clear:function(){for(var a=0;a<this.alen;)this.arec[a++]=null;this.lineWidth=this.ilen=this.flen=this.alen=0;this.resetBounds();
this.invalidate()},lineStyle:function(a,b,d,c,e,f,m,u){this.irec[this.ilen++]=1;c=0<a?this.lineWidth=a:this.lineWidth=0;this.frec[this.flen++]=c;0<a&&(a=l.Lib.rgbf(null!=b?b:0,null!=d?d:1),this.arec[this.alen++]=a,"none"==f?this.irec[this.ilen++]=2:"square"==f?this.irec[this.ilen++]=1:this.irec[this.ilen++]=0,"bevel"==m?this.irec[this.ilen++]=2:"miter"==m?this.irec[this.ilen++]=1:this.irec[this.ilen++]=0)},beginFill:function(a,b){this.irec[this.ilen++]=2;var d=l.Lib.rgbf(null!=a?a:0,null!=b?b:1);
this.arec[this.alen++]=d},beginBitmapFill:function(a,b,d,c){this.irec[this.ilen++]=3;this.arec[this.alen++]=a;!1!=d?this.irec[this.ilen++]=1:this.irec[this.ilen++]=0;if(null!=b?this.irec[this.ilen++]=1:this.irec[this.ilen++]=0)a=this.frec,d=this.flen,a[d++]=b.a,a[d++]=b.b,a[d++]=b.c,a[d++]=b.d,a[d++]=b.tx,a[d++]=b.ty,this.flen=d},beginGradientFill:function(a,b,d,c,e,f,m,u){null==u&&(u=0);f=-1;m=b.length;this.irec[this.ilen++]=4;for("LINEAR"==a?a=this.context.createLinearGradient(-819.2*e.a+e.tx,-819.2*
e.b+e.ty,819.2*e.a+e.tx,819.2*e.b+e.ty):(u*=819.2,a=this.context.createRadialGradient(u*e.a+e.tx,u*e.b+e.ty,0,819.2*e.c+e.tx,u*e.b+e.ty,819.2*e.d+e.ty));++f<m;)a.addColorStop(c[f]/255,l.Lib.rgbf(b[f],d[f]));this.arec[this.alen++]=a},endFill:function(){this.irec[this.ilen++]=9;this.invalidate()},moveTo:function(a,b){this.irec[this.ilen++]=10;this.frec[this.flen++]=a;this.frec[this.flen++]=b;var d=this.lineWidth/2;this.grab(a-d,b-d,a+d,b+d)},lineTo:function(a,b){this.irec[this.ilen++]=11;this.frec[this.flen++]=
a;this.frec[this.flen++]=b;var d=this.lineWidth/2;this.grab(a-d,b-d,a+d,b+d)},curveTo:function(a,b,d,c){this.irec[this.ilen++]=12;var e=this.frec,f=this.flen;e[f++]=a;e[f++]=b;e[f++]=d;e[f++]=c;this.flen=f;a=this.lineWidth/2;this.grab(d-a,c-a,d+a,c+a)},drawRect:function(a,b,d,c){this.irec[this.ilen++]=13;var e=this.frec,f=this.flen;e[f++]=a;e[f++]=b;e[f++]=d;e[f++]=c;this.flen=f;e=this.lineWidth/2;this.grab(a-e,b-e,a+d+e,b+c+e)},drawRoundRect:function(a,b,d,c,e,f){this.irec[this.ilen++]=15;var m=
this.frec,u=this.flen;m[u++]=a;m[u++]=b;m[u++]=d;m[u++]=c;m[u++]=e;m[u++]=f;this.flen=u;e=this.lineWidth/2;this.grab(a-e,b-e,a+d+e,b+c+e)},drawCircle:function(a,b,d){this.irec[this.ilen++]=14;var c=this.frec,e=this.flen;c[e++]=a;c[e++]=b;c[e++]=d;this.flen=e;d+=this.lineWidth/2;this.grab(a-d,b-d,a+d,b+d)},drawEllipse:function(a,b,d,c){this.irec[this.ilen++]=17;var e=this.frec,f=this.flen;e[f++]=a;e[f++]=b;e[f++]=d;e[f++]=c;this.flen=f;this.grab(a,b,a+d,b+c)},drawToSurface:function(a,b,d,c,e,f,m){b.save();
null!=d&&b.transform(d.a,d.b,d.c,d.d,d.tx,d.ty);this.render(a,b);b.restore()},hitTestLocal:function(a,b,d){if(this.bounds.contains(a,b)){if(d){this.synced||this.regenerate();try{return 0!=this.context.getImageData(a-this.offsetX,b-this.offsetY,1,1).data[3]}catch(c){}}return!0}return!1},_closePath:function(a,b,d,c,e){d&1&&(b.closePath(),d&4?(b.save(),b.transform(c.a,c.b,c.c,c.d,c.tx,c.ty),b.fillStyle=b.createPattern(e,d&8?"repeat":"no-repeat"),b.fill(),b.restore()):b.fill());d&2&&b.stroke();b.beginPath();
return d},render:function(a,b){var d=0,c=this._drawMatrix,e,f,m,u=0,g=null,k=this.irec,p=-1,v=k.length-1,Aa=this.arec,Y=-1,s=this.frec,n=-1;for(null==c&&(this._drawMatrix=c=new l.geom.Matrix);p<v;)switch(f=k[++p]){case 1:0<u&&(d=this._closePath(a,b,d,c,g));b.lineWidth=m=s[++n];0<m?(d|=2,b.strokeStyle=Aa[++Y],2==(f=k[++p])?b.lineCap="butt":b.lineCap=1==f?"square":"round",2==(f=k[++p])?b.lineJoin="bevel":b.lineJoin=1==f?"miter":"round"):(d&=-3,b.strokeStyle=null);break;case 2:case 3:case 4:0<u&&(d=
this._closePath(a,b,d,c,g));d|=1;3==f?(g=Aa[++Y].handle(),f=k[++p],0!=k[++p]?(d=0!=f?d|8:d&-9,c.a=s[++n],c.b=s[++n],c.c=s[++n],c.d=s[++n],c.tx=s[++n],c.ty=s[++n],d|=4):(b.fillStyle=b.createPattern(g,0!=f?"repeat":"no-repeat"),d&=-5)):(b.fillStyle=Aa[++Y],d&=-5);u=0;break;case 9:0<u&&(d=this._closePath(a,b,d,c,g),u=0);d&=-2;break;case 10:b.moveTo(s[++n],s[++n]);u++;break;case 11:b.lineTo(s[++n],s[++n]);u++;break;case 12:b.quadraticCurveTo(s[++n],s[++n],s[++n],s[++n]);u++;break;case 13:b.rect(s[++n],
s[++n],s[++n],s[++n]);u++;break;case 14:f=s[++n];m=s[++n];var q=s[++n];0>q&&(q=-q);b.moveTo(f+q,m);0!=q&&b.arc(f,m,q,0,2*Math.PI,!0);u++;break;case 17:f=s[++n];m=s[++n];var r=s[++n],y=s[++n],q=f+r/2,w=m+y/2,A=f+r,t=m+y,r=0.275892*r,y=0.275892*y;b.moveTo(q,m);b.bezierCurveTo(q+r,m,A,w-y,A,w);b.bezierCurveTo(A,w+y,q+r,t,q,t);b.bezierCurveTo(q-r,t,f,w+y,f,w);b.bezierCurveTo(f,w-y,q-r,m,q,m);u++;break;case 15:f=s[++n];m=s[++n];q=s[++n];w=s[++n];A=s[++n];t=s[++n];null==t?(b.moveTo(f+A,m+w),b.arcTo(f+q-
A,m+w-A,f+q,m+w-A,A),b.arcTo(f+q,m+A,f+q-A,m,A),b.arcTo(f+A,m,f,m+A,A),b.arcTo(f+A,m+w-A,f+A,m+w,A)):(b.moveTo(f+A,m+w),b.lineTo(f+q-A,m+w),b.quadraticCurveTo(f+q,m+w,f+q,m+w-t),b.lineTo(f+q,m+t),b.quadraticCurveTo(f+q,m,f+q-A,m),b.lineTo(f+A,m),b.quadraticCurveTo(f,m,f,m+t),b.lineTo(f,m+w-t),b.quadraticCurveTo(f,m+w,f+A,m+w));u++;break;case 16:f=Aa[++Y].handle();y=k[++p];m=0!=(y&1);var q=0!=(y&2),w=0!=(y&8),A=0!=(y&16),t=k[++p],x,z,B,E,D,F;b.save();for(b.globalCompositeOperation=0!=(y&65536)?"lighter":
"source-over";0<=--t;)y=s[++n],r=s[++n],x=s[++n],z=s[++n],B=s[++n],E=s[++n],D=s[++n],F=s[++n],b.save(),A?b.transform(s[++n],s[++n],s[++n],s[++n],y,r):(b.translate(y,r),m&&b.scale(e=s[++n],e),q&&b.rotate(s[++n])),w&&(b.globalAlpha=s[++n]),b.drawImage(f,B,E,D,F,-x,-z,D,F),b.restore();b.restore();break;default:throw new l.errors.Error("Unknown operation "+f,4E3+f);}0<u&&this._closePath(a,b,d,c,g)},__class__:l.display.Graphics};l.display._JointStyle={};l.display._JointStyle.JointStyle_Impl_=function(){};
n["flash.display._JointStyle.JointStyle_Impl_"]=l.display._JointStyle.JointStyle_Impl_;l.display._JointStyle.JointStyle_Impl_.__name__=["flash","display","_JointStyle","JointStyle_Impl_"];l.display._JointStyle.JointStyle_Impl_._new=function(a){return a};l.display._JointStyle.JointStyle_Impl_.toString=function(a){return a};l.display._JointStyle.JointStyle_Impl_.fromString=function(a){return a};l.display.Loader=function(){l.display.Sprite.call(this);this.contentLoaderInfo=l.display.LoaderInfo.create(this)};
n["flash.display.Loader"]=l.display.Loader;l.display.Loader.__name__=["flash","display","Loader"];l.display.Loader.__super__=l.display.Sprite;l.display.Loader.prototype=K(l.display.Sprite.prototype,{load:function(a,b){var d="",c=a.url.split(".");0<c.length&&(d=c[c.length-1].toLowerCase());c=!0;this.contentLoaderInfo.url=a.url;switch(d){case "swf":this.contentLoaderInfo.contentType="application/x-shockwave-flash";break;case "jpg":case "jpeg":c=!1;this.contentLoaderInfo.contentType="image/jpeg";break;
case "png":this.contentLoaderInfo.contentType="image/png";break;case "gif":this.contentLoaderInfo.contentType="image/gif";break;default:throw"Unrecognized file "+a.url;}this.mImage=new l.display.BitmapData(0,0,c);try{this.contentLoaderInfo.addEventListener("complete",B(this,this.handleLoad),!1),this.mImage.nmeLoadFromFile(a.url,this.contentLoaderInfo),this.content=new l.display.Bitmap(this.mImage),this.contentLoaderInfo.content=this.content,this.addChild(this.content)}catch(e){r.Log.trace("Error "+
H.string(e),{fileName:"Loader.hx",lineNumber:60,className:"flash.display.Loader",methodName:"load"});d=new l.events.IOErrorEvent("ioError");d.set_currentTarget(this);this.contentLoaderInfo.dispatchEvent(d);return}null==this.mShape&&(this.mShape=new l.display.Shape,this.addChild(this.mShape))},loadBytes:function(a){var b=this;try{this.contentLoaderInfo.addEventListener("complete",B(this,this.handleLoad),!1),l.display.BitmapData.loadFromBytes(a,null,function(a){b.content=new l.display.Bitmap(a);b.contentLoaderInfo.content=
b.content;b.addChild(b.content);a=new l.events.Event("complete");a.set_currentTarget(b);b.contentLoaderInfo.dispatchEvent(a)})}catch(d){r.Log.trace("Error "+H.string(d),{fileName:"Loader.hx",lineNumber:96,className:"flash.display.Loader",methodName:"loadBytes"}),a=new l.events.IOErrorEvent("ioError"),a.set_currentTarget(this),this.contentLoaderInfo.dispatchEvent(a)}},handleLoad:function(a){a.set_currentTarget(this);this.contentLoaderInfo.removeEventListener("complete",B(this,this.handleLoad))},__class__:l.display.Loader});
l.display.LoaderInfo=function(){l.events.EventDispatcher.call(this);this.bytesLoaded=this.bytesTotal=0;this.childAllowsParent=!0;this.parameters={}};n["flash.display.LoaderInfo"]=l.display.LoaderInfo;l.display.LoaderInfo.__name__=["flash","display","LoaderInfo"];l.display.LoaderInfo.create=function(a){var b=new l.display.LoaderInfo;null!=a?b.loader=a:b.url="";return b};l.display.LoaderInfo.__super__=l.events.EventDispatcher;l.display.LoaderInfo.prototype=K(l.events.EventDispatcher.prototype,{__class__:l.display.LoaderInfo});
l.display.MovieClip=function(){l.display.Sprite.call(this);this.enabled=!0;this.qIndex=this.qTotal=0;this.loaderInfo=l.display.LoaderInfo.create()};n["flash.display.MovieClip"]=l.display.MovieClip;l.display.MovieClip.__name__=["flash","display","MovieClip"];l.display.MovieClip.__super__=l.display.Sprite;l.display.MovieClip.prototype=K(l.display.Sprite.prototype,{gotoAndPlay:function(a,b){},gotoAndStop:function(a,b){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},
get_currentFrame:function(){return this.qIndex},get_framesLoaded:function(){return this.qTotal},get_totalFrames:function(){return this.qTotal},__class__:l.display.MovieClip});l.display.PixelSnapping=n["flash.display.PixelSnapping"]={__ename__:["flash","display","PixelSnapping"],__constructs__:["ALWAYS","AUTO","NEVER"]};l.display.PixelSnapping.ALWAYS=["ALWAYS",0];l.display.PixelSnapping.ALWAYS.toString=T;l.display.PixelSnapping.ALWAYS.__enum__=l.display.PixelSnapping;l.display.PixelSnapping.AUTO=["AUTO",
1];l.display.PixelSnapping.AUTO.toString=T;l.display.PixelSnapping.AUTO.__enum__=l.display.PixelSnapping;l.display.PixelSnapping.NEVER=["NEVER",2];l.display.PixelSnapping.NEVER.toString=T;l.display.PixelSnapping.NEVER.__enum__=l.display.PixelSnapping;l.display.Shape=function(){(this.graphics=new l.display.Graphics).set_displayObject(this);this.component=this.graphics.component;l.display.DisplayObject.call(this)};n["flash.display.Shape"]=l.display.Shape;l.display.Shape.__name__=["flash","display",
"Shape"];l.display.Shape.__interfaces__=[l.display.IBitmapDrawable];l.display.Shape.__super__=l.display.DisplayObject;l.display.Shape.prototype=K(l.display.DisplayObject.prototype,{drawToSurface:function(a,b,d,c,e,f,m){this.graphics.drawToSurface(a,b,d,c,e,f,m)},set_stage:function(a){var b=null==this.get_stage()&&null!=a;a=l.display.DisplayObject.prototype.set_stage.call(this,a);b&&this.graphics.invalidate();return a},hitTestLocal:function(a,b,d,c){return(!c||this.visible)&&this.graphics.hitTestLocal(a,
b,d)},__class__:l.display.Shape});l.errors={};l.errors.Error=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b};n["flash.errors.Error"]=l.errors.Error;l.errors.Error.__name__=["flash","errors","Error"];l.errors.Error.prototype={getStackTrace:function(){return r.CallStack.toString(r.CallStack.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:l.errors.Error};l.errors.IOError=function(a){null==a&&(a="");l.errors.Error.call(this,
a)};n["flash.errors.IOError"]=l.errors.IOError;l.errors.IOError.__name__=["flash","errors","IOError"];l.errors.IOError.__super__=l.errors.Error;l.errors.IOError.prototype=K(l.errors.Error.prototype,{__class__:l.errors.IOError});l.events.Event=function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=d};n["flash.events.Event"]=l.events.Event;l.events.Event.__name__=["flash","events","Event"];l.events.Event.prototype={get_target:function(){return this._target||this.target},
set_target:function(a){return this._target=a},get_currentTarget:function(){return this._current||this.currentTarget},set_currentTarget:function(a){return this._current=a},preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented},clone:function(){return new l.events.Event(this.type,this.bubbles,this.cancelable)},__class__:l.events.Event};l.events.TextEvent=function(a,b,d,c){null==c&&(c="");null==d&&(d=!1);null==b&&(b=!1);l.events.Event.call(this,
a,b,d);this.text=c};n["flash.events.TextEvent"]=l.events.TextEvent;l.events.TextEvent.__name__=["flash","events","TextEvent"];l.events.TextEvent.__super__=l.events.Event;l.events.TextEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.TextEvent});l.events.ErrorEvent=function(a,b,d,c){l.events.TextEvent.call(this,a,b,d);this.text=c};n["flash.events.ErrorEvent"]=l.events.ErrorEvent;l.events.ErrorEvent.__name__=["flash","events","ErrorEvent"];l.events.ErrorEvent.__super__=l.events.TextEvent;
l.events.ErrorEvent.prototype=K(l.events.TextEvent.prototype,{__class__:l.events.ErrorEvent});l.events.FocusEvent=function(a,b,d,c,e,f){null==f&&(f=0);null==e&&(e=!1);null==d&&(d=!1);null==b&&(b=!1);l.events.Event.call(this,a,b,d);this.keyCode=f;this.shiftKey=!0==e;this.set_target(c)};n["flash.events.FocusEvent"]=l.events.FocusEvent;l.events.FocusEvent.__name__=["flash","events","FocusEvent"];l.events.FocusEvent.__super__=l.events.Event;l.events.FocusEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.FocusEvent});
l.events.HTTPStatusEvent=function(a,b,d,c){null==c&&(c=0);null==d&&(d=!1);null==b&&(b=!1);this.status=c;l.events.Event.call(this,a,b,d)};n["flash.events.HTTPStatusEvent"]=l.events.HTTPStatusEvent;l.events.HTTPStatusEvent.__name__=["flash","events","HTTPStatusEvent"];l.events.HTTPStatusEvent.__super__=l.events.Event;l.events.HTTPStatusEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.HTTPStatusEvent});l.events.IOErrorEvent=function(a,b,d,c){null==c&&(c="");null==d&&(d=!1);null==b&&(b=
!1);l.events.Event.call(this,a,b,d);this.text=c};n["flash.events.IOErrorEvent"]=l.events.IOErrorEvent;l.events.IOErrorEvent.__name__=["flash","events","IOErrorEvent"];l.events.IOErrorEvent.__super__=l.events.Event;l.events.IOErrorEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.IOErrorEvent});l.events.KeyboardEvent=function(a,b,d,c,e){null==e&&(e=0);null==c&&(c=0);null==d&&(d=!1);null==b&&(b=!0);l.events.Event.call(this,a,b,d);this.keyCode=e;this.charCode=c};n["flash.events.KeyboardEvent"]=
l.events.KeyboardEvent;l.events.KeyboardEvent.__name__=["flash","events","KeyboardEvent"];l.events.KeyboardEvent.__super__=l.events.Event;l.events.KeyboardEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.KeyboardEvent});l.events.UIEvent=function(a,b,d){l.events.Event.call(this,a,b,d)};n["flash.events.UIEvent"]=l.events.UIEvent;l.events.UIEvent.__name__=["flash","events","UIEvent"];l.events.UIEvent.__super__=l.events.Event;l.events.UIEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.UIEvent});
l.events.MouseEvent=function(a,b,d,c,e,f,m,u,g,k,p){l.events.UIEvent.call(this,a,null!=b?b:!0,null!=d?d:!1);this.ctrlKey=null!=m?m:!1;this.altKey=null!=u?u:!1;this.shiftKey=null!=g?g:!1;this.relatedObject=f;this.buttonDown=null!=k?k:!1;this.delta=null!=p?p:0};n["flash.events.MouseEvent"]=l.events.MouseEvent;l.events.MouseEvent.__name__=["flash","events","MouseEvent"];l.events.MouseEvent.__super__=l.events.UIEvent;l.events.MouseEvent.prototype=K(l.events.UIEvent.prototype,{updateAfterEvent:function(){},
__class__:l.events.MouseEvent});l.events.ProgressEvent=function(a,b,d,c,e){null==e&&(e=0);null==c&&(c=0);null==d&&(d=!1);null==b&&(b=!1);l.events.Event.call(this,a,b,d);this.bytesLoaded=c;this.bytesTotal=e};n["flash.events.ProgressEvent"]=l.events.ProgressEvent;l.events.ProgressEvent.__name__=["flash","events","ProgressEvent"];l.events.ProgressEvent.__super__=l.events.Event;l.events.ProgressEvent.prototype=K(l.events.Event.prototype,{__class__:l.events.ProgressEvent});l.events.SecurityErrorEvent=
function(a,b,d,c){null==c&&(c="");null==d&&(d=!1);null==b&&(b=!1);l.events.ErrorEvent.call(this,a,b,d);this.text=c};n["flash.events.SecurityErrorEvent"]=l.events.SecurityErrorEvent;l.events.SecurityErrorEvent.__name__=["flash","events","SecurityErrorEvent"];l.events.SecurityErrorEvent.__super__=l.events.ErrorEvent;l.events.SecurityErrorEvent.prototype=K(l.events.ErrorEvent.prototype,{__class__:l.events.SecurityErrorEvent});l.events.TouchEvent=function(a,b,d,c,e,f,m,u,g,k,p,v,Aa,n){l.events.UIEvent.call(this,
a,b,d);this.altKey=Aa;this.shiftKey=n;this.ctrlKey=v;this.touchPointID=c;this.sizeX=u;this.sizeY=g;this.pressure=k};n["flash.events.TouchEvent"]=l.events.TouchEvent;l.events.TouchEvent.__name__=["flash","events","TouchEvent"];l.events.TouchEvent.__super__=l.events.UIEvent;l.events.TouchEvent.prototype=K(l.events.UIEvent.prototype,{__class__:l.events.TouchEvent});l.filters={};l.filters.BitmapFilter=function(a){this._mType=a};n["flash.filters.BitmapFilter"]=l.filters.BitmapFilter;l.filters.BitmapFilter.__name__=
["flash","filters","BitmapFilter"];l.filters.BitmapFilter.prototype={clone:function(){throw"Implement in subclass. BitmapFilter::clone";},nmePreFilter:function(a){},nmeApplyFilter:function(a,b,d){},__class__:l.filters.BitmapFilter};l.geom.Rectangle=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=d;this.height=c};n["flash.geom.Rectangle"]=l.geom.Rectangle;l.geom.Rectangle.__name__=["flash","geom","Rectangle"];l.geom.Rectangle.prototype={clone:function(){return new l.geom.Rectangle(this.x,
this.y,this.width,this.height)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},setTo:function(a,b,d,c){this.x=a;this.y=b;this.width=d;this.height=c},setVoid:function(){this.width-=2147483647-this.x;this.x=2147483647;this.width=-2147483648-this.x;-2147483648;
this.height-=2147483647-this.y;this.y=2147483647;this.height=-2147483648-this.y;-2147483648},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;return this.x=a},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_size:function(){return new l.geom.Point(this.width,
this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_topLeft:function(){return new l.geom.Point(this.x,this.y)},set_topLeft:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_bottomRight:function(){return new l.geom.Point(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=a.x-this.x;this.height=a.y-this.y;return a.clone()},contains:function(a,b){return 0<=(a-=this.x)&&0<=(b-=this.y)&&a<this.width&&b<this.height},containsPoint:function(a){return this.contains(a.x,
a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.x+a.width<this.x+this.width&&a.y+a.height<this.y+this.height:a.x>=this.x&&a.y>=this.y&&a.x+a.width<=this.x+this.width&&a.y+a.height<=this.y+this.height},intersection:function(a){var b,d,c,e,f,m;return((f=this.x)<(m=a.x)?b=m:b=f)<=((f+=this.width)>(m+=a.width)?d=m:d=f)&&((f=this.y)<(m=a.y)?c=m:c=f)<=((f+=this.height)>(m+=a.height)?e=m:e=f)?new l.geom.Rectangle(b,c,d-b,e-c):new l.geom.Rectangle},intersects:function(a){var b,
d,c,e;return(this.x<(b=a.x)?b:this.x)<=(this.x+this.width>(d=a.x+a.width)?d:this.x+this.width)?!1:(this.y<(c=a.y)?c:this.y)<=(this.y+this.height>(e=a.y+a.height)?e:this.y)},join:function(a){var b;0>(b=a.x-this.x)&&(this.x+=b,this.width-=b);0>(b=a.y-this.y)&&(this.y+=b,this.height-=b);0<(b=a.x+a.width-(this.x+this.width))&&(this.width+=b);0<(b=a.y+a.height-(this.y+this.height))&&(this.height+=b)},union:function(a){var b,d,c,e;return new l.geom.Rectangle((b=this.x)<(c=a.x)?b:c,(d=this.y)<(e=a.y)?d:
e,(b+=this.width)>(c+=a.width)?b:c,(d+=this.height)>(e+=a.height)?d:e)},inflate:function(a,b){this.x-=a;this.y-=b;this.width+=2*a;this.height+=2*b},inflatePoint:function(a){this.inflate(a.x,a.y)},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},transform:function(a){var b,d,c,e,f;e=d=a.a*this.x+a.c*this.y;f=c=a.b*this.x+a.d*this.y;b=a.a*(this.x+this.width)+a.c*this.y;b<d&&(d=b);b>e&&(e=b);b=a.b*(this.x+this.width)+a.d*this.y;b<c&&(c=b);b>f&&(f=b);b=a.a*this.x+
a.c*(this.y+this.height);b<d&&(d=b);b>e&&(e=b);b=a.b*this.x+a.d*(this.y+this.height);b<c&&(c=b);b>f&&(f=b);b=a.a*(this.x+this.width)+a.c*(this.y+this.height);b<d&&(d=b);b>e&&(e=b);b=a.b*(this.x+this.width)+a.d*(this.y+this.height);b<c&&(c=b);b>f&&(f=b);this.x=d+a.tx;this.width=e-d;this.y=c+a.ty;this.height=f-c},toString:function(){return"Rectangle("+this.x+", "+this.y+", "+this.width+", "+this.height+")"},__class__:l.geom.Rectangle};l.media={};l.media.Sound=function(a,b){l.events.EventDispatcher.call(this);
null!=a&&this.load(a,b)};n["flash.media.Sound"]=l.media.Sound;l.media.Sound.__name__=["flash","media","Sound"];l.media.Sound.canPlayType=function(a){var b;a=a.toLowerCase();if(null!=l.media.Sound.canPlayMap){if(l.media.Sound.canPlayMap.exists(a))return l.media.Sound.canPlayMap.get(a)}else l.media.Sound.canPlayMap=new r.ds.StringMap;b=l.media.Sound.getFormatType(a);b="no"!=(new N).canPlayType(b);l.media.Sound.canPlayMap.set(a,b);return b};l.media.Sound.getFormatType=function(a){return"mp3"==a?"audio/mpeg;":
"ogg"==a?'audio/ogg; codecs="vorbis"':null};l.media.Sound.__super__=l.events.EventDispatcher;l.media.Sound.prototype=K(l.events.EventDispatcher.prototype,{close:function(){if(null!=this.component)this.component=null;else throw new l.errors.IOError("Attempt to close unexisting stream.");},load:function(a,b){var d=a.url,c=l.media.Sound.library;null!=c&&c.exists(d)?(this.component=c.get(d),c=this.component.cloneNode(!0),l.media.Sound.library.set(d,c)):this.component=new N(d);this.qCache=[]},play:function(a,
b,d){null==b&&(b=0);null==a&&(a=0);var c;if(0==this.qCache.length)(c=new l.media.SoundChannel).init(this,this.component,b),this.component=this.component.cloneNode(!0);else{c=this.qCache[0];for(var e=0,f=this.qCache;e<f.length;){var m=f[e];++e;if(1E3*m.component.currentTime==a){c=m;break}}S.remove(this.qCache,c)}c.set_soundTransform(d);try{c._loops=b,c.play(a)}catch(u){console&&console.log(u)}return c},get_length:function(){return null!=this.component?1E3*this.component.duration:0},__class__:l.media.Sound});
l.media.SoundChannel=function(){this._loops=1;this.active=!1;this.leftPeak=this.rightPeak=1;l.events.EventDispatcher.call(this)};n["flash.media.SoundChannel"]=l.media.SoundChannel;l.media.SoundChannel.__name__=["flash","media","SoundChannel"];l.media.SoundChannel.__super__=l.events.EventDispatcher;l.media.SoundChannel.prototype=K(l.events.EventDispatcher.prototype,{init:function(a,b,d){null==d&&(d=1);this.qSound=a;this.component=b;this._loops=d;this.component.addEventListener("ended",B(this,this.onEnded))},
play:function(a){var b=this.component,d;this.active||(d=this.get_duration(),0==a||a/1E3<=d?(this._position=this.set_position(a),b.load(),b.play(),this.active=!0):(this.set_position(0),b.load(),b.play(),b.pause(),this.qSound.qCache.push(this)))},stop:function(){this.active&&(this.active=!1,this.component.pause(),this.qSound.qCache.push(this))},set_soundTransform:function(a){this.soundTransform=a;this.component.volume=null!=a?a.volume:1;return a},get_duration:function(){var a=this.component,b;try{b=
null!=a.buffered?a.buffered.end(0):a.duration}catch(d){b=a.duration,Math.isNaN(b)&&(b=0)}return b},get_position:function(){return 1E3*this.component.currentTime},set_position:function(a){if(this.component.currentTime!=a/1E3){var b=!this.component.paused;b&&this.component.pause();this.component.currentTime=a/1E3;b&&this.component.play()}return a},onEnded:function(a){this.active&&(0<--this._loops?(this.set_position(this._position),this.component.paused&&this.component.play()):(this.stop(),this.component.currentTime=
0,this.dispatchEvent(new l.events.Event("soundComplete"))))},__class__:l.media.SoundChannel});l.media.SoundLoaderContext=function(a,b){null==b&&(b=!1);null==a&&(a=0);this.bufferTime=a;this.checkPolicyFile=b};n["flash.media.SoundLoaderContext"]=l.media.SoundLoaderContext;l.media.SoundLoaderContext.__name__=["flash","media","SoundLoaderContext"];l.media.SoundLoaderContext.prototype={__class__:l.media.SoundLoaderContext};l.media.SoundTransform=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=
a;this.pan=b};n["flash.media.SoundTransform"]=l.media.SoundTransform;l.media.SoundTransform.__name__=["flash","media","SoundTransform"];l.media.SoundTransform.prototype={__class__:l.media.SoundTransform};l.net={};l.net.SharedObject=function(){l.events.EventDispatcher.call(this)};n["flash.net.SharedObject"]=l.net.SharedObject;l.net.SharedObject.__name__=["flash","net","SharedObject"];l.net.SharedObject.getLocal=function(a,b,d){null==b&&(b=window.location.href);d=new l.net.SharedObject;d.nmeKey=b+":"+
a;a=null;try{a=l.net.SharedObject.nmeGetLocalStorage().getItem(d.nmeKey)}catch(c){}d.data={};null!=a&&""!=a&&(a=new r.Unserializer(a),a.setResolver({resolveEnum:U.resolveEnum,resolveClass:l.net.SharedObject.resolveClass}),d.data=a.unserialize());null==d.data&&(d.data={});return d};l.net.SharedObject.nmeGetLocalStorage=function(){var a=I.Browser.getLocalStorage();if(null==a)throw new l.errors.Error("SharedObject not supported");return a};l.net.SharedObject.resolveClass=function(a){return null!=a?U.resolveClass($.replace($.replace(a,
"jeash.","flash."),"browser.","flash.")):null};l.net.SharedObject.__super__=l.events.EventDispatcher;l.net.SharedObject.prototype=K(l.events.EventDispatcher.prototype,{clear:function(){this.data={};try{l.net.SharedObject.nmeGetLocalStorage().removeItem(this.nmeKey)}catch(a){}this.flush()},flush:function(){var a=r.Serializer.run(this.data);try{l.net.SharedObject.nmeGetLocalStorage().removeItem(this.nmeKey),l.net.SharedObject.nmeGetLocalStorage().setItem(this.nmeKey,a)}catch(b){return l.net.SharedObjectFlushStatus.PENDING}return l.net.SharedObjectFlushStatus.FLUSHED},
setProperty:function(a,b){null!=this.data&&(this.data[a]=b)},get_size:function(){return r.io.Bytes.ofString(r.Serializer.run(this.data)).length},__class__:l.net.SharedObject});l.net.SharedObjectFlushStatus=n["flash.net.SharedObjectFlushStatus"]={__ename__:["flash","net","SharedObjectFlushStatus"],__constructs__:["FLUSHED","PENDING"]};l.net.SharedObjectFlushStatus.FLUSHED=["FLUSHED",0];l.net.SharedObjectFlushStatus.FLUSHED.toString=T;l.net.SharedObjectFlushStatus.FLUSHED.__enum__=l.net.SharedObjectFlushStatus;
l.net.SharedObjectFlushStatus.PENDING=["PENDING",1];l.net.SharedObjectFlushStatus.PENDING.toString=T;l.net.SharedObjectFlushStatus.PENDING.__enum__=l.net.SharedObjectFlushStatus;l.net.URLLoader=function(a){l.events.EventDispatcher.call(this);this.bytesLoaded=this.bytesTotal=0;this.set_dataFormat(1);null!=a&&this.load(a)};n["flash.net.URLLoader"]=l.net.URLLoader;l.net.URLLoader.__name__=["flash","net","URLLoader"];l.net.URLLoader.__super__=l.events.EventDispatcher;l.net.URLLoader.prototype=K(l.events.EventDispatcher.prototype,
{set_dataFormat:function(a){return this.dataFormat=0==a&&null==window.ArrayBuffer?1:a},close:function(){},getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",B(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var d;try{d=a.status}catch(c){d=null}if(null!=d)b.onStatus(d);if(null==d)b.onError("Failed to connect or resolve host");
else if(200<=d&&400>d)b.onData(a.response);else if(12029==d)b.onError("Failed to connect to host");else if(12007==d)b.onError("Unknown host");else if(0==d)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,d,c){var e=new XMLHttpRequest;this.getData=function(){return null!=e.response?e.response:e.responseText};
this.registerEvents(e);var f="";if(I.Boot.__instanceof(d,l.utils.ByteArray))f=0==this.dataFormat?d.data.buffer:d.readUTFBytes(d.length);else if(I.Boot.__instanceof(d,l.net.URLVariables))for(var m=0,u=X.fields(d);m<u.length;){var g=u[m];++m;0!=f.length&&(f+="&");f+=encodeURIComponent(g)+"="+$.urlEncode(X.field(d,g))}else null!=d&&(f=d.toString());try{if("GET"==b&&null!=f&&""!=f){var k=1>=a.split("?").length;e.open(b,a+(k?"?":"&")+H.string(f),!0);f=""}else e.open(b,a,!0)}catch(p){this.onError(p.toString());
return}0==this.dataFormat&&(e.responseType="arraybuffer");for(a=0;a<c.length;)b=c[a],++a,e.setRequestHeader(b.name,b.value);e.send(f);this.onOpen()},onData:function(a){a=a?a:this.getData();this.data=0==this.dataFormat?l.utils.ByteArray.nmeOfBuffer(a):H.string(a);a=new l.events.Event("complete");a.set_currentTarget(this);this.dispatchEvent(a)},onError:function(a){var b=new l.events.IOErrorEvent("ioError");b.text=a;b.set_currentTarget(this);this.dispatchEvent(b)},onOpen:function(){var a=new l.events.Event("open");
a.set_currentTarget(this);this.dispatchEvent(a)},onProgress:function(a){var b=new l.events.ProgressEvent("progress");b.set_currentTarget(this);b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new l.events.SecurityErrorEvent("securityError");b.text=a;b.set_currentTarget(this);this.dispatchEvent(b)},onStatus:function(a){a=new l.events.HTTPStatusEvent("httpStatus",!1,!1,a);a.set_currentTarget(this);this.dispatchEvent(a)},__class__:l.net.URLLoader});
l.net.URLRequest=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};n["flash.net.URLRequest"]=l.net.URLRequest;l.net.URLRequest.__name__=["flash","net","URLRequest"];l.net.URLRequest.prototype={formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if("GET"==this.method||null==this.data)return a;("string"==typeof this.data||I.Boot.__instanceof(this.data,l.utils.ByteArray))&&(a=a.slice()).push(new l.net.URLRequestHeader("Content-Type",
null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:l.net.URLRequest};l.net.URLRequestHeader=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};n["flash.net.URLRequestHeader"]=l.net.URLRequestHeader;l.net.URLRequestHeader.__name__=["flash","net","URLRequestHeader"];l.net.URLRequestHeader.prototype={__class__:l.net.URLRequestHeader};l.net.URLVariables=function(a){null!=a&&this.decode(a)};n["flash.net.URLVariables"]=l.net.URLVariables;
l.net.URLVariables.__name__=["flash","net","URLVariables"];l.net.URLVariables.prototype={decode:function(a){for(var b=0,d=-1,c=a.length,e=0,f;b<c;){d=a.indexOf("&",b);0>d&&(d=c);e=a.indexOf("=",b);if(-1==e||e>d)throw new l.errors.Error("Error #2101: The String passed to URLVariables.decode() must be a URL-encoded query string containing name/value pairs.",2101);b=a.substring(b,e);e=a.substring(e+1,d);Object.prototype.hasOwnProperty.call(this,b)?(f=X.field(this,b),f instanceof Array&&null==f.__enum__?
f.push(e):f=[f,e]):f=e;this[b]=f;b=d+1}},toString:function(){for(var a="",b=X.fields(this),d=-1,c=b.length,e,f;++d<c;)0<d&&(a+="&"),a+=$.urlEncode(e=b[d])+"=",a=(f=X.field(this,e)instanceof Array)&&null==(f=X.field(this,e)).__enum__?a+f.join("&"+e+"="):a+H.string(f);return a},__class__:l.net.URLVariables};l.text={};l.text.Font=function(){};n["flash.text.Font"]=l.text.Font;l.text.Font.__name__=["flash","text","Font"];l.text.Font.enumerateFonts=function(a){return[]};l.text.Font.registerFont=function(a){};
l.text.Font.prototype={hasGlyphs:function(a){return!1},__class__:l.text.Font};l.text.FontStyle=n["flash.text.FontStyle"]={__ename__:["flash","text","FontStyle"],__constructs__:["REGULAR","ITALIC","BOLD_ITALIC","BOLD"]};l.text.FontStyle.REGULAR=["REGULAR",0];l.text.FontStyle.REGULAR.toString=T;l.text.FontStyle.REGULAR.__enum__=l.text.FontStyle;l.text.FontStyle.ITALIC=["ITALIC",1];l.text.FontStyle.ITALIC.toString=T;l.text.FontStyle.ITALIC.__enum__=l.text.FontStyle;l.text.FontStyle.BOLD_ITALIC=["BOLD_ITALIC",
2];l.text.FontStyle.BOLD_ITALIC.toString=T;l.text.FontStyle.BOLD_ITALIC.__enum__=l.text.FontStyle;l.text.FontStyle.BOLD=["BOLD",3];l.text.FontStyle.BOLD.toString=T;l.text.FontStyle.BOLD.__enum__=l.text.FontStyle;l.text.FontType=n["flash.text.FontType"]={__ename__:["flash","text","FontType"],__constructs__:["EMBEDDED","DEVICE"]};l.text.FontType.EMBEDDED=["EMBEDDED",0];l.text.FontType.EMBEDDED.toString=T;l.text.FontType.EMBEDDED.__enum__=l.text.FontType;l.text.FontType.DEVICE=["DEVICE",1];l.text.FontType.DEVICE.toString=
T;l.text.FontType.DEVICE.__enum__=l.text.FontType;l.utils={};l.utils.ByteArray=function(){this.littleEndian=!1;this.length=0;this._nmeResizeBuffer(this.allocated=this.position=0)};n["flash.utils.ByteArray"]=l.utils.ByteArray;l.utils.ByteArray.__name__=["flash","utils","ByteArray"];l.utils.ByteArray.fromBytes=function(a){var b=new l.utils.ByteArray;b.byteView=new Uint8Array(a.b);b.set_length(b.byteView.length);b.allocated=b.length;return b};l.utils.ByteArray.nmeOfBuffer=function(a){var b=new l.utils.ByteArray;
b.set_length(b.allocated=a.byteLength);b.data=new DataView(a);b.byteView=new Uint8Array(a);return b};l.utils.ByteArray.prototype={__get:function(a){return this.data.getUint8(a)},__set:function(a,b){this.data.setUint8(a,b)},_getUTFBytesCount:function(a){for(var b=0,d=-1,c=a.length,e;++d<c;)e=a.charCodeAt(d),b=127>=e?b+1:2047>=e?b+2:65535>=e?b+3:b+4;return b},_nmeResizeBuffer:function(a){var b=this.byteView,d=new Uint8Array(a);null!=b&&(b.length<=a?d.set(b):d.set(b.subarray(0,a)));this.byteView=d;this.data=
new DataView(d.buffer)},clear:function(){this.set_length(this.position=0)},nmeFromBytes:function(a){this.byteView=new Uint8Array(a.b);this.set_length(this.byteView.length);this.allocated=this.length},nmeGet:function(a){return this.data.getUint8(a)},nmeGetBuffer:function(){return this.data.buffer},nmeSet:function(a,b){this.data.setUint8(a,b)},readBoolean:function(){return 0!=this.data.getUint8(this.position++)},readByte:function(){return this.data.getUint8(this.position++)},readBytes:function(a,b,
d){null==b&&(b=0);null==d&&(d=this.length);if(0>b||0>d)throw new l.errors.IOError("Read error - Out of bounds");var c=b+d;a.length<c&&a.set_length(c);a.byteView.set(this.byteView.subarray(this.position,this.position+d),b);a.position=b;this.position+=d;a.position+d>a.length&&a.set_length(a.position+d)},readDouble:function(){var a=this.data.getFloat64(this.position,this.littleEndian);this.position+=8;return a},readFloat:function(){var a=this.data.getFloat32(this.position,this.littleEndian);this.position+=
4;return a},readFullBytes:function(a,b,d){this.length<d&&this.set_length(d);var c=b;for(b+=d;c<b;)d=c++,this.data.setInt8(this.position++,a.b[d])},readInt:function(){var a=this.data.getInt32(this.position,this.littleEndian);this.position+=4;return a},readShort:function(){var a=this.data.getInt16(this.position,this.littleEndian);this.position+=2;return a},readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUnsignedInt:function(){var a=this.data.getUint32(this.position,this.littleEndian);
this.position+=4;return a},readUnsignedShort:function(){var a=this.data.getUint16(this.position,this.littleEndian);this.position+=2;return a},readUTF:function(){return this.readUTFBytes(this.readUnsignedShort())},readUTFBytes:function(a){var b="";for(a=this.position+a;this.position<a;){var d=this.data.getUint8(this.position++);if(128>d){if(0==d)break;b+=String.fromCharCode(d)}else if(224>d)b+=String.fromCharCode((d&63)<<6|this.data.getUint8(this.position++)&127);else if(240>d)var c=this.data.getUint8(this.position++),
b=b+String.fromCharCode((d&31)<<12|(c&127)<<6|this.data.getUint8(this.position++)&127);else var c=this.data.getUint8(this.position++),e=this.data.getUint8(this.position++),b=b+String.fromCharCode((d&15)<<18|(c&127)<<12|e<<6&127|this.data.getUint8(this.position++)&127)}return b},toString:function(){var a=this.position,b;this.position=0;b=this.readUTFBytes(this.length);this.position=a;return b},toBase64:function(){for(var a=this.length,b=-1,d=this.data,c="",e,f,m;++b<a;)e=d.getUint8(b),f=++b<a?d.getUint8(b):
0,m=++b<a?d.getUint8(b):0,c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((e&3)<<4|f>>4)+(b-1<a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((f&15)<<2|m>>6):"=")+(b<a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m&63):"=");return c},writeBoolean:function(a){this.writeByte(a?1:0)},writeByte:function(a){var b=this.position+1;this.length<
b&&this.set_length(b);this.data.setInt8(this.position,a);this.position+=1},writeBytes:function(a,b,d){if(0>b||0>d)throw new l.errors.IOError("Write error - Out of bounds");var c=this.position+d;this.length<c&&this.set_length(c);this.byteView.set(a.byteView.subarray(b,b+d),this.position);this.position+=d},writeDouble:function(a){var b=this.position+8;this.length<b&&this.set_length(b);this.data.setFloat64(this.position,a,this.littleEndian);this.position+=8},writeFloat:function(a){var b=this.position+
4;this.length<b&&this.set_length(b);this.data.setFloat32(this.position,a,this.littleEndian);this.position+=4},writeInt:function(a){var b=this.position+4;this.length<b&&this.set_length(b);this.data.setInt32(this.position,a,this.littleEndian);this.position+=4},writeShort:function(a){var b=this.position+2;this.length<b&&this.set_length(b);this.data.setInt16(this.position,a,this.littleEndian);this.position+=2},writeUnsignedInt:function(a){var b=this.position+4;this.length<b&&this.set_length(b);this.data.setUint32(this.position,
a,this.littleEndian);this.position+=4},writeUnsignedShort:function(a){var b=this.position+2;this.length<b&&this.set_length(b);this.data.setUint16(this.position,a,this.littleEndian);this.position+=2},writeUTF:function(a){this.writeUnsignedShort(this._getUTFBytesCount(a));this.writeUTFBytes(a)},writeUTFBytes:function(a){for(var b=-1,d=a.length,c;++b<d;)c=a.charCodeAt(b),127>=c?this.writeByte(c):(2047>=c?this.writeByte(192|c>>6):(65535>=c?this.writeByte(224|c>>12):(this.writeByte(240|c>>18),this.writeByte(128|
c>>12&63)),this.writeByte(128|c>>6&63)),this.writeByte(128|c&63))},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.littleEndian?"littleEndian":"bigEndian"},set_endian:function(a){this.littleEndian="littleEndian"==a;return a},set_length:function(a){this.allocated<a?this._nmeResizeBuffer(this.allocated=H["int"](Math.max(a,2*this.allocated))):this.allocated>a&&this._nmeResizeBuffer(this.allocated=a);return this.length=a},__class__:l.utils.ByteArray};
l.utils.Endian=function(){};n["flash.utils.Endian"]=l.utils.Endian;l.utils.Endian.__name__=["flash","utils","Endian"];var fb,E;fb=function(a,b,d,c){this.name=a;this.tileUp45=b;this.tileDown45=d;this.scale9=c};n["gameplay.OzTileInfo"]=fb;fb.__name__=["gameplay","OzTileInfo"];fb.prototype={__class__:fb};var g={callbacks:{}};g.callbacks.CbType=function(){this.zpp_inner=null;this.zpp_inner=new c.callbacks.ZPP_CbType;this.zpp_inner.outer=this};n["nape.callbacks.CbType"]=g.callbacks.CbType;g.callbacks.CbType.__name__=
["nape","callbacks","CbType"];g.callbacks.CbType.get_ANY_BODY=function(){return c.callbacks.ZPP_CbType.ANY_BODY};g.callbacks.CbType.get_ANY_CONSTRAINT=function(){return c.callbacks.ZPP_CbType.ANY_CONSTRAINT};g.callbacks.CbType.get_ANY_SHAPE=function(){return c.callbacks.ZPP_CbType.ANY_SHAPE};g.callbacks.CbType.get_ANY_COMPOUND=function(){return c.callbacks.ZPP_CbType.ANY_COMPOUND};g.callbacks.CbType.prototype={get_id:function(){return this.zpp_inner.id},including:function(a){return(new g.callbacks.OptionType(this)).including(a)},
excluding:function(a){return(new g.callbacks.OptionType(this)).excluding(a)},get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_interactors:function(){null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=c.util.ZPP_InteractorList.get(this.zpp_inner.interactors,!0));return this.zpp_inner.wrap_interactors},get_constraints:function(){null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=c.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,
!0));return this.zpp_inner.wrap_constraints},toString:function(){return this==c.callbacks.ZPP_CbType.ANY_BODY?"ANY_BODY":this==c.callbacks.ZPP_CbType.ANY_SHAPE?"ANY_SHAPE":this==c.callbacks.ZPP_CbType.ANY_COMPOUND?"ANY_COMPOUND":this==c.callbacks.ZPP_CbType.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+this.zpp_inner.id},__class__:g.callbacks.CbType};var c={callbacks:{}};c.callbacks.ZPP_CbType=function(){this.cbsets=this.listeners=this.bodylisteners=this.conlisteners=null;this.id=0;this.outer=this.userData=
null;this.id=c.ZPP_ID.CbType();this.listeners=new c.util.ZNPList_ZPP_InteractionListener;this.bodylisteners=new c.util.ZNPList_ZPP_BodyListener;this.conlisteners=new c.util.ZNPList_ZPP_ConstraintListener;this.constraints=new c.util.ZNPList_ZPP_Constraint;this.interactors=new c.util.ZNPList_ZPP_Interactor;this.cbsets=new c.util.ZNPList_ZPP_CbSet};n["zpp_nape.callbacks.ZPP_CbType"]=c.callbacks.ZPP_CbType;c.callbacks.ZPP_CbType.__name__=["zpp_nape","callbacks","ZPP_CbType"];c.callbacks.ZPP_CbType.setlt=
function(a,b){return a.id<b.id};c.callbacks.ZPP_CbType.prototype={addConstraint:function(a){this.constraints.add(a)},addInteractor:function(a){this.interactors.add(a)},remConstraint:function(a){this.constraints.remove(a)},remInteractor:function(a){this.interactors.remove(a)},addint:function(a){for(var b=null,d=this.listeners.head;null!=d;){var c=d.elt;if(a.precedence>c.precedence||a.precedence==c.precedence&&a.id>c.id)break;b=d;d=d.next}this.listeners.inlined_insert(b,a);this.invalidateint()},removeint:function(a){this.listeners.remove(a);
this.invalidateint()},invalidateint:function(){for(var a=this.cbsets.head;null!=a;){var b=a.elt;b.zip_listeners=!0;b.invalidate_pairs();a=a.next}},addbody:function(a){for(var b=null,d=this.bodylisteners.head;null!=d;){var c=d.elt;if(a.precedence>c.precedence||a.precedence==c.precedence&&a.id>c.id)break;b=d;d=d.next}this.bodylisteners.inlined_insert(b,a);this.invalidatebody()},removebody:function(a){this.bodylisteners.remove(a);this.invalidatebody()},invalidatebody:function(){for(var a=this.cbsets.head;null!=
a;)a.elt.zip_bodylisteners=!0,a=a.next},addconstraint:function(a){for(var b=null,d=this.conlisteners.head;null!=d;){var c=d.elt;if(a.precedence>c.precedence||a.precedence==c.precedence&&a.id>c.id)break;b=d;d=d.next}this.conlisteners.inlined_insert(b,a);this.invalidateconstraint()},removeconstraint:function(a){this.conlisteners.remove(a);this.invalidateconstraint()},invalidateconstraint:function(){for(var a=this.cbsets.head;null!=a;)a.elt.zip_conlisteners=!0,a=a.next},__class__:c.callbacks.ZPP_CbType};
c.ZPP_ID=function(){};n["zpp_nape.ZPP_ID"]=c.ZPP_ID;c.ZPP_ID.__name__=["zpp_nape","ZPP_ID"];c.ZPP_ID.Constraint=function(){return c.ZPP_ID._Constraint++};c.ZPP_ID.Interactor=function(){return c.ZPP_ID._Interactor++};c.ZPP_ID.CbType=function(){return c.ZPP_ID._CbType++};c.ZPP_ID.CbSet=function(){return c.ZPP_ID._CbSet++};c.ZPP_ID.Listener=function(){return c.ZPP_ID._Listener++};c.ZPP_ID.ZPP_SimpleVert=function(){return c.ZPP_ID._ZPP_SimpleVert++};c.ZPP_ID.ZPP_SimpleSeg=function(){return c.ZPP_ID._ZPP_SimpleSeg++};
c.ZPP_ID.InteractionGroup=function(){return c.ZPP_ID._InteractionGroup++};c.ZPP_ID.Space=function(){return c.ZPP_ID._Space++};c.util={};c.util.ZNPList_ZPP_InteractionListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_InteractionListener"]=c.util.ZNPList_ZPP_InteractionListener;c.util.ZNPList_ZPP_InteractionListener.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionListener"];c.util.ZNPList_ZPP_InteractionListener.prototype={begin:function(){return this.head},
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_InteractionListener.zpp_pool?b=new c.util.ZNPNode_ZPP_InteractionListener:(b=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool,c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},
insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_InteractionListener.zpp_pool?d=new c.util.ZNPNode_ZPP_InteractionListener:(d=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool,c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=
this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool;c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},
inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool;c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=
a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_InteractionListener};c.util.ZNPList_ZPP_BodyListener=function(){this.length=0;this.modified=this.pushmod=!1;
this.head=null};n["zpp_nape.util.ZNPList_ZPP_BodyListener"]=c.util.ZNPList_ZPP_BodyListener;c.util.ZNPList_ZPP_BodyListener.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"];c.util.ZNPList_ZPP_BodyListener.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_BodyListener.zpp_pool?b=new c.util.ZNPNode_ZPP_BodyListener:(b=c.util.ZNPNode_ZPP_BodyListener.zpp_pool,
c.util.ZNPNode_ZPP_BodyListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_BodyListener.zpp_pool?d=new c.util.ZNPNode_ZPP_BodyListener:(d=c.util.ZNPNode_ZPP_BodyListener.zpp_pool,c.util.ZNPNode_ZPP_BodyListener.zpp_pool=d.next,d.next=null);null;d.elt=
b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_BodyListener.zpp_pool;c.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},
remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&
(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_BodyListener.zpp_pool;c.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_BodyListener};c.util.ZNPList_ZPP_ConstraintListener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_ConstraintListener"]=c.util.ZNPList_ZPP_ConstraintListener;c.util.ZNPList_ZPP_ConstraintListener.__name__=["zpp_nape","util","ZNPList_ZPP_ConstraintListener"];c.util.ZNPList_ZPP_ConstraintListener.prototype={begin:function(){return this.head},
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool?b=new c.util.ZNPNode_ZPP_ConstraintListener:(b=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},
insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool?d=new c.util.ZNPNode_ZPP_ConstraintListener:(d=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;
this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;this.modified=!0;this.length--;
this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_ConstraintListener};c.util.ZNPList_ZPP_Constraint=function(){this.length=0;this.modified=this.pushmod=!1;this.head=
null};n["zpp_nape.util.ZNPList_ZPP_Constraint"]=c.util.ZNPList_ZPP_Constraint;c.util.ZNPList_ZPP_Constraint.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"];c.util.ZNPList_ZPP_Constraint.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Constraint.zpp_pool?b=new c.util.ZNPNode_ZPP_Constraint:(b=c.util.ZNPNode_ZPP_Constraint.zpp_pool,c.util.ZNPNode_ZPP_Constraint.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Constraint.zpp_pool?d=new c.util.ZNPNode_ZPP_Constraint:(d=c.util.ZNPNode_ZPP_Constraint.zpp_pool,c.util.ZNPNode_ZPP_Constraint.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=
a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Constraint.zpp_pool;c.util.ZNPNode_ZPP_Constraint.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Constraint.zpp_pool;c.util.ZNPNode_ZPP_Constraint.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;
b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Constraint};c.util.ZNPList_ZPP_Interactor=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Interactor"]=c.util.ZNPList_ZPP_Interactor;c.util.ZNPList_ZPP_Interactor.__name__=["zpp_nape","util","ZNPList_ZPP_Interactor"];c.util.ZNPList_ZPP_Interactor.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Interactor.zpp_pool?b=new c.util.ZNPNode_ZPP_Interactor:(b=c.util.ZNPNode_ZPP_Interactor.zpp_pool,c.util.ZNPNode_ZPP_Interactor.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Interactor.zpp_pool?d=new c.util.ZNPNode_ZPP_Interactor:
(d=c.util.ZNPNode_ZPP_Interactor.zpp_pool,c.util.ZNPNode_ZPP_Interactor.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Interactor.zpp_pool;c.util.ZNPNode_ZPP_Interactor.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Interactor.zpp_pool;c.util.ZNPNode_ZPP_Interactor.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Interactor};c.util.ZNPList_ZPP_CbSet=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_CbSet"]=c.util.ZNPList_ZPP_CbSet;c.util.ZNPList_ZPP_CbSet.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"];c.util.ZNPList_ZPP_CbSet.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=
!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CbSet.zpp_pool?b=new c.util.ZNPNode_ZPP_CbSet:(b=c.util.ZNPNode_ZPP_CbSet.zpp_pool,c.util.ZNPNode_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CbSet.zpp_pool?
d=new c.util.ZNPNode_ZPP_CbSet:(d=c.util.ZNPNode_ZPP_CbSet.zpp_pool,c.util.ZNPNode_ZPP_CbSet.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSet.zpp_pool;c.util.ZNPNode_ZPP_CbSet.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSet.zpp_pool;c.util.ZNPNode_ZPP_CbSet.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=
!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CbSet};g.dynamics={};g.dynamics.InteractionFilter=function(a,b,d,h,e,f){null==f&&(f=-1);null==e&&(e=1);null==h&&(h=-1);null==d&&(d=1);null==b&&(b=-1);null==a&&(a=1);this.zpp_inner=null;null==c.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner=new c.dynamics.ZPP_InteractionFilter:(this.zpp_inner=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=
this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;this.zpp_inner.collisionGroup!=a&&(this.zpp_inner.collisionGroup=a,this.zpp_inner.invalidate());this.zpp_inner.collisionGroup;this.zpp_inner.collisionMask!=b&&(this.zpp_inner.collisionMask=b,this.zpp_inner.invalidate());this.zpp_inner.collisionMask;this.zpp_inner.sensorGroup!=d&&(this.zpp_inner.sensorGroup=d,this.zpp_inner.invalidate());this.zpp_inner.sensorGroup;this.zpp_inner.sensorMask!=h&&(this.zpp_inner.sensorMask=h,
this.zpp_inner.invalidate());this.zpp_inner.sensorMask;this.zpp_inner.fluidGroup!=e&&(this.zpp_inner.fluidGroup=e,this.zpp_inner.invalidate());this.zpp_inner.fluidGroup;this.zpp_inner.fluidMask!=f&&(this.zpp_inner.fluidMask=f,this.zpp_inner.invalidate());this.zpp_inner.fluidMask};n["nape.dynamics.InteractionFilter"]=g.dynamics.InteractionFilter;g.dynamics.InteractionFilter.__name__=["nape","dynamics","InteractionFilter"];g.dynamics.InteractionFilter.prototype={get_userData:function(){null==this.zpp_inner.userData&&
(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=c.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},get_collisionGroup:function(){return this.zpp_inner.collisionGroup},set_collisionGroup:function(a){this.zpp_inner.collisionGroup!=a&&(this.zpp_inner.collisionGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.collisionGroup},get_collisionMask:function(){return this.zpp_inner.collisionMask},
set_collisionMask:function(a){this.zpp_inner.collisionMask!=a&&(this.zpp_inner.collisionMask=a,this.zpp_inner.invalidate());return this.zpp_inner.collisionMask},get_sensorGroup:function(){return this.zpp_inner.sensorGroup},set_sensorGroup:function(a){this.zpp_inner.sensorGroup!=a&&(this.zpp_inner.sensorGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.sensorGroup},get_sensorMask:function(){return this.zpp_inner.sensorMask},set_sensorMask:function(a){this.zpp_inner.sensorMask!=a&&(this.zpp_inner.sensorMask=
a,this.zpp_inner.invalidate());return this.zpp_inner.sensorMask},get_fluidGroup:function(){return this.zpp_inner.fluidGroup},set_fluidGroup:function(a){this.zpp_inner.fluidGroup!=a&&(this.zpp_inner.fluidGroup=a,this.zpp_inner.invalidate());return this.zpp_inner.fluidGroup},get_fluidMask:function(){return this.zpp_inner.fluidMask},set_fluidMask:function(a){this.zpp_inner.fluidMask!=a&&(this.zpp_inner.fluidMask=a,this.zpp_inner.invalidate());return this.zpp_inner.fluidMask},shouldCollide:function(a){if(null==
a)throw"Error: filter argument cannot be null for shouldCollide";return this.zpp_inner.shouldCollide(a.zpp_inner)},shouldSense:function(a){if(null==a)throw"Error: filter argument cannot be null for shouldSense";return this.zpp_inner.shouldSense(a.zpp_inner)},shouldFlow:function(a){if(null==a)throw"Error: filter argument cannot be null for shouldFlow";return this.zpp_inner.shouldFlow(a.zpp_inner)},copy:function(){return new g.dynamics.InteractionFilter(this.zpp_inner.collisionGroup,this.zpp_inner.collisionMask,
this.zpp_inner.sensorGroup,this.zpp_inner.sensorMask,this.zpp_inner.fluidGroup,this.zpp_inner.fluidMask)},toString:function(){return"{ collision: "+$.hex(this.zpp_inner.collisionGroup,8)+"~"+$.hex(this.zpp_inner.collisionMask,8)+" sensor: "+$.hex(this.zpp_inner.sensorGroup,8)+"~"+$.hex(this.zpp_inner.sensorMask,8)+" fluid: "+$.hex(this.zpp_inner.fluidGroup,8)+"~"+$.hex(this.zpp_inner.fluidMask,8)+" }"},__class__:g.dynamics.InteractionFilter};c.dynamics={};c.dynamics.ZPP_InteractionFilter=function(){this.collisionGroup=
this.collisionMask=this.sensorGroup=this.sensorMask=this.fluidGroup=this.fluidMask=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new c.util.ZNPList_ZPP_Shape;this.collisionGroup=this.sensorGroup=this.fluidGroup=1;this.collisionMask=this.sensorMask=this.fluidMask=-1};n["zpp_nape.dynamics.ZPP_InteractionFilter"]=c.dynamics.ZPP_InteractionFilter;c.dynamics.ZPP_InteractionFilter.__name__=["zpp_nape","dynamics","ZPP_InteractionFilter"];c.dynamics.ZPP_InteractionFilter.prototype=
{wrapper:function(){if(null==this.outer){this.outer=new g.dynamics.InteractionFilter;var a=this.outer.zpp_inner;a.outer=null;a.next=c.dynamics.ZPP_InteractionFilter.zpp_pool;c.dynamics.ZPP_InteractionFilter.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},alloc:function(){},feature_cons:function(){this.shapes=new c.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},copy:function(){var a;null==c.dynamics.ZPP_InteractionFilter.zpp_pool?
a=new c.dynamics.ZPP_InteractionFilter:(a=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=a.next,a.next=null);null;a.collisionGroup=this.collisionGroup;a.collisionMask=this.collisionMask;a.sensorGroup=this.sensorGroup;a.sensorMask=this.sensorMask;a.fluidGroup=this.fluidGroup;a.fluidMask=this.fluidMask;return a},shouldCollide:function(a){return 0!=(this.collisionMask&a.collisionGroup)&&0!=(a.collisionMask&this.collisionGroup)},shouldSense:function(a){return 0!=(this.sensorMask&
a.sensorGroup)&&0!=(a.sensorMask&this.sensorGroup)},shouldFlow:function(a){return 0!=(this.fluidMask&a.fluidGroup)&&0!=(a.fluidMask&this.fluidGroup)},invalidate:function(){for(var a=this.shapes.head;null!=a;)a.elt.invalidate_filter(),a=a.next},__class__:c.dynamics.ZPP_InteractionFilter};c.util.ZNPList_ZPP_Shape=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Shape"]=c.util.ZNPList_ZPP_Shape;c.util.ZNPList_ZPP_Shape.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"];
c.util.ZNPList_ZPP_Shape.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Shape.zpp_pool?b=new c.util.ZNPNode_ZPP_Shape:(b=c.util.ZNPNode_ZPP_Shape.zpp_pool,c.util.ZNPNode_ZPP_Shape.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Shape.zpp_pool?d=new c.util.ZNPNode_ZPP_Shape:(d=c.util.ZNPNode_ZPP_Shape.zpp_pool,c.util.ZNPNode_ZPP_Shape.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=
c.util.ZNPNode_ZPP_Shape.zpp_pool;c.util.ZNPNode_ZPP_Shape.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Shape.zpp_pool;c.util.ZNPNode_ZPP_Shape.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=
a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=
d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Shape};g.geom={};g.geom.Vec2=function(a,b){null==b&&(b=0);null==a&&(a=0);this.zpp_inner=this.zpp_pool=null;if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";this.zpp_inner=
c.geom.ZPP_Vec2.get(a,b,null);this.zpp_inner.outer=this};n["nape.geom.Vec2"]=g.geom.Vec2;g.geom.Vec2.__name__=["nape","geom","Vec2"];g.geom.Vec2.weak=function(a,b){null==b&&(b=0);null==a&&(a=0);return g.geom.Vec2.get(a,b,!0)};g.geom.Vec2.get=function(a,b,d){null==d&&(d=!1);null==b&&(b=0);null==a&&(a=0);if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";var h;null==c.util.ZPP_PubPool.poolVec2?h=new g.geom.Vec2:(h=c.util.ZPP_PubPool.poolVec2,c.util.ZPP_PubPool.poolVec2=h.zpp_pool,h.zpp_pool=
null,h.zpp_disp=!1,h==c.util.ZPP_PubPool.nextVec2&&(c.util.ZPP_PubPool.nextVec2=null));if(null==h.zpp_inner)h.zpp_inner=c.geom.ZPP_Vec2.get(a,b,null),h.zpp_inner.outer=h;else{if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.immutable();if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();var e;if(!(e=h.zpp_inner.x!=a)){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
h.zpp_inner.validate();e=h.zpp_inner.y!=b}e&&(h.zpp_inner.x=a,h.zpp_inner.y=b,h.zpp_inner.invalidate());h}h.zpp_inner.weak=d;return h};g.geom.Vec2.fromPoint=function(a,b){null==b&&(b=!1);if(null==a)throw"Error: Cannot create Vec2 from null Point object";if(a.x!=a.x||a.y!=a.y)throw"Error: Error: Vec2 components cannot be NaN";return g.geom.Vec2.get(a.x,a.y,b)};g.geom.Vec2.fromPolar=function(a,b,d){null==d&&(d=!1);if(a!=a)throw"Error: Vec2::length cannot be NaN";if(b!=b)throw"Error: Vec2::angle cannot be NaN";
return g.geom.Vec2.get(a*Math.cos(b),a*Math.sin(b),d)};g.geom.Vec2.dsq=function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a||null==b)throw"Error: Cannot compute squared distance between null Vec2";var d=c.geom.ZPP_VecMath.vec_dsq(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),
function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):
!1;return d};g.geom.Vec2.distance=function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a||null==b)throw"Error: Cannot compute squared distance between null Vec2";var d=Math.sqrt(c.geom.ZPP_VecMath.vec_dsq(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&
a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d};g.geom.Vec2.prototype=
{dispose:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(this.zpp_inner._inuse)throw"Error: This Vec2 is not disposable";var a=this.zpp_inner;this.zpp_pool=this.zpp_inner=this.zpp_inner.outer=null;null!=c.util.ZPP_PubPool.nextVec2?c.util.ZPP_PubPool.nextVec2.zpp_pool=this:c.util.ZPP_PubPool.poolVec2=this;c.util.ZPP_PubPool.nextVec2=this;this.zpp_disp=!0;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=
null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a},copy:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),a)},toPoint:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
null==a&&(a=new l.geom.Point);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a.x=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a.y=this.zpp_inner.y;return a},get_x:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.x},set_x:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.immutable();if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(this.zpp_inner.x!=a){if(a!=a)throw"Error: Vec2::x cannot be NaN";this.zpp_inner.x=a;this.zpp_inner.invalidate()}if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.x},get_y:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.y},
set_y:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(this.zpp_inner.y!=a){if(a!=a)throw"Error: Vec2::y cannot be NaN";this.zpp_inner.y=a;this.zpp_inner.invalidate()}if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.y},get_length:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this))},set_length:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a)throw"Error: Vec2::length cannot be NaN";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=b*this.zpp_inner.x,d;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();d=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(0==b+d*this.zpp_inner.y)throw"Error: Cannot set length of a zero vector";a/=Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+
function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));var c=this;c.set_x(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)*a);var e=this;e.set_y(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)*a);this.zpp_inner.invalidate();if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this))},lsq:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a*=
this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return a+b*this.zpp_inner.y},set:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(null==a)throw"Error: Cannot assign null Vec2";
var b=this.setxy(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return b},setxy:function(a,b){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a||b!=b)throw"Error: Vec2 components cannot be NaN";
if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var d;if(!(d=this.zpp_inner.x!=a)){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();d=this.zpp_inner.y!=b}d&&(this.zpp_inner.x=a,this.zpp_inner.y=b,this.zpp_inner.invalidate());return this},get_angle:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var a;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(a=a==this.zpp_inner.y){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a=0==this.zpp_inner.x}return a?0:Math.atan2(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this))},set_angle:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a)throw"Error: Vec2::angle cannot be NaN";var b;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b=Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));this.setxy(b*Math.cos(a),b*Math.sin(a));if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();if(a=a==this.zpp_inner.y){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a=0==this.zpp_inner.x}return a?0:Math.atan2(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this))},rotate:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(a!=a)throw"Error: Cannot rotate Vec2 by NaN";if(0!=a%(2*Math.PI)){var b=Math.sin(a);a=Math.cos(a);var d=a*this.zpp_inner.x-b*this.zpp_inner.y;this.zpp_inner.y=this.zpp_inner.x*b+this.zpp_inner.y*a;this.zpp_inner.x=d;this.zpp_inner.invalidate()}return this},reflect:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(0==function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a))}(this))throw"Error: Cannot reflect in zero vector";var d=function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(a),!0)}(this).normalise(),d=a.sub(d.muleq(2*d.dot(a)),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return d},normalise:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(0==function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)*
function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a))}(this))throw"Error: Cannot normalise vector of length 0";var a;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();a=1/Math.sqrt(a+b*this.zpp_inner.y);var d=this;d.set_x(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();return d.zpp_inner.x}(this)*a);var c=this;c.set_y(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this)*a);this.zpp_inner.invalidate();return this},unit:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(0==function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a))}(this))throw"Error: Cannot normalise vector of length 0";var b=
1/c.util.ZPP_Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this));return g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*b,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*b,a)},add:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot add null vectors";var d=g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return d},addMul:function(a,b,d){null==d&&(d=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot add null vectors";b=g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*b,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*b,d);a.zpp_inner.weak?(a.dispose(),
!0):!1;return b},sub:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot subtract null vectors";var d=g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b);a.zpp_inner.weak?(a.dispose(),!0):!1;return d},mul:function(a,b){null==b&&(b=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(a!=a)throw"Error: Cannot multiply with NaN";
return g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*a,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*a,b)},addeq:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(null==
a)throw"Error: Cannot add null vectors";this.setxy(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},subeq:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.immutable();if(null==a)throw"Error: Cannot subtract null vectors";this.setxy(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)-function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},muleq:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.immutable();if(a!=a)throw"Error: Cannot multiply with NaN";return this.setxy(function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*a,function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*a)},dot:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot take dot product with null vector";var b;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();b=this.zpp_inner.x;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();b*=a.zpp_inner.x;var d;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();d=this.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();b+=d*a.zpp_inner.y;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},cross:function(a){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot take cross product with null vector";var b;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();b=a.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
this.zpp_inner.validate();b*=this.zpp_inner.x;var d;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d=a.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();b-=d*this.zpp_inner.y;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},perp:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return g.geom.Vec2.get(-function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),a)},toString:function(){if(this.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:g.geom.Vec2};c.geom={};c.geom.ZPP_Vec2=function(){this.length=this.x=this.y=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.weak=!1;
this._isimmutable=this.outer=null;this._immutable=!1;this._invalidate=this._validate=null};n["zpp_nape.geom.ZPP_Vec2"]=c.geom.ZPP_Vec2;c.geom.ZPP_Vec2.__name__=["zpp_nape","geom","ZPP_Vec2"];c.geom.ZPP_Vec2.get=function(a,b,d){null==d&&(d=!1);var h;null==c.geom.ZPP_Vec2.zpp_pool?h=new c.geom.ZPP_Vec2:(h=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=h.next,h.next=null);h.weak=!1;h._immutable=d;h.x=a;h.y=b;return h};c.geom.ZPP_Vec2.prototype={validate:function(){null!=this._validate&&this._validate()},
invalidate:function(){null!=this._invalidate&&this._invalidate(this)},immutable:function(){if(this._immutable)throw"Error: Vec2 is immutable";null!=this._isimmutable&&this._isimmutable()},wrapper:function(){if(null==this.outer){this.outer=new g.geom.Vec2;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){null!=
this.outer&&(this.outer=this.outer.zpp_inner=null);this._invalidate=this._validate=this._isimmutable=null},alloc:function(){this.weak=!1},elem:function(){return this},begin:function(){return this.next},setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,
b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,
null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;
for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},copy:function(){return c.geom.ZPP_Vec2.get(this.x,this.y,null)},toString:function(){return"{ x: "+this.x+" y: "+this.y+" }"},__class__:c.geom.ZPP_Vec2};E=function(){this.type=this.type=this.cnt=
0;this.dead=!1;this.name=this.linkedObject=this.body=this.geometry=this.bluePrint=this.attributes=null;this.flags=0;this.isTile=!1};n["gameplay.OzObject"]=E;E.__name__=["gameplay","OzObject"];E.ParseMaterial=function(a){var b=null;if(null!=a){var d=null,b=new g.phys.Material,d=a.get("elasticity");null!=d&&b.set_elasticity(H.parseFloat(d));d=a.get("dynamicFriction");null!=d&&b.set_dynamicFriction(H.parseFloat(d));d=a.get("staticFriction");null!=d&&b.set_staticFriction(H.parseFloat(d));d=a.get("density");
null!=d&&b.set_density(H.parseFloat(d));d=a.get("rollingFriction");null!=d&&b.set_rollingFriction(H.parseFloat(d))}return b};E.findById=function(a){for(var b=null,d=0,c=D.StatePlay.instance.objects;d<c.length;){var e=c[d];++d;if(e.attributes.get("id")==a){b=e;break}}return b};E.collideIgnore=function(a){null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE};E.GetObjectAtPoint=
function(a,b,d,h,e,f){null==f&&(f=!0);null==e&&(e=!0);null==h&&(h=0);E.pointVec.set_x(b);E.pointVec.set_y(d);b=a.bodiesUnderPoint(E.pointVec);a=0;b.zpp_inner.valmod();for(b=g.phys.BodyIterator.get(b);b.hasNext();){var m;b.zpp_critical=!1;m=b.zpp_inner.at(b.zpp_i++);if(m.zpp_inner.type!=c.util.ZPP_Flags.id_BodyType_STATIC||!e)if(!m.zpp_inner.wrap_shapes.at(0).get_sensorEnabled()||!f)if(d=I.Boot.__cast(function(a){null==m.zpp_inner_i.userData&&(m.zpp_inner_i.userData={});return m.zpp_inner_i.userData}(this).object,
E),null!=d){if(h==a)return d;a++}}return null};E.GetGFXXML=function(a){if(null!=k.Xu.fc(k.Xu.fc(a,"joint"),"graphics"))a=k.Xu.fc(k.Xu.fc(a,"joint"),"graphics");else if(null!=k.Xu.fc(k.Xu.fc(a,"body"),"graphics"))a=k.Xu.fc(k.Xu.fc(a,"body"),"graphics");else if(null!=k.Xu.fc(a,"graphics"))a=k.Xu.fc(a,"graphics");else throw new l.errors.Error("can't find graphics at initGFX");return a};E.GetTileInfo=function(a){var b=a.get("type");if(!E.tileInfos.exists(b)){var d=E.GetGFXXML(a);a=k.OzUtil.StringToIntArray(d.get("tileDown45"));
var c=k.OzUtil.StringToIntArray(d.get("tileUp45")),d=k.OzUtil.StringToIntArray(d.get("scale9"));a=new fb(b,c,a,d);E.tileInfos.set(b,a);r.Log.trace("we create new tileinfo",{fileName:"OzObject.hx",lineNumber:1194,className:"gameplay.OzObject",methodName:"GetTileInfo"})}return E.tileInfos.get(b)};E.GetMovieClip=function(a){a=k.OzUtil.FindStringId(k.OzSprite.BitmapsNames,a.get("src"));return k.OzSprite.Bitmaps[k.OzSprite.BitmapsIds[a]]};E.GetBitmapData=function(a){a=E.GetMovieClip(a);return k.OzSprite.TilesheetBitmapDatas[a.tilesheetId][a.frames[0]]};
E.GetBitmap=function(a,b){var d=E.GetMovieClip(a);return k.OzSprite.New(d)};E.prototype={is:function(a){return 0<(this.flags&a)},set:function(a){this.flags|=a},clear:function(a){this.flags&=16777215^a},toggle:function(a){this.flags^=a},gameSpecInit:function(){var a=this;this.lastThrow=this.activationFrame=this.frameProcessed=-1;var b=this.bluePrint.get("type"),d=k.Xu.fc(this.attributes,"properties");if(0==b.indexOf("hangar"))if("hangarstart"==b){this.type=301;if(null!=D.StatePlay.instance.startBase)throw new l.errors.Error("two or more finish bases");
D.StatePlay.instance.startBase=this}else if("hangarcheckpoint"==b)this.type=302,this.order=H.parseInt(d.get("order")),this.order==G.checkpoints[G.currentLevel]&&(D.StatePlay.instance.curCheckpoint=this),G.checkpoints[G.currentLevel]>=this.order?this.sprite.gotoAndStop(1):this.sprite.gotoAndStop(2);else{if("hangarfinish"==b){this.type=303;if(null!=D.StatePlay.instance.finishBase)throw new l.errors.Error("two or more finish bases");D.StatePlay.instance.finishBase=this}}else"flyingstar"==b?(this.type=
304,this.position=H.parseInt(d.get("position")),0<(D.StatePlay.instance.starsSoFar&1<<this.position)&&(this.dead=!0)):0==b.indexOf("blockmetal")?(this.type=305,"true"==this.getProperty("loop")&&(this.flags|=2),this.flags|=1):0==b.indexOf("zombie")?(this.type=201,this.nextBlink=Math.round(60*Math.random()+80),this.cnt=11,this.scared=!1):0==b.indexOf("alien")?this.type="alien1"==b?213:"alien2"==b?214:215:"bomb"==b?this.type=205:"bullet"==b?this.type=212:0==b.indexOf("wood")?this.type=202:"explosivecrate"==
b?(this.type=204,this.sprite.gotoAndStop(1)):"player"==b&&(this.type=200,D.StatePlay.instance.player=this);if(0==b.indexOf("cat"))this.type=2,this.nextBlink=Math.round(60*Math.random()+80),this.cnt=3,this.size=H.parseInt(this.bluePrint.get("size")),r.Log.trace("it's a cat",{fileName:"OzObject.hx",lineNumber:268,className:"gameplay.OzObject",methodName:"gameSpecInit"});else if(0==b.indexOf("capcat"))this.type=4,this.nextBlink=Math.round(60*Math.random()+80),this.cnt=3,this.size=H.parseInt(this.bluePrint.get("size")),
r.Log.trace("it's a cat",{fileName:"OzObject.hx",lineNumber:278,className:"gameplay.OzObject",methodName:"gameSpecInit"});else if(0==b.indexOf("dog"))this.type=1,this.nextBlink=Math.round(60*Math.random()+80),this.cnt=3,this.size=H.parseInt(this.bluePrint.get("size"));else if(0==b.indexOf("capdog"))this.type=3,this.nextBlink=Math.round(60*Math.random()+80),this.cnt=3,this.size=H.parseInt(this.bluePrint.get("size"));else if("clickpolygon"==b)this.type=6;else if("barrel"==b)this.type=5;else if("switch"==
b)this.type=208,"on"==this.getProperty("onoff")&&(this.flags|=1);else if(0==b.indexOf("path"))this.type=207;else if(0==b.indexOf("platform"))this.type=206,"true"==this.getProperty("loop")&&(this.flags|=2),this.flags|=1;else if(0==b.indexOf("iceplatform"))this.type=216;else if("teleportin"==b)this.type=209,this.sprite.addChild(k.OzSprite.New(q.cmcInLabel));else if("teleportout"==b)this.type=210,"true"==this.getProperty("loop")&&(this.flags|=2),this.flags|=1,this.sprite.addChild(k.OzSprite.New(q.cmcOutLabel));
else if("spikewheel"==b)this.type=217,this.sprite.gotoAndStop(1);else if("rubberplatform"==b)this.type=211,"true"==this.getProperty("loop")&&(this.flags|=2),this.flags|=1;else if("instructions"==b)this.type=102,this.sprite.gotoAndStop(H.parseInt(d.get("frame")));else if("hand"==b)if(this.type=100,this.position=H.parseInt(d.get("position")),"point"==d.get("pointtype")){var b=(this.geometry.degrees-90)/180*Math.PI,c=k.OzTween.New();c.startValue=this.geometry.x;c.endValue=this.geometry.x+50*Math.cos(b);
c.duration=60;c.cnt=0;c.updateFunc=function(b){0.5<=b&&(b=1-b);b*=2;a.geometry.x=(1-b)*c.startValue+b*c.endValue};c.repeat=-1;c.endFunc=null;c.stateBound=!0;c.gameBound=!0;k.OzTween.Add(c);this.tween1=k.OzTween.GetLast();var e=k.OzTween.New();e.startValue=this.geometry.y;e.endValue=this.geometry.y+50*Math.sin(b);e.duration=60;e.cnt=0;e.updateFunc=function(b){0.5<=b&&(b=1-b);b*=2;a.geometry.y=(1-b)*e.startValue+b*e.endValue};e.repeat=-1;e.endFunc=null;e.stateBound=!0;e.gameBound=!0;k.OzTween.Add(e);
this.tween2=k.OzTween.GetLast()}else{if("drag"==d.get("pointtype")){var f=k.OzTween.New();f.startValue=this.geometry.x;f.endValue=this.geometry.x+50;f.duration=60;f.cnt=0;f.updateFunc=function(b){a.geometry.x=(1-b)*f.startValue+b*f.endValue};f.repeat=-1;f.endFunc=null;f.stateBound=!0;f.gameBound=!0;k.OzTween.Add(f);this.tween1=k.OzTween.GetLast();var m=k.OzTween.New();m.startValue=this.geometry.y;m.endValue=this.geometry.y+50;m.duration=60;m.cnt=0;m.updateFunc=function(b){a.geometry.y=(1-b)*m.startValue+
b*m.endValue};m.repeat=-1;m.endFunc=null;m.stateBound=!0;m.gameBound=!0;k.OzTween.Add(m);this.tween2=k.OzTween.GetLast()}}else"pin"==b&&(b=H.parseInt(this.getProperty("rotation")),0==b?this.sprite.gotoAndStop(1):0>b?this.sprite.gotoAndStop(3):this.sprite.gotoAndStop(2))},gameSpecPhysInit:function(){301==this.type||302==this.type||303==this.type?this.body.get_cbTypes().add(E.hangarCT):200==this.type?this.body.get_cbTypes().add(E.planeCT):304==this.type?this.body.get_cbTypes().add(E.starCT):null!=this.body&&
this.body.get_cbTypes().add(E.collideableCT)},clickOnMe:function(){if(2!=this.type&&1!=this.type&&6!=this.type&&5!=this.type)return!1;if(2==this.type||1==this.type)if(null==D.StatePlay.instance.clickedObject)D.StatePlay.instance.clickedObject=this,this.sprite.currentFrame=3;else{if(D.StatePlay.instance.clickedObject!=this){var a=D.StatePlay.instance.clickedObject,b=a.body.get_position().get_x(),d=a.body.get_position().get_y(),h=a.body.zpp_inner.angvel;E.tempVec1.set(a.body.get_velocity());a.body.get_position().set(this.body.get_position());
a.body.set_angularVel(this.body.zpp_inner.angvel);a.body.get_velocity().set(this.body.get_velocity());this.body.get_position().setxy(b,d);this.body.set_angularVel(h);this.body.get_velocity().set(E.tempVec1)}D.StatePlay.instance.clickedObject.sprite.currentFrame=1;D.StatePlay.instance.clickedObject=null}else if(6==this.type)this.dead=!0;else if(5==this.type){for(a=this.body.get_space().get_bodies().iterator();a.hasNext();){var e;a.zpp_critical=!1;e=a.zpp_inner.at(a.zpp_i++);if(e.zpp_inner.type!=c.util.ZPP_Flags.id_BodyType_STATIC&&
(null==e.zpp_inner.wrap_pos&&e.zpp_inner.setupPosition(),b=e.zpp_inner.wrap_pos.get_x()-this.body.get_position().get_x(),null==e.zpp_inner.wrap_pos&&e.zpp_inner.setupPosition(),d=e.zpp_inner.wrap_pos.get_y()-this.body.get_position().get_y(),h=Math.sqrt(b*b+d*d),160>h)){var f=0;0.1<h&&(f=Math.atan2(d,b));e.applyImpulse(new g.geom.Vec2(750*Math.cos(f)*function(a){if(e.zpp_inner.world)throw"Error: Space::world has no mass";e.zpp_inner.validate_mass();if(e.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&
null==e.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return e.zpp_inner.cmass}(this),750*Math.sin(f)*function(a){if(e.zpp_inner.world)throw"Error: Space::world has no mass";e.zpp_inner.validate_mass();if(e.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==e.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return e.zpp_inner.cmass}(this)))}}this.dead=!0;a=k.OzSprite.New(q.cmcBoomOneThird);
a.setxy(this.body.get_position().get_x(),this.body.get_position().get_y());a.funcEnd=B(a,a.removeMe);D.StatePlay.instance.objectSprite.addChild(a);var m=k.OzTween.New();m.startValue=D.StatePlay.instance.objectSprite.x;m.endValue=3;m.duration=15;m.cnt=0;m.updateFunc=function(a){D.StatePlay.instance.objectSprite.x=m.startValue-m.endValue+2*m.endValue*Math.random()};m.repeat=0;m.endFunc=null;m.stateBound=!0;m.gameBound=!0;k.OzTween.Add(m);var u=k.OzTween.New();u.startValue=D.StatePlay.instance.objectSprite.y;
u.endValue=3;u.duration=15;u.cnt=0;u.updateFunc=function(a){D.StatePlay.instance.objectSprite.y=u.startValue-u.endValue+2*u.endValue*Math.random()};u.repeat=0;u.endFunc=null;u.stateBound=!0;u.gameBound=!0;k.OzTween.Add(u)}return!0},isGood:function(){return 200==this.type},isBad:function(){return 213==this.type||214==this.type||215==this.type},drawCustom:function(){if(200!=this.type&&213!=this.type&&214!=this.type&&215!=this.type)if(100==this.type||101==this.type)this.sprite.visible=D.StatePlay.instance.curClick==
this.position?!0:!1;else if(208==this.type)0<(this.flags&1)?this.sprite.gotoAndStop(1):this.sprite.gotoAndStop(2);else if(212==this.type&&!(0<(this.flags&4))&&1E-4<this.body.get_velocity().get_length()){var a=Math.atan2(this.body.get_velocity().get_y(),this.body.get_velocity().get_x());this.sprite.rotation=180*a/Math.PI}},emitLimb:function(a){var b=this.body.get_position().get_x(),d=this.body.get_position().get_y(),c=10*Math.random()-5,e=4*c;k.OzParticle.Emit(D.StatePlay.instance.objectSprite,a,90,
b,d,0,c,-12+4*Math.random(),e,0,0,1)},emitFragment:function(a,b){null==b&&(b=0);var d=this.body.get_position().get_x()+b*Math.cos(this.body.zpp_inner.rot),c=this.body.get_position().get_y()+b*Math.sin(this.body.zpp_inner.rot);k.OzParticle.Emit(D.StatePlay.instance.objectSprite,a,90,d,c,0,b/25,0,b/5,0,0,1)},explode:function(){if(!this.dead&&this.frameProcessed!=D.StatePlay.instance.cnt){this.dead=!0;this.frameProcessed=D.StatePlay.instance.cnt;for(var a=0;50>a;){var b=a++/50*2*Math.PI;E.tempVec1.set_x(Math.cos(b));
E.tempVec1.set_y(Math.sin(b));b=new g.geom.Ray(this.body.get_position(),E.tempVec1);b.zpp_inner.maxdist=80;b.zpp_inner.maxdist;var d=this.body.get_space().rayCast(b);if(null!=d&&(b=I.Boot.__cast(function(a){if(null!=d.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return d.zpp_inner.shape}(this).get_body().get_userData().object,E),null!=b&&!1==b.dead&&b.frameProcessed!=D.StatePlay.instance.cnt))if(5==b.type)b.explode();else if(b.frameProcessed=D.StatePlay.instance.cnt,
b.isBad())b.dieAlien();else if(204==b.type&&1==b.sprite.currentFrame){b.sprite.gotoAndStop(2);var h=b.body.zpp_inner.rot-Math.PI/2;b.body.applyImpulse(new g.geom.Vec2(500*Math.cos(h)*b.body.get_mass(),500*Math.sin(h)*b.body.get_mass()));b.activationFrame=b.cnt}else 216==b.type?b.destroyIce():208==b.type?(b.flags^=1,b.linkedObject.toggle(1)):b.body.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(h=Math.atan2(b.body.get_position().get_y()-this.body.get_position().get_y(),b.body.get_position().get_x()-
this.body.get_position().get_x()),b.body.applyImpulse(new g.geom.Vec2(1E3*Math.cos(h)*b.body.get_mass(),1E3*Math.sin(h)*b.body.get_mass())))}a=k.OzSprite.New(q.cmcBoomOneThird);a.setxy(this.body.get_position().get_x(),this.body.get_position().get_y());a.funcEnd=B(a,a.removeMe);D.StatePlay.instance.objectSprite.addChild(a);var e=k.OzTween.New();e.startValue=D.StatePlay.instance.objectSprite.x;e.endValue=3;e.duration=15;e.cnt=0;e.updateFunc=function(a){D.StatePlay.instance.objectSprite.x=e.startValue-
e.endValue+2*e.endValue*Math.random()};e.repeat=0;e.endFunc=null;e.stateBound=!0;e.gameBound=!0;k.OzTween.Add(e);var f=k.OzTween.New();f.startValue=D.StatePlay.instance.objectSprite.y;f.endValue=3;f.duration=15;f.cnt=0;f.updateFunc=function(a){D.StatePlay.instance.objectSprite.y=f.startValue-f.endValue+2*f.endValue*Math.random()};f.repeat=0;f.endFunc=(ga=D.StatePlay.instance,B(ga,ga.normaliseObjectSprite));f.stateBound=!0;f.gameBound=!0;k.OzTween.Add(f)}},toggleSwitch:function(){this.flags^=1;this.linkedObject.toggle(1)},
update:function(){this.cnt++;if(212==this.type){if(!(0<(this.flags&4))&&400>this.body.get_velocity().get_length()){this.flags|=4;this.cnt=0;this.destroyShapes();var a=new g.shape.Polygon(g.shape.Polygon.box(4,2));a.set_body(this.body);null!=this.material&&a.set_material(this.material);this.body.setShapeFilters(E.bulletFilter)}else 0<(this.flags&4)||(a=Math.atan2(this.body.get_velocity().get_y(),this.body.get_velocity().get_x()),this.body.get_velocity().setxy(800*Math.cos(a),800*Math.sin(a)),this.body.set_angularVel(0));
0<(this.flags&4)&&90<this.cnt&&(this.dead=!0)}if(205==this.type)90==this.cnt&&(this.explode(),N.PlaySound("boom"));else if(204==this.type&&2==this.sprite.currentFrame&&this.activationFrame+32==this.cnt)this.explode(),N.PlaySound("boom");else if(206==this.type||210==this.type||211==this.type||305==this.type)0<(this.flags&1)?(this.linkedObject.geometry.getPathPosition(2*this.cnt,E.tempVec1,0<(this.flags&2)),this.body.get_velocity().setxy((E.tempVec1.get_x()-this.body.get_position().get_x())*w.FPS,(E.tempVec1.get_y()-
this.body.get_position().get_y())*w.FPS)):(this.body.get_velocity().setxy(0,0),this.cnt--);209==this.type&&(a=this.body,a.set_rotation(a.zpp_inner.rot+0.05),this.sprite.child.rotation=180*-this.body.zpp_inner.rot/Math.PI);210==this.type&&(a=this.body,a.set_rotation(a.zpp_inner.rot-0.05),this.sprite.child.rotation=180*-this.body.zpp_inner.rot/Math.PI)},destroyIce:function(){this.dead=!0;this.emitFragment(q.cmcIceFragment1,-75);this.emitFragment(q.cmcIceFragment2,-25);this.emitFragment(q.cmcIceFragment3,
25);this.emitFragment(q.cmcIceFragment4,75)},dieAlien:function(){this.dead=!0;this.emitLimb(q.cmcIntestine);this.emitLimb(q.cmcBrain);this.emitLimb(q.cmcRibs);for(var a=0;2>a;)a++,this.emitLimb(q.cmcArm1);for(a=0;2>a;)a++,this.emitLimb(q.cmcLeg1);if(213==this.type)this.emitLimb(q.cmcSkull1);else if(214==this.type)this.emitLimb(q.cmcSkull2);else if(215==this.type)for(this.emitLimb(q.cmcSkull3),a=0;2>a;)a++,this.emitLimb(q.cmcSaucerPart)},destroyShapes:function(){for(var a=this.body.zpp_inner.wrap_shapes.iterator();a.hasNext();){var b;
a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);b.zpp_inner.immutable_midstep("Shape::body");null!=(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null)&&null!=b.zpp_inner.body&&(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(b);null!=b.zpp_inner.body?b.zpp_inner.body.outer:null}},destroyBody:function(){null!=this.body&&(this.body.get_userData().object=null,null!=this.body.get_space()&&this.body.get_space().get_bodies().remove(this.body),this.body=null)},destroy:function(a){null==
a&&(a=!0);this.destroyBody();null!=this.joint&&(this.joint.get_userData().object=null,this.joint.set_space(null),this.joint=null);a&&null!=this.sprite&&(null!=this.sprite.parent&&this.sprite.parent.removeChild(this.sprite),this.sprite=null);null!=this.tween1&&(k.OzTween.Remove(this.tween1),this.tween1=null);null!=this.tween2&&(k.OzTween.Remove(this.tween2),this.tween2=null)},initPhysics:function(a){var b=k.Xu.fc(this.bluePrint,"body");if(null!=b&&"false"!=b.get("init")){if(null==this.body){var d=
g.phys.Body,h;"static"==k.Xu.fc(this.bluePrint,"body").get("type")?(null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1),h=c.util.ZPP_Flags.BodyType_STATIC):"dynamic"==k.Xu.fc(this.bluePrint,"body").get("type")?(null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1),h=c.util.ZPP_Flags.BodyType_DYNAMIC):
(null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1),h=c.util.ZPP_Flags.BodyType_KINEMATIC);this.body=new d(h)}d=k.Xu.cwav(k.Xu.fc(G.definitionsXML,"materials"),"material","name",b.get("material"));this.material=E.ParseMaterial(d);this.geometry.makePhysics(this.body,this.material);if("true"==b.get("sensor"))for(b=this.body.zpp_inner.wrap_shapes.iterator();b.hasNext();)b.zpp_critical=!1,d=b.zpp_inner.at(b.zpp_i++),
d.zpp_inner.immutable_midstep("Shape::sensorEnabled"),d.zpp_inner.sensorEnabled=!0,d.zpp_inner.wake(),d.zpp_inner.sensorEnabled;b=0;null!=this.attributes&&(b=H.parseFloat(this.attributes.get("rot")));1E-4<this.body.get_localCOM().get_x()||-1E-4>this.body.get_localCOM().get_x()||1E-4<this.body.get_localCOM().get_y()||-0.001>this.body.get_localCOM().get_y()?(this.shiftCOM=!0,this.comOffset=this.body.get_localCOM().copy(null),null!=this.sprite&&(d=k.OzSprite.New(null,k.SpriteType.EMPTY),null!=this.sprite.parent&&
this.sprite.parent.addChild(d),d.addChild(this.sprite),d.x=this.sprite.x,d.y=this.sprite.y,d.rotation=this.sprite.rotation,this.sprite.x=-this.body.get_localCOM().get_x(),this.sprite.y=-this.body.get_localCOM().get_y(),this.sprite.rotation=0,d.addChild(this.sprite),this.sprite=d),this.body.align(),d=[],k.OzUtil.rotateAroundPoint(this.comOffset.get_x(),this.comOffset.get_y(),b,0,0,d),this.body.get_position().setxy(this.geometry.x+d[0],this.geometry.y+d[1])):this.body.get_position().setxy(this.geometry.x,
this.geometry.y);this.body.set_rotation(this.geometry.degrees*Math.PI/180);this.body.set_space(a);this.body.get_userData().object=this}this.gameSpecPhysInit()},initPhysics2:function(a){var b=k.Xu.fc(this.bluePrint,"joint");if(null!=b){if(5==this.geometry.type){if("pivot"==b.get("type"))if(b=E.GetObjectAtPoint(a,this.geometry.x,this.geometry.y,0,!1),null==b)this.dead=!0;else{var d=E.GetObjectAtPoint(a,this.geometry.x,this.geometry.y,1,!1);if(null==d){if(d=new g.geom.Vec2(this.geometry.x,this.geometry.y),
this.joint=new g.constraint.PivotJoint(b.body,a.zpp_inner.__static,b.body.worldPointToLocal(d),a.zpp_inner.__static.worldPointToLocal(d)),this.joint.set_space(a),this.joint.set_ignore(!0),d=H.parseInt(this.getProperty("rotation")),0!=d){r.Log.trace("Moetoerhead",{fileName:"OzObject.hx",lineNumber:969,className:"gameplay.OzObject",methodName:"initPhysics2"});b=new g.constraint.MotorJoint(b.body,a.zpp_inner.__static,d);if(null!=b.zpp_inner.compound)throw"Error: Cannot set the space of a Constraint belonging to a Compound, only the root Compound space can be set";
(null==b.zpp_inner.space?null:b.zpp_inner.space.outer)!=a&&(null!=b.zpp_inner.component&&(b.zpp_inner.component.woken=!1),b.zpp_inner.clearcache(),null!=b.zpp_inner.space&&b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b),null!=a?a.zpp_inner.wrap_constraints.add(b):b.zpp_inner.space=null);null==b.zpp_inner.space?null:b.zpp_inner.space.outer}}else{var c=new g.geom.Vec2(this.geometry.x,this.geometry.y);this.joint=new g.constraint.PivotJoint(b.body,d.body,b.body.worldPointToLocal(c),d.body.worldPointToLocal(c));
this.joint.set_space(a);this.joint.set_ignore(!0)}}}else if(4==this.geometry.type&&"distance"==b.get("type"))if(b=E.GetObjectAtPoint(a,this.geometry.x+this.geometry.x1,this.geometry.y+this.geometry.y1,0,!1),d=E.GetObjectAtPoint(a,this.geometry.x+this.geometry.x2,this.geometry.y+this.geometry.y2,0,!1),null==b&&null==d||b==d)this.dead=!0;else{var b=null==b?a.zpp_inner.__static:b.body,d=null==d?a.zpp_inner.__static:d.body,c=new g.geom.Vec2(this.geometry.x+this.geometry.x1,this.geometry.y+this.geometry.y1),
e=new g.geom.Vec2(this.geometry.x+this.geometry.x2,this.geometry.y+this.geometry.y2),f=k.OzUtil.DistancePoints(this.geometry.x1,this.geometry.y1,this.geometry.x2,this.geometry.y2);this.joint=new g.constraint.DistanceJoint(b,d,b.worldPointToLocal(c),d.worldPointToLocal(e),f,f);this.joint.set_space(a)}null!=this.joint&&(this.joint.get_userData().object=this)}209==this.type&&(a=this.getProperty("link"),this.linkedObject=E.findById(a));206==this.type||210==this.type||211==this.type||305==this.type?(a=
this.getProperty("link"),this.linkedObject=E.findById(a),null!=this.linkedObject?this.linkedObject.geometry.getPathPosition(0,this.body.get_position(),!0):this.flags&=16777214):208==this.type&&(a=this.getProperty("link"),this.linkedObject=E.findById(a),null!=this.linkedObject&&(0<(this.flags&1)?this.linkedObject.set(1):this.linkedObject.clear(1)))},toXML:function(){var a=R.parse(this.attributes.toString()).firstElement();a.set("x",""+this.geometry.x);a.set("y",""+this.geometry.y);a.set("rot",""+this.geometry.degrees);
if("dot"!=this.bluePrint.get("editor")&&"none"!=this.bluePrint.get("editor")){var b=this.geometry.toXML();b.set("x","0");b.set("y","0");b.set("degrees","0");a.addChild(b)}return a},fromXML:function(a,b,d,c,e){null==e&&(e=-10000001);null==c&&(c=-10000001);-1E6>c&&(c=Math.NaN);-1E6>e&&(e=Math.NaN);var f=R.parse(a.toString()).firstElement(),m=new k.OzGeometry,u=E.GetGFXXML(b),g=!1,W=null,p=-1;"tile"==u.get("type")&&(W=E.GetTileInfo(b),p=H.parseInt(a.get("tileFrame")),0<=k.OzUtil.IndexOfInt(W.tileDown45,
p)||0<=k.OzUtil.IndexOfInt(W.tileUp45,p))&&(g=!0);if(g){r.Log.trace("we change for this",{fileName:"OzObject.hx",lineNumber:1090,className:"gameplay.OzObject",methodName:"fromXML",customParams:[a]});m.fromXML(k.Xu.fc(a,"geometry"));f.removeChild(k.Xu.fc(f,"geometry"));var g=H.parseInt(u.get("size")),v=Math.round(2*m.halfWidth),Aa=Math.round(2*m.halfHeight),Aa=Math.round(Aa/g),n=Math.round(v/g),g=H["int"](Math.min(Aa,n));H["int"](Math.max(Aa,n));Aa=[];v=[];u=H.parseFloat(u.get("size"));0<=k.OzUtil.IndexOfInt(W.tileDown45,
p)?(W=n-g*u,Aa[0]=W+m.halfWidth,v[0]=0-m.halfHeight,Aa[1]=W+g*u+m.halfWidth,v[1]=g*u-m.halfHeight,Aa[2]=W+m.halfWidth):(Aa[0]=g*u-m.halfWidth,v[0]=0-m.halfHeight,Aa[1]=g*u-m.halfWidth,v[1]=g*u-m.halfHeight,Aa[2]=-m.halfWidth);v[2]=g*u-m.halfHeight;W=new k.OzGeometry;W.init(3,0,0,0,0,0,Aa,v,!1);W.halfWidth=m.halfWidth;W.halfHeight=m.halfHeight;m=W}else if(null!=k.Xu.fc(k.Xu.fc(b,"body"),"geometry"))m.fromXML(k.Xu.fc(k.Xu.fc(b,"body"),"geometry"));else if(null!=k.Xu.fc(k.Xu.fc(b,"joint"),"geometry"))m.fromXML(k.Xu.fc(k.Xu.fc(b,
"joint"),"geometry"));else if(null!=k.Xu.fc(a,"geometry"))m.fromXML(k.Xu.fc(a,"geometry")),f.removeChild(k.Xu.fc(f,"geometry"));else if("dot"==b.get("editor"))m.init(5,0,0);else throw new l.errors.Error("ERROR CAN'T FIND GEOMETRY FROM Xml");m.x+=H.parseFloat(a.get("x"));m.y+=H.parseFloat(a.get("y"));m.degrees+=H.parseFloat(a.get("rot"));Math.isNaN(c)||Math.isNaN(e)||(m.x+=c,m.y+=e);this.attributes=f;this.bluePrint=b;this.geometry=m;if(null!=k.Xu.fc(this.bluePrint,"property"))for(null==k.Xu.fc(this.attributes,
"properties")&&this.attributes.addChild(R.createElement("properties")),a=this.bluePrint.elementsNamed("property");a.hasNext();)b=a.next().get("name"),null==k.Xu.fc(this.attributes,"properties").get(b)&&(c=k.Xu.fc(d,"properties"),c=k.Xu.cwav(c,"property","name",b).get("default"),k.Xu.fc(this.attributes,"properties").set(b,c));this.initGFX();this.gameSpecInit()},initGFX:function(){var a=E.GetGFXXML(this.bluePrint);this.depth=H.parseInt(a.get("depth"));if("sprite"==a.get("type"))this.sprite=E.GetBitmap(a);
else if("fill"==a.get("type")){var b=E.GetBitmapData(a);null==this.sprite&&(this.sprite=k.OzSprite.New(null,k.SpriteType.POLYGON));this.sprite.flSprite.get_graphics().clear();null!=a.get("linewidth")&&this.sprite.flSprite.get_graphics().lineStyle(H.parseInt(a.get("linewidth")),H.parseInt("0x"+a.get("linecolor")));this.sprite.flSprite.get_graphics().beginBitmapFill(b,null,!0,!0);this.geometry.drawLocalOutline(this.sprite.flSprite.get_graphics());this.sprite.flSprite.get_graphics().endFill()}else if("line"==
a.get("type")){var d=E.GetBitmapData(a);null==this.sprite&&(this.sprite=k.OzSprite.New(null,k.SpriteType.POLYGON));var c=d.component.height;null!=a.get("linewidth")&&(c=H.parseInt(a.get("linewidth")));var b=this.geometry.x1-this.geometry.x2,e=this.geometry.y1-this.geometry.y2,b=Math.sqrt(b*b+e*e);this.sprite.createLineGFX(d,c,b);this.sprite.rotation=k.OzUtil.AngleFromSegment(this.geometry.x1,this.geometry.y1,this.geometry.x2,this.geometry.y2);a=a.get("end");null!=a&&(d=E.GetBitmap(null,a),this.sprite.addChild(d),
d.x=-b/2,a=E.GetBitmap(null,a),this.sprite.addChild(a),a.x=b/2,r.Log.trace("init nc",{fileName:"OzObject.hx",lineNumber:1262,className:"gameplay.OzObject",methodName:"initGFX",customParams:[this.sprite.numChildren()]}))}else if("tile"==a.get("type")){this.isTile=!0;b=this.attributes.get("tileFrame");null!=b&&H.parseInt(b);var b=H.parseInt(a.get("size")),f=Math.round(2*this.geometry.halfWidth),d=Math.round(2*this.geometry.halfHeight),c=Math.round(this.geometry.x-this.geometry.halfWidth),e=Math.round(this.geometry.y-
this.geometry.halfHeight),m=this.attributes.get("tileFrame"),u;u=null==m?1:H.parseInt(m);var m=E.GetTileInfo(this.bluePrint),d=Math.round(d/b),g=Math.round(f/b),W=H["int"](Math.min(d,g));H["int"](Math.max(d,g));(f="false"!=a.get("staticTile"))?this.sprite=null:(null==this.sprite&&(this.sprite=k.OzSprite.New(null,k.SpriteType.EMPTY)),this.sprite.x=c,this.sprite.y=e);var p=D.StatePlay.tileMap;if(0<=k.OzUtil.IndexOfInt(m.tileDown45,u))for(u=g-W,W=0;W<d;)for(var v=W++,Aa=u;Aa<g;){var n=Aa++,s=v,q=n-u,
w=1;if(s==q)w=m.tileDown45[0];else if(q==s-1)w=m.tileDown45[1];else continue;f?p.setTile(H["int"](Math.round((e-p.offsetY)/b)+v),H["int"](Math.round((c-p.offsetX)/b)+n),2,E.GetMovieClip(a),w):(s=E.GetBitmap(a),s.x=Math.round(n*b),s.y=Math.round(v*b),this.sprite.addChild(s),s.gotoAndStop(w))}else if(0<=k.OzUtil.IndexOfInt(m.tileUp45,u))for(g=0;g<d;)for(u=g++,v=0;v<W;){Aa=v++;w=u;s=W-Aa-1;if(w==s)n=m.tileUp45[0];else if(s==w-1)n=m.tileUp45[1];else continue;f?p.setTile(H["int"](Math.round((e-p.offsetY)/
b)+u),H["int"](Math.round((c-p.offsetX)/b)+Aa),3,E.GetMovieClip(a),n):(w=E.GetBitmap(a),w.x=Math.round(Aa*b),w.y=Math.round(u*b),this.sprite.addChild(w),w.gotoAndStop(n))}else if(m=0<=k.OzUtil.IndexOfInt(m.scale9,u),f)this.sprite=null,p.setTileBlock(c,e,g,d,1,E.GetMovieClip(a),u,m);else for(c=0;c<d;)for(e=c++,f=0;f<g;)p=f++,W=E.GetBitmap(a),W.x=Math.round(p*b),W.y=Math.round(e*b),this.sprite.addChild(W),W.gotoAndStop(m?k.OzTileMap.GetScale9Frame(e,p,d,g):u)}else if("path"==a.get("type"))this.sprite=
null;else throw new l.errors.Error("Todo: if not sprite");},drawPlay:function(a,b,d){null==d&&(d=1);null==b&&(b=0);null==a&&(a=0);if(null!=this.sprite){if(null!=this.body)this.isTile?(this.sprite.x=Math.round(this.body.get_position().get_x()-this.geometry.halfWidth+0),this.sprite.y=Math.round(this.body.get_position().get_y()-this.geometry.halfHeight+0)):(this.sprite.x=this.body.get_position().get_x(),this.sprite.y=this.body.get_position().get_y(),this.sprite.rotation=180*this.body.zpp_inner.rot/Math.PI);
else if(null!=this.joint)if(5==this.geometry.type){var c;c=I.Boot.__cast(this.joint,g.constraint.PivotJoint);this.sprite.x=(null==c.zpp_inner_zn.b1?null:c.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==c.zpp_inner_zn.wrap_a1&&c.zpp_inner_zn.setup_a1();return c.zpp_inner_zn.wrap_a1}(this)).get_x();this.sprite.y=(null==c.zpp_inner_zn.b1?null:c.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==c.zpp_inner_zn.wrap_a1&&c.zpp_inner_zn.setup_a1();return c.zpp_inner_zn.wrap_a1}(this)).get_y()}else{if(4==
this.geometry.type){var e;e=I.Boot.__cast(this.joint,g.constraint.DistanceJoint);a=(null==e.zpp_inner_zn.b1?null:e.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==e.zpp_inner_zn.wrap_a1&&e.zpp_inner_zn.setup_a1();return e.zpp_inner_zn.wrap_a1}(this)).get_x();b=(null==e.zpp_inner_zn.b1?null:e.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==e.zpp_inner_zn.wrap_a1&&e.zpp_inner_zn.setup_a1();return e.zpp_inner_zn.wrap_a1}(this)).get_y();d=(null==e.zpp_inner_zn.b2?null:e.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==
e.zpp_inner_zn.wrap_a2&&e.zpp_inner_zn.setup_a2();return e.zpp_inner_zn.wrap_a2}(this)).get_x();var f=(null==e.zpp_inner_zn.b2?null:e.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==e.zpp_inner_zn.wrap_a2&&e.zpp_inner_zn.setup_a2();return e.zpp_inner_zn.wrap_a2}(this)).get_y();this.sprite.adjustLine(a,b,d,f)}}else null!=this.geometry&&null!=this.sprite&&(this.sprite.x=this.geometry.x,this.sprite.y=this.geometry.y,this.sprite.rotation=this.geometry.degrees);this.drawCustom()}},getProperty:function(a){var b=
k.Xu.fc(this.attributes,"properties");return null!=b?b.get(a):null},setProperty:function(a,b){"x"==a?this.geometry.x=H.parseFloat(b):"y"==a?this.geometry.y=H.parseFloat(b):"degrees"==a?this.geometry.degrees=H.parseFloat(b):(null==k.Xu.fc(this.attributes,"properties")&&this.attributes.addChild(R.createElement("properties")),k.Xu.fc(this.attributes,"properties").set(a,b))},__class__:E};r.StackItem=n["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method",
"LocalFunction"]};r.StackItem.CFunction=["CFunction",0];r.StackItem.CFunction.toString=T;r.StackItem.CFunction.__enum__=r.StackItem;r.StackItem.Module=function(a){a=["Module",1,a];a.__enum__=r.StackItem;a.toString=T;return a};r.StackItem.FilePos=function(a,b,d){a=["FilePos",2,a,b,d];a.__enum__=r.StackItem;a.toString=T;return a};r.StackItem.Method=function(a,b){var d=["Method",3,a,b];d.__enum__=r.StackItem;d.toString=T;return d};r.StackItem.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=
r.StackItem;a.toString=T;return a};r.CallStack=function(){};n["haxe.CallStack"]=r.CallStack;r.CallStack.__name__=["haxe","CallStack"];r.CallStack.exceptionStack=function(){return[]};r.CallStack.toString=function(a){for(var b=new Ka,d=0;d<a.length;){var c=a[d];++d;b.b+="\nCalled from ";r.CallStack.itemToString(b,c)}return b.b};r.CallStack.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var d=b[2];a.b+="module ";a.b=null==d?a.b+"null":a.b+(""+d);break;case 2:var d=b[4],
c=b[3],e=b[2];null!=e&&(r.CallStack.itemToString(a,e),a.b+=" (");a.b=null==c?a.b+"null":a.b+(""+c);a.b+=" line ";a.b=null==d?a.b+"null":a.b+(""+d);null!=e&&(a.b+=")");break;case 3:d=b[3];c=b[2];a.b=null==c?a.b+"null":a.b+(""+c);a.b+=".";a.b=null==d?a.b+"null":a.b+(""+d);break;case 4:d=b[2],a.b+="local function #",a.b=null==d?a.b+"null":a.b+(""+d)}};r.Log=function(){};n["haxe.Log"]=r.Log;r.Log.__name__=["haxe","Log"];r.Log.trace=function(a,b){I.Boot.__trace(a,b)};r.Resource=function(){};n["haxe.Resource"]=
r.Resource;r.Resource.__name__=["haxe","Resource"];r.Resource.listNames=function(){for(var a=[],b=0,d=r.Resource.content;b<d.length;){var c=d[b];++b;a.push(c.name)}return a};r.Resource.getString=function(a){for(var b=0,d=r.Resource.content;b<d.length;){var c=d[b];++b;if(c.name==a)return null!=c.str?c.str:r.crypto.Base64.decode(c.data).toString()}return null};r.Serializer=function(){this.buf=new Ka;this.cache=[];this.useCache=r.Serializer.USE_CACHE;this.useEnumIndex=r.Serializer.USE_ENUM_INDEX;this.shash=
new r.ds.StringMap;this.scount=0};n["haxe.Serializer"]=r.Serializer;r.Serializer.__name__=["haxe","Serializer"];r.Serializer.run=function(a){var b=new r.Serializer;b.serialize(a);return b.toString()};r.Serializer.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+
"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,d=0,c=this.cache.length;d<c;){var e=d++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,d=X.fields(a);b<d.length;){var c=d[b];++b;this.serializeString(c);this.serialize(X.field(a,c))}this.buf.b+="g"},serialize:function(a){var b=
U["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;
switch(b){case Array:b=0;this.buf.b+="a";for(var d=a.length,c=0;c<d;){var e=c++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case Ja:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(S.dateStr(a));
break;case r.ds.StringMap:this.buf.b+="b";for(b=a.keys();b.hasNext();)d=b.next(),this.serializeString(d),this.serialize(a.get(d));this.buf.b+="h";break;case r.ds.IntMap:this.buf.b+="q";for(b=a.keys();b.hasNext();)d=b.next(),this.buf.b+=":",this.buf.b=null==d?this.buf.b+"null":this.buf.b+(""+d),this.serialize(a.get(d));this.buf.b+="h";break;case r.ds.ObjectMap:this.buf.b+="M";for(b=a.keys();b.hasNext();)d=b.next(),c=X.field(d,"__id__"),X.deleteField(d,"__id__"),this.serialize(d),d.__id__=c,this.serialize(a.h[d.__id__]);
this.buf.b+="h";break;case r.io.Bytes:c=0;e=a.length-2;b=new Ka;for(d=r.Serializer.BASE64;c<e;){var f=a.get(c++),m=a.get(c++),g=a.get(c++);b.add(d.charAt(f>>2));b.add(d.charAt((f<<4|m>>4)&63));b.add(d.charAt((m<<2|g>>6)&63));b.add(d.charAt(g&63))}c==e?(e=a.get(c++),a=a.get(c++),b.add(d.charAt(e>>2)),b.add(d.charAt((e<<4|a>>4)&63)),b.add(d.charAt(a<<2&63))):c==e+1&&(a=a.get(c++),b.add(d.charAt(a>>2)),b.add(d.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+
(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(U.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(U.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=
b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(U.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=H.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=H.string(b-2);for(d=2;d<b;)c=d++,this.serialize(a[c]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+H.string(a);}},__class__:r.Serializer};
r.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};n["haxe.Timer"]=r.Timer;r.Timer.__name__=["haxe","Timer"];r.Timer.stamp=function(){return(new Date).getTime()/1E3};r.Timer.prototype={run:function(){},__class__:r.Timer};r.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=r.Unserializer.DEFAULT_RESOLVER;null==a&&(a=U,r.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};n["haxe.Unserializer"]=r.Unserializer;r.Unserializer.__name__=
["haxe","Unserializer"];r.Unserializer.initCodes=function(){for(var a=[],b=0,d=r.Unserializer.BASE64.length;b<d;){var c=b++;a[r.Unserializer.BASE64.charCodeAt(c)]=c}return a};r.Unserializer.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,d=this.pos;;){var c=this.buf.charCodeAt(this.pos);if(c!=c)break;if(45==c){if(this.pos!=d)break;
b=!0}else{if(48>c||57<c)break;a=10*a+(c-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var d=this.unserialize();a[b]=d}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var d=this.readDigits();if(0==d)return U.createEnum(a,b);for(var c=[];0<d--;)c.push(this.unserialize());
return U.createEnum(a,b,c)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return H.parseFloat(S.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=S.substr(this.buf,this.pos,a);
this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";
return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=U.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);
return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var d=this.readDigits(),c=U.getEnumConstructs(b)[d];if(null==c)throw"Unknown enum index "+a+"@"+d;a=this.unserializeEnum(b,c);this.cache.push(a);return a;case 108:a=new Ja;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new r.ds.StringMap;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),
a.set(b,this.unserialize());this.pos++;return a;case 113:a=new r.ds.IntMap;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new r.ds.ObjectMap;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=S.substr(this.buf,this.pos,19),a=S.strDate(a),this.cache.push(a),this.pos+=19,a;
case 115:a=this.readDigits();c=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=r.Unserializer.CODES;null==e&&(e=r.Unserializer.initCodes(),r.Unserializer.CODES=e);for(var f=this.pos,m=a&3,g=f+(a-m),b=r.io.Bytes.alloc(3*(a>>2)+(2<=m?m-1:0)),d=0;f<g;){var C=e[$.fastCodeAt(c,f++)],k=e[$.fastCodeAt(c,f++)];b.set(d++,C<<2|k>>4);C=e[$.fastCodeAt(c,f++)];b.set(d++,k<<4|C>>2);k=e[$.fastCodeAt(c,f++)];b.set(d++,C<<6|k)}2<=m&&(k=e[$.fastCodeAt(c,f++)],g=e[$.fastCodeAt(c,
f++)],b.set(d++,k<<2|g>>4),3==m&&(c=e[$.fastCodeAt(c,f++)],b.set(d++,g<<4|c>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=U.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:r.Unserializer};r.io={};r.io.Bytes=function(a,b){this.length=
a;this.b=b};n["haxe.io.Bytes"]=r.io.Bytes;r.io.Bytes.__name__=["haxe","io","Bytes"];r.io.Bytes.alloc=function(a){for(var b=[],d=0;d<a;)d++,b.push(0);return new r.io.Bytes(a,b)};r.io.Bytes.ofString=function(a){for(var b=[],d=0;d<a.length;){var c=$.fastCodeAt(a,d++);55296<=c&&56319>=c&&(c=c-55232<<10|$.fastCodeAt(a,d++)&1023);127>=c?b.push(c):(2047>=c?b.push(192|c>>6):(65535>=c?b.push(224|c>>12):(b.push(240|c>>18),b.push(128|c>>12&63)),b.push(128|c>>6&63)),b.push(128|c&63))}return new r.io.Bytes(b.length,
b)};r.io.Bytes.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw r.io.Error.OutsideBounds;for(var d="",c=this.b,e=String.fromCharCode,f=a,m=a+b;f<m;){var g=c[f++];if(128>g){if(0==g)break;d+=e(g)}else if(224>g)d+=e((g&63)<<6|c[f++]&127);else if(240>g)var C=c[f++],d=d+e((g&31)<<12|(C&127)<<6|c[f++]&127);else var C=c[f++],k=c[f++],g=(g&15)<<18|(C&127)<<12|(k&127)<<6|c[f++]&127,d=d+e((g>>10)+55232),d=d+e(g&1023|56320)}return d},
toString:function(){return this.getString(0,this.length)},__class__:r.io.Bytes};r.crypto={};r.crypto.Base64=function(){};n["haxe.crypto.Base64"]=r.crypto.Base64;r.crypto.Base64.__name__=["haxe","crypto","Base64"];r.crypto.Base64.decode=function(a,b){null==b&&(b=!0);if(b)for(;61==S.cca(a,a.length-1);)a=S.substr(a,0,-1);return(new r.crypto.BaseCode(r.crypto.Base64.BYTES)).decodeBytes(r.io.Bytes.ofString(a))};r.crypto.BaseCode=function(a){for(var b=a.length,d=1;b>1<<d;)d++;if(8<d||b!=1<<d)throw"BaseCode : base length must be a power of two.";
this.base=a;this.nbits=d};n["haxe.crypto.BaseCode"]=r.crypto.BaseCode;r.crypto.BaseCode.__name__=["haxe","crypto","BaseCode"];r.crypto.BaseCode.prototype={initTable:function(){for(var a=[],b=0;256>b;){var d=b++;a[d]=-1}b=0;for(d=this.base.length;b<d;){var c=b++;a[this.base.b[c]]=c}this.tbl=a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var d=this.tbl,c=a.length*b>>3,e=r.io.Bytes.alloc(c),f=0,m=0,g=0,C=0;C<c;){for(;8>m;){var m=m+b,f=f<<b,k=d[a.get(g++)];if(-1==k)throw"BaseCode : invalid encoded char";
f|=k}m-=8;e.set(C++,f>>m&255)}return e},__class__:r.crypto.BaseCode};r.ds.IntMap=function(){this.h={}};n["haxe.ds.IntMap"]=r.ds.IntMap;r.ds.IntMap.__name__=["haxe","ds","IntMap"];r.ds.IntMap.__interfaces__=[ta];r.ds.IntMap.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return S.iter(a)},__class__:r.ds.IntMap};r.ds.StringMap=function(){this.h=
{}};n["haxe.ds.StringMap"]=r.ds.StringMap;r.ds.StringMap.__name__=["haxe","ds","StringMap"];r.ds.StringMap.__interfaces__=[ta];r.ds.StringMap.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return S.iter(a)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},__class__:r.ds.StringMap};r.io.Eof=function(){};n["haxe.io.Eof"]=r.io.Eof;r.io.Eof.__name__=["haxe","io","Eof"];r.io.Eof.prototype={toString:function(){return"Eof"},__class__:r.io.Eof};r.io.Error=n["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};r.io.Error.Blocked=["Blocked",0];r.io.Error.Blocked.toString=T;r.io.Error.Blocked.__enum__=
r.io.Error;r.io.Error.Overflow=["Overflow",1];r.io.Error.Overflow.toString=T;r.io.Error.Overflow.__enum__=r.io.Error;r.io.Error.OutsideBounds=["OutsideBounds",2];r.io.Error.OutsideBounds.toString=T;r.io.Error.OutsideBounds.__enum__=r.io.Error;r.io.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=r.io.Error;a.toString=T;return a};r.xml={};r.xml.Parser=function(){};n["haxe.xml.Parser"]=r.xml.Parser;r.xml.Parser.__name__=["haxe","xml","Parser"];r.xml.Parser.parse=function(a){var b=R.createDocument();
r.xml.Parser.doParse(a,0,b);return b};r.xml.Parser.doParse=function(a,b,d){null==b&&(b=0);for(var c=null,e=1,f=1,m=null,g=0,C=0,k=0,p=a.charCodeAt(b),v=new Ka;p==p;){switch(e){case 0:switch(p){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(p){case 60:e=0;f=2;break;default:g=b;e=13;continue}break;case 13:60==p?(f=R.createPCData(v.b+S.substr(a,g,b-g)),v=new Ka,d.addChild(f),C++,e=0,f=2):38==p&&(v.addSub(a,g,b-g),e=18,f=13,g=b+1);break;case 17:93==p&&93==a.charCodeAt(b+
1)&&62==a.charCodeAt(b+2)&&(e=R.createCData(S.substr(a,g,b-g)),d.addChild(e),C++,b+=2,e=1);break;case 2:switch(p){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=S.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=S.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;e=15}g=b+1;break;case 63:e=14;g=b;break;case 47:if(null==
d)throw"Expected node name";g=b+1;e=0;f=10;break;default:e=3;g=b;continue}break;case 3:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(b==g)throw"Expected node name";c=R.createElement(S.substr(a,g,b-g));d.addChild(c);e=0;f=4;continue}break;case 4:switch(p){case 47:e=11;C++;break;case 62:e=9;C++;break;default:e=5;g=b;continue}break;case 5:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(g==b)throw"Expected attribute name";m=S.substr(a,
g,b-g);if(c.exists(m))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(p){case 61:e=0;f=7;break;default:throw"Expected =";}break;case 7:switch(p){case 34:case 39:e=8;g=b;break;default:throw'Expected "';}break;case 8:p==a.charCodeAt(g)&&(f=S.substr(a,g+1,b-g-1),c.set(m,f),e=0,f=4);break;case 9:g=b=r.xml.Parser.doParse(a,b,c);e=1;break;case 11:switch(p){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(p){case 62:return 0==C&&d.addChild(R.createPCData("")),b;default:throw"Expected >";
}case 10:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(g==b)throw"Expected node name";if(S.substr(a,g,b-g)!=d.get_nodeName())throw"Expected </"+d.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==p&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(d.addChild(R.createComment(S.substr(a,g,b-g))),b+=2,e=1);break;case 16:91==p?k++:93==p?k--:62==p&&0==k&&(d.addChild(R.createDocType(S.substr(a,g,b-g))),e=1);break;case 14:63==p&&62==a.charCodeAt(b+1)&&(b++,e=S.substr(a,
g+1,b-g-2),d.addChild(R.createProcessingInstruction(e)),e=1);break;case 18:59==p&&(g=S.substr(a,g,b-g),35==g.charCodeAt(0)?(g=120==g.charCodeAt(1)?H.parseInt("0"+S.substr(g,1,g.length-1)):H.parseInt(S.substr(g,1,g.length-1)),v.add(String.fromCharCode(g))):r.xml.Parser.escapes.exists(g)?v.add(r.xml.Parser.escapes.get(g)):v.b+=H.string("&"+g+";"),g=b+1,e=f)}p=$.fastCodeAt(a,++b)}1==e&&(g=b,e=13);if(13==e)return b==g&&0!=C||d.addChild(R.createPCData(v.b+S.substr(a,g,b-g))),b;throw"Unexpected end";};
var I={Boot:function(){}};n["js.Boot"]=I.Boot;I.Boot.__name__=["js","Boot"];I.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};I.Boot.__trace=function(a,b){var d;d=null!=b?b.fileName+":"+b.lineNumber+": ":"";d+=I.Boot.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var c=0,e=b.customParams;c<e.length;){var f=e[c];++c;d+=","+I.Boot.__string_rec(f,"")}var m;"undefined"!=typeof document&&null!=(m=document.getElementById("haxe:trace"))?
m.innerHTML+=I.Boot.__unhtml(d)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(d)};I.Boot.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};I.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var d=typeof a;"function"==d&&(a.__name__||a.__ename__)&&(d="object");switch(d){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];d=a[0]+"(";b+="\t";for(var c=2,e=a.length;c<e;)var f=c++,d=2!=
f?d+(","+I.Boot.__string_rec(a[f],b)):d+I.Boot.__string_rec(a[f],b);return d+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)f=e++,c+=(0<f?",":"")+I.Boot.__string_rec(a[f],b);return c+"]"}try{c=a.toString}catch(m){return"???"}if(null!=c&&c!=Object.toString&&(d=a.toString(),"[object Object]"!=d))return d;d=null;c="{\n";b+="\t";e=null!=a.hasOwnProperty;for(d in a)e&&!a.hasOwnProperty(d)||"prototype"==d||"__class__"==d||"__super__"==d||"__interfaces__"==d||"__properties__"==d||(2!=c.length&&(c+=", \n"),c+=
b+d+" : "+I.Boot.__string_rec(a[d],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};I.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var d=a.__interfaces__;if(null!=d)for(var c=0,e=d.length;c<e;){var f=c++,f=d[f];if(f==b||I.Boot.__interfLoop(f,b))return!0}return I.Boot.__interfLoop(a.__super__,b)};I.Boot.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Ee:return(a|0)===a;case wc:return"number"==
typeof a;case Ic:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Fe:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||I.Boot.__interfLoop(I.Boot.getClass(a),b)))return!0}else return!1;return b==Ge&&null!=a.__name__||b==He&&null!=a.__ename__?!0:a.__enum__==b}};I.Boot.__cast=function(a,b){if(I.Boot.__instanceof(a,b))return a;throw"Cannot cast "+H.string(a)+" to "+H.string(b);};I.Browser=function(){};n["js.Browser"]=
I.Browser;I.Browser.__name__=["js","Browser"];I.Browser.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};g.Config=function(){};n["nape.Config"]=g.Config;g.Config.__name__=["nape","Config"];g.Config.prototype={__class__:g.Config};g.callbacks.Callback=function(){this.zpp_inner=null;if(!c.callbacks.ZPP_Callback.internal)throw"Error: Callback cannot be instantiated derp!";};n["nape.callbacks.Callback"]=g.callbacks.Callback;g.callbacks.Callback.__name__=
["nape","callbacks","Callback"];g.callbacks.Callback.prototype={get_event:function(){return c.callbacks.ZPP_Listener.events[this.zpp_inner.event]},get_listener:function(){return this.zpp_inner.listener.outer},toString:function(){return""},__class__:g.callbacks.Callback};g.callbacks.BodyCallback=function(){g.callbacks.Callback.call(this)};n["nape.callbacks.BodyCallback"]=g.callbacks.BodyCallback;g.callbacks.BodyCallback.__name__=["nape","callbacks","BodyCallback"];g.callbacks.BodyCallback.__super__=
g.callbacks.Callback;g.callbacks.BodyCallback.prototype=K(g.callbacks.Callback.prototype,{get_body:function(){return this.zpp_inner.body.outer},toString:function(){var a;a="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-c.util.ZPP_Flags.id_CbEvent_WAKE];a+=":"+this.zpp_inner.body.outer.toString();return a+(" : listener: "+H.string(this.zpp_inner.listener.outer))},__class__:g.callbacks.BodyCallback});g.callbacks.Listener=function(){this.zpp_inner=null;if(!c.callbacks.ZPP_Listener.internal)throw"Error: Cannot instantiate Listener derp!";
};n["nape.callbacks.Listener"]=g.callbacks.Listener;g.callbacks.Listener.__name__=["nape","callbacks","Listener"];g.callbacks.Listener.prototype={get_type:function(){return c.callbacks.ZPP_Listener.types[this.zpp_inner.type]},get_event:function(){return c.callbacks.ZPP_Listener.events[this.zpp_inner.event]},set_event:function(a){if(null==a)throw"Error: Cannot set listener event type to null";c.callbacks.ZPP_Listener.events[this.zpp_inner.event]!=a&&(null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_BEGIN?a=c.util.ZPP_Flags.id_CbEvent_BEGIN:(null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_ONGOING?a=c.util.ZPP_Flags.id_CbEvent_ONGOING:(null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new g.callbacks.CbEvent,
c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_END?a=c.util.ZPP_Flags.id_CbEvent_END:(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_SLEEP?a=c.util.ZPP_Flags.id_CbEvent_SLEEP:(null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_WAKE?
a=c.util.ZPP_Flags.id_CbEvent_WAKE:(null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.CbEvent_PRE?c.util.ZPP_Flags.id_CbEvent_PRE:c.util.ZPP_Flags.id_CbEvent_BREAK))))),this.zpp_inner.swapEvent(a));return c.callbacks.ZPP_Listener.events[this.zpp_inner.event]},get_precedence:function(){return this.zpp_inner.precedence},set_precedence:function(a){this.zpp_inner.precedence!=a&&(this.zpp_inner.precedence=
a,this.zpp_inner.invalidate_precedence());return this.zpp_inner.precedence},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(this),null!=a?a.zpp_inner.wrap_listeners.add(this):this.zpp_inner.space=null);return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},toString:function(){var a=
"BEGIN END WAKE SLEEP BREAK PRE ONGOING".split(" ")[this.zpp_inner.event];if(this.zpp_inner.type==c.util.ZPP_Flags.id_ListenerType_BODY)return"BodyListener{"+a+"::"+H.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(this.zpp_inner.type==c.util.ZPP_Flags.id_ListenerType_CONSTRAINT)return"ConstraintListener{"+a+"::"+H.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+"}";var b=this.zpp_inner.interaction,d;switch(b.itype){case c.util.ZPP_Flags.id_InteractionType_COLLISION:d=
"COLLISION";break;case c.util.ZPP_Flags.id_InteractionType_SENSOR:d="SENSOR";break;case c.util.ZPP_Flags.id_InteractionType_FLUID:d="FLUID";break;default:d="ALL"}return(this.zpp_inner.type==c.util.ZPP_Flags.id_ListenerType_INTERACTION?"InteractionListener{"+a+"#"+d+"::"+H.string(b.outer_zni.zpp_inner_zn.options1.outer)+":"+H.string(b.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+d+"::"+H.string(b.outer_znp.zpp_inner_zn.options1.outer)+":"+H.string(b.outer_znp.zpp_inner_zn.options2.outer)+
"}")+" precedence="+this.zpp_inner.precedence},__class__:g.callbacks.Listener};g.callbacks.BodyListener=function(a,b,d,h){null==h&&(h=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;g.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==d)throw"Error: BodyListener::handler cannot be null";var e=-1;null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);if(a==c.util.ZPP_Flags.CbEvent_WAKE)e=
c.util.ZPP_Flags.id_CbEvent_WAKE;else if(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_SLEEP)e=c.util.ZPP_Flags.id_CbEvent_SLEEP;else throw"Error: cbEvent '"+a.toString()+"' is not a valid event type for a BodyListener";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_BodyListener(c.callbacks.ZPP_OptionType.argument(b),e,d);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=
this;this.zpp_inner.precedence=h};n["nape.callbacks.BodyListener"]=g.callbacks.BodyListener;g.callbacks.BodyListener.__name__=["nape","callbacks","BodyListener"];g.callbacks.BodyListener.__super__=g.callbacks.Listener;g.callbacks.BodyListener.prototype=K(g.callbacks.Listener.prototype,{get_options:function(){return this.zpp_inner_zn.options.outer},set_options:function(a){this.zpp_inner_zn.options.set(a.zpp_inner);return this.zpp_inner_zn.options.outer},get_handler:function(){return this.zpp_inner_zn.handler},
set_handler:function(a){if(null==a)throw"Error: BodyListener::handler cannot be null";this.zpp_inner_zn.handler=a;return this.zpp_inner_zn.handler},__class__:g.callbacks.BodyListener});g.callbacks.CbEvent=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate CbEvent derp!";};n["nape.callbacks.CbEvent"]=g.callbacks.CbEvent;g.callbacks.CbEvent.__name__=["nape","callbacks","CbEvent"];g.callbacks.CbEvent.get_BEGIN=function(){null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_BEGIN};g.callbacks.CbEvent.get_ONGOING=function(){null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_ONGOING};g.callbacks.CbEvent.get_END=function(){null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=
new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_END};g.callbacks.CbEvent.get_WAKE=function(){null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_WAKE};g.callbacks.CbEvent.get_SLEEP=function(){null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.CbEvent_SLEEP};g.callbacks.CbEvent.get_BREAK=function(){null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BREAK=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_BREAK};g.callbacks.CbEvent.get_PRE=function(){null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.CbEvent_PRE};
g.callbacks.CbEvent.prototype={toString:function(){var a;null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.CbEvent_PRE?a="PRE":(null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_BEGIN?a="BEGIN":(null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.CbEvent_ONGOING=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_ONGOING?a="ONGOING":(null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_END?a="END":(null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_WAKE?
a="WAKE":(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.CbEvent_SLEEP?a="SLEEP":(null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BREAK=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.CbEvent_BREAK?"BREAK":""))))));return a},__class__:g.callbacks.CbEvent};g.callbacks.CbTypeIterator=function(){this.zpp_next=
null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_CbTypeList.internal)throw"Error: Cannot instantiate CbTypeIterator derp!";};n["nape.callbacks.CbTypeIterator"]=g.callbacks.CbTypeIterator;g.callbacks.CbTypeIterator.__name__=["nape","callbacks","CbTypeIterator"];g.callbacks.CbTypeIterator.get=function(a){var b;null==g.callbacks.CbTypeIterator.zpp_pool?(c.util.ZPP_CbTypeList.internal=!0,b=new g.callbacks.CbTypeIterator,c.util.ZPP_CbTypeList.internal=!1):(b=g.callbacks.CbTypeIterator.zpp_pool,
g.callbacks.CbTypeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.callbacks.CbTypeIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.callbacks.CbTypeIterator.zpp_pool;g.callbacks.CbTypeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.callbacks.CbTypeIterator};
g.callbacks.CbTypeList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_CbTypeList;this.zpp_inner.outer=this};n["nape.callbacks.CbTypeList"]=g.callbacks.CbTypeList;g.callbacks.CbTypeList.__name__=["nape","callbacks","CbTypeList"];g.callbacks.CbTypeList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.callbacks.CbTypeList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.callbacks.CbTypeList.prototype={get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);
else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&
(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: CbTypeList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.callbacks.CbTypeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.callbacks.CbTypeList,d;this.zpp_inner.valmod();for(d=g.callbacks.CbTypeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: CbType is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";
a.zpp_inner.valmod();for(a=g.callbacks.CbTypeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.callbacks.CbTypeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";
var b;this.zpp_inner.valmod();for(b=g.callbacks.CbTypeIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.callbacks.CbTypeIterator.zpp_pool;g.callbacks.CbTypeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.callbacks.CbTypeList};
g.callbacks.ConstraintCallback=function(){g.callbacks.Callback.call(this)};n["nape.callbacks.ConstraintCallback"]=g.callbacks.ConstraintCallback;g.callbacks.ConstraintCallback.__name__=["nape","callbacks","ConstraintCallback"];g.callbacks.ConstraintCallback.__super__=g.callbacks.Callback;g.callbacks.ConstraintCallback.prototype=K(g.callbacks.Callback.prototype,{get_constraint:function(){return this.zpp_inner.constraint.outer},toString:function(){var a;a="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-
c.util.ZPP_Flags.id_CbEvent_WAKE];a+=":"+this.zpp_inner.constraint.outer.toString();return a+(" : listener: "+H.string(this.zpp_inner.listener.outer))},__class__:g.callbacks.ConstraintCallback});g.callbacks.ConstraintListener=function(a,b,d,h){null==h&&(h=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;g.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==d)throw"Error: ConstraintListener::handler cannot be null";var e=-1;null==c.util.ZPP_Flags.CbEvent_WAKE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);if(a==c.util.ZPP_Flags.CbEvent_WAKE)e=c.util.ZPP_Flags.id_CbEvent_WAKE;else if(null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_SLEEP)e=c.util.ZPP_Flags.id_CbEvent_SLEEP;else if(null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BREAK=
new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_BREAK)e=c.util.ZPP_Flags.id_CbEvent_BREAK;else throw"Error: cbEvent '"+a.toString()+"' is not a valid event type for a ConstraintListener";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_ConstraintListener(c.callbacks.ZPP_OptionType.argument(b),e,d);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner.precedence=h};n["nape.callbacks.ConstraintListener"]=g.callbacks.ConstraintListener;g.callbacks.ConstraintListener.__name__=
["nape","callbacks","ConstraintListener"];g.callbacks.ConstraintListener.__super__=g.callbacks.Listener;g.callbacks.ConstraintListener.prototype=K(g.callbacks.Listener.prototype,{get_options:function(){return this.zpp_inner_zn.options.outer},set_options:function(a){this.zpp_inner_zn.options.set(a.zpp_inner);return this.zpp_inner_zn.options.outer},get_handler:function(){return this.zpp_inner_zn.handler},set_handler:function(a){if(null==a)throw"Error: ConstraintListener::handler cannot be null";this.zpp_inner_zn.handler=
a;return this.zpp_inner_zn.handler},__class__:g.callbacks.ConstraintListener});g.callbacks.InteractionCallback=function(){g.callbacks.Callback.call(this)};n["nape.callbacks.InteractionCallback"]=g.callbacks.InteractionCallback;g.callbacks.InteractionCallback.__name__=["nape","callbacks","InteractionCallback"];g.callbacks.InteractionCallback.__super__=g.callbacks.Callback;g.callbacks.InteractionCallback.prototype=K(g.callbacks.Callback.prototype,{get_int1:function(){return this.zpp_inner.int1.outer_i},
get_int2:function(){return this.zpp_inner.int2.outer_i},get_arbiters:function(){return this.zpp_inner.wrap_arbiters},toString:function(){var a;a="Cb:"+"BEGIN END     ONGOING".split(" ")[this.zpp_inner.event];a+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();a+=" : "+this.zpp_inner.wrap_arbiters.toString();return a+(" : listener: "+H.string(this.zpp_inner.listener.outer))},__class__:g.callbacks.InteractionCallback});g.callbacks.InteractionListener=function(a,
b,d,h,e,f){null==f&&(f=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;g.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==e)throw"Error: InteractionListener::handler cannot be null";if(null==a)throw"Error: CbEvent cannot be null for InteractionListener";var m=-1;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);if(a==c.util.ZPP_Flags.CbEvent_BEGIN)m=c.util.ZPP_Flags.id_CbEvent_BEGIN;
else if(null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_END)m=c.util.ZPP_Flags.id_CbEvent_END;else if(null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.CbEvent_ONGOING)m=c.util.ZPP_Flags.id_CbEvent_ONGOING;else throw"Error: CbEvent '"+a.toString()+
"' is not a valid event type for InteractionListener";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_InteractionListener(c.callbacks.ZPP_OptionType.argument(d),c.callbacks.ZPP_OptionType.argument(h),m,c.util.ZPP_Flags.id_ListenerType_INTERACTION);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zni=this;this.zpp_inner.precedence=f;this.zpp_inner_zn.handleri=e;this.set_interactionType(b)};n["nape.callbacks.InteractionListener"]=g.callbacks.InteractionListener;g.callbacks.InteractionListener.__name__=
["nape","callbacks","InteractionListener"];g.callbacks.InteractionListener.__super__=g.callbacks.Listener;g.callbacks.InteractionListener.prototype=K(g.callbacks.Listener.prototype,{get_options1:function(){return this.zpp_inner_zn.options1.outer},set_options1:function(a){this.zpp_inner_zn.options1.set(a.zpp_inner);return this.zpp_inner_zn.options1.outer},get_options2:function(){return this.zpp_inner_zn.options2.outer},set_options2:function(a){this.zpp_inner_zn.options2.set(a.zpp_inner);return this.zpp_inner_zn.options2.outer},
get_interactionType:function(){var a=this.zpp_inner_zn.itype;return a==c.util.ZPP_Flags.id_InteractionType_COLLISION?(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_COLLISION):a==c.util.ZPP_Flags.id_InteractionType_SENSOR?(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=
new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_SENSOR):a==c.util.ZPP_Flags.id_InteractionType_FLUID?(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_FLUID):a==c.util.ZPP_Flags.id_InteractionType_ANY?(null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=
new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_ANY):null},set_interactionType:function(a){if(null==a)throw"Error: Cannot set listener interaction type to null";this.get_interactionType()!=a&&(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_COLLISION?a=c.util.ZPP_Flags.id_InteractionType_COLLISION:
(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_SENSOR?a=c.util.ZPP_Flags.id_InteractionType_SENSOR:(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.InteractionType_FLUID?c.util.ZPP_Flags.id_InteractionType_FLUID:
c.util.ZPP_Flags.id_InteractionType_ANY)),this.zpp_inner_zn.itype=a);return this.get_interactionType()},get_handler:function(){return this.zpp_inner_zn.handleri},set_handler:function(a){if(null==a)throw"Error: InteractionListener::handler cannot be null";this.zpp_inner_zn.handleri=a;return this.zpp_inner_zn.handleri},get_allowSleepingCallbacks:function(){return this.zpp_inner_zn.allowSleepingCallbacks},set_allowSleepingCallbacks:function(a){this.zpp_inner_zn.allowSleepingCallbacks=a;return this.zpp_inner_zn.allowSleepingCallbacks},
__class__:g.callbacks.InteractionListener});g.callbacks.InteractionType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate InteractionType derp!";};n["nape.callbacks.InteractionType"]=g.callbacks.InteractionType;g.callbacks.InteractionType.__name__=["nape","callbacks","InteractionType"];g.callbacks.InteractionType.get_COLLISION=function(){null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,
c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_COLLISION};g.callbacks.InteractionType.get_SENSOR=function(){null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_SENSOR};g.callbacks.InteractionType.get_FLUID=function(){null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=
new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_FLUID};g.callbacks.InteractionType.get_ANY=function(){null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InteractionType_ANY};g.callbacks.InteractionType.prototype={toString:function(){null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.InteractionType_COLLISION?a="COLLISION":(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.InteractionType_SENSOR?a="SENSOR":(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=
new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.InteractionType_FLUID?a="FLUID":(null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.InteractionType_ANY?"ANY":"")));return a},__class__:g.callbacks.InteractionType};g.callbacks.ListenerIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=
null;if(!c.util.ZPP_ListenerList.internal)throw"Error: Cannot instantiate ListenerIterator derp!";};n["nape.callbacks.ListenerIterator"]=g.callbacks.ListenerIterator;g.callbacks.ListenerIterator.__name__=["nape","callbacks","ListenerIterator"];g.callbacks.ListenerIterator.get=function(a){var b;null==g.callbacks.ListenerIterator.zpp_pool?(c.util.ZPP_ListenerList.internal=!0,b=new g.callbacks.ListenerIterator,c.util.ZPP_ListenerList.internal=!1):(b=g.callbacks.ListenerIterator.zpp_pool,g.callbacks.ListenerIterator.zpp_pool=
b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.callbacks.ListenerIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.callbacks.ListenerIterator.zpp_pool;g.callbacks.ListenerIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.callbacks.ListenerIterator};g.callbacks.ListenerList=
function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ListenerList;this.zpp_inner.outer=this};n["nape.callbacks.ListenerList"]=g.callbacks.ListenerList;g.callbacks.ListenerList.__name__=["nape","callbacks","ListenerList"];g.callbacks.ListenerList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.callbacks.ListenerList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.callbacks.ListenerList.prototype={get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);
else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&
(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ListenerList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},
empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.callbacks.ListenerIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.callbacks.ListenerList,d;this.zpp_inner.valmod();for(d=g.callbacks.ListenerIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Listener is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";
a.zpp_inner.valmod();for(a=g.callbacks.ListenerIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.callbacks.ListenerIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";
var b;this.zpp_inner.valmod();for(b=g.callbacks.ListenerIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.callbacks.ListenerIterator.zpp_pool;g.callbacks.ListenerIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.callbacks.ListenerList};
g.callbacks.ListenerType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ListenerType derp!";};n["nape.callbacks.ListenerType"]=g.callbacks.ListenerType;g.callbacks.ListenerType.__name__=["nape","callbacks","ListenerType"];g.callbacks.ListenerType.get_BODY=function(){null==c.util.ZPP_Flags.ListenerType_BODY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_BODY=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ListenerType_BODY};
g.callbacks.ListenerType.get_CONSTRAINT=function(){null==c.util.ZPP_Flags.ListenerType_CONSTRAINT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_CONSTRAINT=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ListenerType_CONSTRAINT};g.callbacks.ListenerType.get_INTERACTION=function(){null==c.util.ZPP_Flags.ListenerType_INTERACTION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_INTERACTION=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.ListenerType_INTERACTION};g.callbacks.ListenerType.get_PRE=function(){null==c.util.ZPP_Flags.ListenerType_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_PRE=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ListenerType_PRE};g.callbacks.ListenerType.prototype={toString:function(){var a;null==c.util.ZPP_Flags.ListenerType_BODY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_BODY=new g.callbacks.ListenerType,
c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.ListenerType_BODY?a="BODY":(null==c.util.ZPP_Flags.ListenerType_CONSTRAINT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_CONSTRAINT=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ListenerType_CONSTRAINT?a="CONSTRAINT":(null==c.util.ZPP_Flags.ListenerType_INTERACTION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_INTERACTION=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1),
this==c.util.ZPP_Flags.ListenerType_INTERACTION?a="INTERACTION":(null==c.util.ZPP_Flags.ListenerType_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_PRE=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ListenerType_PRE?"PRE":"")));return a},__class__:g.callbacks.ListenerType};g.callbacks.OptionType=function(a,b){this.zpp_inner=null;this.zpp_inner=new c.callbacks.ZPP_OptionType;this.zpp_inner.outer=this;null!=a&&this.including(a);null!=b&&this.excluding(b)};
n["nape.callbacks.OptionType"]=g.callbacks.OptionType;g.callbacks.OptionType.__name__=["nape","callbacks","OptionType"];g.callbacks.OptionType.prototype={get_includes:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();return this.zpp_inner.wrap_includes},get_excludes:function(){null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return this.zpp_inner.wrap_excludes},including:function(a){this.zpp_inner.append(this.zpp_inner.includes,a);return this},excluding:function(a){this.zpp_inner.append(this.zpp_inner.excludes,
a);return this},toString:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();var a=this.zpp_inner.wrap_includes.toString();null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return"@{"+a+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},__class__:g.callbacks.OptionType};g.callbacks.PreCallback=function(){g.callbacks.Callback.call(this)};n["nape.callbacks.PreCallback"]=g.callbacks.PreCallback;g.callbacks.PreCallback.__name__=["nape","callbacks",
"PreCallback"];g.callbacks.PreCallback.__super__=g.callbacks.Callback;g.callbacks.PreCallback.prototype=K(g.callbacks.Callback.prototype,{get_arbiter:function(){return this.zpp_inner.pre_arbiter.wrapper()},get_int1:function(){return this.zpp_inner.int1.outer_i},get_int2:function(){return this.zpp_inner.int2.outer_i},get_swapped:function(){return this.zpp_inner.pre_swapped},toString:function(){var a;a="Cb:PRE:"+(":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString());
a+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString();return a+(" : listnener: "+H.string(this.zpp_inner.listener.outer))},__class__:g.callbacks.PreCallback});g.callbacks.PreFlag=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate PreFlag derp!";};n["nape.callbacks.PreFlag"]=g.callbacks.PreFlag;g.callbacks.PreFlag.__name__=["nape","callbacks","PreFlag"];g.callbacks.PreFlag.get_ACCEPT=function(){null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=
new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_ACCEPT};g.callbacks.PreFlag.get_IGNORE=function(){null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE};g.callbacks.PreFlag.get_ACCEPT_ONCE=function(){null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new g.callbacks.PreFlag,
c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE};g.callbacks.PreFlag.get_IGNORE_ONCE=function(){null==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE_ONCE};g.callbacks.PreFlag.prototype={toString:function(){null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new g.callbacks.PreFlag,
c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.PreFlag_ACCEPT?a="ACCEPT":(null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.PreFlag_IGNORE?a="IGNORE":(null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE?a=
"ACCEPT_ONCE":(null==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":"")));return a},__class__:g.callbacks.PreFlag};g.callbacks.PreListener=function(a,b,d,h,e,f){null==f&&(f=!1);null==e&&(e=0);this.zpp_inner_zn=null;c.callbacks.ZPP_Listener.internal=!0;g.callbacks.Listener.call(this);c.callbacks.ZPP_Listener.internal=!1;if(null==
h)throw"Error: PreListener must take a handler!";this.zpp_inner=this.zpp_inner_zn=new c.callbacks.ZPP_InteractionListener(c.callbacks.ZPP_OptionType.argument(b),c.callbacks.ZPP_OptionType.argument(d),c.util.ZPP_Flags.id_CbEvent_PRE,c.util.ZPP_Flags.id_ListenerType_PRE);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_znp=this;this.zpp_inner.precedence=e;this.zpp_inner_zn.pure=f;this.zpp_inner_zn.handlerp=h;this.set_interactionType(a)};n["nape.callbacks.PreListener"]=g.callbacks.PreListener;g.callbacks.PreListener.__name__=
["nape","callbacks","PreListener"];g.callbacks.PreListener.__super__=g.callbacks.Listener;g.callbacks.PreListener.prototype=K(g.callbacks.Listener.prototype,{get_options1:function(){return this.zpp_inner_zn.options1.outer},set_options1:function(a){this.zpp_inner_zn.options1.set(a.zpp_inner);return this.zpp_inner_zn.options1.outer},get_options2:function(){return this.zpp_inner_zn.options2.outer},set_options2:function(a){this.zpp_inner_zn.options2.set(a.zpp_inner);return this.zpp_inner_zn.options2.outer},
get_handler:function(){return this.zpp_inner_zn.handlerp},set_handler:function(a){if(null==a)throw"Error: PreListener must take a non-null handler!";this.zpp_inner_zn.handlerp=a;this.zpp_inner_zn.wake();return this.zpp_inner_zn.handlerp},get_pure:function(){return this.zpp_inner_zn.pure},set_pure:function(a){a||this.zpp_inner_zn.wake();this.zpp_inner_zn.pure=a;return this.zpp_inner_zn.pure},get_interactionType:function(){var a=this.zpp_inner_zn.itype;return a==c.util.ZPP_Flags.id_InteractionType_COLLISION?
(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_COLLISION):a==c.util.ZPP_Flags.id_InteractionType_SENSOR?(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_SENSOR):a==c.util.ZPP_Flags.id_InteractionType_FLUID?
(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_FLUID):a==c.util.ZPP_Flags.id_InteractionType_ANY?(null==c.util.ZPP_Flags.InteractionType_ANY&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_ANY=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_ANY):null},set_interactionType:function(a){if(null==
a)throw"Error: Cannot set listener interaction type to null";this.get_interactionType()!=a&&(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_COLLISION?a=c.util.ZPP_Flags.id_InteractionType_COLLISION:(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,
c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_SENSOR?a=c.util.ZPP_Flags.id_InteractionType_SENSOR:(null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.InteractionType_FLUID?c.util.ZPP_Flags.id_InteractionType_FLUID:c.util.ZPP_Flags.id_InteractionType_ANY)),this.zpp_inner_zn.itype=a);return this.get_interactionType()},__class__:g.callbacks.PreListener});
g.constraint={};g.constraint.Constraint=function(){this.debugDraw=!0;this.zpp_inner.insert_cbtype(c.callbacks.ZPP_CbType.ANY_CONSTRAINT.zpp_inner);throw"Error: Constraint cannot be instantiated derp!";};n["nape.constraint.Constraint"]=g.constraint.Constraint;g.constraint.Constraint.__name__=["nape","constraint","Constraint"];g.constraint.Constraint.prototype={get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_compound:function(){return null==
this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(this),null!=a&&a.zpp_inner.wrap_constraints.add(this));return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?
null:this.zpp_inner.space.outer},set_space:function(a){if(null!=this.zpp_inner.compound)throw"Error: Cannot set the space of a Constraint belonging to a Compound, only the root Compound space can be set";(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(this),null!=a?a.zpp_inner.wrap_constraints.add(this):
this.zpp_inner.space=null);return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},get_isSleeping:function(){if(null==this.zpp_inner.space||!this.zpp_inner.active)throw"Error: isSleeping only makes sense if constraint is active and inside a space";return this.zpp_inner.component.sleeping},get_active:function(){return this.zpp_inner.active},set_active:function(a){this.zpp_inner.active!=a&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),a?
(this.zpp_inner.active=a,this.zpp_inner.activate(),null!=this.zpp_inner.space&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.sleeping=!0),this.zpp_inner.space.wake_constraint(this.zpp_inner,!0))):(null!=this.zpp_inner.space&&(this.zpp_inner.wake(),this.zpp_inner.space.live_constraints.remove(this.zpp_inner)),this.zpp_inner.active=a,this.zpp_inner.deactivate()));return this.zpp_inner.active},get_ignore:function(){return this.zpp_inner.ignore},set_ignore:function(a){this.zpp_inner.ignore!=
a&&(this.zpp_inner.ignore=a,this.zpp_inner.wake());return this.zpp_inner.ignore},get_stiff:function(){return this.zpp_inner.stiff},set_stiff:function(a){this.zpp_inner.stiff!=a&&(this.zpp_inner.stiff=a,this.zpp_inner.wake());return this.zpp_inner.stiff},get_frequency:function(){return this.zpp_inner.frequency},set_frequency:function(a){if(a!=a)throw"Error: Constraint::Frequency cannot be NaN";if(0>=a)throw"Error: Constraint::Frequency must be >0";this.zpp_inner.frequency!=a&&(this.zpp_inner.frequency=
a,this.zpp_inner.stiff||this.zpp_inner.wake());return this.zpp_inner.frequency},get_damping:function(){return this.zpp_inner.damping},set_damping:function(a){if(a!=a)throw"Error: Constraint::Damping cannot be Nan";if(0>a)throw"Error: Constraint::Damping must be >=0";this.zpp_inner.damping!=a&&(this.zpp_inner.damping=a,this.zpp_inner.stiff||this.zpp_inner.wake());return this.zpp_inner.damping},get_maxForce:function(){return this.zpp_inner.maxForce},set_maxForce:function(a){if(a!=a)throw"Error: Constraint::maxForce cannot be NaN";
if(0>a)throw"Error: Constraint::maxForce must be >=0";this.zpp_inner.maxForce!=a&&(this.zpp_inner.maxForce=a,this.zpp_inner.wake());return this.zpp_inner.maxForce},get_maxError:function(){return this.zpp_inner.maxError},set_maxError:function(a){if(a!=a)throw"Error: Constraint::maxError cannot be NaN";if(0>a)throw"Error: Constraint::maxError must be >=0";this.zpp_inner.maxError!=a&&(this.zpp_inner.maxError=a,this.zpp_inner.wake());return this.zpp_inner.maxError},get_breakUnderForce:function(){return this.zpp_inner.breakUnderForce},
set_breakUnderForce:function(a){this.zpp_inner.breakUnderForce!=a&&(this.zpp_inner.breakUnderForce=a,this.zpp_inner.wake());return this.zpp_inner.breakUnderForce},get_breakUnderError:function(){return this.zpp_inner.breakUnderError},set_breakUnderError:function(a){this.zpp_inner.breakUnderError!=a&&(this.zpp_inner.breakUnderError=a,this.zpp_inner.wake());return this.zpp_inner.breakUnderError},get_removeOnBreak:function(){return this.zpp_inner.removeOnBreak},set_removeOnBreak:function(a){this.zpp_inner.removeOnBreak=
a;return this.zpp_inner.removeOnBreak},impulse:function(){return null},bodyImpulse:function(a){return null},visitBodies:function(a){},get_cbTypes:function(){null==this.zpp_inner.wrap_cbTypes&&this.zpp_inner.setupcbTypes();return this.zpp_inner.wrap_cbTypes},toString:function(){return"{Constraint}"},copy:function(){return this.zpp_inner.copy()},__class__:g.constraint.Constraint};g.constraint.AngleJoint=function(a,b,d,h,e){null==e&&(e=1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_AngleJoint;
this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(f){}this.set_body1(a);this.set_body2(b);this.zpp_inner.immutable_midstep("AngleJoint::jointMin");if(d!=d)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=d&&(this.zpp_inner_zn.jointMin=d,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("AngleJoint::jointMax");if(h!=h)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=
h&&(this.zpp_inner_zn.jointMax=h,this.zpp_inner.wake());this.zpp_inner_zn.jointMax;this.zpp_inner.immutable_midstep("AngleJoint::ratio");if(e!=e)throw"Error: AngleJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=e&&(this.zpp_inner_zn.ratio=e,this.zpp_inner.wake());this.zpp_inner_zn.ratio};n["nape.constraint.AngleJoint"]=g.constraint.AngleJoint;g.constraint.AngleJoint.__name__=["nape","constraint","AngleJoint"];g.constraint.AngleJoint.__super__=g.constraint.Constraint;g.constraint.AngleJoint.prototype=
K(g.constraint.Constraint.prototype,{get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&
null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?
null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),
this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("AngleJoint::jointMin");
if(a!=a)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("AngleJoint::jointMax");if(a!=a)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},get_ratio:function(){return this.zpp_inner_zn.ratio},
set_ratio:function(a){this.zpp_inner.immutable_midstep("AngleJoint::ratio");if(a!=a)throw"Error: AngleJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},isSlack:function(){if(null==(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)||null==(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Cannot compute slack for AngleJoint if either body is null.";return this.zpp_inner_zn.is_slack()},
impulse:function(){var a=new g.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):
g.geom.Vec3.get(0,0,0)},visitBodies:function(a){if(null==a)throw"Error: Cannot apply null lambda to bodies";null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:g.constraint.AngleJoint});
g.constraint.ConstraintIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ConstraintList.internal)throw"Error: Cannot instantiate ConstraintIterator derp!";};n["nape.constraint.ConstraintIterator"]=g.constraint.ConstraintIterator;g.constraint.ConstraintIterator.__name__=["nape","constraint","ConstraintIterator"];g.constraint.ConstraintIterator.get=function(a){var b;null==g.constraint.ConstraintIterator.zpp_pool?(c.util.ZPP_ConstraintList.internal=
!0,b=new g.constraint.ConstraintIterator,c.util.ZPP_ConstraintList.internal=!1):(b=g.constraint.ConstraintIterator.zpp_pool,g.constraint.ConstraintIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.constraint.ConstraintIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.constraint.ConstraintIterator.zpp_pool;g.constraint.ConstraintIterator.zpp_pool=
this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.constraint.ConstraintIterator};g.constraint.ConstraintList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ConstraintList;this.zpp_inner.outer=this};n["nape.constraint.ConstraintList"]=g.constraint.ConstraintList;g.constraint.ConstraintList.__name__=["nape","constraint","ConstraintList"];g.constraint.ConstraintList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";
for(var b=new g.constraint.ConstraintList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.constraint.ConstraintList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";
this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=
null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),
this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||
this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ConstraintList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.constraint.ConstraintIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.constraint.ConstraintList,
d;this.zpp_inner.valmod();for(d=g.constraint.ConstraintIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Constraint is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.constraint.ConstraintIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},
toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.constraint.ConstraintIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.constraint.ConstraintIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=
g.constraint.ConstraintIterator.zpp_pool;g.constraint.ConstraintIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.constraint.ConstraintList};g.constraint.DistanceJoint=function(a,b,d,h,e,f){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_DistanceJoint;this.zpp_inner.outer=
this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(m){}this.set_body1(a);this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==h)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(h);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");if(e!=e)throw"Error: DistanceJoint::jointMin cannot be NaN";if(0>e)throw"Error: DistanceJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=e&&(this.zpp_inner_zn.jointMin=e,this.zpp_inner.wake());
this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");if(f!=f)throw"Error: DistanceJoint::jointMax cannot be NaN";if(0>f)throw"Error: DistanceJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=f&&(this.zpp_inner_zn.jointMax=f,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};n["nape.constraint.DistanceJoint"]=g.constraint.DistanceJoint;g.constraint.DistanceJoint.__name__=["nape","constraint","DistanceJoint"];g.constraint.DistanceJoint.__super__=g.constraint.Constraint;
g.constraint.DistanceJoint.prototype=K(g.constraint.Constraint.prototype,{get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),
this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==
this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),
this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");if(a!=a)throw"Error: DistanceJoint::jointMin cannot be NaN";if(0>a)throw"Error: DistanceJoint::jointMin must be >= 0";
this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");if(a!=a)throw"Error: DistanceJoint::jointMax cannot be NaN";if(0>a)throw"Error: DistanceJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},isSlack:function(){if(null==
(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)||null==(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Cannot compute slack for DistanceJoint if either body is null.";return this.zpp_inner_zn.slack},impulse:function(){var a=new g.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";
if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==
this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:g.constraint.DistanceJoint});g.constraint.LineJoint=function(a,b,d,h,e,f,m){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_LineJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(u){}this.set_body1(a);this.set_body2(b);if(null!=
d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==h)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();
this.zpp_inner_zn.wrap_a2.set(h);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==e)throw"Error: Constraint::direction cannot be null";null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n.set(e);null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n;this.zpp_inner.immutable_midstep("LineJoint::jointMin");if(f!=
f)throw"Error: AngleJoint::jointMin cannot be NaN";this.zpp_inner_zn.jointMin!=f&&(this.zpp_inner_zn.jointMin=f,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("LineJoint::jointMax");if(m!=m)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=m&&(this.zpp_inner_zn.jointMax=m,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};n["nape.constraint.LineJoint"]=g.constraint.LineJoint;g.constraint.LineJoint.__name__=["nape","constraint","LineJoint"];
g.constraint.LineJoint.__super__=g.constraint.Constraint;g.constraint.LineJoint.prototype=K(g.constraint.Constraint.prototype,{get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&
this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=
(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&
this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();
return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_direction:function(){null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();return this.zpp_inner_zn.wrap_n},
set_direction:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::direction cannot be null";null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();this.zpp_inner_zn.wrap_n.set(a);null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();return this.zpp_inner_zn.wrap_n},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("LineJoint::jointMin");if(a!=a)throw"Error: AngleJoint::jointMin cannot be NaN";
this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("LineJoint::jointMax");if(a!=a)throw"Error: AngleJoint::jointMax cannot be NaN";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},impulse:function(){var a=new g.geom.MatMN(2,1);if(0>=a.zpp_inner.m||
0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";
return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:g.constraint.LineJoint});
g.constraint.MotorJoint=function(a,b,d,h){null==h&&(h=1);null==d&&(d=0);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_MotorJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(e){}this.set_body1(a);this.set_body2(b);this.zpp_inner.immutable_midstep("MotorJoint::rate");if(d!=d)throw"Error: MotorJoint::rate cannot be NaN";this.zpp_inner_zn.rate!=d&&(this.zpp_inner_zn.rate=d,this.zpp_inner.wake());this.zpp_inner_zn.rate;
this.zpp_inner.immutable_midstep("MotorJoint::ratio");if(h!=h)throw"Error: MotorJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=h&&(this.zpp_inner_zn.ratio=h,this.zpp_inner.wake());this.zpp_inner_zn.ratio};n["nape.constraint.MotorJoint"]=g.constraint.MotorJoint;g.constraint.MotorJoint.__name__=["nape","constraint","MotorJoint"];g.constraint.MotorJoint.__super__=g.constraint.Constraint;g.constraint.MotorJoint.prototype=K(g.constraint.Constraint.prototype,{get_body1:function(){return null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),
this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=
a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_ratio:function(){return this.zpp_inner_zn.ratio},set_ratio:function(a){this.zpp_inner.immutable_midstep("MotorJoint::ratio");if(a!=a)throw"Error: MotorJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());
return this.zpp_inner_zn.ratio},get_rate:function(){return this.zpp_inner_zn.rate},set_rate:function(a){this.zpp_inner.immutable_midstep("MotorJoint::rate");if(a!=a)throw"Error: MotorJoint::rate cannot be NaN";this.zpp_inner_zn.rate!=a&&(this.zpp_inner_zn.rate=a,this.zpp_inner.wake());return this.zpp_inner_zn.rate},impulse:function(){var a=new g.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},
bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);
null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:g.constraint.MotorJoint});g.constraint.PivotJoint=function(a,b,d,h){this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_PivotJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(e){}this.set_body1(a);
this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==h)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&
this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(h);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2};n["nape.constraint.PivotJoint"]=g.constraint.PivotJoint;g.constraint.PivotJoint.__name__=["nape","constraint","PivotJoint"];g.constraint.PivotJoint.__super__=g.constraint.Constraint;g.constraint.PivotJoint.prototype=K(g.constraint.Constraint.prototype,{get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=
a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==
this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==
this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();
this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},impulse:function(){var a=new g.geom.MatMN(2,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";
if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==
this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:g.constraint.PivotJoint});g.constraint.PulleyJoint=function(a,b,d,h,e,f,m,u,C,k,p){null==p&&(p=1);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_PulleyJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(v){}this.set_body1(a);
this.set_body2(b);this.set_body3(d);this.set_body4(h);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==e)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(e);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==f)throw"Error: Constraint::anchor2 cannot be null";
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(f);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==m)throw"Error: Constraint::anchor3 cannot be null";null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3.set(m);null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3;
if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==u)throw"Error: Constraint::anchor4 cannot be null";null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4.set(u);null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4;this.zpp_inner.immutable_midstep("PulleyJoint::ratio");if(p!=p)throw"Error: PulleyJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=p&&(this.zpp_inner_zn.ratio=p,this.zpp_inner.wake());
this.zpp_inner_zn.ratio;this.zpp_inner.immutable_midstep("PulleyJoint::jointMin");if(C!=C)throw"Error: PulleyJoint::jointMin cannot be NaN";if(0>C)throw"Error: PulleyJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=C&&(this.zpp_inner_zn.jointMin=C,this.zpp_inner.wake());this.zpp_inner_zn.jointMin;this.zpp_inner.immutable_midstep("PulleyJoint::jointMax");if(k!=k)throw"Error: PulleyJoint::jointMax cannot be NaN";if(0>k)throw"Error: PulleyJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=
k&&(this.zpp_inner_zn.jointMax=k,this.zpp_inner.wake());this.zpp_inner_zn.jointMax};n["nape.constraint.PulleyJoint"]=g.constraint.PulleyJoint;g.constraint.PulleyJoint.__name__=["nape","constraint","PulleyJoint"];g.constraint.PulleyJoint.__super__=g.constraint.Constraint;g.constraint.PulleyJoint.prototype=K(g.constraint.Constraint.prototype,{get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b3!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b3!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_body3:function(){return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},set_body3:function(a){this.zpp_inner.immutable_midstep("Constraint::body3");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b3&&(null!=this.zpp_inner_zn.b3&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b3&&null!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b3.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b3.wake()),this.zpp_inner_zn.b3=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b4!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},get_body4:function(){return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},set_body4:function(a){this.zpp_inner.immutable_midstep("Constraint::body4");
a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b4&&(null!=this.zpp_inner_zn.b4&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b4&&null!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b4.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b4.wake()),this.zpp_inner_zn.b4=
a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&this.zpp_inner_zn.b2!=a&&this.zpp_inner_zn.b3!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},
set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_anchor3:function(){null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();return this.zpp_inner_zn.wrap_a3},set_anchor3:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Constraint::anchor3 cannot be null";null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();this.zpp_inner_zn.wrap_a3.set(a);null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();return this.zpp_inner_zn.wrap_a3},get_anchor4:function(){null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();return this.zpp_inner_zn.wrap_a4},set_anchor4:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor4 cannot be null";
null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();this.zpp_inner_zn.wrap_a4.set(a);null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();return this.zpp_inner_zn.wrap_a4},get_jointMin:function(){return this.zpp_inner_zn.jointMin},set_jointMin:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::jointMin");if(a!=a)throw"Error: PulleyJoint::jointMin cannot be NaN";if(0>a)throw"Error: PulleyJoint::jointMin must be >= 0";this.zpp_inner_zn.jointMin!=a&&(this.zpp_inner_zn.jointMin=
a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMin},get_jointMax:function(){return this.zpp_inner_zn.jointMax},set_jointMax:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::jointMax");if(a!=a)throw"Error: PulleyJoint::jointMax cannot be NaN";if(0>a)throw"Error: PulleyJoint::jointMax must be >= 0";this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake());return this.zpp_inner_zn.jointMax},get_ratio:function(){return this.zpp_inner_zn.ratio},set_ratio:function(a){this.zpp_inner.immutable_midstep("PulleyJoint::ratio");
if(a!=a)throw"Error: PulleyJoint::ratio cannot be NaN";this.zpp_inner_zn.ratio!=a&&(this.zpp_inner_zn.ratio=a,this.zpp_inner.wake());return this.zpp_inner_zn.ratio},isSlack:function(){if(null==(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)||null==(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)||null==(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)||null==(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer))throw"Error: Cannot compute slack for PulleyJoint if either body is null.";
return this.zpp_inner_zn.slack},impulse:function(){var a=new g.geom.MatMN(1,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAcc;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&a!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&
a!=(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?
null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer);null!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&a(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer);null!=(null==this.zpp_inner_zn.b4?
null:this.zpp_inner_zn.b4.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&a(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)},__class__:g.constraint.PulleyJoint});
g.constraint.UserConstraint=function(a,b){null==b&&(b=!1);this.zpp_inner_zn=null;if(1>a)throw"Error: Constraint dimension must be at least 1";this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_UserConstraint(a,b);this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(d){}};n["nape.constraint.UserConstraint"]=g.constraint.UserConstraint;g.constraint.UserConstraint.__name__=["nape","constraint","UserConstraint"];g.constraint.UserConstraint.__super__=
g.constraint.Constraint;g.constraint.UserConstraint.prototype=K(g.constraint.Constraint.prototype,{__bindVec2:function(){var a=new g.geom.Vec2;a.zpp_inner._inuse=!0;a.zpp_inner._invalidate=(ga=this.zpp_inner_zn,B(ga,ga.bindVec2_invalidate));return a},__copy:function(){throw"Error: UserConstraint::__copy must be overriden";},__broken:function(){},__validate:function(){},__draw:function(a){},__prepare:function(){},__position:function(a){throw"Error: UserConstraint::__position must be overriden";},__velocity:function(a){throw"Error: Userconstraint::__velocity must be overriden";
},__eff_mass:function(a){throw"Error: UserConstraint::__eff_mass must be overriden";},__clamp:function(a){},__impulse:function(a,b,d){throw"Error: UserConstraint::__impulse must be overriden";},impulse:function(){for(var a=new g.geom.MatMN(this.zpp_inner_zn.dim,1),b=0,d=this.zpp_inner_zn.dim;b<d;){var c=b++;if(0>c||c>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[c*a.zpp_inner.n]=this.zpp_inner_zn.jAcc[c]}return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";
for(var b=!1,d=0,c=this.zpp_inner_zn.bodies;d<c.length;){var e=c[d];++d;if(e.body==a.zpp_inner){b=!0;break}}if(!b)throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){for(var b=0,d=this.zpp_inner_zn.bodies.length;b<d;){var c=this.zpp_inner_zn.bodies[b];if(null!=c.body){for(var e=!1,f=b+1;f<d;){var m=f++;if(this.zpp_inner_zn.bodies[m].body==c.body){e=!0;break}}e||a(c.body.outer)}b++}},
__invalidate:function(){this.zpp_inner.immutable_midstep("UserConstraint::invalidate()");this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner.wake()},__registerBody:function(a,b){this.zpp_inner.immutable_midstep("UserConstraint::registerBody(..)");if(a!=b){if(null!=a){if(!this.zpp_inner_zn.remBody(a.zpp_inner))throw"Error: oldBody is not registered to the cosntraint";this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&
a.zpp_inner.wake()}null!=b&&this.zpp_inner_zn.addBody(b.zpp_inner);this.zpp_inner.wake();null!=b&&b.zpp_inner.wake()}return b},__class__:g.constraint.UserConstraint});g.constraint.WeldJoint=function(a,b,d,h,e){null==e&&(e=0);this.zpp_inner_zn=null;this.zpp_inner=this.zpp_inner_zn=new c.constraint.ZPP_WeldJoint;this.zpp_inner.outer=this;this.zpp_inner_zn.outer_zn=this;try{g.constraint.Constraint.call(this)}catch(f){}this.set_body1(a);this.set_body2(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==d)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(d);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==h)throw"Error: Constraint::anchor2 cannot be null";null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(h);null==this.zpp_inner_zn.wrap_a2&&
this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2;this.zpp_inner.immutable_midstep("WeldJoint::phase");if(e!=e)throw"Error: WeldJoint::phase cannot be NaN";this.zpp_inner_zn.phase!=e&&(this.zpp_inner_zn.phase=e,this.zpp_inner.wake());this.zpp_inner_zn.phase};n["nape.constraint.WeldJoint"]=g.constraint.WeldJoint;g.constraint.WeldJoint.__name__=["nape","constraint","WeldJoint"];g.constraint.WeldJoint.__super__=g.constraint.Constraint;g.constraint.WeldJoint.prototype=K(g.constraint.Constraint.prototype,
{get_body1:function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},set_body1:function(a){this.zpp_inner.immutable_midstep("Constraint::body1");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:
this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=a,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b2!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},get_body2:function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},
set_body2:function(a){this.zpp_inner.immutable_midstep("Constraint::body2");a=null==a?null:a.zpp_inner;a!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=a,null!=
(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=a&&this.zpp_inner_zn.b1!=a&&null!=a&&a.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=a&&a.wake()));return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},get_anchor1:function(){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},set_anchor1:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Constraint::anchor1 cannot be null";null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();this.zpp_inner_zn.wrap_a1.set(a);null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();return this.zpp_inner_zn.wrap_a1},get_anchor2:function(){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},set_anchor2:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Constraint::anchor2 cannot be null";
null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();this.zpp_inner_zn.wrap_a2.set(a);null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();return this.zpp_inner_zn.wrap_a2},get_phase:function(){return this.zpp_inner_zn.phase},set_phase:function(a){this.zpp_inner.immutable_midstep("WeldJoint::phase");if(a!=a)throw"Error: WeldJoint::phase cannot be NaN";this.zpp_inner_zn.phase!=a&&(this.zpp_inner_zn.phase=a,this.zpp_inner.wake());return this.zpp_inner_zn.phase},impulse:function(){var a=
new g.geom.MatMN(3,1);if(0>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[0*a.zpp_inner.n]=this.zpp_inner_zn.jAccx;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccy;if(1>=a.zpp_inner.m||0>=a.zpp_inner.n)throw"Error: MatMN indices out of range";a.zpp_inner.x[a.zpp_inner.n]=this.zpp_inner_zn.jAccz;return a},bodyImpulse:function(a){if(null==a)throw"Error: Cannot evaluate impulse on null body";
if(a!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer))throw"Error: Body is not linked to this constraint";return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(a.zpp_inner):g.geom.Vec3.get()},visitBodies:function(a){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer);null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==
this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&a(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},__class__:g.constraint.WeldJoint});g.dynamics.Arbiter=function(){this.zpp_inner=null;if(!c.dynamics.ZPP_Arbiter.internal)throw"Error: Cannot instantiate Arbiter derp!";};n["nape.dynamics.Arbiter"]=g.dynamics.Arbiter;g.dynamics.Arbiter.__name__=["nape","dynamics","Arbiter"];g.dynamics.Arbiter.prototype={get_isSleeping:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
return this.zpp_inner.sleeping},get_type:function(){return c.dynamics.ZPP_Arbiter.types[this.zpp_inner.type]},isCollisionArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL},isFluidArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID},isSensorArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.SENSOR},get_collisionArbiter:function(){return this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?this.zpp_inner.colarb.outer_zn:null},get_fluidArbiter:function(){return this.zpp_inner.type==
c.dynamics.ZPP_Arbiter.FLUID?this.zpp_inner.fluidarb.outer_zn:null},get_shape1:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer},get_shape2:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer},get_body1:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer},get_body2:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer},get_state:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.immState;if(a==(c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS))return null==
c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.PreFlag_ACCEPT;switch(a){case c.util.ZPP_Flags.id_ImmState_ACCEPT:return null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE;default:if(a==(c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS))return null==
c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.PreFlag_IGNORE;null==c.util.ZPP_Flags.PreFlag_IGNORE_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.PreFlag_IGNORE_ONCE}},totalImpulse:function(a,b){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=
a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(d)throw"Error: Arbiter does not relate to body";return g.geom.Vec3.get(0,0,0)},toString:function(){var a;a=this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?
"CollisionArbiter":this.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID?"FluidArbiter":"SensorArbiter";if(this.zpp_inner.cleared)a+="(object-pooled)";else{if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";a=a+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).toString()+"|";if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";a=a+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).toString()+
")"+(this.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+this.get_state().toString()}return a},__class__:g.dynamics.Arbiter};g.dynamics.ArbiterIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ArbiterList.internal)throw"Error: Cannot instantiate ArbiterIterator derp!";};n["nape.dynamics.ArbiterIterator"]=g.dynamics.ArbiterIterator;g.dynamics.ArbiterIterator.__name__=["nape","dynamics",
"ArbiterIterator"];g.dynamics.ArbiterIterator.get=function(a){var b;null==g.dynamics.ArbiterIterator.zpp_pool?(c.util.ZPP_ArbiterList.internal=!0,b=new g.dynamics.ArbiterIterator,c.util.ZPP_ArbiterList.internal=!1):(b=g.dynamics.ArbiterIterator.zpp_pool,g.dynamics.ArbiterIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.dynamics.ArbiterIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<
a)return!0;this.zpp_next=g.dynamics.ArbiterIterator.zpp_pool;g.dynamics.ArbiterIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.dynamics.ArbiterIterator};g.dynamics.ArbiterList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ArbiterList;this.zpp_inner.outer=this};n["nape.dynamics.ArbiterList"]=g.dynamics.ArbiterList;g.dynamics.ArbiterList.__name__=["nape","dynamics","ArbiterList"];g.dynamics.ArbiterList.fromArray=
function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.dynamics.ArbiterList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.dynamics.ArbiterList.prototype={get_length:function(){return this.zpp_gl()},zpp_gl:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.head;null!=a;)a.elt.active&&this.zpp_inner.user_length++,a=a.next}return this.zpp_inner.user_length},
zpp_vm:function(){this.zpp_inner.valmod()},has:function(a){this.zpp_vm();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)for(this.zpp_inner.at_index=0,this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;for(;this.zpp_inner.at_index!=
a;)for(this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.empty()?
this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?
(null==this.zpp_inner.push_ite&&(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";
this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";
this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ArbiterList is immutable";if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},empty:function(){return 0==
this.zpp_gl()},iterator:function(){this.zpp_vm();return g.dynamics.ArbiterIterator.get(this)},copy:function(a){null==a&&(a=!1);for(var b=new g.dynamics.ArbiterList,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Arbiter is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";for(a=a.iterator();a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||
this.add(b)}},toString:function(){for(var a="[",b=!0,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";for(var b=this.iterator();b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.dynamics.ArbiterIterator.zpp_pool;g.dynamics.ArbiterIterator.zpp_pool=b;b.zpp_inner=
null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.zpp_gl();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.dynamics.ArbiterList};g.dynamics.ArbiterType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ArbiterType derp!";};n["nape.dynamics.ArbiterType"]=g.dynamics.ArbiterType;g.dynamics.ArbiterType.__name__=["nape","dynamics","ArbiterType"];g.dynamics.ArbiterType.get_COLLISION=
function(){null==c.util.ZPP_Flags.ArbiterType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_COLLISION=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ArbiterType_COLLISION};g.dynamics.ArbiterType.get_SENSOR=function(){null==c.util.ZPP_Flags.ArbiterType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_SENSOR=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ArbiterType_SENSOR};g.dynamics.ArbiterType.get_FLUID=
function(){null==c.util.ZPP_Flags.ArbiterType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_FLUID=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ArbiterType_FLUID};g.dynamics.ArbiterType.prototype={toString:function(){var a;null==c.util.ZPP_Flags.ArbiterType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_COLLISION=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.ArbiterType_COLLISION?a="COLLISION":
(null==c.util.ZPP_Flags.ArbiterType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_SENSOR=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ArbiterType_SENSOR?a="SENSOR":(null==c.util.ZPP_Flags.ArbiterType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_FLUID=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ArbiterType_FLUID?"FLUID":""));return a},__class__:g.dynamics.ArbiterType};g.dynamics.CollisionArbiter=
function(){if(!c.dynamics.ZPP_Arbiter.internal)throw"Error: Cannot instantiate CollisionArbiter derp!";g.dynamics.Arbiter.call(this)};n["nape.dynamics.CollisionArbiter"]=g.dynamics.CollisionArbiter;g.dynamics.CollisionArbiter.__name__=["nape","dynamics","CollisionArbiter"];g.dynamics.CollisionArbiter.__super__=g.dynamics.Arbiter;g.dynamics.CollisionArbiter.prototype=K(g.dynamics.Arbiter.prototype,{get_contacts:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.colarb.wrap_contacts&&
this.zpp_inner.colarb.setupcontacts();return this.zpp_inner.colarb.wrap_contacts},get_normal:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.colarb.wrap_normal&&this.zpp_inner.colarb.getnormal();return this.zpp_inner.colarb.wrap_normal},get_radius:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.colarb.radius},get_referenceEdge1:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var a=this.zpp_inner.colarb.__ref_edge1,b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(!(b=!(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).isPolygon())){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).zpp_inner!=a.polygon}}b&&(a=this.zpp_inner.colarb.__ref_edge2);return null==a?null:a.wrapper()},
get_referenceEdge2:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb.__ref_edge1,b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(!(b=!(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).isPolygon())){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).zpp_inner!=
a.polygon}}b&&(a=this.zpp_inner.colarb.__ref_edge2);return null==a?null:a.wrapper()},firstVertex:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)?-1==this.zpp_inner.colarb.__ref_vertex:!1},secondVertex:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)?1==this.zpp_inner.colarb.__ref_vertex:
!1},normalImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(d)throw"Error: Arbiter does not relate to body";
var c=d=0,e=0,f=this.zpp_inner.colarb;if(!b||f.oc1.fresh){var m=f.oc1.wrapper().normalImpulse(a);if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();c+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}if(f.hc2&&(!b||f.oc2.fresh)){f=
f.oc2.wrapper().normalImpulse(a);if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();d+=1*f.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();c+=1*f.zpp_inner.y;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();e+=1*f.zpp_inner.z;f.dispose()}return g.geom.Vec3.get(d,c,e)},tangentImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(d)throw"Error: Arbiter does not relate to body";var c=d=0,e=0,f=this.zpp_inner.colarb;if(!b||f.oc1.fresh){var m=f.oc1.wrapper().tangentImpulse(a);
if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();c+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}if(f.hc2&&(!b||f.oc2.fresh)){f=f.oc2.wrapper().tangentImpulse(a);if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
f.zpp_inner.validate();d+=1*f.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();c+=1*f.zpp_inner.y;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();e+=1*f.zpp_inner.z;f.dispose()}return g.geom.Vec3.get(d,c,e)},totalImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
if(d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(d)throw"Error: Arbiter does not relate to body";var c=d=0,e=0,f=this.zpp_inner.colarb;if(!b||f.oc1.fresh){var m=f.oc1.wrapper().totalImpulse(a);if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();
d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();c+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}if(f.hc2&&(!b||f.oc2.fresh)){f=f.oc2.wrapper().totalImpulse(a);if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();d+=1*f.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
f.zpp_inner.validate();c+=1*f.zpp_inner.y;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();e+=1*f.zpp_inner.z;f.dispose()}return g.geom.Vec3.get(d,c,e)},rollingImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(d)throw"Error: Arbiter does not relate to body";d=this.zpp_inner.colarb;return!b||d.oc1.fresh?d.oc1.wrapper().rollingImpulse(a):0},get_elasticity:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=
Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*
a.s2.material.rollingFriction)));return a.restitution},set_elasticity:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::elasticity is only mutable during a pre-handler";if(a!=a)throw"Error: CollisionArbiter::elasticity cannot be NaN";if(0>a)throw"Error: CollisionArbiter::elasticity cannot be negative";var b=this.zpp_inner.colarb;b.restitution=a;b.userdef_restitution=!0;return this.get_elasticity()},get_dynamicFriction:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),
a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction)));return a.dyn_fric},set_dynamicFriction:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::dynamicFriction is only mutable during a pre-handler";if(a!=a)throw"Error: CollisionArbiter::dynamicFriction cannot be NaN";if(0>a)throw"Error: CollisionArbiter::dynamicFriction cannot be negative";
var b=this.zpp_inner.colarb;b.dyn_fric=a;b.userdef_dyn_fric=!0;return this.get_dynamicFriction()},get_staticFriction:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+
a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*a.s2.material.rollingFriction)));return a.stat_fric},set_staticFriction:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::staticFriction is only mutable during a pre-handler";
if(a!=a)throw"Error: CollisionArbiter::staticFriction cannot be NaN";if(0>a)throw"Error: CollisionArbiter::staticFriction cannot be negative";var b=this.zpp_inner.colarb;b.stat_fric=a;b.userdef_stat_fric=!0;return this.get_staticFriction()},get_rollingFriction:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var a=this.zpp_inner.colarb;a.invalidated&&(a.invalidated=!1,a.userdef_restitution||(a.restitution=a.s1.material.elasticity<=Math.NEGATIVE_INFINITY||a.s2.material.elasticity<=
Math.NEGATIVE_INFINITY?0:a.s1.material.elasticity>=Math.POSITIVE_INFINITY||a.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(a.s1.material.elasticity+a.s2.material.elasticity)/2,0>a.restitution&&(a.restitution=0),1<a.restitution&&(a.restitution=1)),a.userdef_dyn_fric||(a.dyn_fric=Math.sqrt(a.s1.material.dynamicFriction*a.s2.material.dynamicFriction)),a.userdef_stat_fric||(a.stat_fric=Math.sqrt(a.s1.material.staticFriction*a.s2.material.staticFriction)),a.userdef_rfric||(a.rfric=Math.sqrt(a.s1.material.rollingFriction*
a.s2.material.rollingFriction)));return a.rfric},set_rollingFriction:function(a){if(!this.zpp_inner.colarb.mutable)throw"Error: CollisionArbiter::rollingFriction is only mutable during a pre-handler";if(a!=a)throw"Error: CollisionArbiter::rollingFriction cannot be NaN";if(0>a)throw"Error: CollisionArbiter::rollingFriction cannot be negative";var b=this.zpp_inner.colarb;b.rfric=a;b.userdef_rfric=!0;return this.get_rollingFriction()},__class__:g.dynamics.CollisionArbiter});g.dynamics.Contact=function(){this.zpp_inner=
null;if(!c.dynamics.ZPP_Contact.internal)throw"Error: Cannot instantiate Contact derp!";};n["nape.dynamics.Contact"]=g.dynamics.Contact;g.dynamics.Contact.__name__=["nape","dynamics","Contact"];g.dynamics.Contact.prototype={get_arbiter:function(){return null==this.zpp_inner.arbiter?null:this.zpp_inner.arbiter.outer.get_collisionArbiter()},get_penetration:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";return-this.zpp_inner.dist},get_position:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";
null==this.zpp_inner.wrap_position&&this.zpp_inner.getposition();return this.zpp_inner.wrap_position},get_fresh:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";return this.zpp_inner.fresh},normalImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,d=this.zpp_inner.inner,c=d.jnAcc;if(null==a)return g.geom.Vec3.get(b.nx*c,b.ny*c);if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";
return a==b.b1.outer?g.geom.Vec3.get(b.nx*-c,b.ny*-c,-(b.ny*d.r1x-b.nx*d.r1y)*c):g.geom.Vec3.get(b.nx*c,b.ny*c,(b.ny*d.r2x-b.nx*d.r2y)*c)},tangentImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,d=this.zpp_inner.inner,c=d.jtAcc;if(null==a)return g.geom.Vec3.get(-b.ny*c,b.nx*c);if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";return a==b.b1.outer?g.geom.Vec3.get(b.ny*c,-b.nx*c,-(d.r1x*
b.nx+d.r1y*b.ny)*c):g.geom.Vec3.get(-b.ny*c,b.nx*c,(d.r2x*b.nx+d.r2y*b.ny)*c)},rollingImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,d=this.zpp_inner.arbiter.colarb.jrAcc;if(null==a)return d;if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";return a==b.b1.outer?-d:d},totalImpulse:function(a){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";var b=this.zpp_inner.arbiter.colarb,
d=this.zpp_inner.inner,c=d.jnAcc,e=d.jtAcc,f=b.jrAcc;if(null==a)return g.geom.Vec3.get(b.nx*c-b.ny*e,b.ny*c+b.nx*e,f);if(a!=b.b1.outer&&a!=b.b2.outer)throw"Error: Contact does not relate to the given body";var m=b.nx*c-b.ny*e,c=b.ny*c+b.nx*e;return a==b.b1.outer?g.geom.Vec3.get(-m,-c,-(c*d.r1x-m*d.r1y)-f):g.geom.Vec3.get(m,c,c*d.r2x-m*d.r2y+f)},get_friction:function(){if(this.zpp_inner.inactiveme())throw"Error: Contact not currently in use";return this.zpp_inner.inner.friction},toString:function(){return null==
this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},__class__:g.dynamics.Contact};g.dynamics.ContactIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ContactList.internal)throw"Error: Cannot instantiate ContactIterator derp!";};n["nape.dynamics.ContactIterator"]=g.dynamics.ContactIterator;g.dynamics.ContactIterator.__name__=["nape","dynamics","ContactIterator"];g.dynamics.ContactIterator.get=function(a){var b;
null==g.dynamics.ContactIterator.zpp_pool?(c.util.ZPP_ContactList.internal=!0,b=new g.dynamics.ContactIterator,c.util.ZPP_ContactList.internal=!1):(b=g.dynamics.ContactIterator.zpp_pool,g.dynamics.ContactIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.dynamics.ContactIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.dynamics.ContactIterator.zpp_pool;
g.dynamics.ContactIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.dynamics.ContactIterator};g.dynamics.ContactList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ContactList;this.zpp_inner.outer=this};n["nape.dynamics.ContactList"]=g.dynamics.ContactList;g.dynamics.ContactList.__name__=["nape","dynamics","ContactList"];g.dynamics.ContactList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";
for(var b=new g.dynamics.ContactList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.dynamics.ContactList.prototype={get_length:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.next;null!=a;){var b=a;b.active&&b.arbiter.active&&this.zpp_inner.user_length++;a=a.next}}return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();
if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)for(this.zpp_inner.at_index=0,this.zpp_inner.at_ite=this.zpp_inner.inner.next;;){var b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=a;)for(this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){b=this.zpp_inner.at_ite;
if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(0==this.get_length()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.get_length()-
1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(0==this.get_length()?this.zpp_inner.push_ite=
null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();if(0==this.get_length())throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();
var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.next,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||
this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";this.zpp_inner.modify_test();if(0==this.get_length())throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.next,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.next;null!=d;){if(d==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ContactList is immutable";if(this.zpp_inner.reverse_flag)for(;0!=this.get_length();)this.pop();else for(;0!=this.get_length();)this.shift()},
empty:function(){return 0==this.get_length()},iterator:function(){this.zpp_inner.valmod();return g.dynamics.ContactIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.dynamics.ContactList,d;this.zpp_inner.valmod();for(d=g.dynamics.ContactIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Contact is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();
for(a=g.dynamics.ContactIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.dynamics.ContactIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;
this.zpp_inner.valmod();for(b=g.dynamics.ContactIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.dynamics.ContactIterator.zpp_pool;g.dynamics.ContactIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.dynamics.ContactList};
g.dynamics.FluidArbiter=function(){if(!c.dynamics.ZPP_Arbiter.internal)throw"Error: Cannot instantiate FluidArbiter derp!";g.dynamics.Arbiter.call(this)};n["nape.dynamics.FluidArbiter"]=g.dynamics.FluidArbiter;g.dynamics.FluidArbiter.__name__=["nape","dynamics","FluidArbiter"];g.dynamics.FluidArbiter.__super__=g.dynamics.Arbiter;g.dynamics.FluidArbiter.prototype=K(g.dynamics.Arbiter.prototype,{get_position:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.fluidarb.wrap_position&&
this.zpp_inner.fluidarb.getposition();return this.zpp_inner.fluidarb.wrap_position},set_position:function(a){if(!this.zpp_inner.fluidarb.mutable)throw"Error: Arbiter is mutable only within a pre-handler";if(null==a)throw"Error: FluidArbiter::position cannot be null";if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();this.zpp_inner.fluidarb.wrap_position.set(a);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();return this.zpp_inner.fluidarb.wrap_position},get_overlap:function(){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.fluidarb.overlap},set_overlap:function(a){if(!this.zpp_inner.fluidarb.mutable)throw"Error: Arbiter is mutable only within a pre-handler";if(a!=a)throw"Error: FluidArbiter::overlap cannot be NaN";if(0>=a||a==Math.POSITIVE_INFINITY)throw"Error: FluidArbiter::overlap must be strictly positive and non infinite";
this.zpp_inner.fluidarb.overlap=a;if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";return this.zpp_inner.fluidarb.overlap},buoyancyImpulse:function(a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(b)throw"Error: Arbiter does not relate to body";b=this.zpp_inner.fluidarb;return null==a?g.geom.Vec3.get(b.buoyx,b.buoyy,0):a.zpp_inner==this.zpp_inner.b2?g.geom.Vec3.get(b.buoyx,b.buoyy,b.buoyy*b.r2x-b.buoyx*b.r2y):g.geom.Vec3.get(-b.buoyx,-b.buoyy,-(b.buoyy*b.r1x-b.buoyx*b.r1y))},dragImpulse:function(a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";var b;if(b=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
if(b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";b=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(b)throw"Error: Arbiter does not relate to body";b=this.zpp_inner.fluidarb;a=null==a||a.zpp_inner==this.zpp_inner.b2?1:-1;return g.geom.Vec3.get(b.dampx*a,b.dampy*a,b.adamp*a)},totalImpulse:function(a,b){null==b&&(b=!1);if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";
var d;if(d=null!=a){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";if(d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2.outer:this.zpp_inner.b1.outer)){if(!this.zpp_inner.active)throw"Error: Arbiter not currently in use";d=a!=(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1.outer:this.zpp_inner.b2.outer)}}if(d)throw"Error: Arbiter does not relate to body";var c=this.buoyancyImpulse(a),e=this.dragImpulse(a);e.set_x(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this));e.set_y(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)+function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));e.set_z(function(a){if(null!=
e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.z}(this)+function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.z}(this));c.dispose();return e},__class__:g.dynamics.FluidArbiter});g.dynamics.InteractionGroup=function(a){null==a&&(a=!1);this.zpp_inner=null;this.zpp_inner=new c.dynamics.ZPP_InteractionGroup;this.zpp_inner.outer=this;this.zpp_inner.ignore!=a&&
(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=a);this.zpp_inner.ignore};n["nape.dynamics.InteractionGroup"]=g.dynamics.InteractionGroup;g.dynamics.InteractionGroup.__name__=["nape","dynamics","InteractionGroup"];g.dynamics.InteractionGroup.prototype={get_group:function(){return null==this.zpp_inner.group?null:this.zpp_inner.group.outer},set_group:function(a){if(a==this)throw"Error: Cannot assign InteractionGroup to itself";this.zpp_inner.setGroup(null==a?null:a.zpp_inner);return null==this.zpp_inner.group?
null:this.zpp_inner.group.outer},get_ignore:function(){return this.zpp_inner.ignore},set_ignore:function(a){this.zpp_inner.ignore!=a&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=a);return this.zpp_inner.ignore},get_interactors:function(){null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=c.util.ZPP_InteractorList.get(this.zpp_inner.interactors,!0));return this.zpp_inner.wrap_interactors},get_groups:function(){null==this.zpp_inner.wrap_groups&&(this.zpp_inner.wrap_groups=
c.util.ZPP_InteractionGroupList.get(this.zpp_inner.groups,!0));return this.zpp_inner.wrap_groups},toString:function(){var a="InteractionGroup";this.zpp_inner.ignore&&(a+=":ignore");return a},__class__:g.dynamics.InteractionGroup};g.dynamics.InteractionGroupIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_InteractionGroupList.internal)throw"Error: Cannot instantiate InteractionGroupIterator derp!";};n["nape.dynamics.InteractionGroupIterator"]=
g.dynamics.InteractionGroupIterator;g.dynamics.InteractionGroupIterator.__name__=["nape","dynamics","InteractionGroupIterator"];g.dynamics.InteractionGroupIterator.get=function(a){var b;null==g.dynamics.InteractionGroupIterator.zpp_pool?(c.util.ZPP_InteractionGroupList.internal=!0,b=new g.dynamics.InteractionGroupIterator,c.util.ZPP_InteractionGroupList.internal=!1):(b=g.dynamics.InteractionGroupIterator.zpp_pool,g.dynamics.InteractionGroupIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=
!1;return b};g.dynamics.InteractionGroupIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.dynamics.InteractionGroupIterator.zpp_pool;g.dynamics.InteractionGroupIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.dynamics.InteractionGroupIterator};g.dynamics.InteractionGroupList=function(){this.zpp_inner=
null;this.zpp_inner=new c.util.ZPP_InteractionGroupList;this.zpp_inner.outer=this};n["nape.dynamics.InteractionGroupList"]=g.dynamics.InteractionGroupList;g.dynamics.InteractionGroupList.__name__=["nape","dynamics","InteractionGroupList"];g.dynamics.InteractionGroupList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.dynamics.InteractionGroupList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.dynamics.InteractionGroupList.prototype={get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);
else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&
(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);
this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: InteractionGroupList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=
this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.dynamics.InteractionGroupIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.dynamics.InteractionGroupList,d;this.zpp_inner.valmod();for(d=g.dynamics.InteractionGroupIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: InteractionGroup is not a copyable type";}(this):c)}return b},
merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.dynamics.InteractionGroupIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.dynamics.InteractionGroupIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();
b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.dynamics.InteractionGroupIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.dynamics.InteractionGroupIterator.zpp_pool;g.dynamics.InteractionGroupIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";
for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.dynamics.InteractionGroupList};g.geom.AABB=function(a,b,d,h){null==h&&(h=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.zpp_inner=null;if(a!=a||b!=b)throw"Error: AABB position cannot be NaN";if(d!=d||h!=h)throw"Error: AABB dimensions cannot be NaN";this.zpp_inner=c.geom.ZPP_AABB.get(a,b,a+d,b+h);this.zpp_inner.outer=this};n["nape.geom.AABB"]=g.geom.AABB;g.geom.AABB.__name__=
["nape","geom","AABB"];g.geom.AABB.fromRect=function(a){if(null==a)throw"Error: Cannot create AABB from null Rectangle";return new g.geom.AABB(a.x,a.y,a.width,a.height)};g.geom.AABB.prototype={copy:function(){this.zpp_inner.validate();return this.zpp_inner.copy().wrapper()},toRect:function(){var a=l.geom.Rectangle,b;this.zpp_inner.validate();b=this.zpp_inner.minx;var d;this.zpp_inner.validate();d=this.zpp_inner.miny;this.zpp_inner.validate();var c=this.zpp_inner.width(),e;this.zpp_inner.validate();
e=this.zpp_inner.height();return new a(b,d,c,e)},get_min:function(){return this.zpp_inner.getmin()},set_min:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner._immutable)throw"Error: AABB is immutable";if(null==a)throw"Error: Cannot assign null to AABB::min";var b;this.zpp_inner.validate();b=this.zpp_inner.minx;this.zpp_inner.validate();(b=b!=this.zpp_inner.minx)||(this.zpp_inner.validate(),b=this.zpp_inner.miny,this.zpp_inner.validate(),
b=b!=this.zpp_inner.miny);if(b)throw"Error: AABB::min components cannot be NaN";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.x>this.zpp_inner.getmax().get_x())throw"Error: Assignment would cause negative width";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.y>this.zpp_inner.getmax().get_y())throw"Error: Assignment would cause negative height";this.zpp_inner.getmin().set(a);
return this.zpp_inner.getmin()},get_max:function(){return this.zpp_inner.getmax()},set_max:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner._immutable)throw"Error: AABB is immutable";if(null==a)throw"Error: Cannot assign null to AABB::max";var b;this.zpp_inner.validate();b=this.zpp_inner.minx;this.zpp_inner.validate();(b=b!=this.zpp_inner.minx)||(this.zpp_inner.validate(),b=this.zpp_inner.miny,this.zpp_inner.validate(),b=b!=this.zpp_inner.miny);
if(b)throw"Error: AABB::max components cannot be NaN";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.x<this.zpp_inner.getmin().get_x())throw"Error: Assignment would cause negative width";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();if(a.zpp_inner.y<this.zpp_inner.getmin().get_y())throw"Error: Assignment would cause negative height";this.zpp_inner.getmax().set(a);return this.zpp_inner.getmax()},
get_x:function(){this.zpp_inner.validate();return this.zpp_inner.minx},set_x:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";this.zpp_inner.validate();if(this.zpp_inner.minx!=a){if(a!=a)throw"Error: AABB::x cannot be NaN";this.zpp_inner.maxx+=a-this.zpp_inner.minx;this.zpp_inner.minx=a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.minx},get_y:function(){this.zpp_inner.validate();return this.zpp_inner.miny},set_y:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";
this.zpp_inner.validate();if(this.zpp_inner.miny!=a){if(a!=a)throw"Error: AABB::y cannot be NaN";this.zpp_inner.maxy+=a-this.zpp_inner.miny;this.zpp_inner.miny=a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.miny},get_width:function(){this.zpp_inner.validate();return this.zpp_inner.width()},set_width:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";this.zpp_inner.validate();if(this.zpp_inner.width()!=a){if(a!=a)throw"Error: AABB::width cannot be NaN";
if(0>a)throw"Error: AABB::width ("+a+") must be >= 0";var b=this.zpp_inner;this.zpp_inner.validate();b.maxx=this.zpp_inner.minx+a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.width()},get_height:function(){this.zpp_inner.validate();return this.zpp_inner.height()},set_height:function(a){if(this.zpp_inner._immutable)throw"Error: AABB is immutable";this.zpp_inner.validate();if(this.zpp_inner.height()!=a){if(a!=a)throw"Error: AABB::height cannot be NaN";if(0>a)throw"Error: AABB::height ("+
a+") must be >= 0";var b=this.zpp_inner;this.zpp_inner.validate();b.maxy=this.zpp_inner.miny+a;this.zpp_inner.invalidate()}this.zpp_inner.validate();return this.zpp_inner.height()},toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:g.geom.AABB};g.geom.ConvexResult=function(){this.zpp_inner=null;if(!c.geom.ZPP_ConvexRayResult.internal)throw"Error: ConvexResult cannot be instantiated derp!";};n["nape.geom.ConvexResult"]=g.geom.ConvexResult;g.geom.ConvexResult.__name__=
["nape","geom","ConvexResult"];g.geom.ConvexResult.prototype={get_normal:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.normal},get_position:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.position},get_toi:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.toiDistance},
get_shape:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.shape},dispose:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";this.zpp_inner.free()},toString:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";var a="{ shape: "+H.string(function(a){if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return a.zpp_inner.shape}(this))+" toi: ";if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a+this.zpp_inner.toiDistance+" }"},__class__:g.geom.ConvexResult};g.geom.ConvexResultIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ConvexResultList.internal)throw"Error: Cannot instantiate ConvexResultIterator derp!";};n["nape.geom.ConvexResultIterator"]=g.geom.ConvexResultIterator;g.geom.ConvexResultIterator.__name__=
["nape","geom","ConvexResultIterator"];g.geom.ConvexResultIterator.get=function(a){var b;null==g.geom.ConvexResultIterator.zpp_pool?(c.util.ZPP_ConvexResultList.internal=!0,b=new g.geom.ConvexResultIterator,c.util.ZPP_ConvexResultList.internal=!1):(b=g.geom.ConvexResultIterator.zpp_pool,g.geom.ConvexResultIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.geom.ConvexResultIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();
this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.geom.ConvexResultIterator.zpp_pool;g.geom.ConvexResultIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.geom.ConvexResultIterator};g.geom.ConvexResultList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ConvexResultList;this.zpp_inner.outer=this};n["nape.geom.ConvexResultList"]=g.geom.ConvexResultList;g.geom.ConvexResultList.__name__=
["nape","geom","ConvexResultList"];g.geom.ConvexResultList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.geom.ConvexResultList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.geom.ConvexResultList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();
return this.zpp_inner.inner.has(a)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},push:function(a){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},
unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)):this.zpp_inner.inner.add(a),this.zpp_inner.invalidate(),
null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag)a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();else{null!=this.zpp_inner.at_ite&&
null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a},shift:function(){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||
this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a),this.zpp_inner.invalidate());
return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ConvexResultList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.geom.ConvexResultIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.geom.ConvexResultList,d;this.zpp_inner.valmod();for(d=g.geom.ConvexResultIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: ConvexResult is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.geom.ConvexResultIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.geom.ConvexResultIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.geom.ConvexResultIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.geom.ConvexResultIterator.zpp_pool;g.geom.ConvexResultIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==
a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.geom.ConvexResultList};g.geom.Geom=function(){};n["nape.geom.Geom"]=g.geom.Geom;g.geom.Geom.__name__=["nape","geom","Geom"];g.geom.Geom.distanceBody=function(a,b,d,h){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.immutable();h.zpp_inner.immutable();if(a.zpp_inner.wrap_shapes.empty()||b.zpp_inner.wrap_shapes.empty())throw"Error: Bodies cannot be empty in calculating distances";for(var e=a.zpp_inner.shapes.head;null!=e;)c.geom.ZPP_Geom.validateShape(e.elt),e=e.next;for(e=b.zpp_inner.shapes.head;null!=e;)c.geom.ZPP_Geom.validateShape(e.elt),e=e.next;return c.geom.ZPP_SweepDistance.distanceBody(a.zpp_inner,b.zpp_inner,d.zpp_inner,h.zpp_inner)};g.geom.Geom.distance=function(a,b,d,h){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.immutable();h.zpp_inner.immutable();if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))throw"Error: Shape must be part of a Body to calculate distances";c.geom.ZPP_Geom.validateShape(a.zpp_inner);c.geom.ZPP_Geom.validateShape(b.zpp_inner);var e;null==c.geom.ZPP_Vec2.zpp_pool?e=new c.geom.ZPP_Vec2:(e=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=
e.next,e.next=null);e.weak=!1;a=c.geom.ZPP_SweepDistance.distance(a.zpp_inner,b.zpp_inner,d.zpp_inner,h.zpp_inner,e,1E100);null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e._isimmutable=null;e._validate=null;e._invalidate=null;e.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=e;return a};g.geom.Geom.intersectsBody=function(a,b){if(a.zpp_inner.wrap_shapes.empty()||b.zpp_inner.wrap_shapes.empty())throw"Error: Bodies must have shapes to test for intersection.";for(var d=a.zpp_inner.shapes.head;null!=
d;)c.geom.ZPP_Geom.validateShape(d.elt),d=d.next;for(d=b.zpp_inner.shapes.head;null!=d;)c.geom.ZPP_Geom.validateShape(d.elt),d=d.next;if(a.zpp_inner.aabb.intersect(b.zpp_inner.aabb))for(d=a.zpp_inner.shapes.head;null!=d;){for(var h=d.elt,e=b.zpp_inner.shapes.head;null!=e;){if(c.geom.ZPP_Collide.testCollide_safe(h,e.elt))return!0;e=e.next}d=d.next}return!1};g.geom.Geom.intersects=function(a,b){if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:
null))throw"Error: Shape must be part of a Body to calculate intersection";c.geom.ZPP_Geom.validateShape(a.zpp_inner);c.geom.ZPP_Geom.validateShape(b.zpp_inner);return a.zpp_inner.aabb.intersect(b.zpp_inner.aabb)&&c.geom.ZPP_Collide.testCollide_safe(a.zpp_inner,b.zpp_inner)};g.geom.Geom.contains=function(a,b){if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))throw"Error: Shape must be part of a Body to calculate containment";
c.geom.ZPP_Geom.validateShape(a.zpp_inner);c.geom.ZPP_Geom.validateShape(b.zpp_inner);return c.geom.ZPP_Collide.containTest(a.zpp_inner,b.zpp_inner)};g.geom.GeomPoly=function(a){this.zpp_pool=this.zpp_inner=null;this.zpp_inner=new c.geom.ZPP_GeomPoly(this);if(null!=a){if(a instanceof Array&&null==a.__enum__)for(var b=0;b<a.length;){var d=a[b];++b;if(null==d)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(d,g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var h=
d;if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=c.geom.ZPP_GeomVert.get(function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.x}(this),function(a){if(null!=h&&h.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h.zpp_inner.validate();return h.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=d.prev=d.next=d:(d.prev=this.zpp_inner.vertices,d.next=
this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=d,this.zpp_inner.vertices.next=d);this.zpp_inner.vertices=d}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(b=a.iterator();b.hasNext();){var e;b.zpp_critical=!1;e=b.zpp_inner.at(b.zpp_i++);if(null==e)throw"Error: Vec2List contains null objects";if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=c.geom.ZPP_GeomVert.get(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=d.prev=d.next=d:(d.prev=this.zpp_inner.vertices,d.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=d,this.zpp_inner.vertices.next=d);this.zpp_inner.vertices=d}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
b=a.zpp_inner.vertices;if(null!=b){d=b;do{var f=g.geom.Vec2.get(d.x,d.y,null),d=d.next,m=c.geom.ZPP_GeomVert.get(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=m.prev=m.next=m:(m.prev=this.zpp_inner.vertices,
m.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=m,this.zpp_inner.vertices.next=m);this.zpp_inner.vertices=m;f.dispose()}while(d!=b)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";this.skipForward(1);if(a instanceof Array&&null==a.__enum__)for(b=0;b<a.length;){d=a[b];if(m=d.zpp_inner.weak)d.dispose(),m=!0;m?a.splice(b,1):b++}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(null!=a.zpp_inner._validate&&
a.zpp_inner._validate(),a=a.zpp_inner.inner,b=null,d=a.head;null!=d;)m=d.elt,m.outer.zpp_inner.weak?(d=a.erase(b),m.outer.zpp_inner.weak?(m.outer.dispose(),!0):!1):(b=d,d=d.next)}};n["nape.geom.GeomPoly"]=g.geom.GeomPoly;g.geom.GeomPoly.__name__=["nape","geom","GeomPoly"];g.geom.GeomPoly.get=function(a){var b;null==c.util.ZPP_PubPool.poolGeomPoly?b=new g.geom.GeomPoly:(b=c.util.ZPP_PubPool.poolGeomPoly,c.util.ZPP_PubPool.poolGeomPoly=b.zpp_pool,b.zpp_pool=null,b.zpp_disp=!1,b==c.util.ZPP_PubPool.nextGeomPoly&&
(c.util.ZPP_PubPool.nextGeomPoly=null));if(null!=a){if(a instanceof Array&&null==a.__enum__)for(var d=0;d<a.length;){var h=a[d];++d;if(null==h)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(h,g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var e=h;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h=c.geom.ZPP_GeomVert.get(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();
return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=h.prev=h.next=h:(h.prev=b.zpp_inner.vertices,h.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=h,b.zpp_inner.vertices.next=h);b.zpp_inner.vertices=h}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(d=a.iterator();d.hasNext();){var f;d.zpp_critical=!1;f=d.zpp_inner.at(d.zpp_i++);
if(null==f)throw"Error: Vec2List contains null objects";if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";h=c.geom.ZPP_GeomVert.get(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=h.prev=
h.next=h:(h.prev=b.zpp_inner.vertices,h.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=h,b.zpp_inner.vertices.next=h);b.zpp_inner.vertices=h}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";d=a.zpp_inner.vertices;if(null!=d){h=d;do{var m=g.geom.Vec2.get(h.x,h.y,null),h=h.next,u=c.geom.ZPP_GeomVert.get(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();
return m.zpp_inner.x}(this),function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this));null==b.zpp_inner.vertices?b.zpp_inner.vertices=u.prev=u.next=u:(u.prev=b.zpp_inner.vertices,u.next=b.zpp_inner.vertices.next,b.zpp_inner.vertices.next.prev=u,b.zpp_inner.vertices.next=u);b.zpp_inner.vertices=u;m.dispose()}while(h!=d)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";
b.skipForward(1);if(a instanceof Array&&null==a.__enum__)for(d=0;d<a.length;){h=a[d];if(u=h.zpp_inner.weak)h.dispose(),u=!0;u?a.splice(d,1):d++}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),a=a.zpp_inner.inner,d=null,h=a.head;null!=h;)u=h.elt,u.outer.zpp_inner.weak?(h=a.erase(d),u.outer.zpp_inner.weak?(u.outer.dispose(),!0):!1):(d=h,h=h.next)}return b};g.geom.GeomPoly.prototype={empty:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
return null==this.zpp_inner.vertices},size:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";var a=0,b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do a++,b=b.next;while(b!=d)}return a},iterator:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return c.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!0)},forwardIterator:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
return c.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!0)},backwardsIterator:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return c.geom.ZPP_GeomVertexIterator.get(this.zpp_inner.vertices,!1)},current:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: GeomPoly is empty";return this.zpp_inner.vertices.wrapper()},
push:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot push null vertex";var b=c.geom.ZPP_GeomVert.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=b.prev=b.next=b:(b.prev=this.zpp_inner.vertices,b.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=b,this.zpp_inner.vertices.next=b);this.zpp_inner.vertices=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},pop:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: Cannot pop from empty polygon";var a=this.zpp_inner.vertices;
if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=
!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=a;return this},unshift:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot unshift null vertex";var b=c.geom.ZPP_GeomVert.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this));null==this.zpp_inner.vertices?this.zpp_inner.vertices=b.prev=b.next=b:(b.next=this.zpp_inner.vertices,b.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=b,this.zpp_inner.vertices.prev=b);this.zpp_inner.vertices=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},shift:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: Cannot shift from empty polygon";
var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.next;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=
b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),a.wrap=null);a.prev=a.next=null;a.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=a;return this},skipForward:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null!=this.zpp_inner.vertices)if(0<a)for(;0<a--;)this.zpp_inner.vertices=this.zpp_inner.vertices.next;else if(0>a)for(;0>a++;)this.zpp_inner.vertices=this.zpp_inner.vertices.prev;return this},skipBackwards:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
return this.skipForward(-a)},erase:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";for(;0!=a&&null!=this.zpp_inner.vertices;){var b=this.zpp_inner.vertices;if(0<a){if(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var d=this.zpp_inner.vertices.next;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;
this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=d}a--}else 0>a&&(null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?(this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null):(d=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=
this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,this.zpp_inner.vertices=d),a++);null!=b.wrap&&(b.wrap.zpp_inner._inuse=!1,b.wrap.dispose(),b.wrap=null);b.prev=b.next=null;b.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=b}return this},clear:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";for(;null!=this.zpp_inner.vertices;){var a=this.zpp_inner.vertices;if(null!=this.zpp_inner.vertices&&
this.zpp_inner.vertices.prev==this.zpp_inner.vertices)this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=this.zpp_inner.vertices=null;else{var b=this.zpp_inner.vertices.next;this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next;this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev;this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null;this.zpp_inner.vertices=null;this.zpp_inner.vertices=b}null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,a.wrap.dispose(),
a.wrap=null);a.prev=a.next=null;a.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=a}return this},copy:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";var a=g.geom.GeomPoly.get(),b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var h=b,h=c.geom.ZPP_GeomVert.get(h.x,h.y);null==a.zpp_inner.vertices?a.zpp_inner.vertices=h.prev=h.next=h:(h.prev=a.zpp_inner.vertices,h.next=a.zpp_inner.vertices.next,a.zpp_inner.vertices.next.prev=
h,a.zpp_inner.vertices.next=h);a.zpp_inner.vertices=h;b=b.next}while(b!=d)}return a.skipForward(1)},dispose:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";this.clear();this.zpp_pool=null;null!=c.util.ZPP_PubPool.nextGeomPoly?c.util.ZPP_PubPool.nextGeomPoly.zpp_pool=this:c.util.ZPP_PubPool.poolGeomPoly=this;c.util.ZPP_PubPool.nextGeomPoly=this;this.zpp_disp=!0},toString:function(){var a="GeomPoly[",b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=
b){do{var c=b;c!=this.zpp_inner.vertices&&(a+=",");a+="{"+c.x+","+c.y+"}";b=b.next}while(b!=d)}return a+"]"},area:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return 0;var a;a=0;var b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;a+=c.x*(c.next.y-c.prev.y);b=b.next}while(b!=d)}a*=0.5;return 0>a?-a:a},
winding:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new g.geom.Winding,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Winding_UNDEFINED;var a;a=0;var b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var h=
b;a+=h.x*(h.next.y-h.prev.y);b=b.next}while(b!=d)}a*=0.5;if(0<a)return null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Winding_CLOCKWISE;if(0==a)return null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new g.geom.Winding,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Winding_UNDEFINED;null==c.util.ZPP_Flags.Winding_ANTICLOCKWISE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_ANTICLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_ANTICLOCKWISE},contains:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: GeomPoly::contains point cannot be null";var b;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();
b=a.zpp_inner.x;var d;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d=a.zpp_inner.y;var c=!1,e=this.zpp_inner.vertices,f=this.zpp_inner.vertices;if(null!=e){do{var m=e,g=m.prev;(m.y<d&&g.y>=d||g.y<d&&m.y>=d)&&(m.x<=b||g.x<=b)&&m.x+(d-m.y)/(g.y-m.y)*(g.x-m.x)<b&&(c=!c);e=e.next}while(e!=f)}b=c;a.zpp_inner.weak?(a.dispose(),!0):!1;return b},isClockwise:function(){var a=this.winding();null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1);return a==c.util.ZPP_Flags.Winding_CLOCKWISE},isConvex:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return!0;var a=!1,b=!1,d=!0,c=this.zpp_inner.vertices,e=this.zpp_inner.vertices;if(null!=c){do{var f=c,m=f.prev,g=f.next,C=0,k=0,C=g.x-f.x,k=
g.y-f.y,p=0,g=f.x-m.x,p=f.y-m.y,f=p*C-g*k;0<f?b=!0:0>f&&(a=!0);if(b&&a){d=!1;break}c=c.next}while(c!=e)}return d},isSimple:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:c.geom.ZPP_Simple.isSimple(this.zpp_inner.vertices)},isMonotone:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:c.geom.ZPP_Monotone.isMonotone(this.zpp_inner.vertices)},isDegenerate:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?!0:this.area()<g.Config.epsilon},simplify:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(0>=a)throw"Error: Epsilon should be > 0 for simplifying a GeomPoly";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return this.copy();a=c.geom.ZPP_Simplify.simplify(this.zpp_inner.vertices,a);var b=g.geom.GeomPoly.get();b.zpp_inner.vertices=a;return b},simpleDecomposition:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||
this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var b=c.geom.ZPP_Simple.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));for(a=null==a?new g.geom.GeomPolyList:a;null!=b.head;){var d=b.pop_unsafe(),h=g.geom.GeomPoly.get();h.zpp_inner.vertices=d;a.zpp_inner.reverse_flag?
a.push(h):a.unshift(h)}return a},monotoneDecomposition:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var b=c.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=new c.geom.ZPP_PartitionedPoly);
return c.geom.ZPP_Monotone.sharedPPoly}(this)).extract(function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));for(a=null==a?new g.geom.GeomPolyList:a;null!=b.head;){var d=b.pop_unsafe(),h=g.geom.GeomPoly.get();h.zpp_inner.vertices=d;a.zpp_inner.reverse_flag?a.push(h):a.unshift(h)}return a},convexDecomposition:function(a,b){null==a&&(a=!1);if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var d=c.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly}(this)).extract_partitions(function(a){null==c.geom.ZPP_PartitionedPoly.sharedPPList&&(c.geom.ZPP_PartitionedPoly.sharedPPList=
new c.util.ZNPList_ZPP_PartitionedPoly);return c.geom.ZPP_PartitionedPoly.sharedPPList}(this)),h;for(h=null==b?new g.geom.GeomPolyList:b;null!=d.head;){var e=d.pop_unsafe();c.geom.ZPP_Triangular.triangulate(e);a&&c.geom.ZPP_Triangular.optimise(e);c.geom.ZPP_Convex.optimise(e);var f=e.extract(function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));e.next=c.geom.ZPP_PartitionedPoly.zpp_pool;
for(c.geom.ZPP_PartitionedPoly.zpp_pool=e;null!=f.head;){var e=f.pop_unsafe(),m=g.geom.GeomPoly.get();m.zpp_inner.vertices=e;h.zpp_inner.reverse_flag?h.push(m):h.unshift(m)}}return h},triangularDecomposition:function(a,b){null==a&&(a=!1);if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)throw"Error: Cannot decompose a degenerate polygon";var d=
c.geom.ZPP_Monotone.decompose(this.zpp_inner.vertices,function(a){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly}(this)).extract_partitions(function(a){null==c.geom.ZPP_PartitionedPoly.sharedPPList&&(c.geom.ZPP_PartitionedPoly.sharedPPList=new c.util.ZNPList_ZPP_PartitionedPoly);return c.geom.ZPP_PartitionedPoly.sharedPPList}(this)),h;for(h=null==b?new g.geom.GeomPolyList:b;null!=d.head;){var e=d.pop_unsafe();
c.geom.ZPP_Triangular.triangulate(e);a&&c.geom.ZPP_Triangular.optimise(e);var f=e.extract(function(a){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList}(this));e.next=c.geom.ZPP_PartitionedPoly.zpp_pool;for(c.geom.ZPP_PartitionedPoly.zpp_pool=e;null!=f.head;){var e=f.pop_unsafe(),m=g.geom.GeomPoly.get();m.zpp_inner.vertices=e;h.zpp_inner.reverse_flag?h.push(m):h.unshift(m)}}return h},
inflate:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";var b=g.geom.GeomPoly.get(),d=this.winding();null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1);d==c.util.ZPP_Flags.Winding_CLOCKWISE&&(a=-a);var h=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=h){do{var e=h,f=e.prev,m=e.next,u=0,C=0,k=0,p=0,u=e.x-f.x,C=e.y-f.y,k=m.x-e.x,p=m.y-e.y,v=0,
l=0,f=u,m=C,v=1/Math.sqrt(f*f+m*m),f=f*v,m=m*v,v=f,f=-m,m=v,v=a,f=f*v,m=m*v,v=k,l=p,n=1/Math.sqrt(v*v+l*l),v=v*n,l=l*n,n=v,v=-l,l=n,n=a,v=v*n,l=l*n,s=0,n=v-f,s=l-m,v=p*n-k*s,v=0==v?0:v/(p*u-k*C),k=e.x+f,p=e.y+m,e=v,k=k+u*e,p=p+C*e;b.push(g.geom.Vec2.get(k,p,null));h=h.next}while(h!=d)}return b.skipForward(1)},cut:function(a,b,d,h,e){null==h&&(h=!1);null==d&&(d=!1);if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(null!=this.zpp_inner.vertices&&null!=this.zpp_inner.vertices.next&&this.zpp_inner.vertices.prev!=this.zpp_inner.vertices.next&&!c.geom.ZPP_Simple.isSimple(this.zpp_inner.vertices))throw"Error: Cut requires a truly simple polygon";if(null==a||null==b)throw"Error: Cannot cut with null start/end's";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=c.geom.ZPP_Cutter.run(this.zpp_inner.vertices,
a,b,d,h,e);a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d},transform:function(a){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform by null matrix";var b=this.zpp_inner.vertices,d=this.zpp_inner.vertices;if(null!=b){do{var c=b,e=a.zpp_inner.a*c.x+a.zpp_inner.b*c.y+a.zpp_inner.tx;c.y=a.zpp_inner.c*c.x+a.zpp_inner.d*c.y+a.zpp_inner.ty;c.x=e;b=b.next}while(b!=d)}return this},bounds:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable bounds";var a=1E100,b=1E100,d=-1E100,c=-1E100,e=this.zpp_inner.vertices,f=this.zpp_inner.vertices;if(null!=e){do{var m=e;m.x<a&&(a=m.x);m.y<b&&(b=m.y);m.x>d&&(d=m.x);m.y>c&&(c=m.y);e=e.next}while(e!=f)}return new g.geom.AABB(a,b,d-a,c-b)},top:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable topmost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.y<a.y&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&(a.wrap=g.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=B(a,a.modwrap),a.wrap.zpp_inner._validate=B(a,a.getwrap));return a.wrap},bottom:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable bottommost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.y>a.y&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&(a.wrap=g.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=B(a,a.modwrap),a.wrap.zpp_inner._validate=B(a,a.getwrap));return a.wrap},
left:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable leftmost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.x<a.x&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&(a.wrap=g.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=
B(a,a.modwrap),a.wrap.zpp_inner._validate=B(a,a.getwrap));return a.wrap},right:function(){if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";if(null==this.zpp_inner.vertices)throw"Error: empty GeomPoly has no defineable rightmmost vertex";var a=this.zpp_inner.vertices,b=this.zpp_inner.vertices.next,d=this.zpp_inner.vertices;if(null!=b){do{var c=b;c.x>a.x&&(a=c);b=b.next}while(b!=d)}null==a.wrap&&
(a.wrap=g.geom.Vec2.get(a.x,a.y,null),a.wrap.zpp_inner._inuse=!0,a.wrap.zpp_inner._invalidate=B(a,a.modwrap),a.wrap.zpp_inner._validate=B(a,a.getwrap));return a.wrap},__class__:g.geom.GeomPoly};g.geom.GeomPolyIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_GeomPolyList.internal)throw"Error: Cannot instantiate GeomPolyIterator derp!";};n["nape.geom.GeomPolyIterator"]=g.geom.GeomPolyIterator;g.geom.GeomPolyIterator.__name__=["nape","geom",
"GeomPolyIterator"];g.geom.GeomPolyIterator.get=function(a){var b;null==g.geom.GeomPolyIterator.zpp_pool?(c.util.ZPP_GeomPolyList.internal=!0,b=new g.geom.GeomPolyIterator,c.util.ZPP_GeomPolyList.internal=!1):(b=g.geom.GeomPolyIterator.zpp_pool,g.geom.GeomPolyIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.geom.GeomPolyIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;
this.zpp_next=g.geom.GeomPolyIterator.zpp_pool;g.geom.GeomPolyIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.geom.GeomPolyIterator};g.geom.GeomPolyList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_GeomPolyList;this.zpp_inner.outer=this};n["nape.geom.GeomPolyList"]=g.geom.GeomPolyList;g.geom.GeomPolyList.__name__=["nape","geom","GeomPolyList"];g.geom.GeomPolyList.fromArray=function(a){if(null==
a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.geom.GeomPolyList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.geom.GeomPolyList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=
this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),
this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||
this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: GeomPolyList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.geom.GeomPolyIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.geom.GeomPolyList,
d;this.zpp_inner.valmod();for(d=g.geom.GeomPolyIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: GeomPoly is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.geom.GeomPolyIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a=
"[",b=!0,d;this.zpp_inner.valmod();for(d=g.geom.GeomPolyIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.geom.GeomPolyIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.geom.GeomPolyIterator.zpp_pool;g.geom.GeomPolyIterator.zpp_pool=
b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.geom.GeomPolyList};g.geom.GeomVertexIterator=function(){if(!c.geom.ZPP_GeomVertexIterator.internal)throw"Error: Cannot instantiate GeomVertexIterator";};n["nape.geom.GeomVertexIterator"]=g.geom.GeomVertexIterator;g.geom.GeomVertexIterator.__name__=["nape","geom",
"GeomVertexIterator"];g.geom.GeomVertexIterator.prototype={hasNext:function(){if(null==this.zpp_inner)throw"Error: Iterator has been disposed";var a=this.zpp_inner.ptr!=this.zpp_inner.start||this.zpp_inner.first;this.zpp_inner.first=!1;if(!a){var b=this.zpp_inner;b.outer.zpp_inner=null;b.ptr=b.start=null;b.next=c.geom.ZPP_GeomVertexIterator.zpp_pool;c.geom.ZPP_GeomVertexIterator.zpp_pool=b}return a},next:function(){if(null==this.zpp_inner)throw"Error: Iterator has been disposed";var a=this.zpp_inner.ptr.wrapper();
this.zpp_inner.ptr=this.zpp_inner.forward?this.zpp_inner.ptr.next:this.zpp_inner.ptr.prev;return a},__class__:g.geom.GeomVertexIterator};g.geom.MarchingSquares=function(){};n["nape.geom.MarchingSquares"]=g.geom.MarchingSquares;g.geom.MarchingSquares.__name__=["nape","geom","MarchingSquares"];g.geom.MarchingSquares.run=function(a,b,d,h,e,f,m){null==f&&(f=!0);null==h&&(h=2);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: MarchingSquares requires an iso function to operate";if(null==b)throw"Error: MarchingSquares requires an AABB to define bounds of surface extraction";if(null==d)throw"Error: MarchingSquares requires a Vec2 to define cell size for surface extraction";if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();var u;if(!(u=0>=d.zpp_inner.x)){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();
u=0>=d.zpp_inner.y}if(u)throw"Error: MarchingSquares cannot operate with non-positive cell dimensions";if(0>h)throw"Error: MarchingSquares cannot use a negative quality value for interpolation";if(u=null!=e){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();if(!(u=0>=e.zpp_inner.x)){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();u=0>=e.zpp_inner.y}}if(u)throw"Error: MarchingSquares cannot with non-positive sub-grid dimensions";
m=null!=m?m:new g.geom.GeomPolyList;if(null==e)c.geom.ZPP_MarchingSquares.run(a,function(a){b.zpp_inner.validate();return b.zpp_inner.minx}(this),function(a){b.zpp_inner.validate();return b.zpp_inner.miny}(this),b.zpp_inner.getmax().get_x(),b.zpp_inner.getmax().get_y(),d,h,f,m);else{var C;b.zpp_inner.validate();u=b.zpp_inner.width();if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();C=u/e.zpp_inner.x;var k;b.zpp_inner.validate();u=b.zpp_inner.height();
if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();k=u/e.zpp_inner.y;u=C|0;var p=k|0;u!=C&&u++;p!=k&&p++;for(C=0;C<u;){var v=C++;b.zpp_inner.validate();k=b.zpp_inner.minx;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();k+=e.zpp_inner.x*v;if(v==u-1)v=b.zpp_inner.getmax().get_x();else{v=k;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();v+=
e.zpp_inner.x}for(var l=0;l<p;){var n=l++,s;b.zpp_inner.validate();s=b.zpp_inner.miny;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();s+=e.zpp_inner.y*n;if(n==p-1)n=b.zpp_inner.getmax().get_y();else{n=s;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();n+=e.zpp_inner.y}c.geom.ZPP_MarchingSquares.run(a,k,s,v,n,d,h,f,m)}}}d.zpp_inner.weak?(d.dispose(),!0):!1;null!=e&&(e.zpp_inner.weak?(e.dispose(),
!0):!1);return m};g.geom.Mat23=function(a,b,d,h,e,f){null==f&&(f=0);null==e&&(e=0);null==h&&(h=1);null==d&&(d=0);null==b&&(b=0);null==a&&(a=1);this.zpp_inner=null;this.zpp_inner=c.geom.ZPP_Mat23.get();this.zpp_inner.outer=this;if(a!=a)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=a;this.zpp_inner.invalidate();this.zpp_inner.a;if(b!=b)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=b;this.zpp_inner.invalidate();this.zpp_inner.b;if(e!=e)throw"Error: Mat23::tx cannot be NaN";this.zpp_inner.tx=
e;this.zpp_inner.invalidate();this.zpp_inner.tx;if(d!=d)throw"Error: Mat23::c cannot be NaN";this.zpp_inner.c=d;this.zpp_inner.invalidate();this.zpp_inner.c;if(h!=h)throw"Error: Mat23::d cannot be NaN";this.zpp_inner.d=h;this.zpp_inner.invalidate();this.zpp_inner.d;if(f!=f)throw"Error: Mat23::ty cannot be NaN";this.zpp_inner.ty=f;this.zpp_inner.invalidate();this.zpp_inner.ty};n["nape.geom.Mat23"]=g.geom.Mat23;g.geom.Mat23.__name__=["nape","geom","Mat23"];g.geom.Mat23.fromMatrix=function(a){return new g.geom.Mat23(a.a,
a.c,a.b,a.d,a.tx,a.ty)};g.geom.Mat23.rotation=function(a){if(a!=a)throw"Error: Cannot create rotation matrix with NaN angle";var b=Math.cos(a);a=Math.sin(a);return new g.geom.Mat23(b,-a,a,b,0,0)};g.geom.Mat23.translation=function(a,b){return new g.geom.Mat23(1,0,0,1,a,b)};g.geom.Mat23.scale=function(a,b){return new g.geom.Mat23(a,0,0,b,0,0)};g.geom.Mat23.prototype={get_a:function(){return this.zpp_inner.a},set_a:function(a){if(a!=a)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=a;this.zpp_inner.invalidate();
return this.zpp_inner.a},get_b:function(){return this.zpp_inner.b},set_b:function(a){if(a!=a)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=a;this.zpp_inner.invalidate();return this.zpp_inner.b},get_c:function(){return this.zpp_inner.c},set_c:function(a){if(a!=a)throw"Error: Mat23::c cannot be NaN";this.zpp_inner.c=a;this.zpp_inner.invalidate();return this.zpp_inner.c},get_d:function(){return this.zpp_inner.d},set_d:function(a){if(a!=a)throw"Error: Mat23::d cannot be NaN";this.zpp_inner.d=
a;this.zpp_inner.invalidate();return this.zpp_inner.d},get_tx:function(){return this.zpp_inner.tx},set_tx:function(a){if(a!=a)throw"Error: Mat23::tx cannot be NaN";this.zpp_inner.tx=a;this.zpp_inner.invalidate();return this.zpp_inner.tx},get_ty:function(){return this.zpp_inner.ty},set_ty:function(a){if(a!=a)throw"Error: Mat23::ty cannot be NaN";this.zpp_inner.ty=a;this.zpp_inner.invalidate();return this.zpp_inner.ty},copy:function(){return new g.geom.Mat23(this.zpp_inner.a,this.zpp_inner.b,this.zpp_inner.c,
this.zpp_inner.d,this.zpp_inner.tx,this.zpp_inner.ty)},set:function(a){if(null==a)throw"Error: Cannot set form null matrix";this.zpp_inner.set(a.zpp_inner);this.zpp_inner.invalidate();return this},setAs:function(a,b,d,c,e,f){null==f&&(f=0);null==e&&(e=0);null==c&&(c=1);null==d&&(d=0);null==b&&(b=0);null==a&&(a=1);this.zpp_inner.setas(a,b,d,c,e,f);this.zpp_inner.invalidate();return this},reset:function(){return this.setAs()},toMatrix:function(a){null==a&&(a=new l.geom.Matrix);a.a=this.zpp_inner.a;
a.b=this.zpp_inner.c;a.c=this.zpp_inner.b;a.d=this.zpp_inner.d;a.tx=this.zpp_inner.tx;a.ty=this.zpp_inner.ty;return a},get_determinant:function(){return this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c},singular:function(){var a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d,b=this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c;0>b&&(b=-b);return a>g.Config.illConditionedThreshold*
b},inverse:function(){if(this.singular())throw"Error: Matrix is singular and cannot be inverted";var a=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);return new g.geom.Mat23(this.zpp_inner.d*a,-this.zpp_inner.b*a,-this.zpp_inner.c*a,this.zpp_inner.a*a,(this.zpp_inner.b*this.zpp_inner.ty-this.zpp_inner.d*this.zpp_inner.tx)*a,(this.zpp_inner.c*this.zpp_inner.tx-this.zpp_inner.a*this.zpp_inner.ty)*a)},transpose:function(){return new g.geom.Mat23(this.zpp_inner.a,this.zpp_inner.c,
this.zpp_inner.b,this.zpp_inner.d,-this.zpp_inner.a*this.zpp_inner.tx-this.zpp_inner.c*this.zpp_inner.ty,-this.zpp_inner.b*this.zpp_inner.tx-this.zpp_inner.d*this.zpp_inner.ty)},concat:function(a){if(null==a)throw"Error: Cannot concatenate with null Mat23";return new g.geom.Mat23(a.zpp_inner.a*this.zpp_inner.a+a.zpp_inner.b*this.zpp_inner.c,a.zpp_inner.a*this.zpp_inner.b+a.zpp_inner.b*this.zpp_inner.d,a.zpp_inner.c*this.zpp_inner.a+a.zpp_inner.d*this.zpp_inner.c,a.zpp_inner.c*this.zpp_inner.b+a.zpp_inner.d*
this.zpp_inner.d,a.zpp_inner.a*this.zpp_inner.tx+a.zpp_inner.b*this.zpp_inner.ty+a.zpp_inner.tx,a.zpp_inner.c*this.zpp_inner.tx+a.zpp_inner.d*this.zpp_inner.ty+a.zpp_inner.ty)},transform:function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";b=b?g.geom.Vec2.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.x}(this)*this.zpp_inner.a+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b,function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*
this.zpp_inner.d,d):g.geom.Vec2.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.a+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b+this.zpp_inner.tx,function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*
this.zpp_inner.c+function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.d+this.zpp_inner.ty,d);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},inverseTransform:function(a,b,d){null==d&&(d=!1);null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";if(this.singular())throw"Error: Matrix is singular and inverse transformation cannot be performed";
var c=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);if(b)d=g.geom.Vec2.get((function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.d-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.b)*c,(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this)*this.zpp_inner.a-function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*this.zpp_inner.c)*c,d);else{if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();b=a.zpp_inner.x-this.zpp_inner.tx;var e;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e=a.zpp_inner.y-
this.zpp_inner.ty;d=g.geom.Vec2.get((b*this.zpp_inner.d-e*this.zpp_inner.b)*c,(e*this.zpp_inner.a-b*this.zpp_inner.c)*c,d)}a.zpp_inner.weak?(a.dispose(),!0):!1;return d},toString:function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+" }"},equiorthogonal:function(){if(this.singular())return!1;var a=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;return a*a<g.Config.epsilon?
(a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-this.zpp_inner.c*this.zpp_inner.c-this.zpp_inner.d*this.zpp_inner.d,a*a<g.Config.epsilon):!1},orthogonal:function(){var a=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;if(a*a<g.Config.epsilon){var a=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-1,b=this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d-1;return a*a<g.Config.epsilon&&b*b<g.Config.epsilon}return!1},equiorthogonalise:function(){if(!this.equiorthogonal()){var a=
Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),b=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d);if(a*a<g.Config.epsilon||b*b<g.Config.epsilon)throw"Error: Matrix is singular and cannot be equiorthogonalised";var d=(a+b)/2,a=d/a,b=d/b;this.set_a(this.zpp_inner.a*a);this.set_c(this.zpp_inner.c*a);this.set_b(this.zpp_inner.b*b);this.set_d(this.zpp_inner.d*b);b=0.25*Math.PI-0.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*
this.zpp_inner.d)/(d*d));0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(b=-b);var a=Math.sin(b),b=Math.cos(b),d=this.zpp_inner.a*b-this.zpp_inner.c*a,c=this.zpp_inner.b*b+this.zpp_inner.d*a;this.set_c(this.zpp_inner.c*b+this.zpp_inner.a*a);if(d!=d)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=d;this.zpp_inner.invalidate();this.zpp_inner.a;this.set_d(this.zpp_inner.d*b-this.zpp_inner.b*a);if(c!=c)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=c;this.zpp_inner.invalidate();
this.zpp_inner.b;this.zpp_inner.invalidate()}return this},orthogonalise:function(){if(!this.orthogonal()){var a=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),b=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d);if(a*a<g.Config.epsilon||b*b<g.Config.epsilon)throw"Error: Matrix is singular and cannot be orthogonalised";a=1/a;b=1/b;this.set_a(this.zpp_inner.a*a);this.set_c(this.zpp_inner.c*a);this.set_b(this.zpp_inner.b*b);this.set_d(this.zpp_inner.d*
b);b=0.25*Math.PI-0.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)/1);0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(b=-b);var a=Math.sin(b),b=Math.cos(b),d=this.zpp_inner.a*b-this.zpp_inner.c*a,c=this.zpp_inner.b*b+this.zpp_inner.d*a;this.set_c(this.zpp_inner.c*b+this.zpp_inner.a*a);if(d!=d)throw"Error: Mat23::a cannot be NaN";this.zpp_inner.a=d;this.zpp_inner.invalidate();this.zpp_inner.a;this.set_d(this.zpp_inner.d*b-this.zpp_inner.b*
a);if(c!=c)throw"Error: Mat23::b cannot be NaN";this.zpp_inner.b=c;this.zpp_inner.invalidate();this.zpp_inner.b;this.zpp_inner.invalidate()}return this},__class__:g.geom.Mat23};g.geom.MatMN=function(a,b){this.zpp_inner=null;if(0>=a||0>=b)throw"Error: MatMN::dimensions cannot be < 1";this.zpp_inner=new c.geom.ZPP_MatMN(a,b);this.zpp_inner.outer=this};n["nape.geom.MatMN"]=g.geom.MatMN;g.geom.MatMN.__name__=["nape","geom","MatMN"];g.geom.MatMN.prototype={get_rows:function(){return this.zpp_inner.m},
get_cols:function(){return this.zpp_inner.n},x:function(a,b){if(0>a||0>b||a>=this.zpp_inner.m||b>=this.zpp_inner.n)throw"Error: MatMN indices out of range";return this.zpp_inner.x[a*this.zpp_inner.n+b]},setx:function(a,b,d){if(0>a||0>b||a>=this.zpp_inner.m||b>=this.zpp_inner.n)throw"Error: MatMN indices out of range";return this.zpp_inner.x[a*this.zpp_inner.n+b]=d},toString:function(){for(var a="{ ",b=!0,d=0,c=this.zpp_inner.m;d<c;){var e=d++;b||(a+="; ");for(var b=!1,f=0,m=this.zpp_inner.n;f<m;){var g=
f++,C=void 0;if(0>e||0>g||e>=this.zpp_inner.m||g>=this.zpp_inner.n)throw"Error: MatMN indices out of range";C=this.zpp_inner.x[e*this.zpp_inner.n+g];a+=C+" "}}return a+"}"},transpose:function(){for(var a=new g.geom.MatMN(this.zpp_inner.n,this.zpp_inner.m),b=0,d=this.zpp_inner.m;b<d;)for(var c=b++,e=0,f=this.zpp_inner.n;e<f;){var m=e++;a.setx(m,c,function(a){if(0>c||0>m||c>=a.zpp_inner.m||m>=a.zpp_inner.n)throw"Error: MatMN indices out of range";return a.zpp_inner.x[c*a.zpp_inner.n+m]}(this))}return a},
mul:function(a){if(this.zpp_inner.n!=a.zpp_inner.m)throw"Error: Matrix dimensions aren't compatible";for(var b=new g.geom.MatMN(this.zpp_inner.m,a.zpp_inner.n),d=0,c=this.zpp_inner.m;d<c;)for(var e=d++,f=0,m=a.zpp_inner.n;f<m;){for(var u=f++,C=0,k=0,p=this.zpp_inner.n;k<p;){var v=k++;if(0>e||0>v||e>=this.zpp_inner.m||v>=this.zpp_inner.n)throw"Error: MatMN indices out of range";var l=this.zpp_inner.x[e*this.zpp_inner.n+v];if(0>v||0>u||v>=a.zpp_inner.m||u>=a.zpp_inner.n)throw"Error: MatMN indices out of range";
C+=l*a.zpp_inner.x[v*a.zpp_inner.n+u]}if(0>e||0>u||e>=b.zpp_inner.m||u>=b.zpp_inner.n)throw"Error: MatMN indices out of range";b.zpp_inner.x[e*b.zpp_inner.n+u]=C}return b},__class__:g.geom.MatMN};g.geom.Ray=function(a,b){this.zpp_inner=null;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner=new c.geom.ZPP_Ray;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Ray::origin cannot be null";this.zpp_inner.origin.set(a);this.zpp_inner.origin;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==b)throw"Error: Ray::direction cannot be null";this.zpp_inner.direction.set(b);this.zpp_inner.zip_dir=!0;this.zpp_inner.direction;this.zpp_inner.maxdist=Math.POSITIVE_INFINITY};n["nape.geom.Ray"]=g.geom.Ray;g.geom.Ray.__name__=["nape","geom","Ray"];g.geom.Ray.fromSegment=function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Ray::fromSegment::start is null";if(null==b)throw"Error: Ray::fromSegment::end is null";var d=b.sub(a,!0),d=new g.geom.Ray(a,d);d.set_maxDistance(Math.sqrt(c.geom.ZPP_VecMath.vec_dsq(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this))));a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1;return d};g.geom.Ray.prototype={get_userData:function(){null==this.zpp_inner.userData&&
(this.zpp_inner.userData={});return this.zpp_inner.userData},get_origin:function(){return this.zpp_inner.origin},set_origin:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Ray::origin cannot be null";this.zpp_inner.origin.set(a);return this.zpp_inner.origin},get_direction:function(){return this.zpp_inner.direction},set_direction:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Ray::direction cannot be null";
this.zpp_inner.direction.set(a);this.zpp_inner.zip_dir=!0;return this.zpp_inner.direction},get_maxDistance:function(){return this.zpp_inner.maxdist},set_maxDistance:function(a){if(a!=a)throw"Error: maxDistance cannot be NaN";this.zpp_inner.maxdist=a;return this.zpp_inner.maxdist},aabb:function(){return this.zpp_inner.rayAABB().wrapper()},at:function(a,b){null==b&&(b=!1);this.zpp_inner.validate_dir();return g.geom.Vec2.get(this.zpp_inner.origin.get_x()+a*this.zpp_inner.dirx,this.zpp_inner.origin.get_y()+
a*this.zpp_inner.diry,b)},copy:function(){var a=new g.geom.Ray(this.zpp_inner.origin,this.zpp_inner.direction);a.set_maxDistance(this.zpp_inner.maxdist);return a},__class__:g.geom.Ray};g.geom.RayResult=function(){this.zpp_inner=null;if(!c.geom.ZPP_ConvexRayResult.internal)throw"Error: RayResult cannot be instantiated derp!";};n["nape.geom.RayResult"]=g.geom.RayResult;g.geom.RayResult.__name__=["nape","geom","RayResult"];g.geom.RayResult.prototype={get_normal:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
return this.zpp_inner.normal},get_distance:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.toiDistance},get_inner:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.inner},get_shape:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return this.zpp_inner.shape},dispose:function(){if(null!=
this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";this.zpp_inner.free()},toString:function(){if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";var a="{ shape: "+H.string(function(a){if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a.zpp_inner.shape}(this))+" distance: ";if(null!=this.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a+
this.zpp_inner.toiDistance+" ?inner: "+H.string(function(a){if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";return a.zpp_inner.inner}(this))+" }"},__class__:g.geom.RayResult};g.geom.RayResultIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_RayResultList.internal)throw"Error: Cannot instantiate RayResultIterator derp!";};n["nape.geom.RayResultIterator"]=g.geom.RayResultIterator;g.geom.RayResultIterator.__name__=
["nape","geom","RayResultIterator"];g.geom.RayResultIterator.get=function(a){var b;null==g.geom.RayResultIterator.zpp_pool?(c.util.ZPP_RayResultList.internal=!0,b=new g.geom.RayResultIterator,c.util.ZPP_RayResultList.internal=!1):(b=g.geom.RayResultIterator.zpp_pool,g.geom.RayResultIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.geom.RayResultIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=
!0;if(this.zpp_i<a)return!0;this.zpp_next=g.geom.RayResultIterator.zpp_pool;g.geom.RayResultIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.geom.RayResultIterator};g.geom.RayResultList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_RayResultList;this.zpp_inner.outer=this};n["nape.geom.RayResultList"]=g.geom.RayResultList;g.geom.RayResultList.__name__=["nape","geom","RayResultList"];g.geom.RayResultList.fromArray=
function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.geom.RayResultList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.geom.RayResultList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a)},at:function(a){this.zpp_inner.valmod();
if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},push:function(a){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();
this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a)):this.zpp_inner.inner.add(a),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},
pop:function(){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag)a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;
b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a},shift:function(){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=
null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);a=null==b?this.zpp_inner.inner.head.elt:b.next.elt;null!=this.zpp_inner.subber&&this.zpp_inner.subber(a);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();
this.zpp_inner.invalidate();return a},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a),this.zpp_inner.invalidate());return b},
clear:function(){if(this.zpp_inner.immutable)throw"Error: RayResultList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.geom.RayResultIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.geom.RayResultList,d;this.zpp_inner.valmod();for(d=g.geom.RayResultIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: RayResult is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.geom.RayResultIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.geom.RayResultIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.geom.RayResultIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.geom.RayResultIterator.zpp_pool;g.geom.RayResultIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==
a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.geom.RayResultList};g.geom.Vec2Iterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_Vec2List.internal)throw"Error: Cannot instantiate Vec2Iterator derp!";};n["nape.geom.Vec2Iterator"]=g.geom.Vec2Iterator;g.geom.Vec2Iterator.__name__=["nape","geom","Vec2Iterator"];g.geom.Vec2Iterator.get=
function(a){var b;null==g.geom.Vec2Iterator.zpp_pool?(c.util.ZPP_Vec2List.internal=!0,b=new g.geom.Vec2Iterator,c.util.ZPP_Vec2List.internal=!1):(b=g.geom.Vec2Iterator.zpp_pool,g.geom.Vec2Iterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.geom.Vec2Iterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.geom.Vec2Iterator.zpp_pool;g.geom.Vec2Iterator.zpp_pool=
this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.geom.Vec2Iterator};g.geom.Vec2List=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_Vec2List;this.zpp_inner.outer=this};n["nape.geom.Vec2List"]=g.geom.Vec2List;g.geom.Vec2List.__name__=["nape","geom","Vec2List"];g.geom.Vec2List.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.geom.Vec2List,d=0;d<a.length;){var c=
a[d];++d;b.push(c)}return b};g.geom.Vec2List.prototype={get_length:function(){return this.zpp_gl()},zpp_gl:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},has:function(a){this.zpp_vm();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&
(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();
this.zpp_vm();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.empty()?this.zpp_inner.push_ite=null:this.zpp_inner.push_ite=this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";
this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.zpp_inner.inner.head.elt:
b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);
var b;b=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?
this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";
if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},empty:function(){return 0==this.zpp_gl()},iterator:function(){this.zpp_vm();return g.geom.Vec2Iterator.get(this)},copy:function(a){null==a&&(a=!1);for(var b=new g.geom.Vec2List,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return g.geom.Vec2.get(function(a){if(null!=
c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(a),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(a),!1)}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";for(a=a.iterator();a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||this.add(b)}},toString:function(){for(var a="[",b=
!0,d=this.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";for(var b=this.iterator();b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.geom.Vec2Iterator.zpp_pool;g.geom.Vec2Iterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";
for(var b=0;b<this.zpp_gl();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.geom.Vec2List};g.geom.Vec3=function(a,b,d){null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.zpp_inner=this.zpp_pool=null;this.zpp_inner=new c.geom.ZPP_Vec3;this.zpp_inner.outer=this;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.x=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.y=b;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.z=d;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();this.zpp_inner.z};n["nape.geom.Vec3"]=g.geom.Vec3;g.geom.Vec3.__name__=["nape","geom","Vec3"];g.geom.Vec3.get=function(a,b,d){null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);var h;null==c.util.ZPP_PubPool.poolVec3?h=new g.geom.Vec3:(h=c.util.ZPP_PubPool.poolVec3,c.util.ZPP_PubPool.poolVec3=h.zpp_pool,h.zpp_pool=null,h.zpp_disp=!1,h==c.util.ZPP_PubPool.nextVec3&&(c.util.ZPP_PubPool.nextVec3=null));h.setxyz(a,b,d);h.zpp_inner.immutable=!1;h.zpp_inner._validate=null;return h};
g.geom.Vec3.prototype={get_x:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.x},set_x:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.x=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.x},get_y:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();return this.zpp_inner.y},set_y:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.y=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.y},get_z:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.z},set_z:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.z=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return this.zpp_inner.z},dispose:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: This Vec3 is not disposable";this.zpp_pool=null;null!=c.util.ZPP_PubPool.nextVec3?c.util.ZPP_PubPool.nextVec3.zpp_pool=this:c.util.ZPP_PubPool.poolVec3=this;c.util.ZPP_PubPool.nextVec3=
this;this.zpp_disp=!0},get_length:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this))},set_length:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
if(a!=a)throw"Error: Vec3::length cannot be NaN";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var b=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();b*=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var d=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();
b+=d*this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();d=this.zpp_inner.z;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();if(0==b+d*this.zpp_inner.z)throw"Error: Cannot set length of a zero vector";a/=function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(a)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(a)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(a)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.z}(a)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(a))}(this);var c=this;c.set_x(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)*a);var e=this;e.set_y(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)*
a);var f=this;f.set_z(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.z}(this)*a);if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return Math.sqrt(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+
function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)+function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this)*function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();
return a.zpp_inner.z}(this))},lsq:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var a=this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var a=a*this.zpp_inner.x,b;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();b=this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
this.zpp_inner.validate();a+=b*this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();b=this.zpp_inner.z;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return a+b*this.zpp_inner.z},set:function(a){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot assign null Vec3";
return this.setxyz(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.z}(this))},setxyz:function(a,b,d){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.x=a;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.x;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.y=b;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();
this.zpp_inner.y;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_inner.immutable)throw"Error: Vec3 is immutable";this.zpp_inner.z=d;if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();this.zpp_inner.z;return this},xy:function(a){null==a&&(a=!1);if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";return g.geom.Vec2.get(function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(a){if(a.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),a)},toString:function(){if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();var a="{ x: "+this.zpp_inner.x+" y: ";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();
a=a+this.zpp_inner.y+" z: ";if(this.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";this.zpp_inner.validate();return a+this.zpp_inner.z+" }"},__class__:g.geom.Vec3};g.geom.Winding=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate Winding derp!";};n["nape.geom.Winding"]=g.geom.Winding;g.geom.Winding.__name__=["nape","geom","Winding"];g.geom.Winding.get_UNDEFINED=function(){null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=
new g.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_UNDEFINED};g.geom.Winding.get_CLOCKWISE=function(){null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_CLOCKWISE};g.geom.Winding.get_ANTICLOCKWISE=function(){null==c.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_ANTICLOCKWISE=new g.geom.Winding,
c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Winding_ANTICLOCKWISE};g.geom.Winding.prototype={toString:function(){var a;null==c.util.ZPP_Flags.Winding_UNDEFINED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_UNDEFINED=new g.geom.Winding,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.Winding_UNDEFINED?a="UNDEFINED":(null==c.util.ZPP_Flags.Winding_CLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_CLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1),this==
c.util.ZPP_Flags.Winding_CLOCKWISE?a="CLOCKWISE":(null==c.util.ZPP_Flags.Winding_ANTICLOCKWISE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Winding_ANTICLOCKWISE=new g.geom.Winding,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""));return a},__class__:g.geom.Winding};g.phys={};g.phys.Interactor=function(){this.zpp_inner_i=null;throw"Error: Cannot instantiate an Interactor, only Shape/Body/Compound";};n["nape.phys.Interactor"]=g.phys.Interactor;g.phys.Interactor.__name__=
["nape","phys","Interactor"];g.phys.Interactor.prototype={get_id:function(){return this.zpp_inner_i.id},get_userData:function(){null==this.zpp_inner_i.userData&&(this.zpp_inner_i.userData={});return this.zpp_inner_i.userData},isShape:function(){return null!=this.zpp_inner_i.ishape},isBody:function(){return null!=this.zpp_inner_i.ibody},isCompound:function(){return null!=this.zpp_inner_i.icompound},get_castShape:function(){return null!=this.zpp_inner_i.ishape?this.zpp_inner_i.ishape.outer:null},get_castBody:function(){return null!=
this.zpp_inner_i.ibody?this.zpp_inner_i.ibody.outer:null},get_castCompound:function(){return null!=this.zpp_inner_i.icompound?this.zpp_inner_i.icompound.outer:null},get_group:function(){return null==this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},set_group:function(a){this.zpp_inner_i.immutable_midstep("Interactor::group");this.zpp_inner_i.setGroup(null==a?null:a.zpp_inner);return null==this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},get_cbTypes:function(){null==this.zpp_inner_i.wrap_cbTypes&&
this.zpp_inner_i.setupcbTypes();return this.zpp_inner_i.wrap_cbTypes},toString:function(){return""},__class__:g.phys.Interactor};g.phys.Body=function(a,b){this.debugDraw=!0;this.zpp_inner=null;try{g.phys.Interactor.call(this)}catch(d){}this.zpp_inner=new c.phys.ZPP_Body;this.zpp_inner.outer=this;this.zpp_inner.outer_i=this;this.zpp_inner_i=this.zpp_inner;if(null!=b){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();this.zpp_inner.posx=b.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();this.zpp_inner.posy=b.zpp_inner.y}else this.zpp_inner.posx=0,this.zpp_inner.posy=0;this.set_type(null==a?function(a){null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.BodyType_DYNAMIC}(this):a);null!=b&&(b.zpp_inner.weak?
(b.dispose(),!0):!1);this.zpp_inner_i.insert_cbtype(c.callbacks.ZPP_CbType.ANY_BODY.zpp_inner)};n["nape.phys.Body"]=g.phys.Body;g.phys.Body.__name__=["nape","phys","Body"];g.phys.Body.__super__=g.phys.Interactor;g.phys.Body.prototype=K(g.phys.Interactor.prototype,{get_type:function(){return c.phys.ZPP_Body.types[this.zpp_inner.type]},set_type:function(a){this.zpp_inner.immutable_midstep("Body::type");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(c.phys.ZPP_Body.types[this.zpp_inner.type]!=
a){if(null==a)throw"Error: Cannot use null BodyType";null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.BodyType_DYNAMIC?a=c.util.ZPP_Flags.id_BodyType_DYNAMIC:(null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.BodyType_KINEMATIC?c.util.ZPP_Flags.id_BodyType_KINEMATIC:
c.util.ZPP_Flags.id_BodyType_STATIC);a==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.space&&(this.zpp_inner.velx=0,this.zpp_inner.vely=0,this.zpp_inner.angvel=0);this.zpp_inner.invalidate_type();null!=this.zpp_inner.space?this.zpp_inner.space.transmitType(this.zpp_inner,a):this.zpp_inner.type=a}return c.phys.ZPP_Body.types[this.zpp_inner.type]},get_isBullet:function(){return this.zpp_inner.bulletEnabled},set_isBullet:function(a){this.zpp_inner.bulletEnabled=a;return this.zpp_inner.bulletEnabled},
get_disableCCD:function(){return this.zpp_inner.disableCCD},set_disableCCD:function(a){this.zpp_inner.disableCCD=a;return this.zpp_inner.disableCCD},integrate:function(a){if(a!=a)throw"Cannot integrate by NaN time";this.zpp_inner.immutable_midstep("Body::space");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(0==a)return this;var b=this.zpp_inner;b.sweepTime=0;b.sweep_angvel=b.angvel;b.sweepIntegrate(a);b.invalidate_pos();b.invalidate_rot();b.sweepTime=0;return this},isStatic:function(){return this.zpp_inner.type==
c.util.ZPP_Flags.id_BodyType_STATIC},isDynamic:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC},isKinematic:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC},get_shapes:function(){return this.zpp_inner.wrap_shapes},get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a&&(null!=(null==this.zpp_inner.compound?
null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(this),null!=a&&a.zpp_inner.wrap_bodies.add(this));return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if(null!=this.zpp_inner.compound)throw"Error: Cannot set the space of a Body belonging to a Compound, only the root Compound space can be set";
this.zpp_inner.immutable_midstep("Body::space");if(this.zpp_inner.world)throw"Error: Space::world is immutable";(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.component.woken=!1),null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(this),null!=a&&a.zpp_inner.wrap_bodies.add(this));return null==
this.zpp_inner.space?null:this.zpp_inner.space.outer},get_arbiters:function(){null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));return this.zpp_inner.wrap_arbiters},get_isSleeping:function(){if(null==this.zpp_inner.space)throw"Error: isSleeping makes no sense if the object is not contained within a Space";return this.zpp_inner.component.sleeping},get_constraints:function(){null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=
c.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));return this.zpp_inner.wrap_constraints},copy:function(){if(this.zpp_inner.world)throw"Error: Space::world cannot be copied";return this.zpp_inner.copy()},get_position:function(){null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();return this.zpp_inner.wrap_pos},set_position:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::position cannot be null";null==this.zpp_inner.wrap_pos&&
this.zpp_inner.setupPosition();this.zpp_inner.wrap_pos.set(a);null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();return this.zpp_inner.wrap_pos},get_velocity:function(){null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();return this.zpp_inner.wrap_vel},set_velocity:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::velocity cannot be null";null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();this.zpp_inner.wrap_vel.set(a);
null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();return this.zpp_inner.wrap_vel},setVelocityFromTarget:function(a,b,d){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Cannot set velocity for null target position";if(0==d)throw"deltaTime cannot be 0 for setVelocityFromTarget";d=1/d;null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();this.zpp_inner.wrap_vel.set(a.sub(function(a){null==a.zpp_inner.wrap_pos&&a.zpp_inner.setupPosition();
return a.zpp_inner.wrap_pos}(this),!0).muleq(d));this.set_angularVel((b-this.zpp_inner.rot)*d);a.zpp_inner.weak?(a.dispose(),!0):!1;return this},get_kinematicVel:function(){null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();return this.zpp_inner.wrap_kinvel},set_kinematicVel:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::kinematicVel cannot be null";null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();
this.zpp_inner.wrap_kinvel.set(a);null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();return this.zpp_inner.wrap_kinvel},get_surfaceVel:function(){null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();return this.zpp_inner.wrap_svel},set_surfaceVel:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::surfaceVel cannot be null";null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();this.zpp_inner.wrap_svel.set(a);
null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();return this.zpp_inner.wrap_svel},get_force:function(){null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();return this.zpp_inner.wrap_force},set_force:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Body::force cannot be null";null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();this.zpp_inner.wrap_force.set(a);null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();
return this.zpp_inner.wrap_force},get_constraintVelocity:function(){null==this.zpp_inner.wrapcvel&&this.zpp_inner.setup_cvel();return this.zpp_inner.wrapcvel},get_rotation:function(){return this.zpp_inner.rot},set_rotation:function(a){this.zpp_inner.immutable_midstep("Body::rotation");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.space)throw"Error: Static objects cannot be rotated once inside a Space";
if(this.zpp_inner.rot!=a){if(a!=a)throw"Error: Body::rotation cannot be NaN";this.zpp_inner.rot=a;this.zpp_inner.invalidate_rot();this.zpp_inner.wake()}return this.zpp_inner.rot},get_angularVel:function(){return this.zpp_inner.angvel},set_angularVel:function(a){if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(this.zpp_inner.angvel!=a){if(a!=a)throw"Error: Body::angularVel cannot be NaN";if(this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: A static object cannot be given a velocity";
this.zpp_inner.angvel=a;this.zpp_inner.wake()}return this.zpp_inner.angvel},get_kinAngVel:function(){return this.zpp_inner.kinangvel},set_kinAngVel:function(a){if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(this.zpp_inner.kinangvel!=a){if(a!=a)throw"Error: Body::kinAngVel cannot be NaN";this.zpp_inner.kinangvel=a;this.zpp_inner.wake()}return this.zpp_inner.kinangvel},get_torque:function(){return this.zpp_inner.torque},set_torque:function(a){if(this.zpp_inner.world)throw"Error: Space::world is immutable";
if(this.zpp_inner.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Non-dynamic body cannot have torque applied.";if(a!=a)throw"Error: Body::torque cannot be NaN";this.zpp_inner.torque!=a&&(this.zpp_inner.torque=a,this.zpp_inner.wake());return this.zpp_inner.torque},get_bounds:function(){if(this.zpp_inner.world)throw"Error: Space::world has no bounds";return this.zpp_inner.aabb.wrapper()},get_allowMovement:function(){return!this.zpp_inner.nomove},set_allowMovement:function(a){this.zpp_inner.immutable_midstep("Body::"+
(null==a?"null":""+a));!this.zpp_inner.nomove!=a&&(this.zpp_inner.nomove=!a,this.zpp_inner.invalidate_mass());return!this.zpp_inner.nomove},get_allowRotation:function(){return!this.zpp_inner.norotate},set_allowRotation:function(a){this.zpp_inner.immutable_midstep("Body::"+(null==a?"null":""+a));!this.zpp_inner.norotate!=a&&(this.zpp_inner.norotate=!a,this.zpp_inner.invalidate_inertia());return!this.zpp_inner.norotate},get_massMode:function(){var a;null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.MassMode_DEFAULT=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);a=c.util.ZPP_Flags.MassMode_DEFAULT;null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.MassMode_FIXED][this.zpp_inner.massMode]},set_massMode:function(a){this.zpp_inner.immutable_midstep("Body::massMode");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: cannot use null massMode";
null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.MassMode_DEFAULT?this.zpp_inner.massMode=c.util.ZPP_Flags.id_MassMode_DEFAULT:this.zpp_inner.massMode=c.util.ZPP_Flags.id_MassMode_FIXED;this.zpp_inner.invalidate_mass();null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);a=
c.util.ZPP_Flags.MassMode_DEFAULT;null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.MassMode_FIXED][this.zpp_inner.massMode]},get_constraintMass:function(){this.zpp_inner.world||this.zpp_inner.validate_mass();return this.zpp_inner.smass},get_mass:function(){if(this.zpp_inner.world)throw"Error: Space::world has no mass";this.zpp_inner.validate_mass();if(this.zpp_inner.massMode==
c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==this.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return this.zpp_inner.cmass},set_mass:function(a){this.zpp_inner.immutable_midstep("Body::mass");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: Mass cannot be NaN";if(0>=a)throw"Error: Mass must be strictly positive";if(a>=Math.POSITIVE_INFINITY)throw"Error: Mass cannot be infinite, use allowMovement = false instead";
this.zpp_inner.massMode=c.util.ZPP_Flags.id_MassMode_FIXED;this.zpp_inner.cmass=a;this.zpp_inner.invalidate_mass();if(this.zpp_inner.world)throw"Error: Space::world has no mass";this.zpp_inner.validate_mass();if(this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==this.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return this.zpp_inner.cmass},get_gravMassMode:function(){null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var a=c.util.ZPP_Flags.GravMassMode_DEFAULT,b;null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);b=c.util.ZPP_Flags.GravMassMode_FIXED;null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=
!1);return[a,b,c.util.ZPP_Flags.GravMassMode_SCALED][this.zpp_inner.massMode]},set_gravMassMode:function(a){this.zpp_inner.immutable_midstep("Body::gravMassMode");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot use null gravMassMode";null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.GravMassMode_SCALED?this.zpp_inner.gravMassMode=
c.util.ZPP_Flags.id_GravMassMode_SCALED:(null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.GravMassMode_DEFAULT?this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_DEFAULT:this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_FIXED);this.zpp_inner.invalidate_gravMass();null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=
new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);a=c.util.ZPP_Flags.GravMassMode_DEFAULT;null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var b=c.util.ZPP_Flags.GravMassMode_FIXED;null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return[a,b,c.util.ZPP_Flags.GravMassMode_SCALED][this.zpp_inner.massMode]},
get_gravMass:function(){if(this.zpp_inner.world)throw"Error: Space::world has no gravMass";this.zpp_inner.validate_gravMass();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_FIXED)throw"Error: Given current mass/gravMass modes; Body::gravMass only makes sense if it contains Shapes";return this.zpp_inner.gravMass},set_gravMass:function(a){this.zpp_inner.immutable_midstep("Body::gravMass");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: gravMass cannot be NaN";this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_FIXED;this.zpp_inner.gravMass=a;this.zpp_inner.invalidate_gravMass();if(this.zpp_inner.world)throw"Error: Space::world has no gravMass";this.zpp_inner.validate_gravMass();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_FIXED)throw"Error: Given current mass/gravMass modes; Body::gravMass only makes sense if it contains Shapes";
return this.zpp_inner.gravMass},get_gravMassScale:function(){this.zpp_inner.validate_gravMassScale();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED)throw"Error: Given current mass/gravMass modes; Body::gravMassScale only makes sense if it contains Shapes";return this.zpp_inner.gravMassScale},set_gravMassScale:function(a){this.zpp_inner.immutable_midstep("Body::gravMassScale");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: gravMassScale cannot be NaN";this.zpp_inner.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_SCALED;this.zpp_inner.gravMassScale=a;this.zpp_inner.invalidate_gravMassScale();this.zpp_inner.validate_gravMassScale();if(null==this.zpp_inner.shapes.head&&this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&this.zpp_inner.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED)throw"Error: Given current mass/gravMass modes; Body::gravMassScale only makes sense if it contains Shapes";
return this.zpp_inner.gravMassScale},get_inertiaMode:function(){null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);var a=c.util.ZPP_Flags.InertiaMode_DEFAULT;null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},
set_inertiaMode:function(a){this.zpp_inner.immutable_midstep("Body::inertiaMode");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot use null InertiaMode";null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);a==c.util.ZPP_Flags.InertiaMode_FIXED?this.zpp_inner.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_FIXED:this.zpp_inner.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_DEFAULT;
this.zpp_inner.invalidate_inertia();null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);a=c.util.ZPP_Flags.InertiaMode_DEFAULT;null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return[a,c.util.ZPP_Flags.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},get_constraintInertia:function(){this.zpp_inner.world||
this.zpp_inner.validate_inertia();return this.zpp_inner.sinertia},get_inertia:function(){if(this.zpp_inner.world)throw"Error: Space::world has no inertia";this.zpp_inner.validate_inertia();if(this.zpp_inner.inertiaMode==c.util.ZPP_Flags.id_InertiaMode_DEFAULT&&this.zpp_inner.wrap_shapes.empty())throw"Error: Given current inertia mode flag, Body::inertia only makes sense if Body contains Shapes";return this.zpp_inner.cinertia},set_inertia:function(a){this.zpp_inner.immutable_midstep("Body::inertia");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(a!=a)throw"Error: Inertia cannot be NaN";if(0>=a)throw"Error: Inertia must be strictly positive";if(a>=Math.POSITIVE_INFINITY)throw"Error: Inertia cannot be infinite, use allowRotation = false instead";this.zpp_inner.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_FIXED;this.zpp_inner.cinertia=a;this.zpp_inner.invalidate_inertia();if(this.zpp_inner.world)throw"Error: Space::world has no inertia";this.zpp_inner.validate_inertia();if(this.zpp_inner.inertiaMode==
c.util.ZPP_Flags.id_InertiaMode_DEFAULT&&this.zpp_inner.wrap_shapes.empty())throw"Error: Given current inertia mode flag, Body::inertia only makes sense if Body contains Shapes";return this.zpp_inner.cinertia},connectedBodies:function(a,b){null==a&&(a=-1);return this.zpp_inner.connectedBodies(a,b)},interactingBodies:function(a,b,d){null==b&&(b=-1);null==a?a=c.dynamics.ZPP_Arbiter.COL|c.dynamics.ZPP_Arbiter.SENSOR|c.dynamics.ZPP_Arbiter.FLUID:(null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a==c.util.ZPP_Flags.InteractionType_COLLISION?a=c.dynamics.ZPP_Arbiter.COL:(null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),a=a==c.util.ZPP_Flags.InteractionType_SENSOR?c.dynamics.ZPP_Arbiter.SENSOR:c.dynamics.ZPP_Arbiter.FLUID));return this.zpp_inner.interactingBodies(a,
b,d)},crushFactor:function(){if(null==(null==this.zpp_inner.space?null:this.zpp_inner.space.outer))throw"Error: Makes no sense to see how much an object not taking part in a simulation is being crushed";var a=0,b=g.geom.Vec2.get(null,null,null);null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var d=this.zpp_inner.wrap_arbiters.iterator();d.hasNext();){d.zpp_critical=!1;var h=d.zpp_inner.at(d.zpp_i++).totalImpulse(this),e=
h.xy();b.addeq(e);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a+=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();
return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));e.dispose();h.dispose()}null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=c.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0));for(d=this.zpp_inner.wrap_constraints.iterator();d.hasNext();){d.zpp_critical=!1;var h=d.zpp_inner.at(d.zpp_i++).bodyImpulse(this),f=h.xy();b.addeq(f);if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a+=Math.sqrt(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this)*function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this)+function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this)*function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();return f.zpp_inner.y}(this));f.dispose();h.dispose()}a-=function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(a)*function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(a)+function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(a)*function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(a))}(this);if(this.zpp_inner.world)throw"Error: Space::world has no mass";this.zpp_inner.validate_mass();if(this.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==this.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";a/=this.zpp_inner.cmass*
(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.pre_dt;b.dispose();return a},localPointToWorld:function(a,b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0,d=this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d*=a.zpp_inner.x;c=this.zpp_inner.axisx;if(null!=a&&
a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d-=c*a.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.x*this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c+=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.weak?(a.dispose(),!0):!1;return g.geom.Vec2.get(d+this.zpp_inner.posx,c+this.zpp_inner.posy,b)},worldPointToLocal:function(a,
b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0,e=0;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.x-this.zpp_inner.posx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e=a.zpp_inner.y-this.zpp_inner.posy;d=c*this.zpp_inner.axisy+
e*this.zpp_inner.axisx;c=e*this.zpp_inner.axisy-c*this.zpp_inner.axisx;a.zpp_inner.weak?(a.dispose(),!0):!1;return g.geom.Vec2.get(d,c,b)},localVectorToWorld:function(a,b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0,d=this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d*=a.zpp_inner.x;
c=this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d-=c*a.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c=a.zpp_inner.x*this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c+=a.zpp_inner.y*this.zpp_inner.axisy;a.zpp_inner.weak?(a.dispose(),!0):!1;return g.geom.Vec2.get(d,c,b)},worldVectorToLocal:function(a,
b){null==b&&(b=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot transform null Vec2";this.zpp_inner.validate_axis();var d=0,c=0;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d=a.zpp_inner.x*this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();d+=a.zpp_inner.y*this.zpp_inner.axisx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();c=a.zpp_inner.y*this.zpp_inner.axisy;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();c-=a.zpp_inner.x*this.zpp_inner.axisx;a.zpp_inner.weak?(a.dispose(),!0):!1;return g.geom.Vec2.get(d,c,b)},applyImpulse:function(a,b,d){null==d&&(d=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner.world)throw"Error: Space::world is immutable";
if(null==a)throw"Error: Cannot apply null impulse to Body";var h;if(h=d){if(null==this.zpp_inner.space)throw"Error: isSleeping makes no sense if the object is not contained within a Space";h=this.zpp_inner.component.sleeping}if(h)return a.zpp_inner.weak?(a.dispose(),!0):!1,null!=b&&(b.zpp_inner.weak?(b.dispose(),!0):!1),this;this.zpp_inner.validate_mass();h=this.zpp_inner.imass;var e=this.zpp_inner,f=this.zpp_inner.velx;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();e.velx=f+a.zpp_inner.x*h;e=this.zpp_inner;f=this.zpp_inner.vely;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e.vely=f+a.zpp_inner.y*h;if(null!=b){var m=0;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();m=b.zpp_inner.x-this.zpp_inner.posx;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();h=b.zpp_inner.y-this.zpp_inner.posy;
this.zpp_inner.validate_inertia();e=this.zpp_inner;f=this.zpp_inner.angvel;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();m*=a.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();e.angvel=f+(m-a.zpp_inner.x*h)*this.zpp_inner.iinertia;b.zpp_inner.weak?(b.dispose(),!0):!1}d||this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.zpp_inner.wake();a.zpp_inner.weak?(a.dispose(),
!0):!1;return this},applyAngularImpulse:function(a,b){null==b&&(b=!1);if(this.zpp_inner.world)throw"Error: Space::world is immutable";var d;if(d=b){if(null==this.zpp_inner.space)throw"Error: isSleeping makes no sense if the object is not contained within a Space";d=this.zpp_inner.component.sleeping}if(d)return this;this.zpp_inner.validate_inertia();this.zpp_inner.angvel+=a*this.zpp_inner.iinertia;b||this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.zpp_inner.wake();return this},translateShapes:function(a){this.zpp_inner.immutable_midstep("Body::translateShapes()");
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==a)throw"Error: Cannot displace by null Vec2";var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;for(var d=this.zpp_inner.shapes.head;null!=d;)d.elt.outer.translate(a),d=d.next;a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},rotateShapes:function(a){this.zpp_inner.immutable_midstep("Body::rotateShapes()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";
for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.rotate(a),b=b.next;return this},scaleShapes:function(a,b){this.zpp_inner.immutable_midstep("Body::scaleShapes()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var d=this.zpp_inner.shapes.head;null!=d;)d.elt.outer.scale(a,b),d=d.next;return this},transformShapes:function(a){this.zpp_inner.immutable_midstep("Body::transformShapes()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=
b;)b.elt.outer.transform(a),b=b.next;return this},align:function(){this.zpp_inner.immutable_midstep("Body::align()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";if(null==this.zpp_inner.shapes.head)throw"Error: Cannot align empty Body";this.zpp_inner.validate_localCOM();var a=g.geom.Vec2.get(-this.zpp_inner.localCOMx,-this.zpp_inner.localCOMy,null);this.translateShapes(a);var b=this.localVectorToWorld(a);null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();this.zpp_inner.wrap_pos.subeq(b);
if(this.zpp_inner.pre_posx<Math.POSITIVE_INFINITY){var d=this.zpp_inner,c=this.zpp_inner.pre_posx;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();d.pre_posx=c-1*b.zpp_inner.x;d=this.zpp_inner;c=this.zpp_inner.pre_posy;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();d.pre_posy=c-1*b.zpp_inner.y}a.dispose();b.dispose();return this},rotate:function(a,b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot rotate about a null Vec2";if(b!=b)throw"Error: Cannot rotate by NaN radians";var d=a.zpp_inner.weak;a.zpp_inner.weak=!1;null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();var c=this.zpp_inner.wrap_pos.sub(a);c.rotate(b);this.set_position(a.add(c,!0));c.dispose();this.set_rotation(this.zpp_inner.rot+b);a.zpp_inner.weak=d;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},setShapeMaterials:function(a){this.zpp_inner.immutable_midstep("Body::setShapeMaterials()");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_material(a),b=b.next;return this},setShapeFilters:function(a){this.zpp_inner.immutable_midstep("Body::setShapeFilters()");if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_filter(a),b=b.next;return this},setShapeFluidProperties:function(a){this.zpp_inner.immutable_midstep("Body::setShapeFluidProperties()");
if(this.zpp_inner.world)throw"Error: Space::world is immutable";for(var b=this.zpp_inner.shapes.head;null!=b;)b.elt.outer.set_fluidProperties(a),b=b.next;return this},get_localCOM:function(){if(this.zpp_inner.world)throw"Error: Space::world has no localCOM";null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.wrap_localCOM=g.geom.Vec2.get(this.zpp_inner.localCOMx,this.zpp_inner.localCOMy,null),this.zpp_inner.wrap_localCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_localCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_localCOM.zpp_inner._validate=
(ga=this.zpp_inner,B(ga,ga.getlocalCOM)));return this.zpp_inner.wrap_localCOM},get_worldCOM:function(){if(this.zpp_inner.world)throw"Error: Space::world has no worldCOM";null==this.zpp_inner.wrap_worldCOM&&(this.zpp_inner.wrap_worldCOM=g.geom.Vec2.get(this.zpp_inner.worldCOMx,this.zpp_inner.worldCOMy,null),this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=(ga=this.zpp_inner,B(ga,ga.getworldCOM)));
return this.zpp_inner.wrap_worldCOM},normalImpulse:function(a,b){null==b&&(b=!1);var d=0,h=0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var f=this.zpp_inner.wrap_arbiters.iterator();f.hasNext();){f.zpp_critical=!1;var m=f.zpp_inner.at(f.zpp_i++).zpp_inner;if(m.type==c.dynamics.ZPP_Arbiter.COL&&(null==a||m.b2==a.zpp_inner||m.b1==a.zpp_inner)){m=m.wrapper().get_collisionArbiter().normalImpulse(this,b);if(null!=m&&
m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();h+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}}return g.geom.Vec3.get(d,h,e)},tangentImpulse:function(a,b){null==b&&(b=!1);var d=0,h=0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=
c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var f=this.zpp_inner.wrap_arbiters.iterator();f.hasNext();){f.zpp_critical=!1;var m=f.zpp_inner.at(f.zpp_i++).zpp_inner;if(m.type==c.dynamics.ZPP_Arbiter.COL&&(null==a||m.b2==a.zpp_inner||m.b1==a.zpp_inner)){m=m.wrapper().get_collisionArbiter().tangentImpulse(this,b);if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
m.zpp_inner.validate();h+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}}return g.geom.Vec3.get(d,h,e)},totalContactsImpulse:function(a,b){null==b&&(b=!1);var d=0,h=0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var f=this.zpp_inner.wrap_arbiters.iterator();f.hasNext();){f.zpp_critical=!1;var m=f.zpp_inner.at(f.zpp_i++).zpp_inner;
if(m.type==c.dynamics.ZPP_Arbiter.COL&&(null==a||m.b2==a.zpp_inner||m.b1==a.zpp_inner)){m=m.wrapper().get_collisionArbiter().totalImpulse(this,b);if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();h+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;
m.dispose()}}return g.geom.Vec3.get(d,h,e)},rollingImpulse:function(a,b){null==b&&(b=!1);var d=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var h=this.zpp_inner.wrap_arbiters.iterator();h.hasNext();){h.zpp_critical=!1;var e=h.zpp_inner.at(h.zpp_i++).zpp_inner;e.type!=c.dynamics.ZPP_Arbiter.COL||null!=a&&e.b2!=a.zpp_inner&&e.b1!=a.zpp_inner||(d+=e.wrapper().get_collisionArbiter().rollingImpulse(this,b))}return d},buoyancyImpulse:function(a){var b=
0,d=0,h=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var e=this.zpp_inner.wrap_arbiters.iterator();e.hasNext();){e.zpp_critical=!1;var f=e.zpp_inner.at(e.zpp_i++).zpp_inner;if(f.type==c.dynamics.ZPP_Arbiter.FLUID&&(null==a||f.b2==a.zpp_inner||f.b1==a.zpp_inner)){f=f.wrapper().get_fluidArbiter().buoyancyImpulse(this);if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();
b+=1*f.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();d+=1*f.zpp_inner.y;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();h+=1*f.zpp_inner.z;f.dispose()}}return g.geom.Vec3.get(b,d,h)},dragImpulse:function(a){var b=0,d=0,h=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var e=this.zpp_inner.wrap_arbiters.iterator();e.hasNext();){e.zpp_critical=
!1;var f=e.zpp_inner.at(e.zpp_i++).zpp_inner;if(f.type==c.dynamics.ZPP_Arbiter.FLUID&&(null==a||f.b2==a.zpp_inner||f.b1==a.zpp_inner)){f=f.wrapper().get_fluidArbiter().dragImpulse(this);if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();b+=1*f.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();d+=1*f.zpp_inner.y;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
f.zpp_inner.validate();h+=1*f.zpp_inner.z;f.dispose()}}return g.geom.Vec3.get(b,d,h)},totalFluidImpulse:function(a){var b=0,d=0,h=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var e=this.zpp_inner.wrap_arbiters.iterator();e.hasNext();){e.zpp_critical=!1;var f=e.zpp_inner.at(e.zpp_i++).zpp_inner;if(f.type==c.dynamics.ZPP_Arbiter.FLUID&&(null==a||f.b2==a.zpp_inner||f.b1==a.zpp_inner)){f=f.wrapper().get_fluidArbiter().totalImpulse(this);
if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();b+=1*f.zpp_inner.x;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();d+=1*f.zpp_inner.y;if(null!=f&&f.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";f.zpp_inner.validate();h+=1*f.zpp_inner.z;f.dispose()}}return g.geom.Vec3.get(b,d,h)},constraintsImpulse:function(){for(var a=0,b=0,d=0,c=this.zpp_inner.constraints.head;null!=c;){var e=
c.elt.outer.bodyImpulse(this);if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();a+=1*e.zpp_inner.x;if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();b+=1*e.zpp_inner.y;if(null!=e&&e.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";e.zpp_inner.validate();d+=1*e.zpp_inner.z;e.dispose();c=c.next}return g.geom.Vec3.get(a,b,d)},totalImpulse:function(a,b){null==b&&(b=!1);var d=0,h=
0,e=0;null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0));for(var f=this.zpp_inner.wrap_arbiters.iterator();f.hasNext();){f.zpp_critical=!1;var m=f.zpp_inner.at(f.zpp_i++).zpp_inner;if(m.type!=c.dynamics.ZPP_Arbiter.SENSOR&&(null==a||m.b2==a.zpp_inner||m.b1==a.zpp_inner)){m=m.wrapper().totalImpulse(this,b);if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=
m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();h+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}}for(f=this.zpp_inner.constraints.head;null!=f;){m=f.elt;if(m.active){m=m.outer.bodyImpulse(this);if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();d+=1*m.zpp_inner.x;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
m.zpp_inner.validate();h+=1*m.zpp_inner.y;if(null!=m&&m.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";m.zpp_inner.validate();e+=1*m.zpp_inner.z;m.dispose()}f=f.next}return g.geom.Vec3.get(d,h,e)},contains:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot check containment of null point";var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;var d;d=!1;for(var c=this.zpp_inner.shapes.head;null!=c;){if(c.elt.outer.contains(a)){d=
!0;break}c=c.next}a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return d},toString:function(){return(this.zpp_inner.world?"(space::world":"("+(this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?"dynamic":this.zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC?"static":"kinematic"))+")#"+this.zpp_inner_i.id},__class__:g.phys.Body});g.phys.BodyIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_BodyList.internal)throw"Error: Cannot instantiate BodyIterator derp!";
};n["nape.phys.BodyIterator"]=g.phys.BodyIterator;g.phys.BodyIterator.__name__=["nape","phys","BodyIterator"];g.phys.BodyIterator.get=function(a){var b;null==g.phys.BodyIterator.zpp_pool?(c.util.ZPP_BodyList.internal=!0,b=new g.phys.BodyIterator,c.util.ZPP_BodyList.internal=!1):(b=g.phys.BodyIterator.zpp_pool,g.phys.BodyIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.phys.BodyIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();
this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.phys.BodyIterator.zpp_pool;g.phys.BodyIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.phys.BodyIterator};g.phys.BodyList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_BodyList;this.zpp_inner.outer=this};n["nape.phys.BodyList"]=g.phys.BodyList;g.phys.BodyList.__name__=["nape","phys","BodyList"];g.phys.BodyList.fromArray=function(a){if(null==
a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.phys.BodyList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.phys.BodyList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";
this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=
this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();
var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||
this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),
this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: BodyList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.phys.BodyIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.phys.BodyList,d;this.zpp_inner.valmod();for(d=g.phys.BodyIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Body is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.phys.BodyIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.phys.BodyIterator.get(this);d.hasNext();){var c;
d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.phys.BodyIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.phys.BodyIterator.zpp_pool;g.phys.BodyIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";
for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.phys.BodyList};g.phys.BodyType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate BodyType derp!";};n["nape.phys.BodyType"]=g.phys.BodyType;g.phys.BodyType.__name__=["nape","phys","BodyType"];g.phys.BodyType.get_STATIC=function(){null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.BodyType_STATIC};g.phys.BodyType.get_DYNAMIC=function(){null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.BodyType_DYNAMIC};g.phys.BodyType.get_KINEMATIC=function(){null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.BodyType_KINEMATIC};
g.phys.BodyType.prototype={toString:function(){var a;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.BodyType_STATIC?a="STATIC":(null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.BodyType_DYNAMIC?a="DYNAMIC":(null==c.util.ZPP_Flags.BodyType_KINEMATIC&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.BodyType_KINEMATIC?"KINEMATIC":""));return a},__class__:g.phys.BodyType};g.phys.Compound=function(){this.zpp_inner=null;try{g.phys.Interactor.call(this)}catch(a){}this.zpp_inner=new c.phys.ZPP_Compound;this.zpp_inner.outer=this;this.zpp_inner.outer_i=this;this.zpp_inner_i=this.zpp_inner;this.zpp_inner.insert_cbtype(c.callbacks.ZPP_CbType.ANY_COMPOUND.zpp_inner)};
n["nape.phys.Compound"]=g.phys.Compound;g.phys.Compound.__name__=["nape","phys","Compound"];g.phys.Compound.__super__=g.phys.Interactor;g.phys.Compound.prototype=K(g.phys.Interactor.prototype,{get_bodies:function(){return this.zpp_inner.wrap_bodies},get_constraints:function(){return this.zpp_inner.wrap_constraints},get_compounds:function(){return this.zpp_inner.wrap_compounds},get_compound:function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},set_compound:function(a){this.zpp_inner.immutable_midstep("Compound::compound");
(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=a&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(this),null!=a&&a.zpp_inner.wrap_compounds.add(this));return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},get_space:function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},set_space:function(a){if(null!=this.zpp_inner.compound)throw"Error: Cannot set the space of an inner Compound, only the root Compound space can be set";
this.zpp_inner.immutable_midstep("Compound::space");(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=a&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_compounds.remove(this),null!=a&&a.zpp_inner.wrap_compounds.add(this));return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},toString:function(){return"Compound"+this.zpp_inner_i.id},copy:function(){return this.zpp_inner.copy()},
breakApart:function(){this.zpp_inner.breakApart()},visitBodies:function(a){if(null==a)throw"Error: lambda cannot be null for Compound::visitBodies";for(var b=this.zpp_inner.wrap_bodies.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitBodies(a)},visitConstraints:function(a){if(null==a)throw"Error: lambda cannot be null for Compound::visitConstraints";for(var b=
this.zpp_inner.wrap_constraints.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitConstraints(a)},visitCompounds:function(a){if(null==a)throw"Error: lambda cannot be null for Compound::visitConstraints";for(var b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d);d.visitCompounds(a)}},COM:function(a){null==
a&&(a=!1);var b=g.geom.Vec2.get(0,0,a),d=0;this.visitBodies(function(a){if(!a.zpp_inner.wrap_shapes.empty()){b.addeq(function(b){if(a.zpp_inner.world)throw"Error: Space::world has no worldCOM";null==a.zpp_inner.wrap_worldCOM&&(a.zpp_inner.wrap_worldCOM=g.geom.Vec2.get(a.zpp_inner.worldCOMx,a.zpp_inner.worldCOMy,null),a.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,a.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,a.zpp_inner.wrap_worldCOM.zpp_inner._validate=(ga=a.zpp_inner,B(ga,ga.getworldCOM)));return a.zpp_inner.wrap_worldCOM}(this).mul(function(b){if(a.zpp_inner.world)throw"Error: Space::world has no mass";
a.zpp_inner.validate_mass();if(a.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==a.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";return a.zpp_inner.cmass}(this),!0));if(a.zpp_inner.world)throw"Error: Space::world has no mass";a.zpp_inner.validate_mass();if(a.zpp_inner.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&null==a.zpp_inner.shapes.head)throw"Error: Given current mass mode, Body::mass only makes sense if it contains shapes";
d+=a.zpp_inner.cmass}});if(0==d)throw"Error: COM of an empty Compound is undefined silly";b.muleq(1/d);return b},translate:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot translate by null Vec2";var b=a.zpp_inner.weak;a.zpp_inner.weak=!1;this.visitBodies(function(b){null==b.zpp_inner.wrap_pos&&b.zpp_inner.setupPosition();b.zpp_inner.wrap_pos.addeq(a)});a.zpp_inner.weak=b;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},rotate:function(a,
b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot rotate about a null Vec2";if(b!=b)throw"Error: Cannot rotate by NaN radians";var d=a.zpp_inner.weak;a.zpp_inner.weak=!1;this.visitBodies(function(d){d.rotate(a,b)});a.zpp_inner.weak=d;a.zpp_inner.weak?(a.dispose(),!0):!1;return this},__class__:g.phys.Compound});g.phys.CompoundIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_CompoundList.internal)throw"Error: Cannot instantiate CompoundIterator derp!";
};n["nape.phys.CompoundIterator"]=g.phys.CompoundIterator;g.phys.CompoundIterator.__name__=["nape","phys","CompoundIterator"];g.phys.CompoundIterator.get=function(a){var b;null==g.phys.CompoundIterator.zpp_pool?(c.util.ZPP_CompoundList.internal=!0,b=new g.phys.CompoundIterator,c.util.ZPP_CompoundList.internal=!1):(b=g.phys.CompoundIterator.zpp_pool,g.phys.CompoundIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.phys.CompoundIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();
var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.phys.CompoundIterator.zpp_pool;g.phys.CompoundIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.phys.CompoundIterator};g.phys.CompoundList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_CompoundList;this.zpp_inner.outer=this};n["nape.phys.CompoundList"]=g.phys.CompoundList;g.phys.CompoundList.__name__=
["nape","phys","CompoundList"];g.phys.CompoundList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.phys.CompoundList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.phys.CompoundList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},
at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),
this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=
this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();
if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=
this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=
d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: CompoundList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.phys.CompoundIterator.get(this)},
copy:function(a){null==a&&(a=!1);var b=new g.phys.CompoundList,d;this.zpp_inner.valmod();for(d=g.phys.CompoundIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Compound is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.phys.CompoundIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?
this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.phys.CompoundIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.phys.CompoundIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=
g.phys.CompoundIterator.zpp_pool;g.phys.CompoundIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.phys.CompoundList};g.phys.FluidProperties=function(a,b){null==b&&(b=1);null==a&&(a=1);this.zpp_inner=null;null==c.phys.ZPP_FluidProperties.zpp_pool?this.zpp_inner=new c.phys.ZPP_FluidProperties:
(this.zpp_inner=c.phys.ZPP_FluidProperties.zpp_pool,c.phys.ZPP_FluidProperties.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);null;this.zpp_inner.outer=this;if(a!=1E3*this.zpp_inner.density){if(a!=a)throw"Error: FluidProperties::density cannot be NaN";this.zpp_inner.density=a/1E3;this.zpp_inner.invalidate()}1E3*this.zpp_inner.density;if(b!=this.zpp_inner.viscosity){if(b!=b)throw"Error: FluidProperties::viscosity cannot be NaN";if(0>b)throw"Error: FluidProperties::viscosity ("+b+") must be >= 0";
this.zpp_inner.viscosity=b/1;this.zpp_inner.invalidate()}this.zpp_inner.viscosity};n["nape.phys.FluidProperties"]=g.phys.FluidProperties;g.phys.FluidProperties.__name__=["nape","phys","FluidProperties"];g.phys.FluidProperties.prototype={get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=c.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},
copy:function(){var a=new g.phys.FluidProperties(1E3*this.zpp_inner.density,this.zpp_inner.viscosity);null!=this.zpp_inner.userData&&(a.zpp_inner.userData=X.copy(this.zpp_inner.userData));a.set_gravity(this.zpp_inner.wrap_gravity);return a},get_density:function(){return 1E3*this.zpp_inner.density},set_density:function(a){if(a!=1E3*this.zpp_inner.density){if(a!=a)throw"Error: FluidProperties::density cannot be NaN";this.zpp_inner.density=a/1E3;this.zpp_inner.invalidate()}return 1E3*this.zpp_inner.density},
get_viscosity:function(){return this.zpp_inner.viscosity},set_viscosity:function(a){if(a!=this.zpp_inner.viscosity){if(a!=a)throw"Error: FluidProperties::viscosity cannot be NaN";if(0>a)throw"Error: FluidProperties::viscosity ("+a+") must be >= 0";this.zpp_inner.viscosity=a/1;this.zpp_inner.invalidate()}return this.zpp_inner.viscosity},get_gravity:function(){return this.zpp_inner.wrap_gravity},set_gravity:function(a){if(null==a)null!=this.zpp_inner.wrap_gravity&&(this.zpp_inner.wrap_gravity.zpp_inner._inuse=
!1,this.zpp_inner.wrap_gravity.dispose(),this.zpp_inner.wrap_gravity=null);else{if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();this.zpp_inner.wrap_gravity.set(a)}return this.zpp_inner.wrap_gravity},toString:function(){return"{ density: "+1E3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+H.string(this.zpp_inner.wrap_gravity)+" }"},__class__:g.phys.FluidProperties};g.phys.GravMassMode=
function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate GravMassMode derp!";};n["nape.phys.GravMassMode"]=g.phys.GravMassMode;g.phys.GravMassMode.__name__=["nape","phys","GravMassMode"];g.phys.GravMassMode.get_DEFAULT=function(){null==c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.GravMassMode_DEFAULT};g.phys.GravMassMode.get_FIXED=function(){null==
c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.GravMassMode_FIXED};g.phys.GravMassMode.get_SCALED=function(){null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_SCALED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.GravMassMode_SCALED};g.phys.GravMassMode.prototype={toString:function(){null==
c.util.ZPP_Flags.GravMassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_DEFAULT=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.GravMassMode_DEFAULT?a="DEFAULT":(null==c.util.ZPP_Flags.GravMassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.GravMassMode_FIXED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.GravMassMode_FIXED?a="FIXED":(null==c.util.ZPP_Flags.GravMassMode_SCALED&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.GravMassMode_SCALED=new g.phys.GravMassMode,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.GravMassMode_SCALED?"SCALED":""));return a},__class__:g.phys.GravMassMode};g.phys.InertiaMode=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate InertiaMode derp!";};n["nape.phys.InertiaMode"]=g.phys.InertiaMode;g.phys.InertiaMode.__name__=["nape","phys","InertiaMode"];g.phys.InertiaMode.get_DEFAULT=function(){null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InertiaMode_DEFAULT};g.phys.InertiaMode.get_FIXED=function(){null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.InertiaMode_FIXED};g.phys.InertiaMode.prototype={toString:function(){null==c.util.ZPP_Flags.InertiaMode_DEFAULT&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.InertiaMode_DEFAULT=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.InertiaMode_DEFAULT?a="DEFAULT":(null==c.util.ZPP_Flags.InertiaMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InertiaMode_FIXED=new g.phys.InertiaMode,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.InertiaMode_FIXED?"FIXED":"");return a},__class__:g.phys.InertiaMode};g.phys.InteractorIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=
null;if(!c.util.ZPP_InteractorList.internal)throw"Error: Cannot instantiate InteractorIterator derp!";};n["nape.phys.InteractorIterator"]=g.phys.InteractorIterator;g.phys.InteractorIterator.__name__=["nape","phys","InteractorIterator"];g.phys.InteractorIterator.get=function(a){var b;null==g.phys.InteractorIterator.zpp_pool?(c.util.ZPP_InteractorList.internal=!0,b=new g.phys.InteractorIterator,c.util.ZPP_InteractorList.internal=!1):(b=g.phys.InteractorIterator.zpp_pool,g.phys.InteractorIterator.zpp_pool=
b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.phys.InteractorIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.phys.InteractorIterator.zpp_pool;g.phys.InteractorIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.phys.InteractorIterator};g.phys.InteractorList=function(){this.zpp_inner=
null;this.zpp_inner=new c.util.ZPP_InteractorList;this.zpp_inner.outer=this};n["nape.phys.InteractorList"]=g.phys.InteractorList;g.phys.InteractorList.__name__=["nape","phys","InteractorList"];g.phys.InteractorList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.phys.InteractorList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.phys.InteractorList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=
!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner_i)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=
a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},push:function(a){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner_i):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-
1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner_i)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?
null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner_i)):this.zpp_inner.inner.add(a.zpp_inner_i),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();
var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||
this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer_i},shift:function(){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-
2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer_i;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer_i},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner_i){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner_i),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: InteractorList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=
this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.phys.InteractorIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.phys.InteractorList,d;this.zpp_inner.valmod();for(d=g.phys.InteractorIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Interactor is not a copyable type";}(this):c)}return b},merge:function(a){if(null==
a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.phys.InteractorIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.phys.InteractorIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==
a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.phys.InteractorIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.phys.InteractorIterator.zpp_pool;g.phys.InteractorIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},
__class__:g.phys.InteractorList};g.phys.MassMode=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate MassMode derp!";};n["nape.phys.MassMode"]=g.phys.MassMode;g.phys.MassMode.__name__=["nape","phys","MassMode"];g.phys.MassMode.get_DEFAULT=function(){null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.MassMode_DEFAULT};g.phys.MassMode.get_FIXED=function(){null==
c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_FIXED=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.MassMode_FIXED};g.phys.MassMode.prototype={toString:function(){var a;null==c.util.ZPP_Flags.MassMode_DEFAULT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.MassMode_DEFAULT=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.MassMode_DEFAULT?a="DEFAULT":(null==c.util.ZPP_Flags.MassMode_FIXED&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.MassMode_FIXED=new g.phys.MassMode,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.MassMode_FIXED?"FIXED":"");return a},__class__:g.phys.MassMode};g.phys.Material=function(a,b,d,h,e){null==e&&(e=0.001);null==h&&(h=1);null==d&&(d=2);null==b&&(b=1);null==a&&(a=0);this.zpp_inner=null;null==c.phys.ZPP_Material.zpp_pool?this.zpp_inner=new c.phys.ZPP_Material:(this.zpp_inner=c.phys.ZPP_Material.zpp_pool,c.phys.ZPP_Material.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null);
null;this.zpp_inner.outer=this;if(a!=this.zpp_inner.elasticity){if(a!=a)throw"Error: Material::elasticity cannot be NaN";this.zpp_inner.elasticity=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.elasticity;if(b!=this.zpp_inner.dynamicFriction){if(b!=b)throw"Error: Material::dynamicFriction cannot be NaN";if(0>b)throw"Error: Material::dynamicFriction cannot be negative";this.zpp_inner.dynamicFriction=b/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|
c.phys.ZPP_Material.ANGDRAG|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.dynamicFriction;if(d!=this.zpp_inner.staticFriction){if(d!=d)throw"Error: Material::staticFriction cannot be NaN";if(0>d)throw"Error: Material::staticFriction cannot be negative";this.zpp_inner.staticFriction=d/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.staticFriction;if(h!=1E3*this.zpp_inner.density){if(h!=h)throw"Error: Material::density cannot be NaN";if(0>h)throw"Error: Material::density must be positive";
if(0>h)throw"Error: Material::density cannot be negative";this.zpp_inner.density=h/1E3;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.PROPS)}1E3*this.zpp_inner.density;if(e!=this.zpp_inner.rollingFriction){if(e!=e)throw"Error: Material::rollingFriction cannot be NaN";if(0>e)throw"Error: Material::rollingFriction cannot be negative";this.zpp_inner.rollingFriction=e/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}this.zpp_inner.rollingFriction};
n["nape.phys.Material"]=g.phys.Material;g.phys.Material.__name__=["nape","phys","Material"];g.phys.Material.wood=function(){return new g.phys.Material(0.4,0.2,0.38,0.7,0.005)};g.phys.Material.steel=function(){return new g.phys.Material(0.2,0.57,0.74,7.8,0.001)};g.phys.Material.ice=function(){return new g.phys.Material(0.3,0.03,0.1,0.9,1E-4)};g.phys.Material.rubber=function(){return new g.phys.Material(0.8,1,1.4,1.5,0.01)};g.phys.Material.glass=function(){return new g.phys.Material(0.4,0.4,0.94,2.6,
0.002)};g.phys.Material.sand=function(){return new g.phys.Material(-1,0.45,0.6,1.6,16)};g.phys.Material.prototype={get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData={});return this.zpp_inner.userData},get_shapes:function(){null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=c.util.ZPP_ShapeList.get(this.zpp_inner.shapes,!0));return this.zpp_inner.wrap_shapes},copy:function(){var a=new g.phys.Material(this.zpp_inner.elasticity,this.zpp_inner.dynamicFriction,
this.zpp_inner.staticFriction,1E3*this.zpp_inner.density,this.zpp_inner.rollingFriction);null!=this.zpp_inner.userData&&(a.zpp_inner.userData=X.copy(this.zpp_inner.userData));return a},get_elasticity:function(){return this.zpp_inner.elasticity},set_elasticity:function(a){if(a!=this.zpp_inner.elasticity){if(a!=a)throw"Error: Material::elasticity cannot be NaN";this.zpp_inner.elasticity=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.elasticity},
get_dynamicFriction:function(){return this.zpp_inner.dynamicFriction},set_dynamicFriction:function(a){if(a!=this.zpp_inner.dynamicFriction){if(a!=a)throw"Error: Material::dynamicFriction cannot be NaN";if(0>a)throw"Error: Material::dynamicFriction cannot be negative";this.zpp_inner.dynamicFriction=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ANGDRAG|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.dynamicFriction},get_staticFriction:function(){return this.zpp_inner.staticFriction},
set_staticFriction:function(a){if(a!=this.zpp_inner.staticFriction){if(a!=a)throw"Error: Material::staticFriction cannot be NaN";if(0>a)throw"Error: Material::staticFriction cannot be negative";this.zpp_inner.staticFriction=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.staticFriction},get_density:function(){return 1E3*this.zpp_inner.density},set_density:function(a){if(a!=1E3*this.zpp_inner.density){if(a!=a)throw"Error: Material::density cannot be NaN";
if(0>a)throw"Error: Material::density must be positive";if(0>a)throw"Error: Material::density cannot be negative";this.zpp_inner.density=a/1E3;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.PROPS)}return 1E3*this.zpp_inner.density},get_rollingFriction:function(){return this.zpp_inner.rollingFriction},set_rollingFriction:function(a){if(a!=this.zpp_inner.rollingFriction){if(a!=a)throw"Error: Material::rollingFriction cannot be NaN";if(0>a)throw"Error: Material::rollingFriction cannot be negative";
this.zpp_inner.rollingFriction=a/1;this.zpp_inner.invalidate(c.phys.ZPP_Material.WAKE|c.phys.ZPP_Material.ARBITERS)}return this.zpp_inner.rollingFriction},toString:function(){return"{ elasticity: "+this.zpp_inner.elasticity+" dynamicFriction: "+this.zpp_inner.dynamicFriction+" staticFriction: "+this.zpp_inner.staticFriction+" density: "+1E3*this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},__class__:g.phys.Material};g.shape={};g.shape.Shape=function(){this.zpp_inner=
null;try{g.phys.Interactor.call(this)}catch(a){}throw"Error: Shape cannot be instantiated derp!";};n["nape.shape.Shape"]=g.shape.Shape;g.shape.Shape.__name__=["nape","shape","Shape"];g.shape.Shape.__super__=g.phys.Interactor;g.shape.Shape.prototype=K(g.phys.Interactor.prototype,{get_type:function(){return c.shape.ZPP_Shape.types[this.zpp_inner.type]},isCircle:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE},isPolygon:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON},
get_body:function(){return null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},set_body:function(a){this.zpp_inner.immutable_midstep("Shape::body");(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null)!=a&&(null!=this.zpp_inner.body&&(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(this),null!=a&&a.zpp_inner.wrap_shapes.add(this));return null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},get_castCircle:function(){return this.zpp_inner.type==
c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.outer_zn:null},get_castPolygon:function(){return this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON?this.zpp_inner.polygon.outer_zn:null},get_worldCOM:function(){null==this.zpp_inner.wrap_worldCOM&&(this.zpp_inner.wrap_worldCOM=g.geom.Vec2.get(this.zpp_inner.worldCOMx,this.zpp_inner.worldCOMy,null),this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=
(ga=this.zpp_inner,B(ga,ga.getworldCOM)));return this.zpp_inner.wrap_worldCOM},get_localCOM:function(){null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());return this.zpp_inner.wrap_localCOM},set_localCOM:function(a){this.zpp_inner.immutable_midstep("Body::localCOM");if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=this.zpp_inner.body&&null!=
this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(null==a)throw"Error: Shape::localCOM cannot be null";null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());this.zpp_inner.wrap_localCOM.set(a);null==this.zpp_inner.wrap_localCOM&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
this.zpp_inner.circle.setupLocalCOM():this.zpp_inner.polygon.setupLocalCOM());return this.zpp_inner.wrap_localCOM},get_area:function(){this.zpp_inner.validate_area_inertia();return this.zpp_inner.area},get_inertia:function(){this.zpp_inner.validate_area_inertia();return this.zpp_inner.inertia},get_angDrag:function(){this.zpp_inner.validate_angDrag();return this.zpp_inner.angDrag},get_material:function(){return this.zpp_inner.material.wrapper()},set_material:function(a){this.zpp_inner.immutable_midstep("Shape::material");
if(null==a)throw"Error: Cannot assign null as Shape material";this.zpp_inner.setMaterial(a.zpp_inner);return this.zpp_inner.material.wrapper()},get_filter:function(){return this.zpp_inner.filter.wrapper()},set_filter:function(a){this.zpp_inner.immutable_midstep("Shape::filter");if(null==a)throw"Error: Cannot assign null as Shape filter";this.zpp_inner.setFilter(a.zpp_inner);return this.zpp_inner.filter.wrapper()},get_fluidProperties:function(){this.zpp_inner.immutable_midstep("Shape::fluidProperties");
null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new g.phys.FluidProperties).zpp_inner);return this.zpp_inner.fluidProperties.wrapper()},set_fluidProperties:function(a){if(null==a)throw"Error: Cannot assign null as Shape fluidProperties, disable fluids by setting fluidEnabled to false";this.zpp_inner.setFluid(a.zpp_inner);this.zpp_inner.immutable_midstep("Shape::fluidProperties");null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new g.phys.FluidProperties).zpp_inner);return this.zpp_inner.fluidProperties.wrapper()},
get_fluidEnabled:function(){return this.zpp_inner.fluidEnabled},set_fluidEnabled:function(a){this.zpp_inner.immutable_midstep("Shape::fluidEnabled");(this.zpp_inner.fluidEnabled=a)&&null==this.zpp_inner.fluidProperties&&this.set_fluidProperties(new g.phys.FluidProperties);this.zpp_inner.wake();return this.zpp_inner.fluidEnabled},get_sensorEnabled:function(){return this.zpp_inner.sensorEnabled},set_sensorEnabled:function(a){this.zpp_inner.immutable_midstep("Shape::sensorEnabled");this.zpp_inner.sensorEnabled=
a;this.zpp_inner.wake();return this.zpp_inner.sensorEnabled},get_bounds:function(){return this.zpp_inner.aabb.wrapper()},translate:function(a){this.zpp_inner.immutable_midstep("Shape::translate()");if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(null==a)throw"Error: Cannot displace Shape by null Vec2";
0<a.lsq()&&(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.__translate(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)):this.zpp_inner.polygon.__translate(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)));a.zpp_inner.weak?(a.dispose(),!0):!1;return this},scale:function(a,b){this.zpp_inner.immutable_midstep("Shape::scale()");if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";
if(a!=a||b!=b)throw"Error: Cannot scale Shape by NaN";if(0==a||0==b)throw"Error: Cannot Scale shape by a factor of 0";if(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var d=a*a-b*b;if(d*d<g.Config.epsilon*g.Config.epsilon)this.zpp_inner.circle.__scale(a,b);else throw"Error: Cannot perform a non equal scaling on a Circle";}else this.zpp_inner.polygon.__scale(a,b);return this},rotate:function(a){this.zpp_inner.immutable_midstep("Shape::rotate()");if(null!=this.zpp_inner.body&&null!=this.zpp_inner.body.space&&
this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(a!=a)throw"Error: Cannot rotate Shape by NaN";if(0!=a%(2*Math.PI)){var b=Math.cos(a);a=Math.sin(a);this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.zpp_inner.circle.__rotate(a,b):this.zpp_inner.polygon.__rotate(a,b)}return this},transform:function(a){this.zpp_inner.immutable_midstep("Shape::transform()");if(null!=this.zpp_inner.body&&null!=
this.zpp_inner.body.space&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Cannot modify Shape belonging to a static Object once inside a Space";if(null==a)throw"Error: Cannot transform Shape by null matrix";if(a.singular())throw"Error: Cannot transform Shape by a singular matrix";if(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)if(a.equiorthogonal())this.zpp_inner.circle.__transform(a);else throw"Error: Cannot transform Circle by a non equiorthogonal matrix";
else this.zpp_inner.polygon.__transform(a);return this},contains:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Cannot check null point for containment";if(null==(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null))throw"Error: Shape is not well defined without a Body";c.geom.ZPP_Geom.validateShape(this.zpp_inner);a.zpp_inner.validate();var b=c.geom.ZPP_Collide.shapeContains(this.zpp_inner,a.zpp_inner);a.zpp_inner.weak?(a.dispose(),
!0):!1;return b},copy:function(){return this.zpp_inner.copy()},toString:function(){return(this.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},__class__:g.shape.Shape});g.shape.Circle=function(a,b,d,h){this.zpp_inner_zn=null;try{g.shape.Shape.call(this)}catch(e){}this.zpp_inner_zn=new c.shape.ZPP_Circle;this.zpp_inner_zn.outer=this;this.zpp_inner_zn.outer_zn=this;this.zpp_inner_i=this.zpp_inner=this.zpp_inner_zn;this.zpp_inner_i.outer_i=this;this.zpp_inner.immutable_midstep("Circle::radius");
if(null!=this.zpp_inner.body&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.body.space)throw"Error: Cannot modifiy radius of Circle contained in static object once added to space";if(a!=this.zpp_inner_zn.radius){if(a!=a)throw"Error: Circle::radius cannot be NaN";if(a<g.Config.epsilon)throw"Error: Circle::radius ("+a+") must be > Config.epsilon";if(1E100<a)throw"Error: Circle::radius ("+a+") must be < PR(Const).FMAX";this.zpp_inner_zn.radius=a;this.zpp_inner_zn.invalidate_radius()}this.zpp_inner_zn.radius;
if(null==b)this.zpp_inner.localCOMx=0,this.zpp_inner.localCOMy=0;else{if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();this.zpp_inner.localCOMx=b.zpp_inner.x;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();this.zpp_inner.localCOMy=b.zpp_inner.y;b.zpp_inner.weak?(b.dispose(),!0):!1}if(null==d)null==c.phys.ZPP_Material.zpp_pool?
this.zpp_inner.material=new c.phys.ZPP_Material:(this.zpp_inner.material=c.phys.ZPP_Material.zpp_pool,c.phys.ZPP_Material.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::material");if(null==d)throw"Error: Cannot assign null as Shape material";this.zpp_inner.setMaterial(d.zpp_inner);this.zpp_inner.material.wrapper()}if(null==h)null==c.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner.filter=new c.dynamics.ZPP_InteractionFilter:
(this.zpp_inner.filter=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.filter.next,this.zpp_inner.filter.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::filter");if(null==h)throw"Error: Cannot assign null as Shape filter";this.zpp_inner.setFilter(h.zpp_inner);this.zpp_inner.filter.wrapper()}this.zpp_inner_i.insert_cbtype(c.callbacks.ZPP_CbType.ANY_SHAPE.zpp_inner)};n["nape.shape.Circle"]=g.shape.Circle;g.shape.Circle.__name__=["nape",
"shape","Circle"];g.shape.Circle.__super__=g.shape.Shape;g.shape.Circle.prototype=K(g.shape.Shape.prototype,{get_radius:function(){return this.zpp_inner_zn.radius},set_radius:function(a){this.zpp_inner.immutable_midstep("Circle::radius");if(null!=this.zpp_inner.body&&this.zpp_inner.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.zpp_inner.body.space)throw"Error: Cannot modifiy radius of Circle contained in static object once added to space";if(a!=this.zpp_inner_zn.radius){if(a!=a)throw"Error: Circle::radius cannot be NaN";
if(a<g.Config.epsilon)throw"Error: Circle::radius ("+a+") must be > Config.epsilon";if(1E100<a)throw"Error: Circle::radius ("+a+") must be < PR(Const).FMAX";this.zpp_inner_zn.radius=a;this.zpp_inner_zn.invalidate_radius()}return this.zpp_inner_zn.radius},__class__:g.shape.Circle});g.shape.Edge=function(){this.zpp_inner=null;if(!c.shape.ZPP_Edge.internal)throw"Error: Cannot instantiate an Edge derp!";};n["nape.shape.Edge"]=g.shape.Edge;g.shape.Edge.__name__=["nape","shape","Edge"];g.shape.Edge.prototype=
{get_polygon:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";return this.zpp_inner.polygon.outer_zn},get_localNormal:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";null==this.zpp_inner.wrap_lnorm&&this.zpp_inner.getlnorm();return this.zpp_inner.wrap_lnorm},get_worldNormal:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";null==this.zpp_inner.wrap_gnorm&&this.zpp_inner.getgnorm();return this.zpp_inner.wrap_gnorm},
get_length:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.length},get_localProjection:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lprojection},get_worldProjection:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";if(null==this.zpp_inner.polygon.body)throw"Error: Edge world projection only makes sense for Polygons contained within a rigid body";
this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gprojection},get_localVertex1:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lp0.wrapper()},get_localVertex2:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_laxi();return this.zpp_inner.lp1.wrapper()},get_worldVertex1:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";
this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gp0.wrapper()},get_worldVertex2:function(){if(null==this.zpp_inner.polygon)throw"Error: Edge not current in use";this.zpp_inner.polygon.validate_gaxi();return this.zpp_inner.gp1.wrapper()},toString:function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" }";
this.zpp_inner.polygon.validate_gaxi();return"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" worldNormal : "+("{ x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" }")+" }"},__class__:g.shape.Edge};g.shape.EdgeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_EdgeList.internal)throw"Error: Cannot instantiate EdgeIterator derp!";};n["nape.shape.EdgeIterator"]=g.shape.EdgeIterator;g.shape.EdgeIterator.__name__=
["nape","shape","EdgeIterator"];g.shape.EdgeIterator.get=function(a){var b;null==g.shape.EdgeIterator.zpp_pool?(c.util.ZPP_EdgeList.internal=!0,b=new g.shape.EdgeIterator,c.util.ZPP_EdgeList.internal=!1):(b=g.shape.EdgeIterator.zpp_pool,g.shape.EdgeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.shape.EdgeIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=
g.shape.EdgeIterator.zpp_pool;g.shape.EdgeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.shape.EdgeIterator};g.shape.EdgeList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_EdgeList;this.zpp_inner.outer=this};n["nape.shape.EdgeList"]=g.shape.EdgeList;g.shape.EdgeList.__name__=["nape","shape","EdgeList"];g.shape.EdgeList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";
for(var b=new g.shape.EdgeList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.shape.EdgeList.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&
a!=this.get_length()-1&&(a=this.get_length()-2-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?
this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";
this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);
return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";
this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.wrapper(),null!=this.zpp_inner.subber&&
this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},add:function(a){return this.zpp_inner.reverse_flag?this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),
this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: EdgeList is immutable";if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.shape.EdgeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=
new g.shape.EdgeList,d;this.zpp_inner.valmod();for(d=g.shape.EdgeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Edge is not a copyable type";}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.shape.EdgeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a=
"[",b=!0,d;this.zpp_inner.valmod();for(d=g.shape.EdgeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.shape.EdgeIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.shape.EdgeIterator.zpp_pool;g.shape.EdgeIterator.zpp_pool=
b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.shape.EdgeList};g.shape.Polygon=function(a,b,d){this.zpp_inner_zn=null;try{g.shape.Shape.call(this)}catch(h){}if(null==a)throw"Error: localVerts cannot be null";this.zpp_inner_zn=new c.shape.ZPP_Polygon;this.zpp_inner_zn.outer=this;this.zpp_inner_zn.outer_zn=
this;this.zpp_inner_i=this.zpp_inner=this.zpp_inner_zn;this.zpp_inner_i.outer_i=this;if(a instanceof Array&&null==a.__enum__)for(var e=0;e<a.length;){var f=a[e];++e;if(null==f)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(f,g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var m=f;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();this.zpp_inner_zn.wrap_lverts.push(function(a){if(null!=
m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return g.geom.Vec2.get(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(a),function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(a),!1)}(this))}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(e=a.iterator();e.hasNext();){var u;e.zpp_critical=!1;u=e.zpp_inner.at(e.zpp_i++);
if(null==u)throw"Error: Vec2List contains null objects";if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();this.zpp_inner_zn.wrap_lverts.push(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return g.geom.Vec2.get(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(a),function(a){if(null!=
u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(a),!1)}(this))}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";e=a.zpp_inner.vertices;if(null!=e){f=e;do{var C=g.geom.Vec2.get(f.x,f.y,null),f=f.next;null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();this.zpp_inner_zn.wrap_lverts.push(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
return g.geom.Vec2.get(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.x}(a),function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.y}(a),!1)}(this));C.dispose()}while(f!=e)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";if(a instanceof Array&&null==a.__enum__)for(e=
0;e<a.length;){var f=a[e],k;if(k=f.zpp_inner.weak)f.dispose(),k=!0;k?a.splice(e,1):e++}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),a=a.zpp_inner.inner,e=null,f=a.head;null!=f;)k=f.elt,k.outer.zpp_inner.weak?(f=a.erase(e),k.outer.zpp_inner.weak?(k.outer.dispose(),!0):!1):(e=f,f=f.next);if(null==b)null==c.phys.ZPP_Material.zpp_pool?this.zpp_inner.material=new c.phys.ZPP_Material:(this.zpp_inner.material=c.phys.ZPP_Material.zpp_pool,c.phys.ZPP_Material.zpp_pool=
this.zpp_inner.material.next,this.zpp_inner.material.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::material");if(null==b)throw"Error: Cannot assign null as Shape material";this.zpp_inner.setMaterial(b.zpp_inner);this.zpp_inner.material.wrapper()}if(null==d)null==c.dynamics.ZPP_InteractionFilter.zpp_pool?this.zpp_inner.filter=new c.dynamics.ZPP_InteractionFilter:(this.zpp_inner.filter=c.dynamics.ZPP_InteractionFilter.zpp_pool,c.dynamics.ZPP_InteractionFilter.zpp_pool=this.zpp_inner.filter.next,
this.zpp_inner.filter.next=null),null;else{this.zpp_inner.immutable_midstep("Shape::filter");if(null==d)throw"Error: Cannot assign null as Shape filter";this.zpp_inner.setFilter(d.zpp_inner);this.zpp_inner.filter.wrapper()}this.zpp_inner_i.insert_cbtype(c.callbacks.ZPP_CbType.ANY_SHAPE.zpp_inner)};n["nape.shape.Polygon"]=g.shape.Polygon;g.shape.Polygon.__name__=["nape","shape","Polygon"];g.shape.Polygon.rect=function(a,b,d,c,e){null==e&&(e=!1);if(a!=a||b!=b||d!=d||c!=c)throw"Error: Polygon.rect cannot accept NaN arguments";
return[g.geom.Vec2.get(a,b,e),g.geom.Vec2.get(a+d,b,e),g.geom.Vec2.get(a+d,b+c,e),g.geom.Vec2.get(a,b+c,e)]};g.shape.Polygon.box=function(a,b,d){null==d&&(d=!1);if(a!=a||b!=b)throw"Error: Polygon.box cannot accept NaN arguments";return g.shape.Polygon.rect(-a/2,-b/2,a,b,d)};g.shape.Polygon.regular=function(a,b,d,c,e){null==e&&(e=!1);null==c&&(c=0);if(a!=a||b!=b||c!=c)throw"Error: Polygon.regular cannot accept NaN arguments";for(var f=[],m=2*Math.PI/d,u=0;u<d;){var C=u++*m+c,C=g.geom.Vec2.get(Math.cos(C)*
a,Math.sin(C)*b,e);f.push(C)}return f};g.shape.Polygon.__super__=g.shape.Shape;g.shape.Polygon.prototype=K(g.shape.Shape.prototype,{get_localVerts:function(){null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts();return this.zpp_inner_zn.wrap_lverts},get_worldVerts:function(){null==this.zpp_inner_zn.wrap_gverts&&this.zpp_inner_zn.getgverts();return this.zpp_inner_zn.wrap_gverts},get_edges:function(){null==this.zpp_inner_zn.wrap_edges&&this.zpp_inner_zn.getedges();return this.zpp_inner_zn.wrap_edges},
validity:function(){return this.zpp_inner_zn.valid()},__class__:g.shape.Polygon});g.shape.ShapeIterator=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null;if(!c.util.ZPP_ShapeList.internal)throw"Error: Cannot instantiate ShapeIterator derp!";};n["nape.shape.ShapeIterator"]=g.shape.ShapeIterator;g.shape.ShapeIterator.__name__=["nape","shape","ShapeIterator"];g.shape.ShapeIterator.get=function(a){var b;null==g.shape.ShapeIterator.zpp_pool?(c.util.ZPP_ShapeList.internal=
!0,b=new g.shape.ShapeIterator,c.util.ZPP_ShapeList.internal=!1):(b=g.shape.ShapeIterator.zpp_pool,g.shape.ShapeIterator.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};g.shape.ShapeIterator.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=g.shape.ShapeIterator.zpp_pool;g.shape.ShapeIterator.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:g.shape.ShapeIterator};g.shape.ShapeList=function(){this.zpp_inner=null;this.zpp_inner=new c.util.ZPP_ShapeList;this.zpp_inner.outer=this};n["nape.shape.ShapeList"]=g.shape.ShapeList;g.shape.ShapeList.__name__=["nape","shape","ShapeList"];g.shape.ShapeList.fromArray=function(a){if(null==a)throw"Error: Cannot convert null Array to Nape list";for(var b=new g.shape.ShapeList,d=0;d<a.length;){var c=a[d];++d;b.push(c)}return b};g.shape.ShapeList.prototype=
{get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},has:function(a){this.zpp_inner.valmod();return this.zpp_inner.inner.has(a.zpp_inner)},at:function(a){this.zpp_inner.valmod();if(0>a||a>=this.get_length())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},push:function(a){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0)this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(a.zpp_inner):(null==this.zpp_inner.push_ite&&
(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):
!0)this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=null==this.zpp_inner.inner.head?null:this.zpp_inner.inner.iterator_at(this.get_length()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,a.zpp_inner)):this.zpp_inner.inner.add(a.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a);return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();
if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){var a=this.zpp_inner.inner.head.elt,b=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null);var b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2),a=null==b?this.zpp_inner.inner.head.elt:
b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}this.zpp_inner.invalidate();return a.outer},shift:function(){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();if(null==this.zpp_inner.inner.head)throw"Error: Cannot remove from empty list";this.zpp_inner.valmod();var a=null;if(this.zpp_inner.reverse_flag){null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=
null);var b;b=1==this.get_length()?null:this.zpp_inner.inner.iterator_at(this.get_length()-2);var a=null==b?this.zpp_inner.inner.head.elt:b.next.elt,d=a.outer;null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.zpp_inner.inner.erase(b)}else a=this.zpp_inner.inner.head.elt,b=a.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.zpp_inner.inner.pop();this.zpp_inner.invalidate();return a.outer},add:function(a){return this.zpp_inner.reverse_flag?
this.push(a):this.unshift(a)},remove:function(a){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";this.zpp_inner.modify_test();this.zpp_inner.valmod();var b;b=!1;for(var d=this.zpp_inner.inner.head;null!=d;){if(d.elt==a.zpp_inner){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: ShapeList is immutable";
if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},empty:function(){return null==this.zpp_inner.inner.head},iterator:function(){this.zpp_inner.valmod();return g.shape.ShapeIterator.get(this)},copy:function(a){null==a&&(a=!1);var b=new g.shape.ShapeList,d;this.zpp_inner.valmod();for(d=g.shape.ShapeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b.push(a?function(a){throw"Error: Shape is not a copyable type";
}(this):c)}return b},merge:function(a){if(null==a)throw"Error: Cannot merge with null list";a.zpp_inner.valmod();for(a=g.shape.ShapeIterator.get(a);a.hasNext();){var b;a.zpp_critical=!1;b=a.zpp_inner.at(a.zpp_i++);this.has(b)||(this.zpp_inner.reverse_flag?this.push(b):this.unshift(b))}},toString:function(){var a="[",b=!0,d;this.zpp_inner.valmod();for(d=g.shape.ShapeIterator.get(this);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);b||(a+=",");a=null==c?a+"NULL":a+c.toString();b=
!1}return a+"]"},foreach:function(a){if(null==a)throw"Error: Cannot execute null on list elements";var b;this.zpp_inner.valmod();for(b=g.shape.ShapeIterator.get(this);b.hasNext();)try{var d=a,c=void 0;b.zpp_critical=!1;c=b.zpp_inner.at(b.zpp_i++);d(c)}catch(e){b.zpp_next=g.shape.ShapeIterator.zpp_pool;g.shape.ShapeIterator.zpp_pool=b;b.zpp_inner=null;break}return this},filter:function(a){if(null==a)throw"Error: Cannot select elements of list with null";for(var b=0;b<this.get_length();){var d=this.at(b);
try{a(d)?b++:this.remove(d)}catch(c){break}}return this},__class__:g.shape.ShapeList};g.shape.ShapeType=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ShapeType derp!";};n["nape.shape.ShapeType"]=g.shape.ShapeType;g.shape.ShapeType.__name__=["nape","shape","ShapeType"];g.shape.ShapeType.get_CIRCLE=function(){null==c.util.ZPP_Flags.ShapeType_CIRCLE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_CIRCLE=new g.shape.ShapeType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ShapeType_CIRCLE};
g.shape.ShapeType.get_POLYGON=function(){null==c.util.ZPP_Flags.ShapeType_POLYGON&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_POLYGON=new g.shape.ShapeType,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ShapeType_POLYGON};g.shape.ShapeType.prototype={toString:function(){var a;null==c.util.ZPP_Flags.ShapeType_CIRCLE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_CIRCLE=new g.shape.ShapeType,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.ShapeType_CIRCLE?a="CIRCLE":
(null==c.util.ZPP_Flags.ShapeType_POLYGON&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_POLYGON=new g.shape.ShapeType,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ShapeType_POLYGON?"POLYGON":"");return a},__class__:g.shape.ShapeType};g.shape.ValidationResult=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate ValidationResult derp!";};n["nape.shape.ValidationResult"]=g.shape.ValidationResult;g.shape.ValidationResult.__name__=["nape","shape","ValidationResult"];
g.shape.ValidationResult.get_VALID=function(){null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ValidationResult_VALID};g.shape.ValidationResult.get_DEGENERATE=function(){null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=
!1);return c.util.ZPP_Flags.ValidationResult_DEGENERATE};g.shape.ValidationResult.get_CONCAVE=function(){null==c.util.ZPP_Flags.ValidationResult_CONCAVE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_CONCAVE=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ValidationResult_CONCAVE};g.shape.ValidationResult.get_SELF_INTERSECTING=function(){null==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=
new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING};g.shape.ValidationResult.prototype={toString:function(){var a;null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);this==c.util.ZPP_Flags.ValidationResult_VALID?a="VALID":(null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=
new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ValidationResult_DEGENERATE?a="DEGENERATE":(null==c.util.ZPP_Flags.ValidationResult_CONCAVE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_CONCAVE=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this==c.util.ZPP_Flags.ValidationResult_CONCAVE?a="CONCAVE":(null==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=
new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":"")));return a},__class__:g.shape.ValidationResult};g.space={};g.space.Broadphase=function(){if(!c.util.ZPP_Flags.internal)throw"Error: Cannot instantiate Broadphase derp!";};n["nape.space.Broadphase"]=g.space.Broadphase;g.space.Broadphase.__name__=["nape","space","Broadphase"];g.space.Broadphase.get_DYNAMIC_AABB_TREE=function(){null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE};g.space.Broadphase.get_SWEEP_AND_PRUNE=function(){null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE};g.space.Broadphase.prototype={toString:function(){null==
c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1);var a;this==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE?a="DYNAMIC_AABB_TREE":(null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1),a=this==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":
"");return a},__class__:g.space.Broadphase};g.space.Space=function(a,b){this.zpp_inner=null;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";this.zpp_inner=new c.space.ZPP_Space(null==a?null:a.zpp_inner,b);this.zpp_inner.outer=this;null!=a&&(a.zpp_inner.weak?(a.dispose(),!0):!1)};n["nape.space.Space"]=g.space.Space;g.space.Space.__name__=["nape","space","Space"];g.space.Space.prototype={get_userData:function(){null==this.zpp_inner.userData&&(this.zpp_inner.userData=
{});return this.zpp_inner.userData},get_gravity:function(){null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();return this.zpp_inner.wrap_gravity},set_gravity:function(a){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Space::gravity cannot be null";null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();this.zpp_inner.wrap_gravity.set(a);null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();return this.zpp_inner.wrap_gravity},
get_broadphase:function(){if(this.zpp_inner.bphase.is_sweep)return null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE;null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1);return c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE},
get_sortContacts:function(){return this.zpp_inner.sortcontacts},set_sortContacts:function(a){this.zpp_inner.sortcontacts=a;return this.zpp_inner.sortcontacts},get_worldAngularDrag:function(){return this.zpp_inner.global_ang_drag},set_worldAngularDrag:function(a){if(a!=a)throw"Error: Space::worldAngularDrag cannot be NaN";this.zpp_inner.global_ang_drag=a;return this.zpp_inner.global_ang_drag},get_worldLinearDrag:function(){return this.zpp_inner.global_lin_drag},set_worldLinearDrag:function(a){if(a!=
a)throw"Error: Space::worldLinearDrag cannot be NaN";this.zpp_inner.global_lin_drag=a;return this.zpp_inner.global_lin_drag},get_compounds:function(){return this.zpp_inner.wrap_compounds},get_bodies:function(){return this.zpp_inner.wrap_bodies},get_liveBodies:function(){return this.zpp_inner.wrap_live},get_constraints:function(){return this.zpp_inner.wrap_constraints},get_liveConstraints:function(){return this.zpp_inner.wrap_livecon},visitBodies:function(a){if(null==a)throw"Error: lambda cannot be null for Space::visitBodies";
for(var b=this.zpp_inner.wrap_bodies.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=!1,b.zpp_inner.at(b.zpp_i++).visitBodies(a)},visitConstraints:function(a){if(null==a)throw"Error: lambda cannot be null for Space::visitConstraints";for(var b=this.zpp_inner.wrap_constraints.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d)}for(b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();)b.zpp_critical=
!1,b.zpp_inner.at(b.zpp_i++).visitConstraints(a)},visitCompounds:function(a){if(null==a)throw"Error: lambda cannot be null for Space::visitCompounds";for(var b=this.zpp_inner.wrap_compounds.iterator();b.hasNext();){var d;b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);a(d);d.visitCompounds(a)}},get_world:function(){return this.zpp_inner.__static},get_arbiters:function(){if(null==this.zpp_inner.wrap_arbiters){var a=new c.dynamics.ZPP_SpaceArbiterList;a.space=this.zpp_inner;this.zpp_inner.wrap_arbiters=
a}return this.zpp_inner.wrap_arbiters},get_listeners:function(){return this.zpp_inner.wrap_listeners},clear:function(){if(this.zpp_inner.midstep)throw"Error: Space::clear() cannot be called during space step()";this.zpp_inner.clear()},step:function(a,b,d){null==d&&(d=10);null==b&&(b=10);if(a!=a)throw"Error: deltaTime cannot be NaN";if(0>=a)throw"Error: deltaTime must be strictly positive";if(0>=b)throw"Error: must use atleast one velocity iteration";if(0>=d)throw"Error: must use atleast one position iteration";
this.zpp_inner.step(a,b,d)},get_timeStamp:function(){return this.zpp_inner.stamp},get_elapsedTime:function(){return this.zpp_inner.time},interactionType:function(a,b){if(null==a||null==b)throw"Error: Cannot evaluate interaction type for null shapes";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)||null==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))throw"Error: Cannot evaluate interaction type for shapes not part of a Body";if((null!=a.zpp_inner.body?a.zpp_inner.body.outer:null).zpp_inner.type==
c.util.ZPP_Flags.id_BodyType_STATIC&&(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null).zpp_inner.type==c.util.ZPP_Flags.id_BodyType_STATIC||(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null)==(null!=b.zpp_inner.body?b.zpp_inner.body.outer:null))return null;var d=a.zpp_inner,h=b.zpp_inner;switch(this.zpp_inner.interactionType(d,h,d.body,h.body)){case 0:return null==c.util.ZPP_Flags.InteractionType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_FLUID=new g.callbacks.InteractionType,
c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_FLUID;case 1:return null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),c.util.ZPP_Flags.InteractionType_COLLISION;case 2:return null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1),
c.util.ZPP_Flags.InteractionType_SENSOR;default:return null}},shapesUnderPoint:function(a,b,d){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot evaluate shapes under a null point :)";b=this.zpp_inner.shapesUnderPoint(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.y}(this),null==b?null:b.zpp_inner,d);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},bodiesUnderPoint:function(a,b,d){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot evaluate objects under a null point :)";b=this.zpp_inner.bodiesUnderPoint(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),null==b?null:b.zpp_inner,d);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},shapesInAABB:function(a,b,d,c,e){null==d&&(d=!0);null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate shapes in a null AABB :)";var f;a.zpp_inner.validate();(f=0==a.zpp_inner.width())||(a.zpp_inner.validate(),f=0==a.zpp_inner.height());if(f)throw"Error: Cannot evaluate shapes in degenerate AABB :/";return this.zpp_inner.shapesInAABB(a,
d,b,null==c?null:c.zpp_inner,e)},bodiesInAABB:function(a,b,d,c,e){null==d&&(d=!0);null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate objects in a null AABB :)";var f;a.zpp_inner.validate();(f=0==a.zpp_inner.width())||(a.zpp_inner.validate(),f=0==a.zpp_inner.height());if(f)throw"Error: Cannot evaluate objects in degenerate AABB :/";return this.zpp_inner.bodiesInAABB(a,d,b,null==c?null:c.zpp_inner,e)},shapesInCircle:function(a,b,d,c,e){null==d&&(d=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
if(null==a)throw"Error: Cannot evaluate shapes at null circle :)";if(b!=b)throw"Error: Circle radius cannot be NaN";if(0>=b)throw"Error: Circle radius must be strictly positive";b=this.zpp_inner.shapesInCircle(a,b,d,null==c?null:c.zpp_inner,e);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},bodiesInCircle:function(a,b,d,c,e){null==d&&(d=!1);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: Cannot evaluate objects at null circle :)";if(b!=b)throw"Error: Circle radius cannot be NaN";
if(0>=b)throw"Error: Circle radius must be strictly positive";b=this.zpp_inner.bodiesInCircle(a,b,d,null==c?null:c.zpp_inner,e);a.zpp_inner.weak?(a.dispose(),!0):!1;return b},shapesInShape:function(a,b,d,h){null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate shapes in a null shapes :)";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Query shape needs to be inside a Body to be well defined :)";if(a.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){var e=a.zpp_inner.polygon.valid();
null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(e!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Polygon query shape is invalid : "+e.toString();}return this.zpp_inner.shapesInShape(a.zpp_inner,b,null==d?null:d.zpp_inner,h)},bodiesInShape:function(a,b,d,h){null==b&&(b=!1);if(null==a)throw"Error: Cannot evaluate bodies in a null shapes :)";if(null==(null!=a.zpp_inner.body?
a.zpp_inner.body.outer:null))throw"Error: Query shape needs to be inside a Body to be well defined :)";if(a.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){var e=a.zpp_inner.polygon.valid();null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(e!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Polygon query shape is invalid : "+e.toString();}return this.zpp_inner.bodiesInShape(a.zpp_inner,
b,null==d?null:d.zpp_inner,h)},shapesInBody:function(a,b,d){if(null==a)throw"Error: Cannot evaluate shapes in null body";d=null==d?new g.shape.ShapeList:d;for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var c;a.zpp_critical=!1;c=a.zpp_inner.at(a.zpp_i++);this.shapesInShape(c,!1,b,d)}return d},bodiesInBody:function(a,b,d){if(null==a)throw"Error: Cannot evaluate shapes in null body";d=null==d?new g.phys.BodyList:d;for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var c;a.zpp_critical=!1;
c=a.zpp_inner.at(a.zpp_i++);this.bodiesInShape(c,!1,b,d)}return d},convexCast:function(a,b,d,c){null==d&&(d=!1);if(null==a)throw"Error: Cannot cast null shape :)";if(null==(null!=a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Shape must belong to a body to be cast.";if(0>b||b!=b)throw"Error: deltaTime must be positive";return this.zpp_inner.convexCast(a.zpp_inner,b,c,d)},convexMultiCast:function(a,b,d,c,e){null==d&&(d=!1);if(null==a)throw"Error: Cannot cast null shape :)";if(null==(null!=
a.zpp_inner.body?a.zpp_inner.body.outer:null))throw"Error: Shape must belong to a body to be cast.";if(0>b||b!=b)throw"Error: deltaTime must be positive";return this.zpp_inner.convexMultiCast(a.zpp_inner,b,c,d,e)},rayCast:function(a,b,d){null==b&&(b=!1);if(null==a)throw"Error: Cannot cast null ray :)";return this.zpp_inner.rayCast(a,b,d)},rayMultiCast:function(a,b,d,c){null==b&&(b=!1);if(null==a)throw"Error: Cannot cast null ray :)";return this.zpp_inner.rayMultiCast(a,b,d,c)},__class__:g.space.Space};
g.util={};g.util.Debug=function(){this.cullingEnabled=!1;this.colour=null;this.drawCollisionArbiters=this.drawFluidArbiters=this.drawSensorArbiters=this.drawBodies=this.drawBodyDetail=this.drawShapeDetail=this.drawShapeAngleIndicators=this.drawConstraints=!1;this.zpp_inner=null;if(!c.util.ZPP_Debug.internal)throw"Error: Cannot instantiate Debug derp! Use ShapeDebug, or BitmapDebug on flash10+";this.drawSensorArbiters=this.drawFluidArbiters=this.drawCollisionArbiters=!1;this.drawShapeAngleIndicators=
this.drawBodies=!0;this.cullingEnabled=this.drawConstraints=this.drawShapeDetail=this.drawBodyDetail=!1;this.colour=null};n["nape.util.Debug"]=g.util.Debug;g.util.Debug.__name__=["nape","util","Debug"];g.util.Debug.version=function(){return"Nape 2.0.16"};g.util.Debug.clearObjectPools=function(){for(;null!=g.constraint.ConstraintIterator.zpp_pool;){var a=g.constraint.ConstraintIterator.zpp_pool.zpp_next;g.constraint.ConstraintIterator.zpp_pool.zpp_next=null;g.constraint.ConstraintIterator.zpp_pool=
a}for(;null!=g.phys.InteractorIterator.zpp_pool;)a=g.phys.InteractorIterator.zpp_pool.zpp_next,g.phys.InteractorIterator.zpp_pool.zpp_next=null,g.phys.InteractorIterator.zpp_pool=a;for(;null!=g.phys.BodyIterator.zpp_pool;)a=g.phys.BodyIterator.zpp_pool.zpp_next,g.phys.BodyIterator.zpp_pool.zpp_next=null,g.phys.BodyIterator.zpp_pool=a;for(;null!=g.phys.CompoundIterator.zpp_pool;)a=g.phys.CompoundIterator.zpp_pool.zpp_next,g.phys.CompoundIterator.zpp_pool.zpp_next=null,g.phys.CompoundIterator.zpp_pool=
a;for(;null!=g.callbacks.ListenerIterator.zpp_pool;)a=g.callbacks.ListenerIterator.zpp_pool.zpp_next,g.callbacks.ListenerIterator.zpp_pool.zpp_next=null,g.callbacks.ListenerIterator.zpp_pool=a;for(;null!=g.callbacks.CbTypeIterator.zpp_pool;)a=g.callbacks.CbTypeIterator.zpp_pool.zpp_next,g.callbacks.CbTypeIterator.zpp_pool.zpp_next=null,g.callbacks.CbTypeIterator.zpp_pool=a;for(;null!=g.geom.ConvexResultIterator.zpp_pool;)a=g.geom.ConvexResultIterator.zpp_pool.zpp_next,g.geom.ConvexResultIterator.zpp_pool.zpp_next=
null,g.geom.ConvexResultIterator.zpp_pool=a;for(;null!=g.geom.GeomPolyIterator.zpp_pool;)a=g.geom.GeomPolyIterator.zpp_pool.zpp_next,g.geom.GeomPolyIterator.zpp_pool.zpp_next=null,g.geom.GeomPolyIterator.zpp_pool=a;for(;null!=g.geom.Vec2Iterator.zpp_pool;)a=g.geom.Vec2Iterator.zpp_pool.zpp_next,g.geom.Vec2Iterator.zpp_pool.zpp_next=null,g.geom.Vec2Iterator.zpp_pool=a;for(;null!=g.geom.RayResultIterator.zpp_pool;)a=g.geom.RayResultIterator.zpp_pool.zpp_next,g.geom.RayResultIterator.zpp_pool.zpp_next=
null,g.geom.RayResultIterator.zpp_pool=a;for(;null!=g.shape.ShapeIterator.zpp_pool;)a=g.shape.ShapeIterator.zpp_pool.zpp_next,g.shape.ShapeIterator.zpp_pool.zpp_next=null,g.shape.ShapeIterator.zpp_pool=a;for(;null!=g.shape.EdgeIterator.zpp_pool;)a=g.shape.EdgeIterator.zpp_pool.zpp_next,g.shape.EdgeIterator.zpp_pool.zpp_next=null,g.shape.EdgeIterator.zpp_pool=a;for(;null!=g.dynamics.ContactIterator.zpp_pool;)a=g.dynamics.ContactIterator.zpp_pool.zpp_next,g.dynamics.ContactIterator.zpp_pool.zpp_next=
null,g.dynamics.ContactIterator.zpp_pool=a;for(;null!=g.dynamics.ArbiterIterator.zpp_pool;)a=g.dynamics.ArbiterIterator.zpp_pool.zpp_next,g.dynamics.ArbiterIterator.zpp_pool.zpp_next=null,g.dynamics.ArbiterIterator.zpp_pool=a;for(;null!=g.dynamics.InteractionGroupIterator.zpp_pool;)a=g.dynamics.InteractionGroupIterator.zpp_pool.zpp_next,g.dynamics.InteractionGroupIterator.zpp_pool.zpp_next=null,g.dynamics.InteractionGroupIterator.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CbType.zpp_pool;)a=c.util.ZNPNode_ZPP_CbType.zpp_pool.next,
c.util.ZNPNode_ZPP_CbType.zpp_pool.next=null,c.util.ZNPNode_ZPP_CbType.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool;)a=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool.next,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool.next=null,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;for(;null!=c.phys.ZPP_Material.zpp_pool;)a=c.phys.ZPP_Material.zpp_pool.next,c.phys.ZPP_Material.zpp_pool.next=null,c.phys.ZPP_Material.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Shape.zpp_pool;)a=c.util.ZNPNode_ZPP_Shape.zpp_pool.next,
c.util.ZNPNode_ZPP_Shape.zpp_pool.next=null,c.util.ZNPNode_ZPP_Shape.zpp_pool=a;for(;null!=c.phys.ZPP_FluidProperties.zpp_pool;)a=c.phys.ZPP_FluidProperties.zpp_pool.next,c.phys.ZPP_FluidProperties.zpp_pool.next=null,c.phys.ZPP_FluidProperties.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Body.zpp_pool;)a=c.util.ZNPNode_ZPP_Body.zpp_pool.next,c.util.ZNPNode_ZPP_Body.zpp_pool.next=null,c.util.ZNPNode_ZPP_Body.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Constraint.zpp_pool;)a=c.util.ZNPNode_ZPP_Constraint.zpp_pool.next,
c.util.ZNPNode_ZPP_Constraint.zpp_pool.next=null,c.util.ZNPNode_ZPP_Constraint.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Compound.zpp_pool;)a=c.util.ZNPNode_ZPP_Compound.zpp_pool.next,c.util.ZNPNode_ZPP_Compound.zpp_pool.next=null,c.util.ZNPNode_ZPP_Compound.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Arbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_Arbiter.zpp_pool.next,c.util.ZNPNode_ZPP_Arbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_Body.zpp_pool;)a=c.util.ZPP_Set_ZPP_Body.zpp_pool.next,
c.util.ZPP_Set_ZPP_Body.zpp_pool.next=null,c.util.ZPP_Set_ZPP_Body.zpp_pool=a;for(;null!=c.callbacks.ZPP_CbSetPair.zpp_pool;)a=c.callbacks.ZPP_CbSetPair.zpp_pool.next,c.callbacks.ZPP_CbSetPair.zpp_pool.next=null,c.callbacks.ZPP_CbSetPair.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool;)a=c.util.ZNPNode_ZPP_InteractionListener.zpp_pool.next,c.util.ZNPNode_ZPP_InteractionListener.zpp_pool.next=null,c.util.ZNPNode_ZPP_InteractionListener.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CbSet.zpp_pool;)a=
c.util.ZNPNode_ZPP_CbSet.zpp_pool.next,c.util.ZNPNode_ZPP_CbSet.zpp_pool.next=null,c.util.ZNPNode_ZPP_CbSet.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Interactor.zpp_pool;)a=c.util.ZNPNode_ZPP_Interactor.zpp_pool.next,c.util.ZNPNode_ZPP_Interactor.zpp_pool.next=null,c.util.ZNPNode_ZPP_Interactor.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_BodyListener.zpp_pool;)a=c.util.ZNPNode_ZPP_BodyListener.zpp_pool.next,c.util.ZNPNode_ZPP_BodyListener.zpp_pool.next=null,c.util.ZNPNode_ZPP_BodyListener.zpp_pool=a;
for(;null!=c.callbacks.ZPP_Callback.zpp_pool;)a=c.callbacks.ZPP_Callback.zpp_pool.next,c.callbacks.ZPP_Callback.zpp_pool.next=null,c.callbacks.ZPP_Callback.zpp_pool=a;for(;null!=c.callbacks.ZPP_CbSet.zpp_pool;)a=c.callbacks.ZPP_CbSet.zpp_pool.next,c.callbacks.ZPP_CbSet.zpp_pool.next=null,c.callbacks.ZPP_CbSet.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool;)a=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool.next,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool.next=null,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=
a;for(;null!=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool;)a=c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool.next,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool.next=null,c.util.ZNPNode_ZPP_ConstraintListener.zpp_pool=a;for(;null!=c.geom.ZPP_GeomVert.zpp_pool;)a=c.geom.ZPP_GeomVert.zpp_pool.next,c.geom.ZPP_GeomVert.zpp_pool.next=null,c.geom.ZPP_GeomVert.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;)a=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool.next,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool.next=
null,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a;for(;null!=c.geom.ZPP_GeomVertexIterator.zpp_pool;)a=c.geom.ZPP_GeomVertexIterator.zpp_pool.next,c.geom.ZPP_GeomVertexIterator.zpp_pool.next=null,c.geom.ZPP_GeomVertexIterator.zpp_pool=a;for(;null!=c.geom.ZPP_Mat23.zpp_pool;)a=c.geom.ZPP_Mat23.zpp_pool.next,c.geom.ZPP_Mat23.zpp_pool.next=null,c.geom.ZPP_Mat23.zpp_pool=a;for(;null!=c.geom.ZPP_CutVert.zpp_pool;)a=c.geom.ZPP_CutVert.zpp_pool.next,c.geom.ZPP_CutVert.zpp_pool.next=null,c.geom.ZPP_CutVert.zpp_pool=
a;for(;null!=c.geom.ZPP_CutInt.zpp_pool;)a=c.geom.ZPP_CutInt.zpp_pool.next,c.geom.ZPP_CutInt.zpp_pool.next=null,c.geom.ZPP_CutInt.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CutInt.zpp_pool;)a=c.util.ZNPNode_ZPP_CutInt.zpp_pool.next,c.util.ZNPNode_ZPP_CutInt.zpp_pool.next=null,c.util.ZNPNode_ZPP_CutInt.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_CutVert.zpp_pool;)a=c.util.ZNPNode_ZPP_CutVert.zpp_pool.next,c.util.ZNPNode_ZPP_CutVert.zpp_pool.next=null,c.util.ZNPNode_ZPP_CutVert.zpp_pool=a;for(;null!=c.geom.ZPP_Vec2.zpp_pool;)a=
c.geom.ZPP_Vec2.zpp_pool.next,c.geom.ZPP_Vec2.zpp_pool.next=null,c.geom.ZPP_Vec2.zpp_pool=a;for(;null!=c.geom.ZPP_PartitionPair.zpp_pool;)a=c.geom.ZPP_PartitionPair.zpp_pool.next,c.geom.ZPP_PartitionPair.zpp_pool.next=null,c.geom.ZPP_PartitionPair.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;)a=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool.next,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool.next=null,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;)a=
c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool.next,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool.next=null,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;for(;null!=c.geom.ZPP_PartitionVertex.zpp_pool;)a=c.geom.ZPP_PartitionVertex.zpp_pool.next,c.geom.ZPP_PartitionVertex.zpp_pool.next=null,c.geom.ZPP_PartitionVertex.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;)a=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool.next,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool.next=null,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=
a;for(;null!=c.geom.ZPP_PartitionedPoly.zpp_pool;)a=c.geom.ZPP_PartitionedPoly.zpp_pool.next,c.geom.ZPP_PartitionedPoly.zpp_pool.next=null,c.geom.ZPP_PartitionedPoly.zpp_pool=a;for(;null!=c.geom.ZPP_SimplifyV.zpp_pool;)a=c.geom.ZPP_SimplifyV.zpp_pool.next,c.geom.ZPP_SimplifyV.zpp_pool.next=null,c.geom.ZPP_SimplifyV.zpp_pool=a;for(;null!=c.geom.ZPP_SimplifyP.zpp_pool;)a=c.geom.ZPP_SimplifyP.zpp_pool.next,c.geom.ZPP_SimplifyP.zpp_pool.next=null,c.geom.ZPP_SimplifyP.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;)a=
c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool.next,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool.next=null,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool;)a=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool.next,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool.next=null,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;for(;null!=c.geom.ZPP_AABB.zpp_pool;)a=c.geom.ZPP_AABB.zpp_pool.next,c.geom.ZPP_AABB.zpp_pool.next=null,c.geom.ZPP_AABB.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_GeomVert.zpp_pool;)a=
c.util.ZNPNode_ZPP_GeomVert.zpp_pool.next,c.util.ZNPNode_ZPP_GeomVert.zpp_pool.next=null,c.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;for(;null!=c.geom.ZPP_ToiEvent.zpp_pool;)a=c.geom.ZPP_ToiEvent.zpp_pool.next,c.geom.ZPP_ToiEvent.zpp_pool.next=null,c.geom.ZPP_ToiEvent.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;)a=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool.next,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool.next=null,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a;for(;null!=c.geom.ZPP_SimpleVert.zpp_pool;)a=
c.geom.ZPP_SimpleVert.zpp_pool.next,c.geom.ZPP_SimpleVert.zpp_pool.next=null,c.geom.ZPP_SimpleVert.zpp_pool=a;for(;null!=c.geom.ZPP_SimpleSeg.zpp_pool;)a=c.geom.ZPP_SimpleSeg.zpp_pool.next,c.geom.ZPP_SimpleSeg.zpp_pool.next=null,c.geom.ZPP_SimpleSeg.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;)a=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool.next,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool.next=null,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;)a=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool.next,
c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool.next=null,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a;for(;null!=c.geom.ZPP_SimpleEvent.zpp_pool;)a=c.geom.ZPP_SimpleEvent.zpp_pool.next,c.geom.ZPP_SimpleEvent.zpp_pool.next=null,c.geom.ZPP_SimpleEvent.zpp_pool=a;for(;null!=c.util.Hashable2_Boolfalse.zpp_pool;)a=c.util.Hashable2_Boolfalse.zpp_pool.next,c.util.Hashable2_Boolfalse.zpp_pool.next=null,c.util.Hashable2_Boolfalse.zpp_pool=a;for(;null!=c.geom.ZPP_MarchSpan.zpp_pool;)a=c.geom.ZPP_MarchSpan.zpp_pool.next,
c.geom.ZPP_MarchSpan.zpp_pool.next=null,c.geom.ZPP_MarchSpan.zpp_pool=a;for(;null!=c.geom.ZPP_MarchPair.zpp_pool;)a=c.geom.ZPP_MarchPair.zpp_pool.next,c.geom.ZPP_MarchPair.zpp_pool.next=null,c.geom.ZPP_MarchPair.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool;)a=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool.next,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool.next=null,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;)a=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool.next,
c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool.next=null,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_AABBPair.zpp_pool;)a=c.util.ZNPNode_ZPP_AABBPair.zpp_pool.next,c.util.ZNPNode_ZPP_AABBPair.zpp_pool.next=null,c.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;for(;null!=c.shape.ZPP_Edge.zpp_pool;)a=c.shape.ZPP_Edge.zpp_pool.next,c.shape.ZPP_Edge.zpp_pool.next=null,c.shape.ZPP_Edge.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Vec2.zpp_pool;)a=c.util.ZNPNode_ZPP_Vec2.zpp_pool.next,c.util.ZNPNode_ZPP_Vec2.zpp_pool.next=
null,c.util.ZNPNode_ZPP_Vec2.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Edge.zpp_pool;)a=c.util.ZNPNode_ZPP_Edge.zpp_pool.next,c.util.ZNPNode_ZPP_Edge.zpp_pool.next=null,c.util.ZNPNode_ZPP_Edge.zpp_pool=a;for(;null!=c.space.ZPP_SweepData.zpp_pool;)a=c.space.ZPP_SweepData.zpp_pool.next,c.space.ZPP_SweepData.zpp_pool.next=null,c.space.ZPP_SweepData.zpp_pool=a;for(;null!=c.space.ZPP_AABBNode.zpp_pool;)a=c.space.ZPP_AABBNode.zpp_pool.next,c.space.ZPP_AABBNode.zpp_pool.next=null,c.space.ZPP_AABBNode.zpp_pool=
a;for(;null!=c.space.ZPP_AABBPair.zpp_pool;)a=c.space.ZPP_AABBPair.zpp_pool.next,c.space.ZPP_AABBPair.zpp_pool.next=null,c.space.ZPP_AABBPair.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_AABBNode.zpp_pool;)a=c.util.ZNPNode_ZPP_AABBNode.zpp_pool.next,c.util.ZNPNode_ZPP_AABBNode.zpp_pool.next=null,c.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;for(;null!=c.dynamics.ZPP_Contact.zpp_pool;)a=c.dynamics.ZPP_Contact.zpp_pool.next,c.dynamics.ZPP_Contact.zpp_pool.next=null,c.dynamics.ZPP_Contact.zpp_pool=a;for(;null!=
c.util.ZNPNode_ZPP_Component.zpp_pool;)a=c.util.ZNPNode_ZPP_Component.zpp_pool.next,c.util.ZNPNode_ZPP_Component.zpp_pool.next=null,c.util.ZNPNode_ZPP_Component.zpp_pool=a;for(;null!=c.space.ZPP_Island.zpp_pool;)a=c.space.ZPP_Island.zpp_pool.next,c.space.ZPP_Island.zpp_pool.next=null,c.space.ZPP_Island.zpp_pool=a;for(;null!=c.space.ZPP_Component.zpp_pool;)a=c.space.ZPP_Component.zpp_pool.next,c.space.ZPP_Component.zpp_pool.next=null,c.space.ZPP_Component.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;)a=
c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool.next,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool.next=null,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;for(;null!=c.space.ZPP_CallbackSet.zpp_pool;)a=c.space.ZPP_CallbackSet.zpp_pool.next,c.space.ZPP_CallbackSet.zpp_pool.next=null,c.space.ZPP_CallbackSet.zpp_pool=a;for(;null!=c.util.ZPP_Set_ZPP_CbSet.zpp_pool;)a=c.util.ZPP_Set_ZPP_CbSet.zpp_pool.next,c.util.ZPP_Set_ZPP_CbSet.zpp_pool.next=null,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=a;for(;null!=c.dynamics.ZPP_InteractionFilter.zpp_pool;)a=
c.dynamics.ZPP_InteractionFilter.zpp_pool.next,c.dynamics.ZPP_InteractionFilter.zpp_pool.next=null,c.dynamics.ZPP_InteractionFilter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool.next,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool.next,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=
a;for(;null!=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;)a=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool.next,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool.next=null,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;for(;null!=c.dynamics.ZPP_SensorArbiter.zpp_pool;)a=c.dynamics.ZPP_SensorArbiter.zpp_pool.next,c.dynamics.ZPP_SensorArbiter.zpp_pool.next=null,c.dynamics.ZPP_SensorArbiter.zpp_pool=a;for(;null!=c.dynamics.ZPP_FluidArbiter.zpp_pool;)a=c.dynamics.ZPP_FluidArbiter.zpp_pool.next,c.dynamics.ZPP_FluidArbiter.zpp_pool.next=
null,c.dynamics.ZPP_FluidArbiter.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_Listener.zpp_pool;)a=c.util.ZNPNode_ZPP_Listener.zpp_pool.next,c.util.ZNPNode_ZPP_Listener.zpp_pool.next=null,c.util.ZNPNode_ZPP_Listener.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool;)a=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool.next,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool.next=null,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;for(;null!=c.dynamics.ZPP_ColArbiter.zpp_pool;)a=c.dynamics.ZPP_ColArbiter.zpp_pool.next,c.dynamics.ZPP_ColArbiter.zpp_pool.next=
null,c.dynamics.ZPP_ColArbiter.zpp_pool=a;for(;null!=c.util.ZNPNode_ConvexResult.zpp_pool;)a=c.util.ZNPNode_ConvexResult.zpp_pool.next,c.util.ZNPNode_ConvexResult.zpp_pool.next=null,c.util.ZNPNode_ConvexResult.zpp_pool=a;for(;null!=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool;)a=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool.next,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool.next=null,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;for(;null!=c.util.ZNPNode_RayResult.zpp_pool;)a=c.util.ZNPNode_RayResult.zpp_pool.next,c.util.ZNPNode_RayResult.zpp_pool.next=
null,c.util.ZNPNode_RayResult.zpp_pool=a;for(;null!=c.util.ZPP_PubPool.poolGeomPoly;)a=c.util.ZPP_PubPool.poolGeomPoly.zpp_pool,c.util.ZPP_PubPool.poolGeomPoly.zpp_pool=null,c.util.ZPP_PubPool.poolGeomPoly=a;for(;null!=c.util.ZPP_PubPool.poolVec2;)a=c.util.ZPP_PubPool.poolVec2.zpp_pool,c.util.ZPP_PubPool.poolVec2.zpp_pool=null,c.util.ZPP_PubPool.poolVec2=a;for(;null!=c.util.ZPP_PubPool.poolVec3;)a=c.util.ZPP_PubPool.poolVec3.zpp_pool,c.util.ZPP_PubPool.poolVec3.zpp_pool=null,c.util.ZPP_PubPool.poolVec3=
a};g.util.Debug.createGraphic=function(a){if(null==a)throw"Error: Cannot create debug graphic for null Body";var b=new l.display.Shape,d=b.graphics,h=H["int"](16777215*Math.exp(-a.zpp_inner_i.id/1500));d.lineStyle(0.1,(0.7*((h&16711680)>>16)|0)<<16|(0.7*((h&65280)>>8)|0)<<8|0.7*(h&255)|0,1);for(a=a.zpp_inner.wrap_shapes.iterator();a.hasNext();){var e;a.zpp_critical=!1;e=a.zpp_inner.at(a.zpp_i++);if(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var f;f=e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
e.zpp_inner.circle.outer_zn:null;d.drawCircle(function(a){null==f.zpp_inner.wrap_localCOM&&(f.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?f.zpp_inner.circle.setupLocalCOM():f.zpp_inner.polygon.setupLocalCOM());return f.zpp_inner.wrap_localCOM}(this).get_x(),function(a){null==f.zpp_inner.wrap_localCOM&&(f.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?f.zpp_inner.circle.setupLocalCOM():f.zpp_inner.polygon.setupLocalCOM());return f.zpp_inner.wrap_localCOM}(this).get_y(),f.zpp_inner_zn.radius)}else{h=
e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON?e.zpp_inner.polygon.outer_zn:null;d.moveTo(function(a){null==e.zpp_inner.wrap_localCOM&&(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.setupLocalCOM():e.zpp_inner.polygon.setupLocalCOM());return e.zpp_inner.wrap_localCOM}(this).get_x(),function(a){null==e.zpp_inner.wrap_localCOM&&(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.setupLocalCOM():e.zpp_inner.polygon.setupLocalCOM());return e.zpp_inner.wrap_localCOM}(this).get_y());
var m=0;null==h.zpp_inner_zn.wrap_gverts&&h.zpp_inner_zn.getgverts();for(var g=h.zpp_inner_zn.wrap_gverts.get_length();m<g;){var C=m++;null==h.zpp_inner_zn.wrap_lverts&&h.zpp_inner_zn.getlverts();var k=h.zpp_inner_zn.wrap_lverts.at(C);d.lineTo(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();
return k.zpp_inner.y}(this))}null==h.zpp_inner_zn.wrap_lverts&&h.zpp_inner_zn.getlverts();var p=h.zpp_inner_zn.wrap_lverts.at(0);d.lineTo(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this))}if(e.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var v;v=e.zpp_inner.type==
c.util.ZPP_Flags.id_ShapeType_CIRCLE?e.zpp_inner.circle.outer_zn:null;d.moveTo(function(a){null==v.zpp_inner.wrap_localCOM&&(v.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?v.zpp_inner.circle.setupLocalCOM():v.zpp_inner.polygon.setupLocalCOM());return v.zpp_inner.wrap_localCOM}(this).get_x()+0.3*v.zpp_inner_zn.radius,function(a){null==v.zpp_inner.wrap_localCOM&&(v.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?v.zpp_inner.circle.setupLocalCOM():v.zpp_inner.polygon.setupLocalCOM());return v.zpp_inner.wrap_localCOM}(this).get_y());
d.lineTo(function(a){null==v.zpp_inner.wrap_localCOM&&(v.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?v.zpp_inner.circle.setupLocalCOM():v.zpp_inner.polygon.setupLocalCOM());return v.zpp_inner.wrap_localCOM}(this).get_x()+v.zpp_inner_zn.radius,function(a){null==v.zpp_inner.wrap_localCOM&&(v.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?v.zpp_inner.circle.setupLocalCOM():v.zpp_inner.polygon.setupLocalCOM());return v.zpp_inner.wrap_localCOM}(this).get_y())}}return b};g.util.Debug.prototype=
{get_bgColour:function(){return this.zpp_inner.bg_col},set_bgColour:function(a){this.zpp_inner.d_shape.setbg(a);return this.zpp_inner.bg_col},get_display:function(){return this.zpp_inner.d_shape.shape},get_transform:function(){null==this.zpp_inner.xform&&this.zpp_inner.setform();return this.zpp_inner.xform.outer},set_transform:function(a){if(null==a)throw"Error: Cannot set Debug::transform to null";null==this.zpp_inner.xform&&this.zpp_inner.setform();this.zpp_inner.xform.outer.set(a);null==this.zpp_inner.xform&&
this.zpp_inner.setform();return this.zpp_inner.xform.outer},clear:function(){},flush:function(){},draw:function(a){},drawLine:function(a,b,d){},drawCurve:function(a,b,d,c){},drawCircle:function(a,b,d){},drawAABB:function(a,b){},drawFilledTriangle:function(a,b,d,c){},drawFilledCircle:function(a,b,d){},drawPolygon:function(a,b){},drawFilledPolygon:function(a,b){},drawSpring:function(a,b,d,c,e){},__class__:g.util.Debug};g.util.ShapeDebug=function(a,b,d){null==d&&(d=3355443);this.thickness=0;this.zpp_inner_zn=
null;if(0>=a)throw"Error: Debug width must be > 0";if(0>=b)throw"Error: Debug height must be > 0";c.util.ZPP_Debug.internal=!0;g.util.Debug.call(this);c.util.ZPP_Debug.internal=!1;this.zpp_inner_zn=new c.util.ZPP_ShapeDebug(a,b);this.zpp_inner_zn.outer_zn=this;this.zpp_inner=this.zpp_inner_zn;this.zpp_inner.outer=this;this.zpp_inner.d_shape.setbg(d);this.zpp_inner.bg_col;this.thickness=0.1};n["nape.util.ShapeDebug"]=g.util.ShapeDebug;g.util.ShapeDebug.__name__=["nape","util","ShapeDebug"];g.util.ShapeDebug.__super__=
g.util.Debug;g.util.ShapeDebug.prototype=K(g.util.Debug.prototype,{clear:function(){this.zpp_inner_zn.graphics.clear()},drawLine:function(a,b,d){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawLine::start cannot be null";
if(null==b)throw"Error: drawLine::end cannot be null";var c=this.zpp_inner_zn.graphics;c.lineStyle(this.thickness,d&16777215,1);if(this.zpp_inner.xnull)c.moveTo(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)),c.lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1;else{var e=this.zpp_inner.xform.outer.transform(a);c.moveTo(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this));e.dispose();e=this.zpp_inner.xform.outer.transform(b);c.lineTo(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));e.dispose()}},drawCurve:function(a,b,d,c){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";
if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawCurve::start cannot be null";if(null==b)throw"Error: drawCurve::control cannot be null";if(null==d)throw"Error: drawCurve::end cannot be null";var e=this.zpp_inner_zn.graphics;e.lineStyle(this.thickness,c&16777215,1);if(this.zpp_inner.xnull)e.moveTo(function(b){if(null!=
a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)),e.curveTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this)),a.zpp_inner.weak?(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1,d.zpp_inner.weak?(d.dispose(),!0):!1;else{var f=this.zpp_inner.xform.outer.transform(a),m=
this.zpp_inner.xform.outer.transform(b),g=this.zpp_inner.xform.outer.transform(d);e.moveTo(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));e.curveTo(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();
return m.zpp_inner.x}(this),function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this),function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));f.dispose();m.dispose();g.dispose()}},drawCircle:function(a,
b,d){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawCircle::position cannot be null";if(b!=b||0>b)throw"Error: drawCircle::radius must be >=0";var c=this.zpp_inner_zn.graphics;c.lineStyle(this.thickness,d&16777215,1);if(this.zpp_inner.xnull)c.drawCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b),a.zpp_inner.weak?(a.dispose(),!0):!1;else{var e=this.zpp_inner.xform.outer.transform(a);c.drawCircle(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this),b*this.zpp_inner.xdet);e.dispose()}},drawAABB:function(a,b){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null==a)throw"Error: drawAABB::aabb cannot be null";var d=this.zpp_inner_zn.graphics;d.lineStyle(this.thickness,b&16777215,1);if(this.zpp_inner.xnull)d.drawRect(function(b){a.zpp_inner.validate();return a.zpp_inner.minx}(this),function(b){a.zpp_inner.validate();
return a.zpp_inner.miny}(this),function(b){a.zpp_inner.validate();return a.zpp_inner.width()}(this),function(b){a.zpp_inner.validate();return a.zpp_inner.height()}(this));else{var c=this.zpp_inner.xform.outer.transform(a.zpp_inner.getmin()),e=g.geom.Vec2.get(function(b){a.zpp_inner.validate();return a.zpp_inner.width()}(this),0,null),f=this.zpp_inner.xform.outer.transform(e,!0),m=g.geom.Vec2.get(0,function(b){a.zpp_inner.validate();return a.zpp_inner.height()}(this),null),u=this.zpp_inner.xform.outer.transform(m,
!0);d.moveTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)+function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this)+function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)+function(a){if(null!=
f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this)+function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this)+function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();
return f.zpp_inner.y}(this)+function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this)+function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c.zpp_inner.validate();return c.zpp_inner.y}(this)+function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this));d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();
e.dispose();f.dispose();m.dispose();u.dispose()}},drawFilledTriangle:function(a,b,d,c){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a||null==b||null==
d)throw"Error: drawFilledTriangle can't use null points";var e=this.zpp_inner_zn.graphics;e.lineStyle(0,0,0);e.beginFill(c&16777215,1);if(this.zpp_inner.xnull)e.moveTo(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)),e.lineTo(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this),function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)),e.lineTo(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this)),a.zpp_inner.weak?
(a.dispose(),!0):!1,b.zpp_inner.weak?(b.dispose(),!0):!1,d.zpp_inner.weak?(d.dispose(),!0):!1;else{var f=this.zpp_inner.xform.outer.transform(a);e.moveTo(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));f.dispose();f=this.zpp_inner.xform.outer.transform(b);e.lineTo(function(a){if(null!=
f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.y}(this));f.dispose();f=this.zpp_inner.xform.outer.transform(d);e.lineTo(function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();return f.zpp_inner.x}(this),function(a){if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();return f.zpp_inner.y}(this));f.dispose()}e.endFill()},drawFilledCircle:function(a,b,d){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawFilledCircle::position cannot be null";if(b!=b||0>b)throw"Error: drawFilledCircle::radius must be >=0";var c=this.zpp_inner_zn.graphics;
c.lineStyle(0,0,0);c.beginFill(d&16777215,1);if(this.zpp_inner.xnull)c.drawCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b),a.zpp_inner.weak?(a.dispose(),!0):!1;else{var e=this.zpp_inner.xform.outer.transform(a);c.drawCircle(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.x}(this),function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this),b*this.zpp_inner.xdet);e.dispose()}c.endFill()},drawPolygon:function(a,b){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(null==a)throw"Error: Cannot draw null polygon";var d=this.zpp_inner_zn.graphics;
d.lineStyle(this.thickness,b&16777215,1);var c=null,e=!0;if(this.zpp_inner.xnull)if(a instanceof Array&&null==a.__enum__)for(var f=0;f<a.length;){var m=a[f];++f;if(null==m)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(m,g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var u=m;if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=g.geom.Vec2.get(function(a){if(null!=
u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
u.zpp_inner.validate();return u.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this));e=!1}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(f=a.iterator();f.hasNext();){var C;f.zpp_critical=!1;C=f.zpp_inner.at(f.zpp_i++);if(null==C)throw"Error: Vec2List contains null objects";
if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=g.geom.Vec2.get(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.x}(this),function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=
C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.x}(this),function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.x}(this),function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
C.zpp_inner.validate();return C.zpp_inner.y}(this));e=!1}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";f=a.zpp_inner.vertices;if(null!=f){m=f;do{var k=g.geom.Vec2.get(m.x,m.y,null),m=m.next;if(e){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=g.geom.Vec2.get(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),
function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.y}(this));e=!1;k.dispose()}while(m!=f)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";else if(a instanceof Array&&null==a.__enum__)for(f=0;f<a.length;){m=a[f];++f;if(null==m)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(m,
g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var p=this.zpp_inner.xform.outer.transform(m);e?(c=p,d.moveTo(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=
p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this));e||p.dispose();e=!1}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(f=a.iterator();f.hasNext();){f.zpp_critical=!1;m=f.zpp_inner.at(f.zpp_i++);if(null==m)throw"Error: Vec2List contains null objects";if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
var v=this.zpp_inner.xform.outer.transform(m);e?(c=v,d.moveTo(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this),function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this),
function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.y}(this));e||v.dispose();e=!1}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";f=a.zpp_inner.vertices;if(null!=f){m=f;do{var l=g.geom.Vec2.get(m.x,m.y,null),m=m.next,n=this.zpp_inner.xform.outer.transform(l);e?(c=n,d.moveTo(function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
n.zpp_inner.validate();return n.zpp_inner.x}(this),function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.x}(this),function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.y}(this));e||n.dispose();
e=!1;l.dispose()}while(m!=f)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();if(a instanceof Array&&null==a.__enum__)for(d=
0;d<a.length;){e=a[d];if(f=e.zpp_inner.weak)e.dispose(),f=!0;f?a.splice(d,1):d++}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),d=a.zpp_inner.inner,e=null,f=d.head;null!=f;)m=f.elt,m.outer.zpp_inner.weak?(f=d.erase(e),m.outer.zpp_inner.weak?(m.outer.dispose(),!0):!1):(e=f,f=f.next)},drawFilledPolygon:function(a,b){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";
if(null==a)throw"Error: Cannot draw null polygon!";var d=this.zpp_inner_zn.graphics;d.beginFill(b&16777215,1);d.lineStyle(0,0,0);var c=null,e=!0;if(this.zpp_inner.xnull)if(a instanceof Array&&null==a.__enum__)for(var f=0;f<a.length;){var m=a[f];++f;if(null==m)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(m,g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";var u=m;if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=
u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=g.geom.Vec2.get(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();
return u.zpp_inner.x}(this),function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.x}(this),function(a){if(null!=u&&u.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u.zpp_inner.validate();return u.zpp_inner.y}(this));e=!1}else if(I.Boot.__instanceof(a,
g.geom.Vec2List))for(f=a.iterator();f.hasNext();){var C;f.zpp_critical=!1;C=f.zpp_inner.at(f.zpp_i++);if(null==C)throw"Error: Vec2List contains null objects";if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(e){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c=g.geom.Vec2.get(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.x}(this),function(a){if(null!=
C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.x}(this),function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
C.zpp_inner.validate();return C.zpp_inner.x}(this),function(a){if(null!=C&&C.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";C.zpp_inner.validate();return C.zpp_inner.y}(this));e=!1}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";f=a.zpp_inner.vertices;if(null!=f){m=f;do{var k=g.geom.Vec2.get(m.x,m.y,null),m=m.next;if(e){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
c=g.geom.Vec2.get(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.y}(this),!1);d.moveTo(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
k.zpp_inner.validate();return k.zpp_inner.y}(this))}else d.lineTo(function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.x}(this),function(a){if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();return k.zpp_inner.y}(this));e=!1;k.dispose()}while(m!=f)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";
else if(a instanceof Array&&null==a.__enum__)for(f=0;f<a.length;){m=a[f];++f;if(null==m)throw"Error: Array<Vec2> contains null objects";if(!I.Boot.__instanceof(m,g.geom.Vec2))throw"Error: Array<Vec2> contains non Vec2 objects";if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var p=this.zpp_inner.xform.outer.transform(m);e?(c=p,d.moveTo(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(this),
function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this));e||p.dispose();e=!1}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(f=
a.iterator();f.hasNext();){f.zpp_critical=!1;m=f.zpp_inner.at(f.zpp_i++);if(null==m)throw"Error: Vec2List contains null objects";if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";var v=this.zpp_inner.xform.outer.transform(m);e?(c=v,d.moveTo(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this),function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
v.zpp_inner.validate();return v.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this),function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.y}(this));e||v.dispose();e=!1}else if(I.Boot.__instanceof(a,g.geom.GeomPoly)){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";
f=a.zpp_inner.vertices;if(null!=f){m=f;do{var l=g.geom.Vec2.get(m.x,m.y,null),m=m.next,n=this.zpp_inner.xform.outer.transform(l);e?(c=n,d.moveTo(function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.x}(this),function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.y}(this))):d.lineTo(function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
n.zpp_inner.validate();return n.zpp_inner.x}(this),function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.y}(this));e||n.dispose();e=!1;l.dispose()}while(m!=f)}}else throw"Error: Invalid type for polygon object, should be Array<Vec2>, Vec2List, GeomPoly or for flash10+ flash.Vector<Vec2>";d.lineTo(function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.x}(this),
function(a){if(null!=c&&c.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";c.zpp_inner.validate();return c.zpp_inner.y}(this));c.dispose();d.endFill();if(a instanceof Array&&null==a.__enum__)for(d=0;d<a.length;){e=a[d];if(f=e.zpp_inner.weak)e.dispose(),f=!0;f?a.splice(d,1):d++}else if(I.Boot.__instanceof(a,g.geom.Vec2List))for(null!=a.zpp_inner._validate&&a.zpp_inner._validate(),d=a.zpp_inner.inner,e=null,f=d.head;null!=f;)m=f.elt,m.outer.zpp_inner.weak?(f=d.erase(e),m.outer.zpp_inner.weak?
(m.outer.dispose(),!0):!1):(e=f,f=f.next)},draw:function(a){if(null!=this.zpp_inner.xform&&!this.zpp_inner.xform.outer.equiorthogonal())throw"Error: Debug draw can only operate with an equiorthogonal transform!";if(this.zpp_inner.xnull)if(I.Boot.__instanceof(a,g.space.Space))this.zpp_inner_zn.draw_space(I.Boot.__cast(a,g.space.Space).zpp_inner,null,1,!0);else if(I.Boot.__instanceof(a,g.phys.Compound))this.zpp_inner_zn.draw_compound(I.Boot.__cast(a,g.phys.Compound).zpp_inner,null,1,!0);else if(I.Boot.__instanceof(a,
g.phys.Body))this.zpp_inner_zn.draw_body(I.Boot.__cast(a,g.phys.Body).zpp_inner,null,1,!0);else if(I.Boot.__instanceof(a,g.shape.Shape))this.zpp_inner_zn.draw_shape(I.Boot.__cast(a,g.shape.Shape).zpp_inner,null,1,!0);else if(I.Boot.__instanceof(a,g.constraint.Constraint))I.Boot.__cast(a,g.constraint.Constraint).zpp_inner.draw(this);else throw"Error: Unhandled object type for Debug draw";else if(I.Boot.__instanceof(a,g.space.Space))this.zpp_inner_zn.draw_space(I.Boot.__cast(a,g.space.Space).zpp_inner,
this.zpp_inner.xform,this.zpp_inner.xdet,!1);else if(I.Boot.__instanceof(a,g.phys.Body))this.zpp_inner_zn.draw_body(I.Boot.__cast(a,g.phys.Body).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1);else if(I.Boot.__instanceof(a,g.shape.Shape))this.zpp_inner_zn.draw_shape(I.Boot.__cast(a,g.shape.Shape).zpp_inner,this.zpp_inner.xform,this.zpp_inner.xdet,!1);else if(I.Boot.__instanceof(a,g.constraint.Constraint))I.Boot.__cast(a,g.constraint.Constraint).zpp_inner.draw(this);else throw"Error: Unhandled object type for Debug draw";
},drawSpring:function(a,b,d,c,e){null==e&&(e=3);null==c&&(c=3);if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";if(null==a)throw"Error: drawCurve::start cannot be null";if(null==b)throw"Error: drawCurve::end cannot be null";if(0>c)throw"Error: drawCurve::coils must be >= 0";if(0==c)this.drawLine(a,b,d);else{var f;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();f=b.zpp_inner.x;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();f-=a.zpp_inner.x;var m;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();m=b.zpp_inner.y;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();m-=a.zpp_inner.y;var u=1/(4*c);f*=u;m*=u;var k=u=0,u=f,k=m;if(0.1>u*u+k*k)return;var W=1/Math.sqrt(u*u+k*k),p=u*W;
e*=2;var u=-(k*W)*e,k=p*e,v;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v=g.geom.Vec2.get(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),!1);e=g.geom.Vec2.get(null,null,null);for(var l=g.geom.Vec2.get(null,null,null),p=0;p<c;)p++,
e.set_x(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this)+f+u),e.set_y(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.y}(this)+m+k),l.set_x(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this)+2*f),l.set_y(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
v.zpp_inner.validate();return v.zpp_inner.y}(this)+2*m),this.drawCurve(v,e,l,d),v.set_x(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this)),v.set_y(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this)),e.set_x(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();
return v.zpp_inner.x}(this)+f-u),e.set_y(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.y}(this)+m-k),l.set_x(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.x}(this)+2*f),l.set_y(function(a){if(null!=v&&v.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";v.zpp_inner.validate();return v.zpp_inner.y}(this)+2*m),
this.drawCurve(v,e,l,d),v.set_x(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this)),v.set_y(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this));v.dispose();e.dispose();l.dispose()}a.zpp_inner.weak?(a.dispose(),!0):!1;b.zpp_inner.weak?(b.dispose(),!0):!1},__class__:g.util.ShapeDebug});x.AssetCache=function(){this.enabled=
!0;this.bitmapData=new r.ds.StringMap;this.font=new r.ds.StringMap;this.sound=new r.ds.StringMap};n["openfl.AssetCache"]=x.AssetCache;x.AssetCache.__name__=["openfl","AssetCache"];x.AssetCache.prototype={clear:function(){this.bitmapData=new r.ds.StringMap;this.font=new r.ds.StringMap;this.sound=new r.ds.StringMap},__class__:x.AssetCache};x.Assets=function(){};n["openfl.Assets"]=x.Assets;x.Assets.__name__=["openfl","Assets"];x.Assets.exists=function(a,b){x.Assets.initialize();null==b&&(b=x.AssetType.BINARY);
var d=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=S.substr(a,c,null);d=x.Assets.getLibrary(d);return null!=d?d.exists(c,b):!1};x.Assets.getBitmapData=function(a,b){null==b&&(b=!0);x.Assets.initialize();var d,c,e,f;if(b&&(d=x.Assets.cache).enabled&&d.bitmapData.exists(a)&&x.Assets.isValidBitmapData(c=x.Assets.cache.bitmapData.get(a)))return c;e=a.indexOf(":");c=a.substring(0,e);e=S.substr(a,e+1,null);f=x.Assets.getLibrary(c);if(null!=f){if(f.exists(e,x.AssetType.IMAGE))return c=f.getBitmapData(e),
b?d.enabled&&d.bitmapData.set(a,c):c=c.clone(),c;console&&console.log('[openfl.Assets] There is no BitmapData asset with an ID of "'+e+'"')}else console&&console.log('[openfl.Assets] There is no asset library named "'+c+'"');return null};x.Assets.getBytes=function(a){x.Assets.initialize();var b=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=S.substr(a,d,null);var c=x.Assets.getLibrary(b);if(null!=c)if(c.exists(d,x.AssetType.BINARY)){if(c.isLocal(d,x.AssetType.BINARY))return c.getBytes(d);r.Log.trace('[openfl.Assets] String or ByteArray asset "'+
a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:131,className:"openfl.Assets",methodName:"getBytes"})}else r.Log.trace('[openfl.Assets] There is no String or ByteArray asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:137,className:"openfl.Assets",methodName:"getBytes"});else r.Log.trace('[openfl.Assets] There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:143,className:"openfl.Assets",methodName:"getBytes"});return null};x.Assets.getFont=function(a,
b){null==b&&(b=!0);x.Assets.initialize();if(b&&x.Assets.cache.enabled&&x.Assets.cache.font.exists(a))return x.Assets.cache.font.get(a);var d=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=S.substr(a,c,null);var e=x.Assets.getLibrary(d);if(null!=e)if(e.exists(c,x.AssetType.FONT)){if(e.isLocal(c,x.AssetType.FONT))return d=e.getFont(c),b&&x.Assets.cache.enabled&&x.Assets.cache.font.set(a,d),d;r.Log.trace('[openfl.Assets] Font asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",
lineNumber:194,className:"openfl.Assets",methodName:"getFont"})}else r.Log.trace('[openfl.Assets] There is no Font asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:200,className:"openfl.Assets",methodName:"getFont"});else r.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:206,className:"openfl.Assets",methodName:"getFont"});return null};x.Assets.getLibrary=function(a){if(null==a||""==a)a="default";return x.Assets.libraries.get(a)};x.Assets.getMovieClip=
function(a){x.Assets.initialize();var b=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=S.substr(a,d,null);var c=x.Assets.getLibrary(b);if(null!=c)if(c.exists(d,x.AssetType.MOVIE_CLIP)){if(c.isLocal(d,x.AssetType.MOVIE_CLIP))return c.getMovieClip(d);r.Log.trace('[openfl.Assets] MovieClip asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:256,className:"openfl.Assets",methodName:"getMovieClip"})}else r.Log.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+
a+'"',{fileName:"Assets.hx",lineNumber:262,className:"openfl.Assets",methodName:"getMovieClip"});else r.Log.trace('[openfl.Assets] There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:268,className:"openfl.Assets",methodName:"getMovieClip"});return null};x.Assets.getMusic=function(a,b){null==b&&(b=!0);x.Assets.initialize();if(b&&x.Assets.cache.enabled&&x.Assets.cache.sound.exists(a)){var d=x.Assets.cache.sound.get(a);if(x.Assets.isValidSound(d))return d}var d=a.substring(0,a.indexOf(":")),
c;c=a.indexOf(":")+1;c=S.substr(a,c,null);var e=x.Assets.getLibrary(d);if(null!=e)if(e.exists(c,x.AssetType.MUSIC)){if(e.isLocal(c,x.AssetType.MUSIC))return d=e.getMusic(c),b&&x.Assets.cache.enabled&&x.Assets.cache.sound.set(a,d),d;r.Log.trace('[openfl.Assets] Sound asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:325,className:"openfl.Assets",methodName:"getMusic"})}else r.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",
lineNumber:331,className:"openfl.Assets",methodName:"getMusic"});else r.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:337,className:"openfl.Assets",methodName:"getMusic"});return null};x.Assets.getPath=function(a){x.Assets.initialize();var b=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=S.substr(a,d,null);var c=x.Assets.getLibrary(b);if(null!=c){if(c.exists(d,null))return c.getPath(d);r.Log.trace('[openfl.Assets] There is no asset with an ID of "'+
a+'"',{fileName:"Assets.hx",lineNumber:372,className:"openfl.Assets",methodName:"getPath"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:378,className:"openfl.Assets",methodName:"getPath"});return null};x.Assets.getSound=function(a,b){null==b&&(b=!0);x.Assets.initialize();if(b&&x.Assets.cache.enabled&&x.Assets.cache.sound.exists(a)){var d=x.Assets.cache.sound.get(a);if(x.Assets.isValidSound(d))return d}var d=a.substring(0,a.indexOf(":")),
c;c=a.indexOf(":")+1;c=S.substr(a,c,null);var e=x.Assets.getLibrary(d);if(null!=e)if(e.exists(c,x.AssetType.SOUND)){if(e.isLocal(c,x.AssetType.SOUND))return d=e.getSound(c),b&&x.Assets.cache.enabled&&x.Assets.cache.sound.set(a,d),d;r.Log.trace('[openfl.Assets] Sound asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:435,className:"openfl.Assets",methodName:"getSound"})}else r.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",
lineNumber:441,className:"openfl.Assets",methodName:"getSound"});else r.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:447,className:"openfl.Assets",methodName:"getSound"});return null};x.Assets.getText=function(a){a=x.Assets.getBytes(a);return null==a?null:a.readUTFBytes(a.length)};x.Assets.initialize=function(){x.Assets.initialized||(x.Assets.registerLibrary("default",new Da),x.Assets.initialized=!0)};x.Assets.isLocal=function(a,b,d){null==d&&
(d=!0);x.Assets.initialize();if(d&&x.Assets.cache.enabled&&((b==x.AssetType.IMAGE||null==b)&&x.Assets.cache.bitmapData.exists(a)||(b==x.AssetType.FONT||null==b)&&x.Assets.cache.font.exists(a)||(b==x.AssetType.SOUND||b==x.AssetType.MUSIC||null==b)&&x.Assets.cache.sound.exists(a)))return!0;d=a.substring(0,a.indexOf(":"));var c=a.indexOf(":")+1;a=S.substr(a,c,null);d=x.Assets.getLibrary(d);return null!=d?d.isLocal(a,b):!1};x.Assets.isValidBitmapData=function(a){return!0};x.Assets.isValidSound=function(a){return!0};
x.Assets.list=function(a){x.Assets.initialize();for(var b=[],d=x.Assets.libraries.iterator();d.hasNext();){var c=d.next().list(a);null!=c&&(b=b.concat(c))}return b};x.Assets.loadBitmapData=function(a,b,d){null==d&&(d=!0);x.Assets.initialize();if(d&&x.Assets.cache.enabled&&x.Assets.cache.bitmapData.exists(a)){var c=x.Assets.cache.bitmapData.get(a);if(x.Assets.isValidBitmapData(c)){b(c);return}}var c=a.substring(0,a.indexOf(":")),e;e=a.indexOf(":")+1;e=S.substr(a,e,null);var f=x.Assets.getLibrary(c);
if(null!=f){if(f.exists(e,x.AssetType.IMAGE)){d&&x.Assets.cache.enabled?f.loadBitmapData(e,function(d){x.Assets.cache.bitmapData.set(a,d);b(d)}):f.loadBitmapData(e,b);return}r.Log.trace('[openfl.Assets] There is no BitmapData asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:651,className:"openfl.Assets",methodName:"loadBitmapData"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:657,className:"openfl.Assets",methodName:"loadBitmapData"});
b(null)};x.Assets.loadBytes=function(a,b){x.Assets.initialize();var d=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=S.substr(a,c,null);var e=x.Assets.getLibrary(d);if(null!=e){if(e.exists(c,x.AssetType.BINARY)){e.loadBytes(c,b);return}r.Log.trace('[openfl.Assets] There is no String or ByteArray asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:687,className:"openfl.Assets",methodName:"loadBytes"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",
lineNumber:693,className:"openfl.Assets",methodName:"loadBytes"});b(null)};x.Assets.loadFont=function(a,b,d){null==d&&(d=!0);x.Assets.initialize();if(d&&x.Assets.cache.enabled&&x.Assets.cache.font.exists(a))b(x.Assets.cache.font.get(a));else{var c=a.substring(0,a.indexOf(":")),e;e=a.indexOf(":")+1;e=S.substr(a,e,null);var f=x.Assets.getLibrary(c);if(null!=f){if(f.exists(e,x.AssetType.FONT)){d&&x.Assets.cache.enabled?f.loadFont(e,function(d){x.Assets.cache.font.set(a,d);b(d)}):f.loadFont(e,b);return}r.Log.trace('[openfl.Assets] There is no Font asset with an ID of "'+
a+'"',{fileName:"Assets.hx",lineNumber:744,className:"openfl.Assets",methodName:"loadFont"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:750,className:"openfl.Assets",methodName:"loadFont"});b(null)}};x.Assets.loadLibrary=function(a,b){x.Assets.initialize();var d=x.Assets.getText("libraries/"+a+".dat");null!=d&&""!=d?(d=new r.Unserializer(d),d.setResolver({resolveEnum:x.Assets.resolveEnum,resolveClass:x.Assets.resolveClass}),d=d.unserialize(),
x.Assets.libraries.set(a,d),d.load(b)):r.Log.trace('[openfl.Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:780,className:"openfl.Assets",methodName:"loadLibrary"})};x.Assets.loadMusic=function(a,b,d){null==d&&(d=!0);x.Assets.initialize();if(d&&x.Assets.cache.enabled&&x.Assets.cache.sound.exists(a)){var c=x.Assets.cache.sound.get(a);if(x.Assets.isValidSound(c)){b(c);return}}var c=a.substring(0,a.indexOf(":")),e;e=a.indexOf(":")+1;e=S.substr(a,e,null);var f=x.Assets.getLibrary(c);
if(null!=f){if(f.exists(e,x.AssetType.MUSIC)){d&&x.Assets.cache.enabled?f.loadMusic(e,function(d){x.Assets.cache.sound.set(a,d);b(d)}):f.loadMusic(e,b);return}r.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:835,className:"openfl.Assets",methodName:"loadMusic"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:841,className:"openfl.Assets",methodName:"loadMusic"});b(null)};x.Assets.loadMovieClip=
function(a,b){x.Assets.initialize();var d=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=S.substr(a,c,null);var e=x.Assets.getLibrary(d);if(null!=e){if(e.exists(c,x.AssetType.MOVIE_CLIP)){e.loadMovieClip(c,b);return}r.Log.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:871,className:"openfl.Assets",methodName:"loadMovieClip"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:877,
className:"openfl.Assets",methodName:"loadMovieClip"});b(null)};x.Assets.loadSound=function(a,b,d){null==d&&(d=!0);x.Assets.initialize();if(d&&x.Assets.cache.enabled&&x.Assets.cache.sound.exists(a)){var c=x.Assets.cache.sound.get(a);if(x.Assets.isValidSound(c)){b(c);return}}var c=a.substring(0,a.indexOf(":")),e;e=a.indexOf(":")+1;e=S.substr(a,e,null);var f=x.Assets.getLibrary(c);if(null!=f){if(f.exists(e,x.AssetType.SOUND)){d&&x.Assets.cache.enabled?f.loadSound(e,function(d){x.Assets.cache.sound.set(a,
d);b(d)}):f.loadSound(e,b);return}r.Log.trace('[openfl.Assets] There is no Sound asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:934,className:"openfl.Assets",methodName:"loadSound"})}else r.Log.trace('[openfl.Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:940,className:"openfl.Assets",methodName:"loadSound"});b(null)};x.Assets.loadText=function(a,b){x.Assets.initialize();x.Assets.loadBytes(a,function(a){null==a?b(null):b(a.readUTFBytes(a.length))})};
x.Assets.registerLibrary=function(a,b){x.Assets.libraries.exists(a)&&x.Assets.unloadLibrary(a);x.Assets.libraries.set(a,b)};x.Assets.resolveClass=function(a){return U.resolveClass(a)};x.Assets.resolveEnum=function(a){return U.resolveEnum(a)};x.Assets.unloadLibrary=function(a){x.Assets.initialize();for(var b=x.Assets.cache.bitmapData.keys();b.hasNext();){var d=b.next(),c=d.substring(0,d.indexOf(":")),e=d.indexOf(":")+1;S.substr(d,e,null);c==a&&x.Assets.cache.bitmapData.remove(d)}x.Assets.libraries.remove(a)};
x.AssetData=function(){};n["openfl.AssetData"]=x.AssetData;x.AssetData.__name__=["openfl","AssetData"];x.AssetData.prototype={__class__:x.AssetData};x.AssetType=n["openfl.AssetType"]={__ename__:["openfl","AssetType"],__constructs__:"BINARY FONT IMAGE MOVIE_CLIP MUSIC SOUND TEMPLATE TEXT".split(" ")};x.AssetType.BINARY=["BINARY",0];x.AssetType.BINARY.toString=T;x.AssetType.BINARY.__enum__=x.AssetType;x.AssetType.FONT=["FONT",1];x.AssetType.FONT.toString=T;x.AssetType.FONT.__enum__=x.AssetType;x.AssetType.IMAGE=
["IMAGE",2];x.AssetType.IMAGE.toString=T;x.AssetType.IMAGE.__enum__=x.AssetType;x.AssetType.MOVIE_CLIP=["MOVIE_CLIP",3];x.AssetType.MOVIE_CLIP.toString=T;x.AssetType.MOVIE_CLIP.__enum__=x.AssetType;x.AssetType.MUSIC=["MUSIC",4];x.AssetType.MUSIC.toString=T;x.AssetType.MUSIC.__enum__=x.AssetType;x.AssetType.SOUND=["SOUND",5];x.AssetType.SOUND.toString=T;x.AssetType.SOUND.__enum__=x.AssetType;x.AssetType.TEMPLATE=["TEMPLATE",6];x.AssetType.TEMPLATE.toString=T;x.AssetType.TEMPLATE.__enum__=x.AssetType;
x.AssetType.TEXT=["TEXT",7];x.AssetType.TEXT.toString=T;x.AssetType.TEXT.__enum__=x.AssetType;x.display={};x.display.Tilesheet=function(a){this.nmeBitmap=a;this.qOffsets=[];this.qRects=[];this.bounds=new l.geom.Rectangle;this.tile=new l.geom.Rectangle;this.matrix=new l.geom.Matrix};n["openfl.display.Tilesheet"]=x.display.Tilesheet;x.display.Tilesheet.__name__=["openfl","display","Tilesheet"];x.display.Tilesheet.prototype={addTileRect:function(a,b){null==b&&(b=new l.geom.Point);this.qRects.push(a);
this.qOffsets.push(b);return this.qRects.length-1},getTileCenter:function(a){return this.qOffsets[a]},getTileRect:function(a){return this.qRects[a]},drawTiles:function(a,b,d,c){null==c&&(c=0);null==d&&(d=!1);d=0;var e=a.frec,f=a.flen,m=0,g=b.length,k=0,W,p,l,n=this.bounds,q=this.tile,s=this.matrix,r,w=0!=(c&1),x=0!=(c&2),y=0!=(c&16),z=w||x||y;a.irec[a.ilen++]=16;a.arec[a.alen++]=this.nmeBitmap;a.irec[a.ilen++]=c;0!=(c&4)&&(k+=3);0!=(c&8)&&k++;for(n.setVoid();m<g;){r=c=b[m++];e[f++]=r;p=r=b[m++];e[f++]=
p;W=b[m++];p=this.qRects[W];W=this.qOffsets[W];var A=W.x;e[f++]=A;A=W.y;e[f++]=A;A=p.x;e[f++]=A;A=p.y;e[f++]=A;A=p.width;e[f++]=A;A=p.height;e[f++]=A;q.x=-W.x;q.width=p.width;q.y=-W.y;q.height=p.height;z&&(s.identity(),y?(W=s.a=b[m++],e[f++]=W,W=s.b=b[m++],e[f++]=W,W=s.c=b[m++],e[f++]=W,W=s.d=b[m++],e[f++]=W):(w&&s.scale(function(a){a=l=b[m++];return e[f++]=a}(this),l),x&&s.rotate(function(a){a=b[m++];return e[f++]=a}(this))),s.translate(p.x,p.y),q.transform(s));q.x+=c;q.y+=r;n.join(q);for(c=0;c++<
k;)r=b[m++],e[f++]=r;d++}a.irec[a.ilen++]=d;a.flen=f;a.grab(n.x,n.y,n.x+n.width,n.y+n.height)},__class__:x.display.Tilesheet};var k={NapeUtil:function(){}};n["oz.NapeUtil"]=k.NapeUtil;k.NapeUtil.__name__=["oz","NapeUtil"];k.NapeUtil.AverageContactPoint=function(a){var b=g.geom.Vec2.get(0,0,null),d=0;a.foreach(function(a){if(a.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL){a=(a.zpp_inner.type==c.dynamics.ZPP_Arbiter.COL?a.zpp_inner.colarb.outer_zn:null).get_contacts();var e=a.at(0);if(1==a.get_length())b.addeq(function(a){if(e.zpp_inner.inactiveme())throw"Error: Contact not currently in use";
null==e.zpp_inner.wrap_position&&e.zpp_inner.getposition();return e.zpp_inner.wrap_position}(this).mul(0.1,!0)),d+=0.1;else{var f=a.at(1);if(e.zpp_inner.inactiveme())throw"Error: Contact not currently in use";null==e.zpp_inner.wrap_position&&e.zpp_inner.getposition();var m=e.zpp_inner.wrap_position.sub(function(a){if(f.zpp_inner.inactiveme())throw"Error: Contact not currently in use";null==f.zpp_inner.wrap_position&&f.zpp_inner.getposition();return f.zpp_inner.wrap_position}(this));a=Math.max(function(a){if(null!=
m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";return Math.sqrt(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(a)*function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(a)+function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(a)*
function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(a))}(this),0.1);b.addeq(function(a){if(e.zpp_inner.inactiveme())throw"Error: Contact not currently in use";null==e.zpp_inner.wrap_position&&e.zpp_inner.getposition();return e.zpp_inner.wrap_position}(this).add(function(a){if(f.zpp_inner.inactiveme())throw"Error: Contact not currently in use";null==f.zpp_inner.wrap_position&&f.zpp_inner.getposition();return f.zpp_inner.wrap_position}(this),
!0).muleq(0.5*a));d+=a;m.dispose()}}});return 0==d?(b.dispose(),null):b.muleq(1/d)};k.NapeUtil.maxVector=function(a,b){var d;if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d=Math.sqrt(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)*function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this)+
function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this)*function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this));d>b&&a.muleq(b/d)};k.OzAPI=function(){};n["oz.OzAPI"]=k.OzAPI;k.OzAPI.__name__=["oz","OzAPI"];k.OzAPI.Init=function(){k.OzAPI.initFirst||(k.OzAPI.initFirst=!0,k.OzAPI.gameAds=[],k.OzAPI.gameIds=[]);k.OzAPI.requestInitted||
null!=k.OzAPI.adDataXml?null!=k.OzAPI.adDataXml&&0<k.OzAPI.numAdsFailed&&k.OzAPI.numAdsLoaded+k.OzAPI.numAdsLoaded==k.OzAPI.gameAds.length&&(k.OzAPI.numAdsFailed=0,k.OzAPI.loadBitmapDatas()):(k.OzAPI.requestInitted=!0,k.OzAPI.numTries++,k.OzAPI.xmlLoader=new l.net.URLLoader,k.OzAPI.xmlLoader.addEventListener("complete",k.OzAPI.onXMLLoaded),k.OzAPI.xmlLoader.load(new l.net.URLRequest("http://ozdy.com/ads/addata.xml?secret="+Math.floor(1E4*Math.random()))))};k.OzAPI.onXMLLoaded=function(a){k.OzAPI.xmlLoader.removeEventListener("complete",
k.OzAPI.onXMLLoaded);k.OzAPI.adDataXml=R.parse(a.get_target().data).firstElement();r.Log.trace(k.OzAPI.adDataXml,{fileName:"OzAPI.hx",lineNumber:75,className:"oz.OzAPI",methodName:"onXMLLoaded"});a=0;for(var b=k.OzAPI.adDataXml.elementsNamed("game");b.hasNext();){var d=b.next();r.Log.trace(d,{fileName:"OzAPI.hx",lineNumber:78,className:"oz.OzAPI",methodName:"onXMLLoaded"});if(null!=d.get("html5")&&"fly-again"!=d.get("name")){var c=function(a){return function(b){var d=b.get_target().content;k.OzAPI.gameAds[a[0]].bmd=
d.bitmapData;k.OzAPI.gameAds[a[0]].movieClip=k.OzSprite.AddRuntimeBitmapData(k.OzAPI.gameAds[a[0]].bmd,"oza"+k.OzAPI.gameAds[a[0]].name);k.OzUtil.SortIdsByName(k.OzSprite.BitmapsIds,k.OzSprite.BitmapsNames);b.get_target().removeEventListener("complete",k.OzAPI.gameAds[a[0]].complete);b.get_target().removeEventListener("ioError",k.OzAPI.errorAdBMD);r.Log.trace("we loaded",{fileName:"OzAPI.hx",lineNumber:89,className:"oz.OzAPI",methodName:"onXMLLoaded",customParams:[k.OzAPI.gameAds[a[0]].title]});k.OzAPI.numAdsLoaded++;
k.OzAPI.numAdsLoaded==k.OzAPI.gameAds.length&&k.OzAPI.SpriteToMoreGames()}}([a]);k.OzAPI.gameAds[a]={name:d.get("name"),title:d.get("title"),link:d.get("html5"),complete:c,bmd:null,movieClip:null};a++}}r.Log.trace(k.OzAPI.gameAds[0].complete,{fileName:"OzAPI.hx",lineNumber:104,className:"oz.OzAPI",methodName:"onXMLLoaded"});k.OzAPI.loadBitmapDatas()};k.OzAPI.loadBitmapDatas=function(){r.Log.trace(k.OzAPI.gameAds.length,{fileName:"OzAPI.hx",lineNumber:109,className:"oz.OzAPI",methodName:"loadBitmapDatas"});
for(var a=0,b=k.OzAPI.gameAds.length;a<b;){var d=a++,c=new l.display.Loader;r.Log.trace(d,{fileName:"OzAPI.hx",lineNumber:112,className:"oz.OzAPI",methodName:"loadBitmapDatas",customParams:[k.OzAPI.gameAds[d].complete,c.loaderInfo]});c.contentLoaderInfo.addEventListener("complete",k.OzAPI.gameAds[d].complete);c.contentLoaderInfo.addEventListener("ioError",k.OzAPI.errorAdBMD);r.Log.trace("trying to load this bmd: http://ozdy.com/ads/imgs/"+k.OzAPI.gameAds[d].name+".png?secret="+Math.floor(1E4*Math.random()),
{fileName:"OzAPI.hx",lineNumber:115,className:"oz.OzAPI",methodName:"loadBitmapDatas"});c.load(new l.net.URLRequest("http://ozdy.com/ads/imgs/"+k.OzAPI.gameAds[d].name+".png"))}};k.OzAPI.SpriteToMoreGames=function(a,b){null!=a&&(a.visible=!1)};k.OzAPI.errorAdBMD=function(a){k.OzAPI.numAdsFailed++;r.Log.trace("FAILED BMD LOAD",{fileName:"OzAPI.hx",lineNumber:167,className:"oz.OzAPI",methodName:"errorAdBMD"})};k.OzAPI.goToAdLink=function(a){for(var b=0,d=k.OzAPI.gameAds.length;b<d;){var c=b++;k.OzAPI.gameAds[c].movieClip==
a.target.mc&&l.Lib.getURL(new l.net.URLRequest(k.OzAPI.gameAds[c].link))}};k.OzEvent=function(a){this.target=a};n["oz.OzEvent"]=k.OzEvent;k.OzEvent.__name__=["oz","OzEvent"];k.OzEvent.prototype={__class__:k.OzEvent};k.OzFont=function(){this.chars=[];this.kernings=[]};n["oz.OzFont"]=k.OzFont;k.OzFont.__name__=["oz","OzFont"];k.OzFont.prototype={addKerning:function(a,b,d){null==this.kernings[a]&&(this.kernings[a]=[]);this.kernings[a][b]=d},RegisterCharacters:function(){this.frames=[];this.movieClips=
[];for(var a=0,b=0,d=this.chars.length;b<d;){var c=b++;null!=this.chars[c]&&32!=c&&(this.frames.push([this.chars[c].x,this.chars[c].y,this.chars[c].width,this.chars[c].height,0,0]),this.movieClips.push({name:"z"+this.face+"-"+this.chars[c].letter,tilesheetId:-1,frames:[a]}),this.chars[c].movieClip=this.movieClips[this.movieClips.length-1],a++)}k.OzSprite.RegisterTilesheet(this.bitmapName,this.movieClips,this.frames);this.tilesheetId=this.movieClips[0].tilesheetId},__class__:k.OzFont};k.OzGeometry=
function(){};n["oz.OzGeometry"]=k.OzGeometry;k.OzGeometry.__name__=["oz","OzGeometry"];k.OzGeometry.InitPool=function(a){null==a&&(a=-1);-1==a&&(a=1E4);k.OzGeometry.freePointers=[];for(var b=0;b<a;){var d=b++;k.OzGeometry.freePointers[d]=new k.OzGeometry}k.OzGeometry.freePointerId=0};k.OzGeometry.GetNew=function(){return k.OzGeometry.freePointers[k.OzGeometry.freePointerId++]};k.OzGeometry.Release=function(a){k.OzGeometry.freePointers[--k.OzGeometry.freePointerId]=a};k.OzGeometry.prototype={makePhysics:function(a,
b){switch(this.type){case 1:var d=new g.shape.Polygon(g.shape.Polygon.box(2*this.halfWidth,2*this.halfHeight));d.zpp_inner.immutable_midstep("Shape::body");(null!=d.zpp_inner.body?d.zpp_inner.body.outer:null)!=a&&(null!=d.zpp_inner.body&&(null!=d.zpp_inner.body?d.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(d),null!=a&&a.zpp_inner.wrap_shapes.add(d));null!=d.zpp_inner.body?d.zpp_inner.body.outer:null;if(null!=b){d.zpp_inner.immutable_midstep("Shape::material");if(null==b)throw"Error: Cannot assign null as Shape material";
d.zpp_inner.setMaterial(b.zpp_inner);d.zpp_inner.material.wrapper()}break;case 2:d=new g.shape.Circle(this.radius);d.zpp_inner.immutable_midstep("Shape::body");(null!=d.zpp_inner.body?d.zpp_inner.body.outer:null)!=a&&(null!=d.zpp_inner.body&&(null!=d.zpp_inner.body?d.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(d),null!=a&&a.zpp_inner.wrap_shapes.add(d));null!=d.zpp_inner.body?d.zpp_inner.body.outer:null;if(null!=b){d.zpp_inner.immutable_midstep("Shape::material");if(null==b)throw"Error: Cannot assign null as Shape material";
d.zpp_inner.setMaterial(b.zpp_inner);d.zpp_inner.material.wrapper()}break;case 3:if(null==this.geomPoly){for(var d=[],c=0,e=this.vx.length;c<e;){var f=c++;d[f]=new g.geom.Vec2(this.vx[f],this.vy[f])}this.geomPoly=new g.geom.GeomPoly(d)}this.geomPoly.convexDecomposition().foreach(function(d){d=new g.shape.Polygon(d);if(null!=b){d.zpp_inner.immutable_midstep("Shape::material");if(null==b)throw"Error: Cannot assign null as Shape material";d.zpp_inner.setMaterial(b.zpp_inner);d.zpp_inner.material.wrapper()}a.zpp_inner.wrap_shapes.add(d)});
break;default:throw new l.errors.Error("unsupported nape geo");}},applyOriginRotation:function(a,b,d,c){k.OzUtil.rotateAroundPoint(a,b,d,this.x,this.y,c)},adjustMinMaxXY:function(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[0]);a[3]=Math.max(a[3],b[1])},drawGlobalOutline:function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);var e=k.OzGeometry.temp2;switch(this.type){case 1:this.applyOriginRotation(this.x-this.halfWidth,this.y-this.halfHeight,this.degrees+c,
e);a.moveTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x+this.halfWidth,this.y-this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x+this.halfWidth,this.y+this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x-this.halfWidth,this.y+this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x-this.halfWidth,this.y-this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);break;case 2:a.drawCircle(b+
this.x,d+this.y,this.radius);break;case 3:this.applyOriginRotation(this.vx[0]+this.x,this.vy[0]+this.y,this.degrees,e);a.moveTo(b+e[0],d+e[1]);c=1;for(var f=this.vx.length;c<f;){var m=c++;this.applyOriginRotation(this.vx[m]+this.x,this.vy[m]+this.y,this.degrees,e);a.lineTo(b+e[0],d+e[1])}this.applyOriginRotation(this.vx[0]+this.x,this.vy[0]+this.y,this.degrees,e);a.lineTo(b+e[0],d+e[1]);break;case 7:this.applyOriginRotation(this.vx[0]+this.x,this.vy[0]+this.y,this.degrees,e);a.moveTo(b+e[0],d+e[1]);
c=1;for(f=this.vx.length;c<f;)m=c++,this.applyOriginRotation(this.vx[m]+this.x,this.vy[m]+this.y,this.degrees,e),a.lineTo(b+e[0],d+e[1]);break;case 6:this.applyOriginRotation(this.x-this.halfWidth,this.y+this.halfHeight,this.degrees+c,e);a.moveTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x,this.y-this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x+this.halfWidth,this.y+this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);this.applyOriginRotation(this.x-
this.halfWidth,this.y+this.halfHeight,this.degrees+c,e);a.lineTo(b+e[0],d+e[1]);break;case 5:a.drawCircle(b+this.x,d+this.y,3);break;case 4:this.applyOriginRotation(this.x+this.x1,this.y+this.y1,this.degrees+c,e),a.moveTo(b+e[0],d+e[1]),this.applyOriginRotation(this.x+this.x2,this.y+this.y2,this.degrees+c,e),a.lineTo(b+e[0],d+e[1])}},drawLocalOutline:function(a){switch(this.type){case 1:a.moveTo(-this.halfWidth,-this.halfHeight);a.lineTo(this.halfWidth,-this.halfHeight);a.lineTo(this.halfWidth,this.halfHeight);
a.lineTo(-this.halfWidth,this.halfHeight);a.lineTo(-this.halfWidth,-this.halfHeight);break;case 2:a.drawCircle(0,0,this.radius);break;case 3:a.moveTo(this.vx[0],this.vy[0]);for(var b=1,d=this.vx.length;b<d;){var c=b++;a.lineTo(this.vx[c],this.vy[c])}a.lineTo(this.vx[0],this.vy[0]);break;case 7:a.moveTo(this.vx[0],this.vy[0]);b=1;for(d=this.vx.length;b<d;)c=b++,a.lineTo(this.vx[c],this.vy[c]);break;case 6:a.moveTo(-this.halfWidth,this.halfHeight),a.lineTo(0,-this.halfHeight),a.lineTo(this.halfWidth,
this.halfHeight),a.lineTo(-this.halfWidth,this.halfHeight)}},getMinMaxXY:function(a){a[0]=2E6;a[1]=2E6;a[2]=-2E6;a[3]=-2E6;var b=k.OzGeometry.temp2;switch(this.type){case 1:this.applyOriginRotation(this.x-this.halfWidth,this.y-this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,b);this.applyOriginRotation(this.x+this.halfWidth,this.y-this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,b);this.applyOriginRotation(this.x-this.halfWidth,this.y+this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,
b);this.applyOriginRotation(this.x+this.halfWidth,this.y+this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,b);break;case 2:a[0]=this.x-this.radius;a[1]=this.y-this.radius;a[2]=this.x+this.radius;a[3]=this.y+this.radius;break;case 3:for(var d=0,c=this.vx.length;d<c;){var e=d++;this.applyOriginRotation(this.vx[e]+this.x,this.vy[e]+this.y,this.degrees,b);this.adjustMinMaxXY(a,b)}break;case 7:d=0;for(c=this.vx.length;d<c;)e=d++,this.applyOriginRotation(this.vx[e]+this.x,this.vy[e]+this.y,this.degrees,
b),this.adjustMinMaxXY(a,b);break;case 6:this.applyOriginRotation(this.x-this.halfWidth,this.y+this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,b);this.applyOriginRotation(this.x,this.y-this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,b);this.applyOriginRotation(this.x+this.halfWidth,this.y+this.halfHeight,this.degrees,b);this.adjustMinMaxXY(a,b);break;case 4:b[0]=this.x+this.x1;b[1]=this.y+this.y1;this.adjustMinMaxXY(a,b);b[0]=this.x+this.x2;b[1]=this.y+this.y2;this.adjustMinMaxXY(a,b);
break;case 5:a[0]=this.x-3,a[1]=this.y-3,a[2]=this.x+3,a[3]=this.y+3}},verticesFromGeomPoly:function(a){if(null!=a&&a.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";a=c.geom.ZPP_GeomVertexIterator.get(a.zpp_inner.vertices,!0);this.vx=[];for(this.vy=[];a.hasNext();){var b=a.next();this.vx.push(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this));this.vy.push(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this))}},pointSelects:function(a,b){var d=!1,c=k.OzGeometry.temp2;this.applyOriginRotation(a,b,-this.degrees,c);switch(this.type){case 1:d=Math.abs(this.x-c[0])<this.halfWidth&&Math.abs(this.y-c[1])<this.halfHeight;break;case 2:d=this.radius*this.radius>=(c[0]-this.x)*(c[0]-this.x)+(c[1]-this.y)*(c[1]-this.y);break;case 3:c[0]-=this.x;c[1]-=this.y;for(var e=d=0,f=this.vx.length;e<f;){var m=e++,g=(m+1)%this.vx.length;this.vy[m]<=c[1]?this.vy[g]>c[1]&&0<
k.OzUtil.CrossPoints(c[0],c[1],this.vx[m],this.vy[m],this.vx[g],this.vy[g])&&d++:this.vy[g]<=c[1]&&0>k.OzUtil.CrossPoints(c[0],c[1],this.vx[m],this.vy[m],this.vx[g],this.vy[g])&&d--}d=0!=d;break;case 7:e=1;for(f=this.vx.length;e<f;)m=e++,5>k.OzUtil.PointLineDistance(this.vx[m-1],this.vy[m-1],this.vx[m],this.vy[m],c[0]-this.x,c[1]-this.y,!0)&&(d=!0);break;case 6:var C,l,e=this.x-this.halfWidth,f=this.y+this.halfHeight,m=this.x,g=this.y-this.halfHeight;C=this.x+this.halfWidth;l=this.y+this.halfHeight;
d=(d=(d=0<=k.OzUtil.CrossPoints(e,f,m,g,c[0],c[1]))&&0<=k.OzUtil.CrossPoints(m,g,C,l,c[0],c[1]))&&0<=k.OzUtil.CrossPoints(C,l,e,f,c[0],c[1]);break;case 4:5>k.OzUtil.PointLineDistance(this.x1,this.y1,this.x2,this.y2,c[0]-this.x,c[1]-this.y,!0)&&(d=!0);break;case 5:5>Math.abs(this.x-c[0])&&5>Math.abs(this.y-c[1])&&(d=!0)}return d},_f:function(a){return""+k.OzUtil.round(a,2)},toXML:function(){var a=R.createElement("geometry");switch(this.type){case 1:a.set("type","rect");a.set("x",this._f(this.x));a.set("y",
this._f(this.y));a.set("degrees",this._f(this.degrees));a.set("halfWidth",this._f(this.halfWidth));a.set("halfHeight",this._f(this.halfHeight));break;case 2:a.set("type","circ");a.set("x",this._f(this.x));a.set("y",this._f(this.y));a.set("degrees",this._f(this.degrees));a.set("radius",this._f(this.radius));break;case 3:a.set("type","poly");a.set("x",this._f(this.x));a.set("y",this._f(this.y));a.set("degrees",this._f(this.degrees));a.set("nVertices",""+this.vx.length);for(var b="",d=0,c=this.vx.length-
1;d<c;)var e=d++,b=b+(this._f(this.vx[e])+","+this._f(this.vy[e])+",");b+=this._f(this.vx[this.vx.length-1])+","+this._f(this.vy[this.vx.length-1]);a.set("vertices",b);break;case 7:a.set("type","path");a.set("x",this._f(this.x));a.set("y",this._f(this.y));a.set("degrees",this._f(this.degrees));a.set("nVertices",""+this.vx.length);b="";d=0;for(c=this.vx.length-1;d<c;)e=d++,b+=this._f(this.vx[e])+","+this._f(this.vy[e])+",";b+=this._f(this.vx[this.vx.length-1])+","+this._f(this.vy[this.vx.length-1]);
a.set("vertices",b);break;case 4:a.set("type","line");a.set("x",this._f(this.x));a.set("y",this._f(this.y));a.set("x1",this._f(this.x1));a.set("y1",this._f(this.y1));a.set("x2",this._f(this.x2));a.set("y2",this._f(this.y2));break;case 5:a.set("type","dot");a.set("x",this._f(this.x));a.set("y",this._f(this.y));break;case 6:a.set("type","tri"),a.set("x",this._f(this.x)),a.set("y",this._f(this.y)),a.set("degrees",this._f(this.degrees)),a.set("halfWidth",this._f(this.halfWidth)),a.set("halfHeight",this._f(this.halfHeight))}return a},
fromXML:function(a){switch(a.get("type")){case "rect":this.init(1,this.pf(a.get("x")),this.pf(a.get("y")),this.pf(a.get("degrees")),this.pf(a.get("halfWidth")),this.pf(a.get("halfHeight")));break;case "poly":this.pi(a.get("nVertices"));for(var b=a.get("vertices").split(","),d=[],c=[],e=0,f=b.length/2|0;e<f;){var m=2*e++;d[m/2|0]=this.pf(b[m]);c[m/2|0]=this.pf(b[m+1])}this.init(3,this.pf(a.get("x")),this.pf(a.get("y")),this.pf(a.get("degrees")),0,0,d,c);break;case "path":this.pi(a.get("nVertices"));
b=a.get("vertices").split(",");d=[];c=[];e=0;for(f=b.length/2|0;e<f;)m=2*e++,d[m/2|0]=this.pf(b[m]),c[m/2|0]=this.pf(b[m+1]);this.init(7,this.pf(a.get("x")),this.pf(a.get("y")),this.pf(a.get("degrees")),0,0,d,c);break;case "circ":this.init(2,this.pf(a.get("x")),this.pf(a.get("y")),this.pf(a.get("degrees")),this.pf(a.get("radius")));break;case "line":this.x1=this.pf(a.get("x1"));this.x2=this.pf(a.get("x2"));this.y1=this.pf(a.get("y1"));this.y2=this.pf(a.get("y2"));this.init(4,this.pf(a.get("x")),this.pf(a.get("y")),
0,0,0);break;case "dot":this.init(5,this.pf(a.get("x")),this.pf(a.get("y")));break;case "tri":this.init(6,this.pf(a.get("x")),this.pf(a.get("y")),this.pf(a.get("degrees")),this.pf(a.get("helfWidth")),this.pf(a.get("halfHeight")));break;default:throw new l.errors.Error("Invalid shape Xml type");}},init:function(a,b,d,c,e,f,m,g,k){null==k&&(k=!0);null==f&&(f=0);null==e&&(e=0);null==c&&(c=0);this.type=a;this.x=b;this.y=d;this.degrees=c;if(1==this.type)this.halfWidth=e,this.halfHeight=f;else if(2==this.type)this.radius=
e;else if(3==this.type)if(k)for(this.vx=[],this.vy=[],a=0,b=m.length;a<b;)d=a++,this.vx[d]=m[d],this.vy[d]=g[d];else this.vx=m,this.vy=g;else if(7==this.type){if(k)for(this.vx=[],this.vy=[],a=0,b=m.length;a<b;)d=a++,this.vx[d]=m[d],this.vy[d]=g[d];else this.vx=m,this.vy=g;null==this.pathLengths&&(this.pathLengths=[]);a=g=0;for(m=m.length;a<m;)b=a++,c=0>b-1?0:b-1,d=this.vx[b]-this.vx[c],c=this.vy[b]-this.vy[c],g+=Math.sqrt(d*d+c*c),this.pathLengths[b]=g}else 4!=this.type&&6==this.type&&(this.halfWidth=
e,this.halfHeight=f)},pathLength:function(){return this.pathLengths[this.pathLengths.length-1]},getPathPosition:function(a,b,d){null==d&&(d=!1);var c=this.pathLengths[this.pathLengths.length-1],e=this.pathLengths.length;d?a=(a%c+c)%c:(0>a&&(a=0),a>c&&(a=c));d=0;for(c=e-1;d+1<c;){var f=Math.floor((d+c)/2);a<=this.pathLengths[f]?c=f:d=f}d=c;e=(c-1+e)%e;c=this.pathLengths[d];f=0==d?0:this.pathLengths[e];a=(a-f)/(c-f);b.set_x(this.x+(1-a)*this.vx[e]+a*this.vx[d]);b.set_y(this.y+(1-a)*this.vy[e]+a*this.vy[d])},
pf:function(a){return H.parseFloat(a)},pi:function(a){return H.parseInt(a)},__class__:k.OzGeometry};k.OzM=function(){};n["oz.OzM"]=k.OzM;k.OzM.__name__=["oz","OzM"];k.OzMatrix=function(){this.identity()};n["oz.OzMatrix"]=k.OzMatrix;k.OzMatrix.__name__=["oz","OzMatrix"];k.OzMatrix.getCurrentMatrix=function(){return k.OzMatrix.matrixStack[k.OzMatrix.matrixId]};k.OzMatrix.InitPool=function(){k.OzMatrix.matrixStack=[];for(var a=0;200>a;){var b=a++;k.OzMatrix.matrixStack[b]=new k.OzMatrix}k.OzMatrix.matrixId=
0;k.OzMatrix.DEG2RAD=Math.PI/180;k.OzMatrix.RAD2DEG=180/Math.PI;k.OzMatrix.um=new k.OzMatrix};k.OzMatrix.PreMatrixMultiply=function(a){var b=k.OzMatrix.matrixStack[k.OzMatrix.matrixId];k.OzMatrix.Multiply(b,a,b)};k.OzMatrix.PostMatrixMultiply=function(a){var b=k.OzMatrix.matrixStack[k.OzMatrix.matrixId];new l.geom.Matrix;k.OzMatrix.Multiply(b,b,a)};k.OzMatrix.PushMatrix=function(){k.OzMatrix.matrixStack[k.OzMatrix.matrixId+1].copy(k.OzMatrix.matrixStack[k.OzMatrix.matrixId]);k.OzMatrix.matrixId++};
k.OzMatrix.PopMatrix=function(){k.OzMatrix.matrixId--};k.OzMatrix.getTemp=function(a){return k.OzMatrix.matrixStack[k.OzMatrix.matrixId+a]};k.OzMatrix.Multiply=function(a,b,d){var c=b.m00*d.m01+b.m01*d.m11+b.m02*d.m21,e=b.m00*d.m02+b.m01*d.m12+b.m02*d.m22,f=b.m10*d.m00+b.m11*d.m10+b.m12*d.m20,m=b.m10*d.m01+b.m11*d.m11+b.m12*d.m21,g=b.m10*d.m02+b.m11*d.m12+b.m12*d.m22,k=b.m20*d.m00+b.m21*d.m10+b.m22*d.m20,l=b.m20*d.m01+b.m21*d.m11+b.m22*d.m21,p=b.m20*d.m02+b.m21*d.m12+b.m22*d.m22;a.m00=b.m00*d.m00+
b.m01*d.m10+b.m02*d.m20;a.m01=c;a.m02=e;a.m10=f;a.m11=m;a.m12=g;a.m20=k;a.m21=l;a.m22=p;a.transformed=!0};k.OzMatrix.prototype={identity:function(){this.m00=1;this.m10=this.m02=this.m01=0;this.m11=1;this.m21=this.m20=this.m12=0;this.m22=1;this.transformed=!1},copy:function(a){this.m00=a.m00;this.m01=a.m01;this.m02=a.m02;this.m10=a.m10;this.m11=a.m11;this.m12=a.m12;this.m20=a.m20;this.m21=a.m21;this.m22=a.m22},PostTranslate:function(a,b){k.OzMatrix.um.Translation(a,b);k.OzMatrix.Multiply(this,this,
k.OzMatrix.um)},PostScale:function(a,b){k.OzMatrix.um.Scaling(a,b);k.OzMatrix.Multiply(this,this,k.OzMatrix.um)},PostRotate:function(a){k.OzMatrix.um.Rotation(a);k.OzMatrix.Multiply(this,this,k.OzMatrix.um)},translate:function(a,b){k.OzMatrix.um.Translation(a,b);k.OzMatrix.Multiply(this,k.OzMatrix.um,this)},scale:function(a,b){k.OzMatrix.um.Scaling(a,b);k.OzMatrix.Multiply(this,k.OzMatrix.um,this)},rotate:function(a){k.OzMatrix.um.Rotation(a);k.OzMatrix.Multiply(this,k.OzMatrix.um,this)},toString:function(){var a=
"Matrix Transformed = "+H.string(this.transformed)+"\n",a=a+("{"+this.m00+":"+this.m01+":"+this.m02+"}\n"),a=a+("{"+this.m10+":"+this.m11+":"+this.m12+"}\n");return a+("{"+this.m20+":"+this.m21+":"+this.m22+"}\n")},Rotation:function(a){a*=k.OzMatrix.DEG2RAD;this.m00=Math.cos(a);this.m01=-Math.sin(a);this.m02=0;this.m10=-this.m01;this.m11=this.m00;this.m21=this.m20=this.m12=0;this.m22=1;this.transformed=!0},Translation:function(a,b){this.m00=1;this.m01=0;this.m02=a;this.m10=0;this.m11=1;this.m12=b;
this.m21=this.m20=0;this.m22=1;this.transformed=!1},Scaling:function(a,b){this.m00=a;this.m10=this.m02=this.m01=0;this.m11=b;this.m21=this.m20=this.m12=0;this.m22=1;this.transformed=!0},fromMatrix:function(a){this.m00=a.a;this.m01=a.c;this.m02=a.tx;this.m10=a.b;this.m11=a.d;this.m12=a.ty;this.m21=this.m20=0;this.m22=1;this.transformed=!0},toMatrix:function(a){a.a=this.m00;a.c=this.m01;a.tx=this.m02;a.b=this.m10;a.d=this.m11;a.ty=this.m12},__class__:k.OzMatrix};k.OzMobileUtils=function(){};n["oz.OzMobileUtils"]=
k.OzMobileUtils;k.OzMobileUtils.__name__=["oz","OzMobileUtils"];k.OzMobileUtils.MakeRater=function(a){a.clear();a.scaleX=a.scaleY=1};k.OzParticle=function(){};n["oz.OzParticle"]=k.OzParticle;k.OzParticle.__name__=["oz","OzParticle"];k.OzParticle.StaticInit=function(){k.OzParticle.Particles=[];for(var a=k.OzParticle.FreeId=0;500>a;){var b=a++;k.OzParticle.Particles[b]=new k.OzParticle;k.OzParticle.Particles[b].PoolId=b}k.OzParticle.Head=k.OzParticle.New();k.OzParticle.Head.type=-1;k.OzParticle.Head.prev=
k.OzParticle.Head.next=k.OzParticle.Head};k.OzParticle.New=function(){var a=k.OzParticle.Particles[k.OzParticle.FreeId++];a.reset();return a};k.OzParticle.Dispose=function(a){k.OzSprite.Dispose(a.sprite);a.sprite=null;a.prev.next=a.next;a.next.prev=a.prev;if(0<=a.PoolId){var b=k.OzParticle.FreeId-1,d=a.PoolId,c=k.OzParticle.Particles[b];k.OzParticle.Particles[b]=k.OzParticle.Particles[d];k.OzParticle.Particles[d]=c;a.PoolId=b;k.OzParticle.Particles[d].PoolId=d;k.OzParticle.FreeId--}};k.OzParticle.Add=
function(a){a.prev=k.OzParticle.Head.prev;a.next=k.OzParticle.Head;k.OzParticle.Head.prev.next=a;k.OzParticle.Head.prev=a};k.OzParticle.UpdateAll=function(){for(var a=k.OzParticle.Head.next;a!=k.OzParticle.Head;){var b=a,a=a.next;b.update()}};k.OzParticle.RemoveStateBounds=function(){for(var a=k.OzParticle.Head.next;a!=k.OzParticle.Head;){var b=a,a=a.next;k.OzParticle.Dispose(b)}};k.OzParticle.Emit=function(a,b,d,c,e,f,m,g,C,l,p,v){null==v&&(v=0);null==p&&(p=0);null==l&&(l=0);null==C&&(C=0);null==
g&&(g=0);null==m&&(m=0);null==f&&(f=0);null==e&&(e=0);null==c&&(c=0);var n=k.OzParticle.New();n.duration=d;n.sprite=k.OzSprite.New(b);a.addChild(n.sprite);n.sprite.x=c;n.sprite.y=e;n.sprite.rotation=f;n.velX=m;n.velY=g;n.velRot=C;n.velAlpha=l;n.accelX=p;n.accelY=v;n.sprite.mouseEnabled=!1;k.OzParticle.Add(n)};k.OzParticle.Shoot=function(a,b,d,c,e,f,m,g,C,l,p){null==p&&(p=1);null==l&&(l=-1);f=k.OzParticle.New();f.duration=C;f.sprite=k.OzSprite.New(b);a.addChild(f.sprite);f.sprite.x=d;f.sprite.y=c;
f.sprite.rotation=e;f.sprite.mouseEnabled=!1;f.velX=(m-d)/C;f.velY=(g-c)/C;0<=l&&(f.velAlpha=(l-p)/C);k.OzParticle.Add(f)};k.OzParticle.EmitInCircle=function(a,b,d,c,e,f,m,g,C,l){null==l&&(l=1);null==C&&(C=-1);m/=g;for(var p=0;p<f;){var v=p++/f*2*Math.PI,n=k.OzParticle.New();n.duration=g;n.sprite=k.OzSprite.New(b);a.addChild(n.sprite);n.sprite.x=d;n.sprite.y=c;n.sprite.rotation=e;n.sprite.mouseEnabled=!1;n.velX=Math.cos(v)*m;n.velY=Math.sin(v)*m;0<=C&&(n.velAlpha=(C-l)/g);k.OzParticle.Add(n)}};k.OzParticle.prototype=
{reset:function(){this.type=0;this.next=this.prev=null;this.duration=this.cnt=0;this.sprite=null;this.velRot=this.velAlpha=this.velX=this.velY=this.accelX=this.accelY=0},update:function(){this.cnt>this.duration?k.OzParticle.Dispose(this):(this.sprite.x+=this.velX,this.sprite.y+=this.velY,this.velX+=this.accelX,this.velY+=this.accelY,this.sprite.alpha+=this.velAlpha,this.sprite.rotation+=this.velRot,this.cnt++)},__class__:k.OzParticle};k.SpriteType=n["oz.SpriteType"]={__ename__:["oz","SpriteType"],
__constructs__:["EMPTY","BITMAP","TEXT","POLYGON","TILEMAP"]};k.SpriteType.EMPTY=["EMPTY",0];k.SpriteType.EMPTY.toString=T;k.SpriteType.EMPTY.__enum__=k.SpriteType;k.SpriteType.BITMAP=["BITMAP",1];k.SpriteType.BITMAP.toString=T;k.SpriteType.BITMAP.__enum__=k.SpriteType;k.SpriteType.TEXT=["TEXT",2];k.SpriteType.TEXT.toString=T;k.SpriteType.TEXT.__enum__=k.SpriteType;k.SpriteType.POLYGON=["POLYGON",3];k.SpriteType.POLYGON.toString=T;k.SpriteType.POLYGON.__enum__=k.SpriteType;k.SpriteType.TILEMAP=["TILEMAP",
4];k.SpriteType.TILEMAP.toString=T;k.SpriteType.TILEMAP.__enum__=k.SpriteType;k.TextAlign=n["oz.TextAlign"]={__ename__:["oz","TextAlign"],__constructs__:["LEFT","RIGHT","CENTER","JUSTIFIED"]};k.TextAlign.LEFT=["LEFT",0];k.TextAlign.LEFT.toString=T;k.TextAlign.LEFT.__enum__=k.TextAlign;k.TextAlign.RIGHT=["RIGHT",1];k.TextAlign.RIGHT.toString=T;k.TextAlign.RIGHT.__enum__=k.TextAlign;k.TextAlign.CENTER=["CENTER",2];k.TextAlign.CENTER.toString=T;k.TextAlign.CENTER.__enum__=k.TextAlign;k.TextAlign.JUSTIFIED=
["JUSTIFIED",3];k.TextAlign.JUSTIFIED.toString=T;k.TextAlign.JUSTIFIED.__enum__=k.TextAlign;k.OzSprite=function(a,b){this.reset();this.PoolId=-1;null==b&&(b=k.SpriteType.EMPTY);this.mc=a;this.type=null!=a?k.SpriteType.BITMAP:b;b==k.SpriteType.POLYGON?this.flSprite=new l.display.Sprite:b==k.SpriteType.TEXT&&(this.textAlign=k.TextAlign.LEFT,this.text="")};n["oz.OzSprite"]=k.OzSprite;k.OzSprite.__name__=["oz","OzSprite"];k.OzSprite.StaticInit=function(){k.OzSprite.Sprites=[];for(var a=k.OzSprite.FreeId=
0;400>a;){var b=a++;k.OzSprite.Sprites[b]=new k.OzSprite;k.OzSprite.Sprites[b].PoolId=b}k.OzSprite.toRemove=[];k.OzSprite.toRemoveId=0;k.OzSprite.TilesheetId=-1;k.OzSprite.DrawingAlpha=!1;k.OzSprite.FloatArrays=new r.ds.IntMap;k.OzSprite.DrawArray=[];k.OzSprite.DrawArrayLength=0;k.OzSprite.Tilesheets=[];k.OzSprite.Bitmaps=[];k.OzSprite.BitmapsIds=[];k.OzSprite.BitmapsNames=[];k.OzSprite.TilesheetFrames=[];k.OzSprite.TilesheetBitmapDatas=[];k.OzSprite.DrawMatrix=new l.geom.Matrix;k.OzSprite.DrawPoint=
new l.geom.Point;k.OzSprite.DrawRect=new l.geom.Rectangle;k.OzSprite.AlphaColorTransform=new l.geom.ColorTransform};k.OzSprite.AddRuntimeBitmapData=function(a,b,d){b={name:b,tilesheetId:-1,frames:[0]};k.OzSprite.RegisterTilesheet(null,[b],[[0,0,a.component.width,a.component.height,a.component.width/2,a.component.height/2]],a);return b};k.OzSprite.RegisterTilesheet=function(a,b,d,c){var e=c;null==c&&(e=x.Assets.getBitmapData("assets/"+a));c=new x.display.Tilesheet(e);a=0;for(var f=d.length;a<f;){var m=
a++;c.addTileRect(new l.geom.Rectangle(d[m][0],d[m][1],d[m][2],d[m][3]),new l.geom.Point(d[m][4],d[m][5]))}a=k.OzSprite.Tilesheets.length;f=0;for(m=b.length;f<m;){var g=f++;b[g].tilesheetId=a;k.OzSprite.Bitmaps.push(b[g]);k.OzSprite.BitmapsIds.push(k.OzSprite.BitmapsIds.length);k.OzSprite.BitmapsNames.push(b[g].name);if(0<=b[g].name.indexOf("Player"))for(var C=0,W=b[g].frames.length;C<W;){var p=C++;d[b[g].frames[p]][0]-=2;d[b[g].frames[p]][1]-=2;d[b[g].frames[p]][2]+=4;d[b[g].frames[p]][3]+=4;d[b[g].frames[p]][4]+=
2;d[b[g].frames[p]][5]+=2}}k.OzSprite.Tilesheets.push(c);k.OzSprite.TilesheetFrames.push(d);k.OzSprite.TilesheetBitmapDatas.push([]);b=0;for(c=d.length;b<c;)f=b++,m=null,1<=d[f][2]&&1<=d[f][3]&&(m=new l.display.BitmapData(Math.floor(d[f][2]),Math.floor(d[f][3])),k.OzSprite.DrawRect.x=d[f][0],k.OzSprite.DrawRect.y=d[f][1],k.OzSprite.DrawRect.width=d[f][2],k.OzSprite.DrawRect.height=d[f][3],k.OzSprite.DrawPoint.x=k.OzSprite.DrawPoint.y=0,m.copyPixels(e,k.OzSprite.DrawRect,k.OzSprite.DrawPoint)),k.OzSprite.TilesheetBitmapDatas[a].push(m);
return a};k.OzSprite.New=function(a,b,d,c){null==c&&(c=!0);null==d&&(d=!0);var e=k.OzSprite.Sprites[k.OzSprite.FreeId++];e.reset();e.stateBound=d;null==b&&(b=k.SpriteType.EMPTY);null!=a?(e.type=k.SpriteType.BITMAP,c&&null!=G.ext&&0<G.ext.length&&(d=k.OzUtil.FindStringId(k.OzSprite.BitmapsNames,a.name+G.ext),0<=d&&(a=k.OzSprite.Bitmaps[k.OzSprite.BitmapsIds[d]])),e.mc=a):e.type=b;b==k.SpriteType.POLYGON?e.flSprite=new l.display.Sprite:b==k.SpriteType.TEXT&&(e.textAlign=k.TextAlign.LEFT,e.text="");
return e};k.OzSprite.GetMCWidth=function(a,b){null==b&&(b=1);return k.OzSprite.TilesheetBitmapDatas[a.tilesheetId][a.frames[b-1]].component.width};k.OzSprite.GetMCHeight=function(a,b){null==b&&(b=1);return k.OzSprite.TilesheetBitmapDatas[a.tilesheetId][a.frames[b-1]].component.height};k.OzSprite.GetBitmapData=function(a){return k.OzSprite.TilesheetBitmapDatas[a.tilesheetId][a.frames[0]]};k.OzSprite.RemoveRequested=function(){for(var a=0,b=k.OzSprite.toRemoveId;a<b;){var d=a++,d=k.OzSprite.toRemove[d];
null!=d.parent&&d.parent.removeChild(d);k.OzSprite.Dispose(d)}k.OzSprite.toRemoveId=0};k.OzSprite.Dispose=function(a){null!=a.parent&&a.parent.removeChild(a);a.flSprite=null;a.buttonFunc=null;a.funcEnd=null;a.prev=a.next=a;if(0<=a.PoolId){var b=k.OzSprite.FreeId-1,d=a.PoolId,c=k.OzSprite.Sprites[b];k.OzSprite.Sprites[b]=k.OzSprite.Sprites[d];k.OzSprite.Sprites[d]=c;a.PoolId=b;k.OzSprite.Sprites[d].PoolId=d;k.OzSprite.FreeId--}};k.OzSprite.RemoveStateBounds=function(){for(var a=0;a<k.OzSprite.FreeId;){for(;k.OzSprite.Sprites[a].stateBound&&
a<k.OzSprite.FreeId;)k.OzSprite.Dispose(k.OzSprite.Sprites[a]);a++}};k.OzSprite.makeNumber=function(a,b,d,c,e){null==e&&(e=3);null==c&&(c=k.TextAlign.CENTER);a.clear();var f=0,m=k.OzSprite.GetMCWidth(b),g=0,C=-m;do{var l=d%10,p=k.OzSprite.New(b);p.gotoAndStop(l+1);p.x=C;a.addChild(p);C-=m+e;f+=m;0<g&&(f+=e);g++;d=Math.floor(d/10)}while(0<d);b=0;c==k.TextAlign.CENTER?b=f/2:c==k.TextAlign.LEFT&&(b=f);if(null!=a.child){c=a.child;do c.x+=b,c=c.next;while(c!=a.child)}};k.OzSprite.GetSpriteAtPoint=function(a,
b,d,c,e,f,m,g){null==g&&(g=0);null==m&&(m=1);null==f&&(f=1);null==e&&(e=0);null==c&&(c=0);if(1E-4>a.alpha||!1==a.visible)return null;if(null!=a.child){var C=a.child.prev,l=C;do{var p=k.OzSprite.GetSpriteAtPoint(C,b,d,c+a.x*f,e+a.y*m,f*a.scaleX,m*a.scaleY,g*a.rotation);if(null!=p)return p;C=C.prev}while(C!=l)}return a.type==k.SpriteType.BITMAP&&a.mouseEnabled&&(g=k.OzSprite.TilesheetFrames[a.mc.tilesheetId][a.mc.frames[a.currentFrame-1]],C=c+a.x+(g[2]-g[4])*a.scaleX*f,c+a.x-g[4]*a.scaleX*f<=b&&b<=
C&&(b=e+a.y+(g[3]-g[5])*a.scaleY*m,e+a.y-g[5]*a.scaleY*m<=d&&d<=b))?a:null};k.OzSprite.Flush=function(){if(0<k.OzSprite.DrawArrayLength){if(k.OzSprite.DrawingAlpha)for(var a=0,b=k.OzSprite.DrawArrayLength/8|0;a<b;){var d=8*a++,c=k.OzSprite.TilesheetBitmapDatas[k.OzSprite.TilesheetId][k.OzSprite.DrawArray[d+2]|0];null!=c&&(k.OzSprite.DrawMatrix.tx=k.OzSprite.DrawArray[d],k.OzSprite.DrawMatrix.ty=k.OzSprite.DrawArray[d+1],k.OzSprite.DrawMatrix.a=k.OzSprite.DrawArray[d+3],k.OzSprite.DrawMatrix.b=k.OzSprite.DrawArray[d+
4],k.OzSprite.DrawMatrix.c=k.OzSprite.DrawArray[d+5],k.OzSprite.DrawMatrix.d=k.OzSprite.DrawArray[d+6],k.OzSprite.AlphaColorTransform.alphaMultiplier=k.OzSprite.DrawArray[d+7],w.instance.ScreenBMD.draw(c,k.OzSprite.DrawMatrix,k.OzSprite.AlphaColorTransform,null,null,!0))}else for(a=0,b=k.OzSprite.DrawArrayLength/7|0;a<b;)d=7*a++,c=k.OzSprite.TilesheetBitmapDatas[k.OzSprite.TilesheetId][k.OzSprite.DrawArray[d+2]|0],null!=c&&(k.OzSprite.DrawMatrix.tx=k.OzSprite.DrawArray[d],k.OzSprite.DrawMatrix.ty=
k.OzSprite.DrawArray[d+1],k.OzSprite.DrawMatrix.a=k.OzSprite.DrawArray[d+3],k.OzSprite.DrawMatrix.b=k.OzSprite.DrawArray[d+4],k.OzSprite.DrawMatrix.c=k.OzSprite.DrawArray[d+5],k.OzSprite.DrawMatrix.d=k.OzSprite.DrawArray[d+6],1==k.OzSprite.DrawMatrix.a&&1==k.OzSprite.DrawMatrix.d&&0==k.OzSprite.DrawMatrix.c&&0==k.OzSprite.DrawMatrix.b?(k.OzSprite.DrawRect.x=0,k.OzSprite.DrawRect.y=0,k.OzSprite.DrawRect.width=c.component.width,k.OzSprite.DrawRect.height=c.component.height,k.OzSprite.DrawPoint.x=k.OzSprite.DrawMatrix.tx,
k.OzSprite.DrawPoint.y=k.OzSprite.DrawMatrix.ty,w.instance.ScreenBMD.copyPixels(c,k.OzSprite.DrawRect,k.OzSprite.DrawPoint,null,null,!0)):w.instance.ScreenBMD.draw(c,k.OzSprite.DrawMatrix,null,null,null,!0));k.OzSprite.DrawArrayLength=0}};k.OzSprite.prototype={is:function(a){return 0<(this.flags&a)},set:function(a){this.flags|=a},clr:function(a){this.flags&=16777215^a},toggle:function(a){this.flags^=a},fitWidth:function(a){this.scaleX=a/this.width()},fitHeight:function(a){this.scaleY=a/this.height()},
width:function(){r.Log.trace("ids",{fileName:"OzSprite.hx",lineNumber:219,className:"oz.OzSprite",methodName:"width",customParams:[k.OzSprite.TilesheetBitmapDatas.length,this.mc.tilesheetId,this.currentFrame]});switch(this.type[1]){case 1:return k.OzSprite.TilesheetBitmapDatas[this.mc.tilesheetId][this.mc.frames[this.currentFrame-1]].component.width;default:return 1}},height:function(){switch(this.type[1]){case 1:return k.OzSprite.TilesheetBitmapDatas[this.mc.tilesheetId][this.mc.frames[this.currentFrame-
1]].component.height;default:return 1}},setxy:function(a,b){this.x=a;this.y=b},setFrameOnBool:function(a){a?this.gotoAndStop(2):this.gotoAndStop(1)},tweenScale:function(a){0.5<=a&&(a=1-a);a*=2;this.scaleX=this.startScaleX*(1-a)+this.endScaleX*a;this.scaleY=this.startScaleY*(1-a)+this.endScaleY*a},makeLink:function(a){this.flags|=1;this.buttonFunc=a;this.addEventListener(2,B(this,this.buttonClick))},makeButton:function(a){a==G.moreGames?this.makeLink(a):(this.buttonFunc=a,this.addEventListener(2,B(this,
this.buttonClick)))},voidButtonFunc:function(){this.buttonFunc(new k.OzEvent(this))},buttonClick:function(a){0<(this.flags&1)?this.buttonFunc(a):(a=k.OzTween.New(),a.duration=6,this.startScaleX=this.scaleX,this.endScaleX=0.95*this.startScaleX,this.startScaleY=this.scaleY,this.endScaleY=0.95*this.startScaleY,a.updateFunc=B(this,this.tweenScale),a.endFunc=B(this,this.voidButtonFunc),k.OzTween.Add(a))},addEventListener:function(a,b){null==this.eventListeners&&(this.eventListeners=new r.ds.IntMap);this.eventListeners.set(a,
b)},reset:function(){this.eventListeners=this.name=null;this.startX=this.startY=this.flags=this.padFlags=0;this.stateBound=!0;this.parent=this.child=this.mc=this.funcEnd=null;this.next=this;this.prev=this;this.x=this.y=this.rotation=0;this.scaleX=this.scaleY=1;this.type=k.SpriteType.EMPTY;this.alpha=1;this.mouseEnabled=this.visible=!0;this.currentFrame=1;this.playing=!0;this.tileMap=null},gotoAndStop:function(a){1>a||a>this.mc.frames.length?r.Log.trace("Error! Invalid frame",{fileName:"OzSprite.hx",
lineNumber:371,className:"oz.OzSprite",methodName:"gotoAndStop",customParams:[a]}):this.currentFrame=a;this.playing=!1},gotoAndPlay:function(a){1>a||a>this.mc.frames.length?r.Log.trace("Error! Invalid frame",{fileName:"OzSprite.hx",lineNumber:376,className:"oz.OzSprite",methodName:"gotoAndPlay",customParams:[a]}):this.currentFrame=a;this.playing=!0},stop:function(){this.playing=!1},play:function(){this.playing=!0},init:function(){},mx:function(){var a=w.WIDTH-w.WIDTH_MIN,b=0;0<(this.padFlags&32)?
b=-a:0<(this.padFlags&64)?b=-a/2:0<(this.padFlags&128)?b=a:0<(this.padFlags&256)?b=a/2:0<(this.padFlags&512)&&(b=-a/2);return null==this.parent?b+F.mx:b+this.parent.mx()},my:function(){var a=w.HEIGHT-w.HEIGHT_MIN,b=0;0<(this.padFlags&1)?b=-a:0<(this.padFlags&2)?b=-a/2:0<(this.padFlags&4)?b=a:0<(this.padFlags&8)?b=a/2:0<(this.padFlags&16)&&(b=-a/2);return null==this.parent?Math.round(b+F.my):b+this.parent.my()},setFluidChildren:function(a,b,d){null==d&&(d=-1E6);null==b&&(b=-1E6);null==a&&(a=0);if(null!=
this.child){var c=this.child;do c.setFluid(a,b,d),c=c.next;while(c!=this.child)}},setFluid:function(a,b,d){null==d&&(d=-1E6);null==b&&(b=-1E6);null==a&&(a=0);this.padFlags=a;-99999>=b&&(b=this.x);-99999>=d&&(d=this.y);this.startX=b;this.startY=d},adjustAllLayouts:function(){0<this.padFlags&&this.adjustLayout();if(null!=this.child){var a=this.child;do a.adjustAllLayouts(),a=a.next;while(a!=this.child)}},adjustLayout:function(){var a=w.HEIGHT-w.HEIGHT_MIN;0<(this.padFlags&1)?this.y=Math.round(this.startY+
a):0<(this.padFlags&2)?this.y=Math.round(this.startY+a/2):0<(this.padFlags&4)?this.y=Math.round(this.startY-a):0<(this.padFlags&8)?this.y=Math.round(this.startY-a/2):0<(this.padFlags&16)&&(this.y=Math.round(w.HEIGHT/2));a=w.WIDTH-w.WIDTH_MIN;0<(this.padFlags&32)?this.x=Math.round(this.startX+a):0<(this.padFlags&64)?(this.x=Math.round(this.startX+a/2),r.Log.trace("yep",{fileName:"OzSprite.hx",lineNumber:483,className:"oz.OzSprite",methodName:"adjustLayout",customParams:[this.x,this.startX,a,w.WIDTH,
w.WIDTH_MIN]})):0<(this.padFlags&128)?this.x=Math.round(this.startX-a):0<(this.padFlags&256)?this.x=Math.round(this.startX-a/2):0<(this.padFlags&512)&&(this.x=Math.round(w.WIDTH/2))},getChild:function(a){if(null!=this.child){var b=this.child;do{if(null!=b.name&&b.name==a)return b;b=b.next}while(b!=this.child)}return null},getChildAt:function(a){var b=0;if(null!=this.child){var d=this.child;do{if(b==a)return d;b++;d=d.next}while(d!=this.child)}return null},numChildren:function(){var a=0;if(null!=this.child){var b=
this.child;do a++,b=b.next;while(b!=this.child)}return a},changeMCToFit:function(a){var b=this.scaleX*this.width(),d=this.scaleY*this.height(),c=b/d,e=k.OzSprite.GetMCWidth(a,this.currentFrame),f=k.OzSprite.GetMCHeight(a,this.currentFrame);this.scaleX=e/f<c?this.scaleY=d/f:this.scaleY=b/e;this.changeMC(a)},changeMC:function(a){this.mc=a;this.currentFrame=1},createLineGFX:function(a,b,d){null==d&&(d=10);null==b&&(b=-1);0>b&&(b=a.component.height);this.flSprite.get_graphics().clear();k.OzSprite.DrawMatrix.identity();
k.OzSprite.DrawMatrix.translate(0,b/2);this.flSprite.get_graphics().beginBitmapFill(a,k.OzSprite.DrawMatrix);this.flSprite.get_graphics().lineTo(-d/2,-b/2);this.flSprite.get_graphics().lineTo(d/2,-b/2);this.flSprite.get_graphics().lineTo(d/2,b/2);this.flSprite.get_graphics().lineTo(-d/2,b/2);this.flSprite.get_graphics().lineTo(-d/2,-b/2);this.flSprite.get_graphics().endFill()},adjustLine:function(a,b,d,c,e,f){null==f&&(f=10);null==e&&(e=!1);this.x=(a+d)/2;this.y=(b+c)/2;a-=d;b-=c;c=a*a+b*b;1E-4<c&&
(this.rotation=180/Math.PI*Math.atan2(b,a));e&&(this.scaleX=Math.sqrt(c)/f);2==this.numChildren()&&(this.getChildAt(0).rotation=-this.rotation+0.1,this.getChildAt(0).rotation=-this.rotation+0.1)},removeMe:function(){k.OzSprite.toRemove[k.OzSprite.toRemoveId++]=this},removeChild:function(a){if(null!=a&&a.parent==this){this.child==a&&(this.child=this.child.next==this.child?null:this.child.next);var b=a.prev,d=a.next;null!=b&&(b.next=d);null!=d&&(d.prev=b);a.prev=a;a.next=a;a.parent=null}},clear:function(){this.clearChildren();
this.mc=null;this.type=k.SpriteType.EMPTY},clearChildren:function(){for(;null!=this.child;)this.child.clearChildren(),k.OzSprite.Dispose(this.child)},addChild:function(a){if(null!=a)if(null!=a.parent&&a.parent.removeChild(a),a.parent=this,null==this.child)this.child=a,a.prev=a,a.next=a;else{var b=this.child.prev,d=this.child;b.next=a;d.prev=a;a.prev=b;a.next=d}},getTotalRotation:function(){return null==this.parent?this.rotation:this.rotation+this.parent.getTotalRotation()},draw:function(a){null==
a&&(a=1);a*=this.alpha;if(this.visible&&!(0.001>a)){k.OzMatrix.PushMatrix();if(this.type==k.SpriteType.EMPTY){var b=k.OzMatrix.getCurrentMatrix();this.rotation%=360;b.PostTranslate(this.x,this.y);b.PostRotate(this.rotation);b.PostScale(this.scaleX,this.scaleY)}else if(this.type==k.SpriteType.BITMAP){-1==k.OzSprite.TilesheetId&&(k.OzSprite.TilesheetId=this.mc.tilesheetId);k.OzSprite.TilesheetId!=this.mc.tilesheetId&&(k.OzSprite.Flush(),k.OzSprite.TilesheetId=this.mc.tilesheetId);if(0.999>a&&!k.OzSprite.DrawingAlpha||
0.999<a&&k.OzSprite.DrawingAlpha)k.OzSprite.Flush(),k.OzSprite.DrawingAlpha=!k.OzSprite.DrawingAlpha;b=k.OzMatrix.getCurrentMatrix();this.rotation%=360;b.PostTranslate(this.x,this.y);b.PostRotate(this.rotation);b.PostScale(this.scaleX,this.scaleY);var d=k.OzSprite.TilesheetFrames[this.mc.tilesheetId][this.mc.frames[this.currentFrame-1]],c=k.OzMatrix.getTemp(1);c.Translation(-d[4],-d[5]);k.OzMatrix.Multiply(c,b,c);k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=c.m02;k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=
c.m12;k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=this.mc.frames[this.currentFrame-1];k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=c.m00;k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=c.m10;k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=c.m01;k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=c.m11;k.OzSprite.DrawingAlpha&&(k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=a);this.currentFrame==this.mc.frames.length&&null!=this.funcEnd&&this.funcEnd();this.playing&&(this.currentFrame=
1+this.currentFrame%this.mc.frames.length)}else if(this.type==k.SpriteType.POLYGON){k.OzSprite.Flush();b=k.OzMatrix.getCurrentMatrix();this.rotation%=360;if(0.999>a&&!k.OzSprite.DrawingAlpha||0.999<a&&k.OzSprite.DrawingAlpha)k.OzSprite.DrawingAlpha=!k.OzSprite.DrawingAlpha;b.PostTranslate(this.x,this.y);b.PostRotate(this.rotation);b.PostScale(this.scaleX,this.scaleY);b.toMatrix(k.OzSprite.DrawMatrix);k.OzSprite.DrawingAlpha?(k.OzSprite.AlphaColorTransform.alphaMultiplier=a,w.instance.ScreenBMD.draw(this.flSprite,
k.OzSprite.DrawMatrix,k.OzSprite.AlphaColorTransform,null,null,!0)):w.instance.ScreenBMD.draw(this.flSprite,k.OzSprite.DrawMatrix,null,null,null,!0)}else if(this.type==k.SpriteType.TEXT){-1==k.OzSprite.TilesheetId&&(k.OzSprite.TilesheetId=this.font.tilesheetId);k.OzSprite.TilesheetId!=this.font.tilesheetId&&(k.OzSprite.Flush(),k.OzSprite.TilesheetId=this.font.tilesheetId);if(0.999>a&&!k.OzSprite.DrawingAlpha||0.999<a&&k.OzSprite.DrawingAlpha)k.OzSprite.Flush(),k.OzSprite.DrawingAlpha=!k.OzSprite.DrawingAlpha;
k.OzMatrix.PushMatrix();var b=k.OzMatrix.getCurrentMatrix(),e=0;this.textAlign==k.TextAlign.CENTER?e=-this.getLineLength()/2:this.textAlign==k.TextAlign.RIGHT&&(e=-this.getLineLength());d=0;c=k.OzMatrix.getCurrentMatrix();c.PostTranslate(this.x+e,this.y+0);c.PostRotate(this.rotation);c.PostScale(this.scaleX,this.scaleY);for(var e=0,f=this.text.length;e<f;){var m=e++;this.rotation%=360;var g=S.cca(this.text,m),C=this.font.chars[g],l=C.xOffset;if(0<m){var p=S.cca(this.text,m-1),l=l+this.font.chars[p].xAdvance;
null==this.font.kernings[p]||Math.isNaN(this.font.kernings[p][g])||(l+=this.font.kernings[p][g])}C=0+C.yOffset-d;d+=C;c.PostTranslate(l,C);32!=g&&(k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=b.m02,k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=b.m12,k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=this.font.chars[S.cca(this.text,m)].movieClip.frames[0],k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=b.m00,k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=b.m10,k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=
b.m01,k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=b.m11,k.OzSprite.DrawingAlpha&&(k.OzSprite.DrawArray[k.OzSprite.DrawArrayLength++]=a))}k.OzMatrix.PopMatrix()}else this.type==k.SpriteType.TILEMAP&&this.tileMap.draw(this);if(null!=this.child){b=this.child;do b.draw(a),b=b.next;while(b!=this.child)}k.OzMatrix.PopMatrix()}},getLineLength:function(a){null==a&&(a=0);for(var b=0;a!=S.cca("\n",0)&&a<this.text.length;){var d=S.cca(this.text,a),c=this.font.chars[d],c=c.xOffset+c.xAdvance;if(0<a){var e=
S.cca(this.text,a-1);null==this.font.kernings[e]||Math.isNaN(this.font.kernings[e][d])||(c+=this.font.kernings[e][d])}b+=c;a++}return b},__class__:k.OzSprite};k.OzTileMap=function(a,b,d,c,e,f,m){null==m&&(m=512);null==f&&(f=256);this.data=null;this.rows=a;this.cols=b;this.offsetX=d;this.offsetY=c;this.tileSize=e;this.allocRows=f;this.allocCols=m;this.clearRect=new l.geom.Rectangle;this.filledRect=new l.geom.Rectangle;this.bmdRect=new l.geom.Rectangle;this.bmdPoint=new l.geom.Point;this.BufferTileW=
Math.ceil(w.instance.ScreenBMD.component.width/e)+1;this.BufferTileH=Math.ceil(w.instance.ScreenBMD.component.height/e)+1;this.BufferPixelW=H["int"](Math.round(e*this.BufferTileW));this.BufferPixelH=H["int"](Math.round(e*this.BufferTileH));this.bmdBuffer=new l.display.BitmapData(this.BufferTileW*e,this.BufferTileH*e,!0,16777215);this.reset()};n["oz.OzTileMap"]=k.OzTileMap;k.OzTileMap.__name__=["oz","OzTileMap"];k.OzTileMap.GetTileType=function(a){return a>>16&15};k.OzTileMap.SetTileType=function(a,
b){return a&983040|b<<16};k.OzTileMap.GetTileTileSheetId=function(a){return a>>10&63};k.OzTileMap.SetTileTileSheetId=function(a,b){return a&64512|b<<10};k.OzTileMap.GetTileFrame=function(a){return a&1023};k.OzTileMap.SetTileFrame=function(a,b){return a&1023|b};k.OzTileMap.GetScale9Frame=function(a,b,d,c){return 0==a?0==b?1:b==c-1?3:2:a==d-1?0==b?7:b==c-1?9:8:0==b?4:b==c-1?6:5};k.OzTileMap.prototype={reset:function(){this.DSI=0;this.DEI=-1;this.DSI=0;this.DEJ=-1;if(null==this.data){r.Log.trace("before data alloc",
{fileName:"OzTileMap.hx",lineNumber:111,className:"oz.OzTileMap",methodName:"reset",customParams:[this.allocRows,"why?"]});this.data=Array(this.allocRows);r.Log.trace("after data alloc",{fileName:"OzTileMap.hx",lineNumber:114,className:"oz.OzTileMap",methodName:"reset"});for(var a=0,b=this.allocRows;a<b;){var d=a++;this.data[d]=Array(this.allocCols);for(var c=0,e=this.allocCols;c<e;){var f=c++;this.data[d][f]=0}}}else for(a=0,b=this.allocRows;a<b;)for(d=a++,c=0,e=this.allocCols;c<e;)f=c++,this.data[d][f]=
0},ok:function(a,b){return 0<=a&&0<=b&&a<this.data.length&&b<this.data[0].length},setTileBlock:function(a,b,d,c,e,f,m,g){null==g&&(g=!1);b=H["int"](Math.round((b-this.offsetY)/this.tileSize));a=H["int"](Math.round((a-this.offsetX)/this.tileSize));for(var C=0;C<c;)for(var l=C++,p=0;p<d;){var v=p++,n=l+b,q=v+a;0<=n&&0<=q&&n<this.data.length&&q<this.data[0].length&&this.setTile(l+b,v+a,e,f,g?k.OzTileMap.GetScale9Frame(l,v,c,d):m)}},setTile:function(a,b,d,c,e){this.data[a][b]=(d<<16)+(c.tilesheetId<<
10)+c.frames[e-1]},draw:function(a){k.OzSprite.Flush();a=a.parent;var b=H["int"](Math.round(-a.x-this.offsetX-(w.WIDTH-w.WIDTH_MIN)/2)),d=H["int"](Math.round(-a.y-this.offsetY)),c=b%this.tileSize,e=d%this.tileSize;a=H["int"](Math.floor(b/this.tileSize));var f=H["int"](Math.floor(d/this.tileSize)),c=Math.ceil((c+w.WIDTH)/this.tileSize),e=Math.ceil((e+w.HEIGHT)/this.tileSize);this.bmdRect.width=this.bmdRect.height=this.tileSize;for(var m=0,g=0;g<e;)for(var C=g++,l=0;l<c;){var p=l++,p=a+p,v=f+C;if(0<=
v&&0<=p&&v<this.data.length&&p<this.data[0].length){var n=this.data[v][p];p>=this.DEJ||v>=this.DEI||p<this.DSJ||v<this.DSI?0!=(n>>16&15)?(this.bmdRect.x=0,this.bmdRect.y=0,this.bmdPoint.x=p%this.BufferTileW*this.tileSize,this.bmdPoint.y=v%this.BufferTileH*this.tileSize,this.bmdBuffer.copyPixels(k.OzSprite.TilesheetBitmapDatas[n>>10&63][n&1023],this.bmdRect,this.bmdPoint)):(this.bmdRect.x=p%this.BufferTileW*this.tileSize,this.bmdRect.y=v%this.BufferTileH*this.tileSize,this.bmdBuffer.fillRect(this.bmdRect,
16777215)):m++}}b%=this.BufferPixelW;d%=this.BufferPixelH;m=H["int"](Math.min(w.WIDTH,this.BufferPixelW-b));g=H["int"](Math.min(w.HEIGHT,this.BufferPixelH-d));C=w.WIDTH-m;l=w.HEIGHT-g;this.bmdPoint.x=0;this.bmdPoint.y=0;this.bmdRect.x=b;this.bmdRect.y=d;this.bmdRect.width=m;this.bmdRect.height=g;w.instance.ScreenBMD.copyPixels(this.bmdBuffer,this.bmdRect,this.bmdPoint,null,null,!0);0<C&&(this.bmdPoint.x=m,this.bmdPoint.y=0,this.bmdRect.x=0,this.bmdRect.y=d,this.bmdRect.width=C,this.bmdRect.height=
g,w.instance.ScreenBMD.copyPixels(this.bmdBuffer,this.bmdRect,this.bmdPoint,null,null,!0));0<g&&(this.bmdPoint.x=0,this.bmdPoint.y=g,this.bmdRect.x=b,this.bmdRect.y=0,this.bmdRect.width=m,this.bmdRect.height=l,w.instance.ScreenBMD.copyPixels(this.bmdBuffer,this.bmdRect,this.bmdPoint,null,null,!0));0<g&&0<m&&(this.bmdPoint.x=m,this.bmdPoint.y=g,this.bmdRect.x=0,this.bmdRect.y=0,this.bmdRect.width=C,this.bmdRect.height=l,w.instance.ScreenBMD.copyPixels(this.bmdBuffer,this.bmdRect,this.bmdPoint,null,
null,!0));this.DSI=f;this.DEI=f+e;this.DSJ=a;this.DEJ=a+c},__class__:k.OzTileMap};k.OzTween=function(){};n["oz.OzTween"]=k.OzTween;k.OzTween.__name__=["oz","OzTween"];k.OzTween.DelayedCall=function(a,b,d,c){null==c&&(c=!0);null==d&&(d=0);var e=k.OzTween.New();e.endFunc=a;e.duration=b;e.repeat=d;e.stateBound=c;k.OzTween.Add(e)};k.OzTween.Init=function(){k.OzTween.Tweens=[];for(var a=0;500>a;){var b=a++;k.OzTween.Tweens[b]=new k.OzTween;k.OzTween.Tweens[b].PoolId=b}k.OzTween.Head=null;k.OzTween.FreeId=
0;k.OzTween.NumTweens=0};k.OzTween.UpdateAll=function(){if(null!=k.OzTween.Head){var a=k.OzTween.Head;do a.remove||(0<=a.cnt&&null!=a.updateFunc&&a.updateFunc(a.cnt/a.duration),a.cnt==a.duration&&(null!=a.endFunc&&a.endFunc(),0==a.repeat?a.remove=!0:(0<a.repeat&&a.repeat--,a.cnt=0)),a.cnt++),a=a.next;while(a!=k.OzTween.Head);k.OzTween.RemoveRemove()}};k.OzTween.GetLast=function(){return null==k.OzTween.Head?null:k.OzTween.Head.prev};k.OzTween.RemoveStateBounds=function(){for(var a=k.OzTween.NumTweens,
b=k.OzTween.Head,d=0;d<a;)d++,b.stateBound&&(b.remove=!0),b=b.next};k.OzTween.RemoveRemove=function(){for(var a=k.OzTween.NumTweens,b=k.OzTween.Head,d=0;d<a;){d++;var c=b.next;b.remove&&k.OzTween.Remove(b);b=c}};k.OzTween.New=function(){var a=k.OzTween.Tweens[k.OzTween.FreeId++];a.reset();return a};k.OzTween.Dispose=function(a){a.updateFunc=null;a.endFunc=null;var b=k.OzTween.FreeId-1,d=a.PoolId,c=k.OzTween.Tweens[b];k.OzTween.Tweens[b]=k.OzTween.Tweens[d];k.OzTween.Tweens[d]=c;a.PoolId=b;k.OzTween.Tweens[d].PoolId=
d;k.OzTween.FreeId--};k.OzTween.Add=function(a){if(null==k.OzTween.Head)k.OzTween.Head=a,a.next=a.prev=a;else{var b=k.OzTween.Head.prev;b.next=a;a.prev=b;k.OzTween.Head.prev=a;a.next=k.OzTween.Head}k.OzTween.NumTweens++};k.OzTween.Remove=function(a){if(k.OzTween.Head==a)if(a.next==a)k.OzTween.Head=null;else{var b=k.OzTween.Head.next,d=k.OzTween.Head.prev;d.next=b;b.prev=d;k.OzTween.Head=b}else b=a.next,d=a.prev,d.next=b,b.prev=d;k.OzTween.NumTweens--;k.OzTween.Dispose(a)};k.OzTween.prototype={reset:function(){this.remove=
!1;this.next=this.prev=this;this.endFunc=this.updateFunc=null;this.gameBound=this.stateBound=!1;this.cnt=this.repeat=this.duration=0},__class__:k.OzTween};k.OzUtil=function(){};n["oz.OzUtil"]=k.OzUtil;k.OzUtil.__name__=["oz","OzUtil"];k.OzUtil.TimeStamp=function(){k.OzUtil.loggedMoment=r.Timer.stamp()};k.OzUtil.TimeElapsed=function(){return r.Timer.stamp()-k.OzUtil.loggedMoment};k.OzUtil.indexOfInt=function(a,b){for(var d=0,c=a.length;d<c;){var e=d++;if(a[e]==b)return e}return-1};k.OzUtil.StringToIntArray=
function(a){if(null==a)return[];a=a.split(",");for(var b=0,d=[],c=0;c<a.length;){var e=a[c];++c;null!=e&&0<e.length&&(d[b]=H.parseInt(e),b++)}return d};k.OzUtil.IndexOfInt=function(a,b){for(var d=0,c=a.length;d<c;){var e=d++;if(a[e]==b)return e}return-1};k.OzUtil.SortIdsByName=function(a,b){var d,c;for(d=a.length-1;0<=d;){for(c=0;c<d;){if(b[c]>b[c+1]){var e=b[c];b[c]=b[c+1];b[c+1]=e;e=a[c];a[c]=a[c+1];a[c+1]=e}c++}d--}};k.OzUtil.FindStringId=function(a,b){for(var d=-1,c=a.length;d+1<c;){var e=Math.floor((d+
c)/2);if(a[e]<b)d=e;else if(a[e]>b)c=e;else return e}return-1};k.OzUtil.PointInsideSegment=function(a,b,d){return b<=a&&a<=d};k.OzUtil.round=function(a,b){null==b&&(b=2);for(var d=1,c=0;c<b;)c++,d*=10;return Math.round(a*d)/d};k.OzUtil.rotateAroundPoint=function(a,b,d,c,e,f){var m=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a-=c;b-=e;f[0]=c+a*d-b*m;f[1]=e+b*d+a*m};k.OzUtil.DotPoints=function(a,b,d,c,e,f,m,g){return(d-a)*(m-e)+(c-b)*(g-f)};k.OzUtil.CrossPoints=function(a,b,d,c,e,f){return(d-
a)*(f-b)-(c-b)*(e-a)};k.OzUtil.AngleFromSegment=function(a,b,d,c){a-=d;b-=c;return 1E-6>a*a+b*b?0:180/Math.PI*Math.atan2(b,a)};k.OzUtil.AnglePoints=function(a,b,d,c,e,f){var m=k.OzUtil.DistancePoints(a,b,d,c)*k.OzUtil.DistancePoints(d,c,e,f);return 1E-6>Math.abs(m)?0:180/Math.PI*Math.acos(k.OzUtil.DotPoints(d,c,a,b,d,c,e,f)/m)};k.OzUtil.DistancePoints=function(a,b,d,c){a-=d;b-=c;return Math.sqrt(a*a+b*b)};k.OzUtil.PointLineDistance=function(a,b,d,c,e,f,m){var g=k.OzUtil.CrossPoints(a,b,d,c,e,f)/k.OzUtil.DistancePoints(a,
b,d,c);if(m){if(0<k.OzUtil.DotPoints(a,b,d,c,d,c,e,f))return k.OzUtil.DistancePoints(d,c,e,f);if(0<k.OzUtil.DotPoints(d,c,a,b,a,b,e,f))return k.OzUtil.DistancePoints(a,b,e,f)}return Math.abs(g)};k.OzUtil.LineSegmentCrossOrLie=function(a,b,d,c,e,f,m,g){return Math.max(a,d)<Math.min(e,m)||Math.min(a,d)>Math.max(e,m)||Math.max(c,b)<Math.min(f,g)||Math.min(b,c)>Math.max(f,g)||0<k.OzUtil.CrossPoints(a,b,d,c,e,f)*k.OzUtil.CrossPoints(a,b,d,c,m,g)?!1:0>=k.OzUtil.CrossPoints(e,f,m,g,a,b)*k.OzUtil.CrossPoints(e,
f,m,g,d,c)};k.OzUtil.LineSegmentCross=function(a,b,d,c,e,f,m,g){return Math.max(a,d)<Math.min(e,m)||Math.min(a,d)>Math.max(e,m)||Math.max(c,b)<Math.min(f,g)||Math.min(b,c)>Math.max(f,g)||0<k.OzUtil.CrossPoints(a,b,d,c,e,f)*k.OzUtil.CrossPoints(a,b,d,c,m,g)?!1:0>k.OzUtil.CrossPoints(e,f,m,g,a,b)*k.OzUtil.CrossPoints(e,f,m,g,d,c)};k.OzUtil.DoublePolygonArea=function(a,b){for(var d=a.length,c=0,e=0;e<d;)var f=e++,m=(f+1)%d,c=c+(a[f]*b[m]-a[m]*b[f]);return c};k.OzUtil.ReverseVerticesOrder=function(a,
b){for(var d=a.length,c,e=0,f=d/2|0;e<f;){var m=e++;c=a[m];a[m]=a[d-1-m];a[d-1-m]=c;c=b[m];b[m]=b[d-1-m];b[d-1-m]=c}};k.OzUtil.PointInsidePolygon=function(a,b,d,c){for(var e=0,f=0,m=d.length;f<m;){var g=f++,C=(g+1)%d.length;c[g]<=b?c[C]>b&&0<k.OzUtil.CrossPoints(a,b,d[g],c[g],d[C],c[C])&&e++:c[C]<=b&&0>k.OzUtil.CrossPoints(a,b,d[g],c[g],d[C],c[C])&&e--}return 0!=e};k.OzUtil.CleanPolygonCollinears=function(a,b){for(var d=0,c=0;d<a.length&&3<a.length;){var e=(c+1)%a.length,f=(c-1+a.length)%a.length;
1E-4>k.OzUtil.PointLineDistance(a[f],b[f],a[e],b[e],a[c],b[c],!0)?(a.splice(c,1),b.splice(c,1),d=0,c%=a.length):(c=(c+1)%a.length,d++)}};k.OzUtil.dashLine=function(a,b,d,c,e,f,m,g,C){null==C&&(C=0);null==g&&(g=!1);null==m&&(m=0);null==f&&(f=0);var l=c-b,p=e-d,v=Math.sqrt(l*l+p*p),l=Math.atan2(p,l),n=Math.cos(l),q=Math.sin(l),l=n*f,p=q*f,s=n*m,r=q*m,n=b+Math.min(C,v)*n,q=d+Math.min(C,v)*q;if(!(0<C&&(k.OzUtil.dashLine(a,n,q,b,d,m,f,!0),C>v)))if(a.moveTo(n,q),0==m)a.lineTo(c,e);else if(b=Math.floor((v-
C)/(f+m)),g){for(g=0;g<b;)g++,a.moveTo(n+=l,q+=p),a.lineTo(n+=s,q+=r);v-C-(f+m)*b>=f&&(a.moveTo(n+l,q+p),a.lineTo(c,e))}else{for(g=0;g<b;)g++,a.lineTo(n+=l,q+=p),a.moveTo(n+=s,q+=r);v-C-(f+m)*b>=f?a.lineTo(n+l,q+p):a.lineTo(c,e)}};k.OzUtil.RandomInt=function(a,b){return a+Math.floor(Math.random()*(b-a))};k.OzUtil.MinMax=function(a,b,d){return Math.min(d,Math.max(b,a))};k.OzUtil.BitCount=function(a){for(var b=0;0<a;)1==(a&1)&&b++,a>>=1;return b};k.Xu=function(){};n["oz.Xu"]=k.Xu;k.Xu.__name__=["oz",
"Xu"];k.Xu.fc=function(a,b){var d=null;if(null!=a)for(var c=0,e=a._children.length;c<e;){var f=c++,f=a._children[f];if(f.nodeType==R.Element&&f._nodeName==b){d=f;break}}return d};k.Xu.cwav=function(a,b,d,c){var e=null;if(null!=a)for(var f=0,m=a._children.length;f<m;){var g=f++,g=a._children[g];if(g.nodeType==R.Element&&g._nodeName==b){var k=g.get(d);if(null!=k&&k==c){e=g;break}}}return e};var da={PlatformHTML5:function(){}};n["platforms.PlatformHTML5"]=da.PlatformHTML5;da.PlatformHTML5.__name__=["platforms",
"PlatformHTML5"];da.PlatformHTML5.hasInside=function(a){r.Log.trace(window.location.toString(),{fileName:"PlatformHTML5.hx",lineNumber:12,className:"platforms.PlatformHTML5",methodName:"hasInside"});return 0<=window.location.toString().indexOf(a)};da.PlatformHTML5.invalidRect=function(){return da.PlatformHTML5.resizeW!=da.PlatformHTML5.getWidth()||da.PlatformHTML5.resizeH!=da.PlatformHTML5.getHeight()};da.PlatformHTML5.getWidth=function(){return window.innerWidth};da.PlatformHTML5.getHeight=function(){return window.innerHeight};
da.PlatformHTML5.hideAddressBar=function(){};da.PlatformHTML5.resize=function(){var a=1*w.WIDTH_MAX/w.RESIZE_HEIGHT,b=1*w.WIDTH_MIN/w.RESIZE_HEIGHT,d=window.innerWidth,c=window.innerHeight;da.PlatformHTML5.resizeW=d;da.PlatformHTML5.resizeH=c;var e=d,f=c,m=e/f;da.PlatformHTML5.offsetX=da.PlatformHTML5.offsetY=0;m>a?(e=f*a,da.PlatformHTML5.offsetX=(d-e)/2,w.WIDTH=w.WIDTH_MAX):m<b?(f=e/b,da.PlatformHTML5.offsetY=(c-f)/2,w.WIDTH=w.WIDTH_MIN):(da.PlatformHTML5.offsetY=da.PlatformHTML5.offsetX=0,w.WIDTH=
Math.round(m*w.HEIGHT));a=f/w.RESIZE_HEIGHT;w.instance.set_scaleX(a);w.instance.set_scaleY(a);w.instance.rotateDeviceSprite.visible=!1;a=new I.JQuery("body>div");b=0;for(d=a.length;b<d;)c=b++,c=a[c],c.style.width=e+"px",c.style.height=2*f+"px",c.style.left=da.PlatformHTML5.offsetX+"px",c.style.top=da.PlatformHTML5.offsetY+"px",c.style.position="absolute";window.scrollTo(0,1);r.Log.trace("resizing html5",{fileName:"PlatformHTML5.hx",lineNumber:106,className:"platforms.PlatformHTML5",methodName:"resize",
customParams:[w.WIDTH," by ",w.HEIGHT]})};da.PlatformHTML5.prototype={__class__:da.PlatformHTML5};var D={State:function(){this.p=w.instance;this.doc=new k.OzSprite;this.p.stateSprite.addChild(this.doc);this.cnt=0}};n["states.State"]=D.State;D.State.__name__=["states","State"];D.State.prototype={update:function(){this.cnt++},destroy:function(){null!=this.doc&&null!=this.doc.parent&&this.doc.parent.removeChild(this.doc)},__class__:D.State};D.StateCredits=function(){var a=this;D.State.call(this);aa.cmcCredits(this.doc);
this.doc.setFluidChildren(2);this.doc.getChild("bg").setFluid(1);this.doc.adjustAllLayouts();this.doc.getChild("btnBack").makeButton(B(this,this.goToMenu));this.doc.getChild("sponsor").changeMCToFit(Z.MC);this.doc.getChild("sponsor").makeButton(G.moreGames);var b=k.OzTween.New();b.startValue=800;b.endValue=this.doc.getChild("sponsor").x;this.doc.getChild("sponsor").x=800;b.duration=40;b.cnt=0;b.updateFunc=function(d){d*=2-d;a.doc.getChild("sponsor").x=(1-d)*b.startValue+d*b.endValue};b.repeat=0;b.endFunc=
null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);var d=k.OzTween.New();d.startValue=-100;d.endValue=this.doc.getChild("btnBack").x;this.doc.getChild("btnBack").x=-100;d.duration=40;d.cnt=0;d.updateFunc=function(b){b*=2-b;a.doc.getChild("btnBack").x=(1-b)*d.startValue+b*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);var c=k.OzTween.New();c.startValue=-200;c.endValue=this.doc.getChild("author").x;this.doc.getChild("author").x=-200;c.duration=40;c.cnt=0;c.updateFunc=
function(b){b*=2-b;a.doc.getChild("author").x=(1-b)*c.startValue+b*c.endValue};c.repeat=0;c.endFunc=null;c.stateBound=!0;c.gameBound=!0;k.OzTween.Add(c)};n["states.StateCredits"]=D.StateCredits;D.StateCredits.__name__=["states","StateCredits"];D.StateCredits.__super__=D.State;D.StateCredits.prototype=K(D.State.prototype,{hideGUI:function(){var a=this,b=k.OzTween.New();b.startValue=this.doc.getChild("sponsor").x;b.endValue=800;b.duration=20;b.cnt=0;b.updateFunc=function(d){d*=2-d;a.doc.getChild("sponsor").x=
(1-d)*b.startValue+d*b.endValue};b.repeat=0;b.endFunc=null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);var d=k.OzTween.New();d.startValue=this.doc.getChild("btnBack").x;d.endValue=-100;d.duration=20;d.cnt=0;d.updateFunc=function(b){b*=2-b;a.doc.getChild("btnBack").x=(1-b)*d.startValue+b*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);var c=k.OzTween.New();c.startValue=this.doc.getChild("author").x;c.endValue=-200;c.duration=20;c.cnt=0;c.updateFunc=function(b){b*=
2-b;a.doc.getChild("author").x=(1-b)*c.startValue+b*c.endValue};c.repeat=0;c.endFunc=null;c.stateBound=!0;c.gameBound=!0;k.OzTween.Add(c)},update:function(){D.State.prototype.update.call(this)},goToMenu:function(a){this.hideGUI();if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;b.endValue=1;b.duration=10;b.cnt=-10;b.updateFunc=function(a){a*=2-a;w.instance.whiteRect.alpha=
(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();w.instance.transition=!1;w.instance.transitionChangeState(new D.StateMenu,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},__class__:D.StateCredits});D.StateGGG=function(){D.State.call(this);aa.cmcGGG(this.doc);this.doc.getChild("bg").addEventListener(2,G.moreGames);this.doc.getChild("sponsor").changeMCToFit(Z.MC);this.doc.getChild("sponsor").addEventListener(2,G.moreGames);this.doc.adjustAllLayouts()};
n["states.StateGGG"]=D.StateGGG;D.StateGGG.__name__=["states","StateGGG"];D.StateGGG.__super__=D.State;D.StateGGG.prototype=K(D.State.prototype,{update:function(){D.State.prototype.update.call(this);if(90<=this.cnt&&!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var a=k.OzTween.New();a.startValue=w.instance.whiteRect.alpha;a.endValue=1;a.duration=10;a.cnt=0;a.updateFunc=function(b){b*=2-b;w.instance.whiteRect.alpha=(1-b)*a.startValue+
b*a.endValue};a.repeat=0;a.endFunc=function(){w.instance.disposeState();w.instance.transition=!1;w.instance.transitionChangeState(new D.StateMenu,10)};a.stateBound=!0;a.gameBound=!1;k.OzTween.Add(a)}},__class__:D.StateGGG});D.StateLevels=function(){this.inTransition=!1;var a=this;D.State.call(this);D.StatePlay.instance=null;aa.cmcLevels(this.doc);this.doc.getChild("btnBack").makeButton(B(this,this.goToMenu));this.buttonSprite=k.OzSprite.New();this.doc.addChild(this.buttonSprite);this.doc.setFluidChildren(2);
this.doc.getChild("bg").setFluid(1);this.doc.adjustAllLayouts();this.buttons=[];r.Log.trace(G.currentLevel,{fileName:"StateLevels.hx",lineNumber:31,className:"states.StateLevels",methodName:"new"});for(var b=0,d=G.NUMLEVELS;b<d;){var c=b++;this.buttons[c]=k.OzSprite.New(q.cmcLevelSelectButton);var e=c%10;this.buttons[c].x=50+e%5*131+Math.floor(c/10)*w.WIDTH;this.buttons[c].y=186+140*(e/5|0);this.buttonSprite.addChild(this.buttons[c]);if(0<=G.levelScores[c])this.buttons[c].makeButton(B(this,this.goToPlay)),
this.buttons[c].gotoAndStop(1+G.levelScores[c]);else if(0==c||0<=G.levelScores[c-1])this.buttons[c].makeButton(B(this,this.goToPlay)),this.buttons[c].gotoAndStop(5);else{this.buttons[c].gotoAndStop(6);continue}e=k.OzSprite.New(null,k.SpriteType.TEXT);e.font=z.Font;e.textAlign=k.TextAlign.CENTER;e.y-=e.font.lineHeight/5*3;e.x+=5;this.buttons[c].addChild(e);e.text=""+(c+1)}var f=k.OzTween.New();f.startValue=-100;f.endValue=this.doc.getChild("select").y;this.doc.getChild("select").y=-100;f.duration=
30;f.cnt=0;f.updateFunc=function(b){b*=2-b;a.doc.getChild("select").y=(1-b)*f.startValue+b*f.endValue};f.repeat=0;f.endFunc=null;f.stateBound=!0;f.gameBound=!0;k.OzTween.Add(f);var m=k.OzTween.New();m.startValue=-200;m.endValue=this.doc.getChild("btnBack").x;this.doc.getChild("btnBack").x=-200;m.duration=30;m.cnt=0;m.updateFunc=function(b){b*=2-b;a.doc.getChild("btnBack").x=(1-b)*m.startValue+b*m.endValue};m.repeat=0;m.endFunc=null;m.stateBound=!0;m.gameBound=!0;k.OzTween.Add(m);var g=k.OzTween.New();
g.startValue=-w.HEIGHT;g.endValue=this.buttonSprite.y;this.buttonSprite.y=-w.HEIGHT;g.duration=30;g.cnt=0;g.updateFunc=function(b){b*=2-b;a.buttonSprite.y=(1-b)*g.startValue+b*g.endValue};g.repeat=0;g.endFunc=null;g.stateBound=!0;g.gameBound=!0;k.OzTween.Add(g);var C=k.OzTween.New();C.startValue=w.WIDTH+200;C.endValue=this.doc.getChild("sponsor").x;this.doc.getChild("sponsor").x=w.WIDTH+200;C.duration=30;C.cnt=0;C.updateFunc=function(b){b*=2-b;a.doc.getChild("sponsor").x=(1-b)*C.startValue+b*C.endValue};
C.repeat=0;C.endFunc=null;C.stateBound=!0;C.gameBound=!0;k.OzTween.Add(C);this.doc.getChild("sponsor").changeMCToFit(Z.MC);this.doc.getChild("sponsor").makeButton(G.moreGames);this.buttonSprite.x=-(Math.floor(G.currentLevel/10)*w.WIDTH);this.endTransition()};n["states.StateLevels"]=D.StateLevels;D.StateLevels.__name__=["states","StateLevels"];D.StateLevels.__super__=D.State;D.StateLevels.prototype=K(D.State.prototype,{hideGUI:function(){var a=this,b=k.OzTween.New();b.startValue=this.doc.getChild("select").y;
b.endValue=-100;b.duration=20;b.cnt=0;b.updateFunc=function(d){d*=2-d;a.doc.getChild("select").y=(1-d)*b.startValue+d*b.endValue};b.repeat=0;b.endFunc=null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);var d=k.OzTween.New();d.startValue=this.doc.getChild("btnBack").x;d.endValue=-200;d.duration=20;d.cnt=0;d.updateFunc=function(b){b*=2-b;a.doc.getChild("btnBack").x=(1-b)*d.startValue+b*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);var c=k.OzTween.New();c.startValue=
this.buttonSprite.y;c.endValue=-w.HEIGHT;c.duration=20;c.cnt=0;c.updateFunc=function(b){b*=2-b;a.buttonSprite.y=(1-b)*c.startValue+b*c.endValue};c.repeat=0;c.endFunc=null;c.stateBound=!0;c.gameBound=!0;k.OzTween.Add(c);var e=k.OzTween.New();e.startValue=this.doc.getChild("sponsor").x;e.endValue=w.WIDTH+200;e.duration=20;e.cnt=0;e.updateFunc=function(b){b*=2-b;a.doc.getChild("sponsor").x=(1-b)*e.startValue+b*e.endValue};e.repeat=0;e.endFunc=null;e.stateBound=!0;e.gameBound=!0;k.OzTween.Add(e)},update:function(){D.State.prototype.update.call(this)},
goToPlay:function(a){for(var b=-1,d=0,c=this.buttons.length;d<c;){var e=d++;if(a.target==this.buttons[e]){b=e;break}}G.currentLevel=b;this.hideGUI();if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var f=k.OzTween.New();f.startValue=w.instance.whiteRect.alpha;f.endValue=1;f.duration=10;f.cnt=-10;f.updateFunc=function(a){a*=2-a;w.instance.whiteRect.alpha=(1-a)*f.startValue+a*f.endValue};f.repeat=0;f.endFunc=function(){w.instance.disposeState();
w.instance.transition=!1;w.instance.transitionChangeState(new D.StatePlay,10)};f.stateBound=!0;f.gameBound=!1;k.OzTween.Add(f)}},goToMenu:function(a){this.hideGUI();if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;b.endValue=1;b.duration=10;b.cnt=-10;b.updateFunc=function(a){a*=2-a;w.instance.whiteRect.alpha=(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();
w.instance.transition=!1;w.instance.transitionChangeState(new D.StateMenu,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},goLeft:function(a){var b=this;if(!this.inTransition){this.inTransition=!0;var d=k.OzTween.New();d.startValue=this.buttonSprite.x;d.endValue=this.buttonSprite.x+w.WIDTH;d.duration=30;d.cnt=0;d.updateFunc=function(a){a*=2-a;b.buttonSprite.x=(1-a)*d.startValue+a*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);k.OzTween.DelayedCall(B(this,
this.endTransition),30)}},goRight:function(a){var b=this;if(!this.inTransition){this.inTransition=!0;this.doc.getChild("left").mouseEnabled=this.doc.getChild("right").mouseEnabled=!1;var d=k.OzTween.New();d.startValue=this.buttonSprite.x;d.endValue=this.buttonSprite.x-w.WIDTH;d.duration=30;d.cnt=0;d.updateFunc=function(a){a*=2-a;b.buttonSprite.x=(1-a)*d.startValue+a*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);k.OzTween.DelayedCall(B(this,this.endTransition),
30)}},endTransition:function(){},__class__:D.StateLevels});D.StateMenu=function(){var a=this;D.State.call(this);aa.cmcMenu(this.doc);this.doc.getChild("btnAudio").setFluid(64);this.doc.adjustAllLayouts();this.doc.getChild("btnFacebook").visible=!1;this.doc.getChild("btnTwitter").visible=!1;this.doc.getChild("btnCredits").makeButton(B(this,this.goToCredits));this.doc.getChild("btnPlay").makeButton(B(this,this.goToLevels));this.doc.getChild("btnMore").makeButton(G.moreGames);this.doc.getChild("btnAudio").makeButton(B(this,
this.toggleMute));this.doc.getChild("btnAudio").setFrameOnBool(N.muteSound);N.hasMusic||(this.doc.getChild("btnAudio").visible=!1);var b=k.OzTween.New();b.startValue=-400;b.endValue=this.doc.getChild("title").y;this.doc.getChild("title").y=-400;b.duration=40;b.cnt=0;b.updateFunc=function(d){d*=2-d;a.doc.getChild("title").y=(1-d)*b.startValue+d*b.endValue};b.repeat=0;b.endFunc=null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);var d=k.OzTween.New();d.startValue=-200;d.endValue=this.doc.getChild("btnPlay").x;
this.doc.getChild("btnPlay").x=-200;d.duration=40;d.cnt=0;d.updateFunc=function(b){b*=2-b;a.doc.getChild("btnPlay").x=(1-b)*d.startValue+b*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);var c=k.OzTween.New();c.startValue=-200;c.endValue=this.doc.getChild("btnMore").x;this.doc.getChild("btnMore").x=-200;c.duration=40;c.cnt=-3;c.updateFunc=function(b){b*=2-b;a.doc.getChild("btnMore").x=(1-b)*c.startValue+b*c.endValue};c.repeat=0;c.endFunc=null;c.stateBound=!0;
c.gameBound=!0;k.OzTween.Add(c);var e=k.OzTween.New();e.startValue=-200;e.endValue=this.doc.getChild("btnCredits").x;this.doc.getChild("btnCredits").x=-200;e.duration=40;e.cnt=-6;e.updateFunc=function(b){b*=2-b;a.doc.getChild("btnCredits").x=(1-b)*e.startValue+b*e.endValue};e.repeat=0;e.endFunc=null;e.stateBound=!0;e.gameBound=!0;k.OzTween.Add(e);var f=k.OzTween.New();f.startValue=-200;f.endValue=this.doc.getChild("crossGames").x;this.doc.getChild("crossGames").x=-200;f.duration=40;f.cnt=-12;f.updateFunc=
function(b){b*=2-b;a.doc.getChild("crossGames").x=(1-b)*f.startValue+b*f.endValue};f.repeat=0;f.endFunc=null;f.stateBound=!0;f.gameBound=!0;k.OzTween.Add(f);var m=k.OzTween.New();m.startValue=w.WIDTH+100;m.endValue=this.doc.getChild("btnAudio").x;this.doc.getChild("btnAudio").x=w.WIDTH+100;m.duration=40;m.cnt=-12;m.updateFunc=function(b){b*=2-b;a.doc.getChild("btnAudio").x=(1-b)*m.startValue+b*m.endValue};m.repeat=0;m.endFunc=null;m.stateBound=!0;m.gameBound=!0;k.OzTween.Add(m);var g=k.OzTween.New();
g.startValue=-200;g.endValue=this.doc.getChild("btnFacebook").x;this.doc.getChild("btnFacebook").x=-200;g.duration=40;g.cnt=-18;g.updateFunc=function(b){b*=2-b;a.doc.getChild("btnFacebook").x=(1-b)*g.startValue+b*g.endValue};g.repeat=0;g.endFunc=null;g.stateBound=!0;g.gameBound=!0;k.OzTween.Add(g);var C=k.OzTween.New();C.startValue=-200;C.endValue=this.doc.getChild("btnTwitter").x;this.doc.getChild("btnTwitter").x=-200;C.duration=40;C.cnt=-24;C.updateFunc=function(b){b*=2-b;a.doc.getChild("btnTwitter").x=
(1-b)*C.startValue+b*C.endValue};C.repeat=0;C.endFunc=null;C.stateBound=!0;C.gameBound=!0;k.OzTween.Add(C);this.doc.getChild("sponsor").changeMCToFit(Z.MC);this.doc.getChild("sponsor").makeButton(G.moreGames);this.doc.getChild("sponsor").makeButton(G.moreGames);this.doc.getChild("googlePlay").makeLink(G.android);var l=k.OzTween.New();l.startValue=850;l.endValue=this.doc.getChild("sponsor").x;this.doc.getChild("sponsor").x=850;l.duration=40;l.cnt=-6;l.updateFunc=function(b){b*=2-b;a.doc.getChild("sponsor").x=
(1-b)*l.startValue+b*l.endValue};l.repeat=0;l.endFunc=null;l.stateBound=!0;l.gameBound=!0;k.OzTween.Add(l);var p=k.OzTween.New();p.startValue=850;p.endValue=this.doc.getChild("googlePlay").x;this.doc.getChild("googlePlay").x=850;p.duration=40;p.cnt=-6;p.updateFunc=function(b){b*=2-b;a.doc.getChild("googlePlay").x=(1-b)*p.startValue+b*p.endValue};p.repeat=0;p.endFunc=null;p.stateBound=!0;p.gameBound=!0;k.OzTween.Add(p);N.PlayMusic("main");r.Log.trace("tt",{fileName:"StateMenu.hx",lineNumber:76,className:"states.StateMenu",
methodName:"new",customParams:[6]});k.OzAPI.SpriteToMoreGames(this.doc.getChild("crossGames"));D.StateMenu.Shown++;this.doc.addChild(this.plane=k.OzSprite.New(q.cmcPlayer));this.plane.y=50;this.plane.x=50;this.deltaX=1;this.plane.visible=!1};n["states.StateMenu"]=D.StateMenu;D.StateMenu.__name__=["states","StateMenu"];D.StateMenu.__super__=D.State;D.StateMenu.prototype=K(D.State.prototype,{update:function(){D.State.prototype.update.call(this);0<this.deltaX&&640<this.plane.x&&(this.deltaX=-this.deltaX);
0>this.deltaX&&50>this.plane.x&&(this.deltaX=-this.deltaX);this.plane.x+=this.deltaX},goToCredits:function(a){this.initAudioTouch();this.hideGUI();if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;b.endValue=1;b.duration=10;b.cnt=-10;b.updateFunc=function(a){a*=2-a;w.instance.whiteRect.alpha=(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();
w.instance.transition=!1;w.instance.transitionChangeState(new D.StateCredits,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},initAudioTouch:function(){N.initted||(N.initted=!0)},goToLevels:function(a){this.initAudioTouch();this.hideGUI();if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;b.endValue=1;b.duration=10;b.cnt=-10;b.updateFunc=function(a){a*=2-a;w.instance.whiteRect.alpha=
(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();w.instance.transition=!1;w.instance.transitionChangeState(new D.StateLevels,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},hideGUI:function(){var a=this,b=k.OzTween.New();b.startValue=this.doc.getChild("title").y;b.endValue=-400;b.duration=30;b.cnt=0;b.updateFunc=function(d){d*=2-d;a.doc.getChild("title").y=(1-d)*b.startValue+d*b.endValue};b.repeat=0;b.endFunc=null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);
var d=k.OzTween.New();d.startValue=this.doc.getChild("btnPlay").x;d.endValue=-200;d.duration=30;d.cnt=0;d.updateFunc=function(b){b*=2-b;a.doc.getChild("btnPlay").x=(1-b)*d.startValue+b*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);var c=k.OzTween.New();c.startValue=this.doc.getChild("btnMore").x;c.endValue=-200;c.duration=30;c.cnt=0;c.updateFunc=function(b){b*=2-b;a.doc.getChild("btnMore").x=(1-b)*c.startValue+b*c.endValue};c.repeat=0;c.endFunc=null;c.stateBound=
!0;c.gameBound=!0;k.OzTween.Add(c);var e=k.OzTween.New();e.startValue=this.doc.getChild("btnCredits").x;e.endValue=-200;e.duration=30;e.cnt=0;e.updateFunc=function(b){b*=2-b;a.doc.getChild("btnCredits").x=(1-b)*e.startValue+b*e.endValue};e.repeat=0;e.endFunc=null;e.stateBound=!0;e.gameBound=!0;k.OzTween.Add(e);var f=k.OzTween.New();f.startValue=this.doc.getChild("sponsor").x;f.endValue=850;f.duration=30;f.cnt=0;f.updateFunc=function(b){b*=2-b;a.doc.getChild("sponsor").x=(1-b)*f.startValue+b*f.endValue};
f.repeat=0;f.endFunc=null;f.stateBound=!0;f.gameBound=!0;k.OzTween.Add(f);var m=k.OzTween.New();m.startValue=this.doc.getChild("googlePlay").x;m.endValue=850;m.duration=30;m.cnt=0;m.updateFunc=function(b){b*=2-b;a.doc.getChild("googlePlay").x=(1-b)*m.startValue+b*m.endValue};m.repeat=0;m.endFunc=null;m.stateBound=!0;m.gameBound=!0;k.OzTween.Add(m);var g=k.OzTween.New();g.startValue=this.doc.getChild("crossGames").x;g.endValue=-200;g.duration=30;g.cnt=0;g.updateFunc=function(b){b*=2-b;a.doc.getChild("crossGames").x=
(1-b)*g.startValue+b*g.endValue};g.repeat=0;g.endFunc=null;g.stateBound=!0;g.gameBound=!0;k.OzTween.Add(g);var C=k.OzTween.New();C.startValue=this.doc.getChild("btnAudio").x;C.endValue=w.WIDTH+100;C.duration=30;C.cnt=0;C.updateFunc=function(b){b*=2-b;a.doc.getChild("btnAudio").x=(1-b)*C.startValue+b*C.endValue};C.repeat=0;C.endFunc=null;C.stateBound=!0;C.gameBound=!0;k.OzTween.Add(C);var l=k.OzTween.New();l.startValue=this.doc.getChild("btnFacebook").x;l.endValue=-200;l.duration=30;l.cnt=0;l.updateFunc=
function(b){b*=2-b;a.doc.getChild("btnFacebook").x=(1-b)*l.startValue+b*l.endValue};l.repeat=0;l.endFunc=null;l.stateBound=!0;l.gameBound=!0;k.OzTween.Add(l);var p=k.OzTween.New();p.startValue=this.doc.getChild("btnTwitter").x;p.endValue=-200;p.duration=30;p.cnt=0;p.updateFunc=function(b){b*=2-b;a.doc.getChild("btnTwitter").x=(1-b)*p.startValue+b*p.endValue};p.repeat=0;p.endFunc=null;p.stateBound=!0;p.gameBound=!0;k.OzTween.Add(p)},toggleMute:function(a){N.ToggleMuteMusic();N.ToggleMuteSound();this.doc.getChild("btnAudio").setFrameOnBool(N.muteMusic)},
__class__:D.StateMenu});D.StatePlay=function(a){this.startBase=this.finishBase=this.curCheckpoint=null;k.OzUtil.TimeStamp();D.State.call(this);this.stateNum=D.StatePlay.StateCounter++;null==D.StatePlay.tileMap?D.StatePlay.tileMap=new k.OzTileMap(256,512,D.StatePlay.OffsetX,D.StatePlay.OffsetY,75):D.StatePlay.tileMap.reset();this.prevControl=0;this.speedVec=new g.geom.Vec2;this.firstMDown=!1;this.clickedObject=this.lastGrenade=null;D.StatePlay.instance=this;this.vecVel=new g.geom.Vec2;this.mouseVec=
new g.geom.Vec2;this.bounds=[];this.touch=w.isMobile;this.weStart=!0;this.curClick=G.checkpoints[G.currentLevel];0==G.checkpoints[G.currentLevel]&&(G.gottenStars[G.currentLevel]=0);this.starsSoFar=G.gottenStars[G.currentLevel];E.playerFilter.set_collisionGroup(2);E.bulletFilter.set_collisionMask(-3);this.world=new g.space.Space(new g.geom.Vec2(0,500));var b=g.callbacks.InteractionListener,d;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,
c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_SENSOR,E.bulletCT,E.teleportInCT,B(this,this.teleportBomb));this.world.zpp_inner.wrap_listeners.add(b);b=g.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=
new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_COLLISION,E.bulletCT,E.alienCT,B(this,this.bulletAlien));this.world.zpp_inner.wrap_listeners.add(b);b=g.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_COLLISION,E.bulletCT,E.switchCT,B(this,this.bulletSwitch));this.world.zpp_inner.wrap_listeners.add(b);b=g.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_COLLISION,E.bulletCT,E.iceCT,B(this,this.bulletIce));this.world.zpp_inner.wrap_listeners.add(b);b=g.callbacks.InteractionListener;
null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_COLLISION,E.bulletCT,E.barrelCT,B(this,this.bulletBarrel));this.world.zpp_inner.wrap_listeners.add(b);
b=g.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_COLLISION,E.planeCT,E.collideableCT,B(this,this.crashPlane));
this.world.zpp_inner.wrap_listeners.add(b);b=g.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_COLLISION=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_COLLISION,
E.planeCT,E.hangarCT,B(this,this.planeHangar));this.world.zpp_inner.wrap_listeners.add(b);b=g.callbacks.InteractionListener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);d=c.util.ZPP_Flags.CbEvent_BEGIN;null==c.util.ZPP_Flags.InteractionType_SENSOR&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.InteractionType_SENSOR=new g.callbacks.InteractionType,c.util.ZPP_Flags.internal=!1);b=new b(d,c.util.ZPP_Flags.InteractionType_SENSOR,
E.planeCT,E.starCT,B(this,this.planeStar));this.world.zpp_inner.wrap_listeners.add(b);this.objects=[];this.hovers=[];this.doc.addChild(this.menuSprite=new k.OzSprite);aa.cmcPlay(this.menuSprite);this.menuSprite.getChild("btnPause").makeButton(B(this,this.pause));this.doc.addChild(this.cloudSprites=k.OzSprite.New());this.doc.addChild(this.objectSprite=k.OzSprite.New());this.objectSpriteDepths=[];for(b=0;3>b;)d=b++,1==d&&(this.objectSprite.addChild(this.tileSprite=k.OzSprite.New(null,k.SpriteType.TILEMAP)),
this.tileSprite.tileMap=D.StatePlay.tileMap),this.objectSpriteDepths[d]=k.OzSprite.New(),this.objectSprite.addChild(this.objectSpriteDepths[d]);this.doc.addChild(this.hoverSprite=k.OzSprite.New());this.hoverSprite.alpha=0.7;this.doc.addChild(this.crossSprite=k.OzSprite.New(q.cmcCrossHair));this.crossSprite.visible=!1;this.doc.addChild(this.aimSprite=k.OzSprite.New(null,k.SpriteType.EMPTY));this.aimBalls=[];for(b=0;15>b;)d=b++,this.aimBalls[d]=k.OzSprite.New(q.cmcAimBall),this.aimBalls[d].rotation=
1,this.aimSprite.addChild(this.aimBalls[d]);this.aimSprite.visible=!1;this.doc.addChild(this.clockSprite=k.OzSprite.New());this.doc.addChild(this.menuSprite.getChild("btnPause"));this.doc.addChild(this.menuSprite.getChild("starCounter"));this.doc.addChild(this.menuSprite.getChild("sponsor"));this.doc.addChild(this.menuSprite.getChild("tryCounter"));this.doc.addChild(this.dialogSprite=k.OzSprite.New());this.state=D.StatePlay.NORMAL;this.cloudSprites.addChild(this.cloudSprite1=k.OzSprite.New(null,k.SpriteType.EMPTY));
this.cloudSprite1.y=103;b=0;for(d=Math.ceil(w.WIDTH_MAX/k.OzSprite.GetMCWidth(q.cmcCloudSmall)+1);b<d;){var h=b++,e=k.OzSprite.New(q.cmcCloudSmall);e.x=h*k.OzSprite.GetMCWidth(q.cmcCloudSmall);this.cloudSprite1.addChild(e)}this.cloudSprites.addChild(this.cloudSprite2=k.OzSprite.New(null,k.SpriteType.EMPTY));this.cloudSprite2.y=220;b=0;for(d=Math.ceil(w.WIDTH_MAX/k.OzSprite.GetMCWidth(q.cmcCloudMedium)+1);b<d;)h=b++,e=k.OzSprite.New(q.cmcCloudMedium),e.x=h*k.OzSprite.GetMCWidth(q.cmcCloudMedium),this.cloudSprite2.addChild(e);
this.cloudSprites.addChild(this.cloudSprite3=k.OzSprite.New(null,k.SpriteType.EMPTY));this.cloudSprite3.y=356;b=0;for(d=Math.ceil(w.WIDTH_MAX/k.OzSprite.GetMCWidth(q.cmcCloudBig)+1);b<d;)h=b++,e=k.OzSprite.New(q.cmcCloudBig),e.x=h*k.OzSprite.GetMCWidth(q.cmcCloudBig),this.cloudSprite3.addChild(e);this.doc.getChild("sponsor").changeMCToFit(Z.MC);this.doc.getChild("sponsor").makeButton(G.moreGames);this.doc.getChild("sponsor").setFluid(64);this.doc.getChild("btnPause").setFluid(256);this.doc.getChild("starCounter").setFluid(256);
this.doc.adjustAllLayouts();null!=a?this.fromEditor=!0:a=k.Xu.cwav(G.levelsXML,"level","name",""+(G.currentLevel+1));b=a.get("title");r.Log.trace("my name is",{fileName:"StatePlay.hx",lineNumber:287,className:"states.StatePlay",methodName:"new",customParams:[b]});null!=b?(b=b.split("-"),this.levelTitle=b[0],this.numGrenades=H.parseInt(b[b.length-2]),this.goldGrenades=H.parseInt(b[b.length-1])):(this.numGrenades=6,this.goldGrenades=3);for(a=a.elementsNamed("object");a.hasNext();)b=a.next(),d=new E,
d.fromXML(b,k.Xu.cwav(k.Xu.fc(G.definitionsXML,"objects"),"object","type",b.get("type")),G.definitionsXML),d.initPhysics(this.world),this.objectSpriteDepths[d.depth].addChild(d.sprite),this.objects.push(d);a=this.objects.length;for(b=0;b<a;)d=b++,d=a-d-1,d>=this.objects.length||this.objects[d].initPhysics2(this.world);if(null==this.startBase||null==this.finishBase)throw new l.errors.Error("No start and/or end base");null==this.curCheckpoint&&0<G.checkpoints[G.currentLevel]&&r.Log.trace("ERROR: Checkpoint +"+
G.checkpoints[G.currentLevel]+" not found",{fileName:"StatePlay.hx",lineNumber:321,className:"states.StatePlay",methodName:"new"});null==this.curCheckpoint&&(this.curCheckpoint=this.startBase);this.player.body.get_position().set_x(this.curCheckpoint.body.get_position().get_x());this.player.body.get_position().set_y(this.curCheckpoint.body.get_position().get_y()-20);this.doc.getChild("starCounter").addChild(this.nextSprite=k.OzSprite.New(null,k.SpriteType.TEXT));this.nextSprite.x=20;this.nextSprite.y=
-20;this.nextSprite.font=z.Font;this.nextSprite.text="20";this.drawNexts();this.crossSprite.x=this.player.body.get_position().get_x()+100;this.crossSprite.y=this.player.body.get_position().get_y()+100;this.aiming=!this.touch;0==this.numGrenades&&(this.aiming=!1);F.mdown=F.mup=!1;F.reFocus(this.p);this.drawNexts();r.Log.trace("we loaded level in ",{fileName:"StatePlay.hx",lineNumber:371,className:"states.StatePlay",methodName:"new",customParams:[k.OzUtil.TimeElapsed()," seconds"]})};n["states.StatePlay"]=
D.StatePlay;D.StatePlay.__name__=["states","StatePlay"];D.StatePlay.__super__=D.State;D.StatePlay.prototype=K(D.State.prototype,{showId:function(){r.Log.trace("WE'RE STATE DELETING ",{fileName:"StatePlay.hx",lineNumber:41,className:"states.StatePlay",methodName:"showId",customParams:[this.stateNum]})},planeStar:function(a){r.Log.trace("plane star",{fileName:"StatePlay.hx",lineNumber:378,className:"states.StatePlay",methodName:"planeStar"});var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,
E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);b.dead||a.dead||(r.Log.trace("plane star 2",{fileName:"StatePlay.hx",lineNumber:382,className:"states.StatePlay",methodName:"planeStar"}),this.starsSoFar|=1<<a.position,this.drawNexts(),a.dead=!0,k.OzParticle.EmitInCircle(this.objectSprite,q.cmcStarGold,a.sprite.x,a.sprite.y,0.1,15,80,20,0.1),N.PlaySound("star"))},crashPlane:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,
E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);b.dead||a.dead||this.state!=D.StatePlay.NORMAL&&this.state!=D.StatePlay.WAITING||(this.lose(),a=k.OzUtil.BitCount(this.starsSoFar-G.gottenStars[G.currentLevel]),r.Log.trace("difSum",{fileName:"StatePlay.hx",lineNumber:397,className:"states.StatePlay",methodName:"crashPlane",customParams:[a]}),k.OzParticle.EmitInCircle(this.objectSprite,q.cmcGoldStar,b.sprite.x,b.sprite.y,0.1,a,200,20,0.1),this.starsSoFar=G.gottenStars[G.currentLevel],
this.drawNexts())},planeHangar:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,E);var d;d=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);if(!b.dead&&!d.dead)if(301!=d.type&&(r.Log.trace("stars so far!",{fileName:"StatePlay.hx",lineNumber:410,className:"states.StatePlay",methodName:"planeHangar",customParams:[this.starsSoFar]}),G.gottenStars[G.currentLevel]=this.starsSoFar),303==d.type){if(this.state==D.StatePlay.NORMAL||
this.state==D.StatePlay.WAITING)this.win(),k.NapeUtil.AverageContactPoint(a.zpp_inner.wrap_arbiters),k.OzParticle.EmitInCircle(d.sprite,q.cmcStarGold,12,-82,0.1,15,80,20,0.1)}else 302==d.type&&(k.NapeUtil.AverageContactPoint(a.zpp_inner.wrap_arbiters),d.order>G.checkpoints[G.currentLevel]&&(this.curClick++,G.checkpoints[G.currentLevel]=d.order,d.sprite.gotoAndStop(1),k.OzParticle.EmitInCircle(d.sprite,q.cmcBlueStar,0,-87,0.1,15,80,20,0.1),N.PlaySound("star")))},teleportBomb:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,
E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);b.dead||a.dead||(b.body.get_position().set(a.linkedObject.body.get_position()),N.PlaySound("pop"))},bulletAlien:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);b.dead||a.dead||(a.dieAlien(),a.dead=!0,b.dead=!0)},bulletSwitch:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,
E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);b.dead||a.dead||(a.toggleSwitch(),b.dead=!0)},bulletIce:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,E);b.dead||a.dead||(a.destroyIce(),b.dead=!0)},bulletBarrel:function(a){var b;b=I.Boot.__cast(a.zpp_inner.int1.outer_i.get_castBody().get_userData().object,E);a=I.Boot.__cast(a.zpp_inner.int2.outer_i.get_castBody().get_userData().object,
E);b.dead||a.dead||(b.dead=!0,a.explode())},shoot:function(a){if(!(0>=this.numGrenades)){a=this.touch?Math.atan2(this.crossSprite.y-this.player.body.get_position().get_y(),this.crossSprite.x-this.player.body.get_position().get_x()):Math.atan2(F.my-this.player.body.get_position().get_y(),F.mx-this.player.body.get_position().get_x());var b=new E;b.bluePrint=k.Xu.cwav(k.Xu.fc(G.definitionsXML,"objects"),"object","type","bullet");b.geometry=new k.OzGeometry;b.geometry.fromXML(k.Xu.fc(k.Xu.fc(b.bluePrint,
"body"),"geometry"));b.geometry.x+=this.player.body.get_position().get_x()+30*Math.cos(a);b.geometry.y+=this.player.body.get_position().get_y()+30*Math.sin(a);b.initGFX();b.gameSpecInit();b.initPhysics(this.world);this.objectSpriteDepths[b.depth].addChild(b.sprite);this.objects.push(b);b.body.applyImpulse(new g.geom.Vec2(800*Math.cos(a)*b.body.get_mass(),800*Math.sin(a)*b.body.get_mass()));this.player.lastThrow=this.player.cnt;this.aiming=!1;this.lastGrenade=b;this.numGrenades--;this.drawNexts();
this.curClick++;N.PlaySound("swing")}},drawNexts:function(){this.nextSprite.text=""+k.OzUtil.BitCount(this.starsSoFar)},echoXY:function(){r.Log.trace("Echo stuff",{fileName:"StatePlay.hx",lineNumber:523,className:"states.StatePlay",methodName:"echoXY"})},removeLastGrenade:function(a){null!=this.lastGrenade&&(this.lastGrenade.dead=!0,this.lastGrenade=null)},normaliseObjectSprite:function(){D.StatePlay.instance.objectSprite.x=0;D.StatePlay.instance.objectSprite.y=0},resume:function(a){var b=this,d=
k.OzTween.New();d.startValue=this.dialogSprite.alpha;d.endValue=0.001;d.duration=10;d.cnt=0;d.updateFunc=function(a){b.dialogSprite.alpha=(1-a)*d.startValue+a*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);k.OzTween.DelayedCall(function(){b.dialogSprite.clear();b.paused=!1},10)},pause:function(a){var b=this;if(this.state==D.StatePlay.NORMAL||this.state==D.StatePlay.WAITING){this.paused=!0;this.dialogSprite.clear();aa.cmcPaused(this.dialogSprite);this.dialogSprite.alpha=
1;var d=k.OzTween.New();d.startValue=0.001;d.endValue=this.dialogSprite.alpha;this.dialogSprite.alpha=0.001;d.duration=10;d.cnt=0;d.updateFunc=function(a){b.dialogSprite.alpha=(1-a)*d.startValue+a*d.endValue};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);this.dialogSprite.getChild("btnPlay").makeButton(B(this,this.resume));this.dialogSprite.getChild("btnLevels").makeButton(B(this,this.goToLevels));this.dialogSprite.getChild("btnMore").makeButton(G.moreGames);this.dialogSprite.getChild("btnAudio").makeButton(B(this,
this.toggleMute));this.dialogSprite.getChild("btnAudio").setFrameOnBool(N.muteSound);N.hasMusic||(this.dialogSprite.getChild("btnAudio").visible=!1);this.dialogSprite.getChild("btnAudio").setFluid(64);this.dialogSprite.adjustAllLayouts()}},update:function(){if(!this.paused&&this.state!=D.StatePlay.LOSE&&this.state!=D.StatePlay.WIN){D.State.prototype.update.call(this);null==this.clickedObject||!this.clickedObject.dead&&null!=this.clickedObject.body||(this.clickedObject=null);if(this.state==D.StatePlay.NORMAL||
this.state==D.StatePlay.WAITING){var a=this.player.body.zpp_inner.rot;if(F.mdown)this.speedVec.set_x(100*Math.cos(a-0.3)),this.speedVec.set_y(100*Math.sin(a-0.3)),0==this.prevControl&&(a=this.player.body,a.set_angularVel(a.zpp_inner.angvel/2)),this.player.body.applyImpulse(this.speedVec),this.player.body.applyAngularImpulse(-80),this.prevControl=1;else{if(0==this.player.body.get_arbiters().get_length()){if(1==this.prevControl){var b=this.player.body;b.set_angularVel(b.zpp_inner.angvel/2)}0<Math.cos(a)?
this.player.body.applyAngularImpulse(80):this.player.body.applyAngularImpulse(-80)}this.prevControl=0}this.player.body.set_angularVel(k.OzUtil.MinMax(this.player.body.zpp_inner.angvel,-2.5,2.5));k.NapeUtil.maxVector(this.player.body.get_velocity(),250);1==this.prevControl&&(this.speedVec.setxy(0,-30),this.player.body.applyImpulse(this.speedVec));0==this.cnt%2&&(a=k.OzSprite.New(q.cmcSmoke),a.x=this.player.sprite.x,a.y=this.player.sprite.y,this.objectSpriteDepths[this.player.depth-1].addChild(a),a.funcEnd=
B(a,a.removeMe));0<this.player.body.get_arbiters().get_length()&&this.player.body.applyAngularImpulse(-180)}if(this.state==D.StatePlay.WAITING||this.state==D.StatePlay.NORMAL){a=0;for(b=this.objects.length;a<b;){var d=a++,d=this.objects[d];212==d.type&&(0<(d.flags&4)||d.body.applyImpulse(E.bulletGVec));215==d.type&&(1>d.body.get_velocity().get_length()&&d.body.get_velocity().setxy(0,0),d.body.applyImpulse(E.alien3GVec))}this.world.step(1/w.FPS);a=0;for(b=this.objects.length;a<b;)d=a++,this.objects[d].update();
a=this.objects.length;for(b=0;b<a;)d=b++,d=a-d-1,d>=this.objects.length||this.objects[d].dead&&this.removeObject(this.objects[d]);a=0;for(b=this.objects.length;a<b;)a++}this.objectSprite.x=-this.player.body.get_position().get_x()+w.WIDTH/4;this.objectSprite.y=-this.player.body.get_position().get_y()+w.HEIGHT/2;var a=k.OzSprite.GetMCWidth(q.cmcCloudSmall),b=k.OzSprite.GetMCWidth(q.cmcCloudMedium),d=k.OzSprite.GetMCWidth(q.cmcCloudBig),c=(w.WIDTH_MAX-w.WIDTH_MIN)/2;this.cloudSprite1.x=this.objectSprite.x/
(d/a)%a;0<this.cloudSprite1.x&&(this.cloudSprite1.x-=a);this.cloudSprite2.x=this.objectSprite.x/(d/b)%b;0<this.cloudSprite2.x&&(this.cloudSprite2.x-=b);this.cloudSprite3.x=this.objectSprite.x%d;0<this.cloudSprite3.x&&(this.cloudSprite3.x-=d);this.cloudSprite1.x-=c;this.cloudSprite2.x-=c;this.cloudSprite3.x-=c;a=0;for(b=this.objects.length;a<b;)d=a++,this.objects[d].drawPlay()}},shootingStars:function(){k.OzParticle.EmitInCircle(this.doc,q.cmcStarGold,50+Math.random()*(w.WIDTH-100),50+Math.random()*
(w.HEIGHT-100),0.1,15,80,20,0.1)},getHighestVelocitySquared:function(){for(var a=0,b=0,d=this.objects;b<d.length;){var c=d[b];++b;null==c.body||c.dead||(c=c.body.get_velocity().get_x()*c.body.get_velocity().get_x()+c.body.get_velocity().get_y()*c.body.get_velocity().get_y(),a<c&&(a=c))}return a},show1star:function(){k.OzParticle.EmitInCircle(this.doc,q.cmcStarGold,this.dialogSprite.x+this.dialogSprite.getChild("star1").x,this.dialogSprite.y+this.dialogSprite.getChild("star1").y,0.1,15,80,20,0.1);
this.dialogSprite.getChild("star1").gotoAndStop(1);N.PlaySound("star")},show2star:function(){k.OzParticle.EmitInCircle(this.doc,q.cmcStarGold,this.dialogSprite.x+this.dialogSprite.getChild("star2").x,this.dialogSprite.y+this.dialogSprite.getChild("star2").y,0.1,15,80,20,0.1);this.dialogSprite.getChild("star2").gotoAndStop(1);N.PlaySound("star")},show3star:function(){k.OzParticle.EmitInCircle(this.doc,q.cmcStarGold,this.dialogSprite.x+this.dialogSprite.getChild("star3").x,this.dialogSprite.y+this.dialogSprite.getChild("star3").y,
0.1,15,80,20,0.1);this.dialogSprite.getChild("star3").gotoAndStop(1);N.PlaySound("star")},win:function(){var a=this;Z.RequestAd();this.state=D.StatePlay.WIN;aa.cmcYouWin(this.dialogSprite);this.dialogSprite.getChild("googlePlay").makeLink(G.android);this.dialogSprite.getChild("star1").gotoAndStop(2);this.dialogSprite.getChild("star2").gotoAndStop(2);this.dialogSprite.getChild("star3").gotoAndStop(2);this.dialogSprite.alpha=1;var b=k.OzTween.New();b.startValue=0.001;b.endValue=this.dialogSprite.alpha;
this.dialogSprite.alpha=0.001;b.duration=10;b.cnt=0;b.updateFunc=function(d){a.dialogSprite.alpha=(1-d)*b.startValue+d*b.endValue};b.repeat=0;b.endFunc=null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);this.dialogSprite.getChild("btnLevels").makeButton(B(this,this.goToLevels));this.dialogSprite.getChild("btnNext").makeButton(B(this,this.goNext));this.dialogSprite.getChild("btnMore").makeButton(G.moreGames);G.checkpoints[G.currentLevel]=0;var d=k.OzUtil.BitCount(G.gottenStars[G.currentLevel]);0<
d&&k.OzTween.DelayedCall(B(this,this.show1star),40);1<d&&k.OzTween.DelayedCall(B(this,this.show2star),55);2<d&&k.OzTween.DelayedCall(B(this,this.show3star),70);G.checkpoints[G.currentLevel]=0;G.levelScores[G.currentLevel]=H["int"](Math.max(G.levelScores[G.currentLevel],d));G.save();N.PlaySound("win");9<G.currentLevel?k.OzMobileUtils.MakeRater(this.dialogSprite.getChild("rater")):this.dialogSprite.getChild("rater").visible=!1;k.OzAPI.SpriteToMoreGames(this.dialogSprite.getChild("crossGames"));D.StatePlay.WinShown++},
lose:function(){var a=this,b=k.OzTween.New();b.startValue=D.StatePlay.instance.objectSprite.x;b.endValue=3;b.duration=10;b.cnt=0;b.updateFunc=function(a){D.StatePlay.instance.objectSprite.x=b.startValue-b.endValue+2*b.endValue*Math.random()};b.repeat=0;b.endFunc=null;b.stateBound=!0;b.gameBound=!0;k.OzTween.Add(b);var d=k.OzTween.New();d.startValue=D.StatePlay.instance.objectSprite.y;d.endValue=3;d.duration=10;d.cnt=0;d.updateFunc=function(a){D.StatePlay.instance.objectSprite.y=d.startValue-d.endValue+
2*d.endValue*Math.random()};d.repeat=0;d.endFunc=null;d.stateBound=!0;d.gameBound=!0;k.OzTween.Add(d);this.state=D.StatePlay.LOSE;aa.cmcYouLose(this.dialogSprite);this.dialogSprite.alpha=1;var c=k.OzTween.New();c.startValue=0.001;c.endValue=this.dialogSprite.alpha;this.dialogSprite.alpha=0.001;c.duration=10;c.cnt=0;c.updateFunc=function(b){a.dialogSprite.alpha=(1-b)*c.startValue+b*c.endValue};c.repeat=0;c.endFunc=null;c.stateBound=!0;c.gameBound=!0;k.OzTween.Add(c);this.dialogSprite.getChild("btnLevels").makeButton(B(this,
this.goToLevels));this.dialogSprite.getChild("btnRestart").makeButton(B(this,this.goRestart));this.dialogSprite.getChild("btnMore").makeButton(G.moreGames);N.PlaySound("lose")},removeObject:function(a,b){null==b&&(b=!0);for(var d=0,c=this.objects.length;d<c;){var e=d++;if(this.objects[e]==a)if(null!=a.joint){a.destroy(b);this.objects.splice(e,1);break}else if(null!=a.body){for(;!a.body.get_constraints().empty();)d=null,null!=a.body.get_constraints().at(0).get_userData().object&&(d=I.Boot.__cast(a.body.get_constraints().at(0).get_userData().object,
E)),null!=d?(d.destroy(),d.type=-1):a.body.get_constraints().at(0).set_space(null);a.destroy(b);a.type=-1;d=this.objects.length;for(c=0;c<d;)e=c++,e=d-e-1,-1==this.objects[e].type&&this.objects.splice(e,1);break}else this.objects.splice(e,1)}},goToLevels:function(a){if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;b.endValue=1;b.duration=10;b.cnt=0;b.updateFunc=function(a){a*=
2-a;w.instance.whiteRect.alpha=(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();w.instance.transition=!1;w.instance.transitionChangeState(new D.StateLevels,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},goRestart:function(a){if(!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;b.endValue=1;b.duration=10;b.cnt=0;b.updateFunc=function(a){a*=
2-a;w.instance.whiteRect.alpha=(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();w.instance.transition=!1;w.instance.transitionChangeState(new D.StatePlay,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},goNext:function(a){if(G.currentLevel==G.NUMLEVELS-1)this.goToLevels(null);else if(G.currentLevel++,!w.instance.transition){w.instance.transition=!0;w.instance.whiteRect.visible=!0;w.instance.whiteRect.alpha=0;var b=k.OzTween.New();b.startValue=w.instance.whiteRect.alpha;
b.endValue=1;b.duration=10;b.cnt=0;b.updateFunc=function(a){a*=2-a;w.instance.whiteRect.alpha=(1-a)*b.startValue+a*b.endValue};b.repeat=0;b.endFunc=function(){w.instance.disposeState();w.instance.transition=!1;w.instance.transitionChangeState(new D.StatePlay,10)};b.stateBound=!0;b.gameBound=!1;k.OzTween.Add(b)}},toggleMute:function(a){N.ToggleMuteMusic();N.ToggleMuteSound();this.dialogSprite.getChild("btnAudio").setFrameOnBool(N.muteMusic)},destroy:function(){D.State.prototype.destroy.call(this);
this.world.zpp_inner.clear();this.world.clear();r.Log.trace("we destroyed the world",{fileName:"StatePlay.hx",lineNumber:1187,className:"states.StatePlay",methodName:"destroy"})},__class__:D.StatePlay});c.ZPP_Const=function(){};n["zpp_nape.ZPP_Const"]=c.ZPP_Const;c.ZPP_Const.__name__=["zpp_nape","ZPP_Const"];c.ZPP_Const.POSINF=function(){return Math.POSITIVE_INFINITY};c.ZPP_Const.NEGINF=function(){return Math.NEGATIVE_INFINITY};c.callbacks.ZPP_Callback=function(){this.body=this.constraint=null;this.pre_swapped=
!1;this.int1=this.int2=this.set=this.wrap_arbiters=this.pre_arbiter=null;this.length=0;this.next=this.prev=null;this.index=0;this.listener=this.space=null;this.event=0;this.outer_body=this.outer_con=this.outer_int=null;this.length=0};n["zpp_nape.callbacks.ZPP_Callback"]=c.callbacks.ZPP_Callback;c.callbacks.ZPP_Callback.__name__=["zpp_nape","callbacks","ZPP_Callback"];c.callbacks.ZPP_Callback.prototype={wrapper_body:function(){null==this.outer_body&&(c.callbacks.ZPP_Callback.internal=!0,this.outer_body=
new g.callbacks.BodyCallback,c.callbacks.ZPP_Callback.internal=!1,this.outer_body.zpp_inner=this);return this.outer_body},wrapper_con:function(){null==this.outer_con&&(c.callbacks.ZPP_Callback.internal=!0,this.outer_con=new g.callbacks.ConstraintCallback,c.callbacks.ZPP_Callback.internal=!1,this.outer_con.zpp_inner=this);return this.outer_con},wrapper_int:function(){null==this.outer_int&&(c.callbacks.ZPP_Callback.internal=!0,this.outer_int=new g.callbacks.InteractionCallback,c.callbacks.ZPP_Callback.internal=
!1,this.outer_int.zpp_inner=this);null==this.wrap_arbiters?this.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters;this.wrap_arbiters.zpp_inner.zip_length=!0;this.wrap_arbiters.zpp_inner.at_ite=null;return this.outer_int},push:function(a){null!=this.prev?this.prev.next=a:this.next=a;a.prev=this.prev;a.next=null;this.prev=a;this.length++},push_rev:function(a){null!=this.next?this.next.prev=a:this.prev=a;a.next=this.next;a.prev=null;this.next=
a;this.length++},pop:function(){var a=this.next;this.next=a.next;null==this.next?this.prev=null:this.next.prev=null;this.length--;return a},pop_rev:function(){var a=this.prev;this.prev=a.prev;null==this.prev?this.next=null:this.prev.next=null;this.length--;return a},empty:function(){return null==this.next},clear:function(){for(;!this.empty();)this.pop()},splice:function(a){var b=a.next;null==a.prev?(this.next=a.next,null!=this.next?this.next.prev=null:this.prev=null):(a.prev.next=a.next,null!=a.next?
a.next.prev=a.prev:this.prev=a.prev);this.length--;return b},rotateL:function(){this.push(this.pop())},rotateR:function(){this.push_rev(this.pop_rev())},cycleNext:function(a){return null==a.next?this.next:a.next},cyclePrev:function(a){return null==a.prev?this.prev:a.prev},at:function(a){for(var b=this.next;0!=a--;)b=b.next;return b},rev_at:function(a){for(var b=this.prev;0!=a--;)b=b.prev;return b},free:function(){this.listener=this.constraint=this.body=this.int1=this.int2=null;null!=this.wrap_arbiters&&
(this.wrap_arbiters.zpp_inner.inner=null);this.set=null},alloc:function(){},genarbs:function(){null==this.wrap_arbiters?this.wrap_arbiters=c.util.ZPP_ArbiterList.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters;this.wrap_arbiters.zpp_inner.zip_length=!0;this.wrap_arbiters.zpp_inner.at_ite=null},__class__:c.callbacks.ZPP_Callback};c.callbacks.ZPP_CbSet=function(){this.interactors=this.wrap_interactors=this.constraints=this.wrap_constraints=null;this.zip_conlisteners=!1;
this.conlisteners=null;this.zip_bodylisteners=!1;this.bodylisteners=null;this.zip_listeners=!1;this.manager=this.cbpairs=this.listeners=null;this.id=0;this.next=null;this.count=0;this.cbTypes=null;this.cbTypes=new c.util.ZNPList_ZPP_CbType;this.listeners=new c.util.ZNPList_ZPP_InteractionListener;this.zip_listeners=!0;this.bodylisteners=new c.util.ZNPList_ZPP_BodyListener;this.zip_bodylisteners=!0;this.conlisteners=new c.util.ZNPList_ZPP_ConstraintListener;this.zip_conlisteners=!0;this.constraints=
new c.util.ZNPList_ZPP_Constraint;this.interactors=new c.util.ZNPList_ZPP_Interactor;this.id=c.ZPP_ID.CbSet();this.cbpairs=new c.util.ZNPList_ZPP_CbSetPair};n["zpp_nape.callbacks.ZPP_CbSet"]=c.callbacks.ZPP_CbSet;c.callbacks.ZPP_CbSet.__name__=["zpp_nape","callbacks","ZPP_CbSet"];c.callbacks.ZPP_CbSet.setlt=function(a,b){for(var d=a.cbTypes.head,c=b.cbTypes.head;null!=d&&null!=c;){var e=d.elt,f=c.elt;if(e.id<f.id)return!0;if(f.id<e.id)return!1;d=d.next;c=c.next}return null!=c&&null==d};c.callbacks.ZPP_CbSet.get=
function(a){var b;null==c.callbacks.ZPP_CbSet.zpp_pool?b=new c.callbacks.ZPP_CbSet:(b=c.callbacks.ZPP_CbSet.zpp_pool,c.callbacks.ZPP_CbSet.zpp_pool=b.next,b.next=null);null;var d=null;for(a=a.head;null!=a;){var h=a.elt,d=b.cbTypes.insert(d,h);h.cbsets.add(b);a=a.next}return b};c.callbacks.ZPP_CbSet.compatible=function(a,b,d){return a.options1.compatible(b.cbTypes)&&a.options2.compatible(d.cbTypes)||a.options2.compatible(b.cbTypes)&&a.options1.compatible(d.cbTypes)};c.callbacks.ZPP_CbSet.empty_intersection=
function(a,b){return a.manager.pair(a,b).empty_intersection()};c.callbacks.ZPP_CbSet.single_intersection=function(a,b,d){return a.manager.pair(a,b).single_intersection(d)};c.callbacks.ZPP_CbSet.find_all=function(a,b,d,c){a.manager.pair(a,b).forall(d,c)};c.callbacks.ZPP_CbSet.prototype={increment:function(){this.count++},decrement:function(){return 0==--this.count},invalidate_pairs:function(){for(var a=this.cbpairs.head;null!=a;)a.elt.zip_listeners=!0,a=a.next},invalidate_listeners:function(){this.zip_listeners=
!0;this.invalidate_pairs()},validate_listeners:function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners())},realvalidate_listeners:function(){this.listeners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,d=this.listeners.head,h=a.elt.listeners.head;null!=h;){var e=h.elt;null!=d&&d.elt==e?(h=h.next,b=d,d=d.next):null==d||c.callbacks.ZPP_Listener.setlt(e,d.elt)?(e.space==this.manager.space&&(b=this.listeners.inlined_insert(b,e)),h=h.next):(b=d,d=d.next)}a=a.next}},
invalidate_bodylisteners:function(){this.zip_bodylisteners=!0},validate_bodylisteners:function(){this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners())},realvalidate_bodylisteners:function(){this.bodylisteners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,d=this.bodylisteners.head,h=a.elt.bodylisteners.head;null!=h;){var e=h.elt;null!=d&&d.elt==e?(h=h.next,b=d,d=d.next):null==d||c.callbacks.ZPP_Listener.setlt(e,d.elt)?(e.options.excluded(this.cbTypes)||
e.space!=this.manager.space||(b=this.bodylisteners.inlined_insert(b,e)),h=h.next):(b=d,d=d.next)}a=a.next}},invalidate_conlisteners:function(){this.zip_conlisteners=!0},validate_conlisteners:function(){this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},realvalidate_conlisteners:function(){this.conlisteners.clear();for(var a=this.cbTypes.head;null!=a;){for(var b=null,d=this.conlisteners.head,h=a.elt.conlisteners.head;null!=h;){var e=h.elt;null!=d&&d.elt==e?(h=h.next,
b=d,d=d.next):null==d||c.callbacks.ZPP_Listener.setlt(e,d.elt)?(e.options.excluded(this.cbTypes)||e.space!=this.manager.space||(b=this.conlisteners.inlined_insert(b,e)),h=h.next):(b=d,d=d.next)}a=a.next}},validate:function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners());this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners());this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},addConstraint:function(a){this.constraints.add(a)},
addInteractor:function(a){this.interactors.add(a)},remConstraint:function(a){this.constraints.remove(a)},remInteractor:function(a){this.interactors.remove(a)},free:function(){this.listeners.clear();this.zip_listeners=!0;this.bodylisteners.clear();this.zip_bodylisteners=!0;this.conlisteners.clear();for(this.zip_conlisteners=!0;null!=this.cbTypes.head;)this.cbTypes.pop_unsafe().cbsets.remove(this)},alloc:function(){},__class__:c.callbacks.ZPP_CbSet};c.callbacks.ZPP_CbSetPair=function(){this.listeners=
null;this.zip_listeners=!1;this.a=this.b=this.next=null;this.listeners=new c.util.ZNPList_ZPP_InteractionListener};n["zpp_nape.callbacks.ZPP_CbSetPair"]=c.callbacks.ZPP_CbSetPair;c.callbacks.ZPP_CbSetPair.__name__=["zpp_nape","callbacks","ZPP_CbSetPair"];c.callbacks.ZPP_CbSetPair.get=function(a,b){var d;null==c.callbacks.ZPP_CbSetPair.zpp_pool?d=new c.callbacks.ZPP_CbSetPair:(d=c.callbacks.ZPP_CbSetPair.zpp_pool,c.callbacks.ZPP_CbSetPair.zpp_pool=d.next,d.next=null);d.zip_listeners=!0;c.callbacks.ZPP_CbSet.setlt(a,
b)?(d.a=a,d.b=b):(d.a=b,d.b=a);return d};c.callbacks.ZPP_CbSetPair.setlt=function(a,b){return c.callbacks.ZPP_CbSet.setlt(a.a,b.a)||a.a==b.a&&c.callbacks.ZPP_CbSet.setlt(a.b,b.b)};c.callbacks.ZPP_CbSetPair.prototype={free:function(){this.a=this.b=null;this.listeners.clear()},alloc:function(){this.zip_listeners=!0},compatible:function(a){return a.options1.compatible(this.a.cbTypes)&&a.options2.compatible(this.b.cbTypes)||a.options2.compatible(this.a.cbTypes)&&a.options1.compatible(this.b.cbTypes)},
invalidate:function(){this.zip_listeners=!0},validate:function(){this.zip_listeners&&(this.zip_listeners=!1,this.__validate())},__validate:function(){this.listeners.clear();for(var a=this.a.listeners.head,b=this.b.listeners.head;null!=a&&null!=b;){var d=a.elt,c=b.elt;d==c?((d.options1.compatible(this.a.cbTypes)&&d.options2.compatible(this.b.cbTypes)||d.options2.compatible(this.a.cbTypes)&&d.options1.compatible(this.b.cbTypes))&&this.listeners.add(d),a=a.next,b=b.next):d.precedence>c.precedence||d.precedence==
c.precedence&&d.id>c.id?a=a.next:b=b.next}},empty_intersection:function(){return null==this.listeners.head},single_intersection:function(a){var b=this.listeners.head;return null!=b&&b.elt==a&&null==b.next},forall:function(a,b){for(var d=this.listeners.head;null!=d;){var c=d.elt;c.event==a&&b(c);d=d.next}},__class__:c.callbacks.ZPP_CbSetPair};c.util.ZPP_Flags=function(){};n["zpp_nape.util.ZPP_Flags"]=c.util.ZPP_Flags;c.util.ZPP_Flags.__name__=["zpp_nape","util","ZPP_Flags"];c.callbacks.ZPP_Listener=
function(){this.body=this.constraint=this.interaction=this.space=null;this.id=this.type=this.event=this.precedence=0;this.outer=null;this.id=c.ZPP_ID.Listener()};n["zpp_nape.callbacks.ZPP_Listener"]=c.callbacks.ZPP_Listener;c.callbacks.ZPP_Listener.__name__=["zpp_nape","callbacks","ZPP_Listener"];c.callbacks.ZPP_Listener.setlt=function(a,b){return a.precedence>b.precedence||a.precedence==b.precedence&&a.id>b.id};c.callbacks.ZPP_Listener.prototype={swapEvent:function(a){},invalidate_precedence:function(){},
addedToSpace:function(){},removedFromSpace:function(){},__class__:c.callbacks.ZPP_Listener};c.callbacks.ZPP_BodyListener=function(a,b,d){this.outer_zn=this.options=this.handler=null;c.callbacks.ZPP_Listener.call(this);this.event=b;this.handler=d;this.body=this;this.type=c.util.ZPP_Flags.id_ListenerType_BODY;this.options=a.zpp_inner};n["zpp_nape.callbacks.ZPP_BodyListener"]=c.callbacks.ZPP_BodyListener;c.callbacks.ZPP_BodyListener.__name__=["zpp_nape","callbacks","ZPP_BodyListener"];c.callbacks.ZPP_BodyListener.__super__=
c.callbacks.ZPP_Listener;c.callbacks.ZPP_BodyListener.prototype=K(c.callbacks.ZPP_Listener.prototype,{immutable_options:function(){if(null!=this.space&&this.space.midstep)throw"Error: Cannot change listener type options during space.step()";},addedToSpace:function(){this.options.handler=B(this,this.cbtype_change);for(var a=this.options.includes.head;null!=a;)a.elt.addbody(this),a=a.next},removedFromSpace:function(){for(var a=this.options.includes.head;null!=a;){var b=a.elt;b.bodylisteners.remove(this);
b.invalidatebody();a=a.next}this.options.handler=null},cbtype_change:function(a,b,d){this.removedFromSpace();this.options.effect_change(a,b,d);this.addedToSpace()},invalidate_precedence:function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},swapEvent:function(a){if(a!=c.util.ZPP_Flags.id_CbEvent_WAKE&&a!=c.util.ZPP_Flags.id_CbEvent_SLEEP)throw"Error: BodyListener event must be either WAKE or SLEEP only";this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:c.callbacks.ZPP_BodyListener});
c.callbacks.ZPP_ConstraintListener=function(a,b,d){this.outer_zn=this.options=this.handler=null;c.callbacks.ZPP_Listener.call(this);this.event=b;this.handler=d;this.constraint=this;this.type=c.util.ZPP_Flags.id_ListenerType_CONSTRAINT;this.options=a.zpp_inner};n["zpp_nape.callbacks.ZPP_ConstraintListener"]=c.callbacks.ZPP_ConstraintListener;c.callbacks.ZPP_ConstraintListener.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"];c.callbacks.ZPP_ConstraintListener.__super__=c.callbacks.ZPP_Listener;
c.callbacks.ZPP_ConstraintListener.prototype=K(c.callbacks.ZPP_Listener.prototype,{immutable_options:function(){if(null!=this.space&&this.space.midstep)throw"Error: Cannot change listener type options during space.step()";},addedToSpace:function(){this.options.handler=B(this,this.cbtype_change);for(var a=this.options.includes.head;null!=a;)a.elt.addconstraint(this),a=a.next},removedFromSpace:function(){for(var a=this.options.includes.head;null!=a;){var b=a.elt;b.conlisteners.remove(this);b.invalidateconstraint();
a=a.next}this.options.handler=null},cbtype_change:function(a,b,d){this.removedFromSpace();this.options.effect_change(a,b,d);this.addedToSpace()},invalidate_precedence:function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},swapEvent:function(a){if(a!=c.util.ZPP_Flags.id_CbEvent_WAKE&&a!=c.util.ZPP_Flags.id_CbEvent_SLEEP&&a!=c.util.ZPP_Flags.id_CbEvent_BREAK)throw"Error: ConstraintListener event must be either WAKE or SLEEP only";this.removedFromSpace();this.event=a;this.addedToSpace()},
__class__:c.callbacks.ZPP_ConstraintListener});c.util.ZNPList_ZPP_CbType=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_CbType"]=c.util.ZNPList_ZPP_CbType;c.util.ZNPList_ZPP_CbType.__name__=["zpp_nape","util","ZNPList_ZPP_CbType"];c.util.ZNPList_ZPP_CbType.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CbType.zpp_pool?
b=new c.util.ZNPNode_ZPP_CbType:(b=c.util.ZNPNode_ZPP_CbType.zpp_pool,c.util.ZNPNode_ZPP_CbType.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CbType.zpp_pool?d=new c.util.ZNPNode_ZPP_CbType:(d=c.util.ZNPNode_ZPP_CbType.zpp_pool,c.util.ZNPNode_ZPP_CbType.zpp_pool=
d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbType.zpp_pool;c.util.ZNPNode_ZPP_CbType.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;
this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=
d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbType.zpp_pool;c.util.ZNPNode_ZPP_CbType.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CbType};c.callbacks.ZPP_InteractionListener=function(a,b,d,h){this.handlerp=null;this.allowSleepingCallbacks=this.pure=!1;this.options1=this.options2=this.handleri=null;this.itype=0;this.outer_zni=this.outer_znp=null;c.callbacks.ZPP_Listener.call(this);this.type=h;this.interaction=this;this.event=d;this.options1=a.zpp_inner;this.options2=b.zpp_inner;this.allowSleepingCallbacks=!1};n["zpp_nape.callbacks.ZPP_InteractionListener"]=
c.callbacks.ZPP_InteractionListener;c.callbacks.ZPP_InteractionListener.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"];c.callbacks.ZPP_InteractionListener.__super__=c.callbacks.ZPP_Listener;c.callbacks.ZPP_InteractionListener.prototype=K(c.callbacks.ZPP_Listener.prototype,{setInteractionType:function(a){this.itype=a},wake:function(){this.with_union(function(a){for(a=a.interactors.head;null!=a;)a.elt.wake(),a=a.next})},CbSetset:function(a,b,d){var h=c.callbacks.ZPP_InteractionListener.UCbSet,
e=c.callbacks.ZPP_InteractionListener.VCbSet,f=c.callbacks.ZPP_InteractionListener.WCbSet;a=a.head;for(var m=b.head;null!=a&&null!=m;){var g=a.elt,k=m.elt;g==k?(f.inlined_add(g),a=a.next,m=m.next):c.callbacks.ZPP_CbSet.setlt(g,k)?(h.inlined_add(g),a=a.next):(e.inlined_add(k),m=m.next)}for(;null!=a;)h.inlined_add(a.elt),a=a.next;for(;null!=m;)e.inlined_add(m.elt),m=m.next;for(;null!=h.head;)for(a=h.pop_unsafe(),m=b.head;null!=m;)d(a,m.elt),m=m.next;for(;null!=e.head;)for(b=e.pop_unsafe(),h=f.head;null!=
h;)d(b,h.elt),h=h.next;for(;null!=f.head;)for(e=f.pop_unsafe(),d(e,e),b=f.head;null!=b;)d(e,b.elt),b=b.next},CbTypeset:function(a,b,d){var h=c.callbacks.ZPP_InteractionListener.UCbType,e=c.callbacks.ZPP_InteractionListener.VCbType,f=c.callbacks.ZPP_InteractionListener.WCbType;a=a.head;for(var m=b.head;null!=a&&null!=m;){var g=a.elt,k=m.elt;g==k?(f.inlined_add(g),a=a.next,m=m.next):g.id<k.id?(h.inlined_add(g),a=a.next):(e.inlined_add(k),m=m.next)}for(;null!=a;)h.inlined_add(a.elt),a=a.next;for(;null!=
m;)e.inlined_add(m.elt),m=m.next;for(;null!=h.head;)for(a=h.pop_unsafe(),m=b.head;null!=m;)d(a,m.elt),m=m.next;for(;null!=e.head;)for(b=e.pop_unsafe(),h=f.head;null!=h;)d(b,h.elt),h=h.next;for(;null!=f.head;)for(e=f.pop_unsafe(),d(e,e),b=f.head;null!=b;)d(e,b.elt),b=b.next},with_uniquesets:function(a){var b=this,d;null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?d=new c.util.ZPP_Set_ZPP_CbSetPair:(d=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=d.next,d.next=null);null;d.lt=
c.callbacks.ZPP_CbSetPair.setlt;this.CbTypeset(this.options1.includes,this.options2.includes,function(a,h){b.CbSetset(a.cbsets,h.cbsets,function(a,e){a.validate();e.validate();c.callbacks.ZPP_CbSet.single_intersection(a,e,b)&&d.try_insert(c.callbacks.ZPP_CbSetPair.get(a,e))})});d.clear_with(function(d){a?b.space.freshListenerType(d.a,d.b):b.space.nullListenerType(d.a,d.b);d.a=d.b=null;d.listeners.clear();d.next=c.callbacks.ZPP_CbSetPair.zpp_pool;c.callbacks.ZPP_CbSetPair.zpp_pool=d});var h=d;h.data=
null;h.lt=null;h.swapped=null;h.next=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=h},with_union:function(a){for(var b=this.options1.includes.head,d=this.options2.includes.head;null!=b&&null!=d;){var c=b.elt,e=d.elt;c==e?(a(c),b=b.next,d=d.next):c.id<e.id?(a(c),b=b.next):(a(e),d=d.next)}for(;null!=b;)a(b.elt),b=b.next;for(;null!=d;)a(d.elt),d=d.next},addedToSpace:function(){var a=this,b=this.type==c.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(d){d.addint(a);
if(b)for(d=d.interactors.head;null!=d;)d.elt.wake(),d=d.next});this.options1.handler=B(this,this.cbtype_change1);this.options2.handler=B(this,this.cbtype_change2);this.with_uniquesets(!0)},removedFromSpace:function(){var a=this;this.with_uniquesets(!1);var b=this.type==c.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(d){d.listeners.remove(a);d.invalidateint();if(b)for(d=d.interactors.head;null!=d;)d.elt.wake(),d=d.next});this.options1.handler=null;this.options2.handler=null},invalidate_precedence:function(){var a=
this;if(null!=this.space){var b=this.type==c.util.ZPP_Flags.id_ListenerType_PRE;this.with_union(function(d){d.listeners.remove(a);d.invalidateint();d.addint(a);if(b)for(d=d.interactors.head;null!=d;)d.elt.wake(),d=d.next})}},cbtype_change1:function(a,b,d){this.cbtype_change(this.options1,a,b,d)},cbtype_change2:function(a,b,d){this.cbtype_change(this.options2,a,b,d)},cbtype_change:function(a,b,d,c){this.removedFromSpace();a.effect_change(b,d,c);this.addedToSpace();null},swapEvent:function(a){if(this.type==
c.util.ZPP_Flags.id_ListenerType_PRE)throw"Error: PreListener event can only be PRE";if(a!=c.util.ZPP_Flags.id_CbEvent_BEGIN&&a!=c.util.ZPP_Flags.id_CbEvent_END&&a!=c.util.ZPP_Flags.id_CbEvent_ONGOING)throw"Error: InteractionListener event must be either BEGIN, END, ONGOING";this.removedFromSpace();this.event=a;this.addedToSpace()},__class__:c.callbacks.ZPP_InteractionListener});c.callbacks.ZPP_OptionType=function(){this.outer=this.handler=this.includes=this.excludes=this.wrap_includes=this.wrap_excludes=
null;this.includes=new c.util.ZNPList_ZPP_CbType;this.excludes=new c.util.ZNPList_ZPP_CbType};n["zpp_nape.callbacks.ZPP_OptionType"]=c.callbacks.ZPP_OptionType;c.callbacks.ZPP_OptionType.__name__=["zpp_nape","callbacks","ZPP_OptionType"];c.callbacks.ZPP_OptionType.argument=function(a){return null==a?new g.callbacks.OptionType:I.Boot.__instanceof(a,g.callbacks.OptionType)?a:(new g.callbacks.OptionType).including(a)};c.callbacks.ZPP_OptionType.prototype={setup_includes:function(){this.wrap_includes=
c.util.ZPP_CbTypeList.get(this.includes,!0)},setup_excludes:function(){this.wrap_excludes=c.util.ZPP_CbTypeList.get(this.excludes,!0)},excluded:function(a){return this.nonemptyintersection(a,this.excludes)},included:function(a){return this.nonemptyintersection(a,this.includes)},compatible:function(a){return this.nonemptyintersection(a,this.includes)&&!this.nonemptyintersection(a,this.excludes)},nonemptyintersection:function(a,b){for(var d=!1,c=a.head,e=b.head;null!=e&&null!=c;){var f=e.elt,m=c.elt;
if(f==m){d=!0;break}else f.id<m.id?e=e.next:c=c.next}return d},effect_change:function(a,b,d){if(b)if(d){b=null;for(d=this.includes.head;null!=d&&!(a.id<d.elt.id);)b=d,d=d.next;this.includes.inlined_insert(b,a)}else this.includes.remove(a);else if(d){b=null;for(d=this.excludes.head;null!=d&&!(a.id<d.elt.id);)b=d,d=d.next;this.excludes.inlined_insert(b,a)}else this.excludes.remove(a)},append_type:function(a,b){a==this.includes?this.includes.has(b)||(this.excludes.has(b)?null!=this.handler?this.handler(b,
!1,!1):this.effect_change(b,!1,!1):null!=this.handler?this.handler(b,!0,!0):this.effect_change(b,!0,!0)):this.excludes.has(b)||(this.includes.has(b)?null!=this.handler?this.handler(b,!0,!1):this.effect_change(b,!0,!1):null!=this.handler?this.handler(b,!1,!0):this.effect_change(b,!1,!0))},set:function(a){if(a!=this){for(;null!=this.includes.head;)this.append_type(this.excludes,this.includes.head.elt);for(;null!=this.excludes.head;)this.append_type(this.includes,this.excludes.head.elt);for(var b=a.excludes.head;null!=
b;)this.append_type(this.excludes,b.elt),b=b.next;for(a=a.includes.head;null!=a;)this.append_type(this.includes,a.elt),a=a.next}return this},append:function(a,b){if(null==b)throw"Error: Cannot append null, only CbType and CbType list values";if(I.Boot.__instanceof(b,g.callbacks.CbType))this.append_type(a,b.zpp_inner);else if(I.Boot.__instanceof(b,g.callbacks.CbTypeList)){var d;b.zpp_inner.valmod();for(d=g.callbacks.CbTypeIterator.get(b);d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);
this.append_type(a,c.zpp_inner)}}else if(b instanceof Array&&null==b.__enum__)for(d=0;d<b.length;){c=b[d];++d;if(!I.Boot.__instanceof(c,g.callbacks.CbType))throw"Error: Cannot append non-CbType or CbType list value";this.append_type(a,c.zpp_inner)}else throw"Error: Cannot append non-CbType or CbType list value";},__class__:c.callbacks.ZPP_OptionType};c.constraint={};c.constraint.ZPP_Constraint=function(){this.pre_dt=0;this.cbTypes=this.cbSet=this.wrap_cbTypes=null;this.ignore=this.__velocity=!1;this.component=
null;this.breakUnderForce=this.breakUnderError=this.removeOnBreak=!1;this.frequency=this.damping=this.maxForce=this.maxError=0;this.active=this.stiff=!1;this.userData=this.compound=this.space=null;this.id=0;this.outer=null;this.__velocity=!1;this.id=c.ZPP_ID.Constraint();this.active=this.stiff=!0;this.ignore=!1;this.frequency=10;this.damping=1;this.maxError=this.maxForce=Math.POSITIVE_INFINITY;this.breakUnderForce=!1;this.removeOnBreak=!0;this.pre_dt=-1;this.cbTypes=new c.util.ZNPList_ZPP_CbType};
n["zpp_nape.constraint.ZPP_Constraint"]=c.constraint.ZPP_Constraint;c.constraint.ZPP_Constraint.__name__=["zpp_nape","constraint","ZPP_Constraint"];c.constraint.ZPP_Constraint.prototype={clear:function(){},immutable_midstep:function(a){if(null!=this.space&&this.space.midstep)throw"Error: Constraint::"+a+" cannot be set during space step()";},setupcbTypes:function(){this.wrap_cbTypes=c.util.ZPP_CbTypeList.get(this.cbTypes);this.wrap_cbTypes.zpp_inner.adder=B(this,this.wrap_cbTypes_adder);this.wrap_cbTypes.zpp_inner.subber=
B(this,this.wrap_cbTypes_subber);this.wrap_cbTypes.zpp_inner.dontremove=!0;this.wrap_cbTypes.zpp_inner._modifiable=B(this,this.immutable_cbTypes)},immutable_cbTypes:function(){this.immutable_midstep("Constraint::cbTypes")},wrap_cbTypes_subber:function(a){a=a.zpp_inner;this.cbTypes.has(a)&&(null!=this.space&&(this.dealloc_cbSet(),a.constraints.remove(this)),this.cbTypes.remove(a),null!=this.space&&(this.alloc_cbSet(),this.wake()))},wrap_cbTypes_adder:function(a){this.insert_cbtype(a.zpp_inner);return!1},
insert_cbtype:function(a){if(!this.cbTypes.has(a)){null!=this.space&&(this.dealloc_cbSet(),a.constraints.add(this));for(var b=null,d=this.cbTypes.head;null!=d&&!(a.id<d.elt.id);)b=d,d=d.next;this.cbTypes.inlined_insert(b,a);null!=this.space&&(this.alloc_cbSet(),this.wake())}},alloc_cbSet:function(){null!=(this.cbSet=this.space.cbsets.get(this.cbTypes))&&(this.cbSet.count++,this.cbSet.constraints.add(this))},dealloc_cbSet:function(){if(null!=this.cbSet){this.cbSet.constraints.remove(this);if(0==--this.cbSet.count){this.space.cbsets.remove(this.cbSet);
var a=this.cbSet;a.free();a.next=c.callbacks.ZPP_CbSet.zpp_pool;c.callbacks.ZPP_CbSet.zpp_pool=a}this.cbSet=null}},activate:function(){null!=this.space&&this.activeInSpace()},deactivate:function(){null!=this.space&&this.inactiveOrOutSpace()},addedToSpace:function(){this.active&&this.activeInSpace();this.activeBodies();for(var a=this.cbTypes.head;null!=a;)a.elt.constraints.add(this),a=a.next},removedFromSpace:function(){this.active&&this.inactiveOrOutSpace();this.inactiveBodies();for(var a=this.cbTypes.head;null!=
a;)a.elt.constraints.remove(this),a=a.next},activeInSpace:function(){this.alloc_cbSet();null==c.space.ZPP_Component.zpp_pool?this.component=new c.space.ZPP_Component:(this.component=c.space.ZPP_Component.zpp_pool,c.space.ZPP_Component.zpp_pool=this.component.next,this.component.next=null);null;this.component.isBody=!1;this.component.constraint=this},inactiveOrOutSpace:function(){this.dealloc_cbSet();var a=this.component;a.body=null;a.constraint=null;null;a.next=c.space.ZPP_Component.zpp_pool;c.space.ZPP_Component.zpp_pool=
a;this.component=null},activeBodies:function(){},inactiveBodies:function(){},clearcache:function(){},validate:function(){},wake_connected:function(){},forest:function(){},pair_exists:function(a,b){return!1},broken:function(){},warmStart:function(){},preStep:function(a){return!1},applyImpulseVel:function(){return!1},applyImpulsePos:function(){return!1},wake:function(){null!=this.space&&this.space.wake_constraint(this)},draw:function(a){},copy:function(a,b){return null},copyto:function(a){var b=this.outer;
null==b.zpp_inner.wrap_cbTypes&&b.zpp_inner.setupcbTypes();for(var d=b.zpp_inner.wrap_cbTypes.iterator();d.hasNext();){var c;d.zpp_critical=!1;c=d.zpp_inner.at(d.zpp_i++);null==a.zpp_inner.wrap_cbTypes&&a.zpp_inner.setupcbTypes();a.zpp_inner.wrap_cbTypes.add(c)}a.zpp_inner.removeOnBreak=b.zpp_inner.removeOnBreak;a.zpp_inner.removeOnBreak;a.set_breakUnderError(b.zpp_inner.breakUnderError);a.set_breakUnderForce(b.zpp_inner.breakUnderForce);a.set_maxError(b.zpp_inner.maxError);a.set_maxForce(b.zpp_inner.maxForce);
a.set_damping(b.zpp_inner.damping);a.set_frequency(b.zpp_inner.frequency);a.set_stiff(b.zpp_inner.stiff);a.set_ignore(b.zpp_inner.ignore);a.set_active(b.zpp_inner.active)},__class__:c.constraint.ZPP_Constraint};c.constraint.ZPP_AngleJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.b1=this.b2=null;this.scale=0;this.slack=this.equal=!1;this.ratio=this.jointMin=this.jointMax=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.ratio=1;this.jAcc=
0;this.slack=!1;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1};n["zpp_nape.constraint.ZPP_AngleJoint"]=c.constraint.ZPP_AngleJoint;c.constraint.ZPP_AngleJoint.__name__=["zpp_nape","constraint","ZPP_AngleJoint"];c.constraint.ZPP_AngleJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_AngleJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{is_slack:function(){var a,b=this.ratio*this.b2.rot-this.b1.rot;this.equal?(b-=this.jointMax,a=!1,this.scale=1):b<this.jointMin?(b=this.jointMin-
b,this.scale=-1,a=!1):b>this.jointMax?(b-=this.jointMax,this.scale=1,a=!1):(b=this.scale=0,a=!0);b;return a},bodyImpulse:function(a){return this.stepped?a==this.b1?g.geom.Vec3.get(0,0,-this.scale*this.jAcc):g.geom.Vec3.get(0,0,this.ratio*this.scale*this.jAcc):g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&
null!=this.b2&&this.b2.constraints.remove(this)},copy:function(a,b){var d=new g.constraint.AngleJoint(null,null,this.jointMin,this.jointMax,this.ratio);this.copyto(d);if(null!=a&&null!=this.b1){for(var h=null,e=0;e<a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;
break}null!=h?d.zpp_inner_zn.b2=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: AngleJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";
if(this.jointMin>this.jointMax)throw"Error: AngleJoint must have jointMin <= jointMax";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;
if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==
this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==
a},clearcache:function(){this.jAcc=0;this.pre_dt=-1;this.slack=!1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;var d;d=this.ratio*this.b2.rot-this.b1.rot;this.equal?(d-=this.jointMax,this.slack=!1,this.scale=1):d<this.jointMin?(d=this.jointMin-d,this.scale=-1,this.slack=!1):d>this.jointMax?(d-=this.jointMax,this.scale=1,this.slack=!1):(d=this.scale=0,this.slack=!0);if(!this.slack){this.kMass=this.b1.sinertia+
this.ratio*this.ratio*this.b2.sinertia;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=this.bias=0;else{if(this.breakUnderError&&d*d>this.maxError*this.maxError)return!0;var c;c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));var e=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=e;this.kMass*=e;this.bias=-d*c;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},
warmStart:function(){this.slack||(this.b1.angvel-=this.scale*this.b1.iinertia*this.jAcc,this.b2.angvel+=this.ratio*this.scale*this.b2.iinertia*this.jAcc)},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-this.scale*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&(this.jAcc>this.jMax||this.jAcc<-this.jMax))return!0;this.stiff||
(this.jAcc>this.jMax?this.jAcc=this.jMax:this.jAcc<-this.jMax&&(this.jAcc=-this.jMax));a=this.jAcc-b;this.b1.angvel-=this.scale*this.b1.iinertia*a;this.b2.angvel+=this.ratio*this.scale*this.b2.iinertia*a;return!1},applyImpulsePos:function(){var a,b;a=this.ratio*this.b2.rot-this.b1.rot;this.equal?(a-=this.jointMax,b=!1,this.scale=1):a<this.jointMin?(a=this.jointMin-a,this.scale=-1,b=!1):a>this.jointMax?(a-=this.jointMax,this.scale=1,b=!1):(a=this.scale=0,b=!0);if(!b){if(this.breakUnderError&&a*a>this.maxError*
this.maxError)return!0;b=-(0.5*a)*this.kMass;if(this.equal||0>b)this.b1.delta_rot(-this.scale*b*this.b1.iinertia),this.b2.delta_rot(this.ratio*this.scale*b*this.b2.iinertia)}return!1},draw:function(a){var b=this.outer_zn,d=5/Math.PI/2;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer)!=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_space().get_world()){var h=b.zpp_inner_zn.ratio*(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-this.jointMin,e=b.zpp_inner_zn.ratio*
(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-this.jointMax;if(h>e)var f=h,h=e,e=f;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot>h){var f=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,m=e,f=f<m?f:m;c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),h,f,10+(h-h)*d,10+(f-h)*d,16776960)}else!this.stiff&&(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot<
h&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,h,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-h)*d,10+(h-h)*d,16776960);(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot<e?(f=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,m=h,f=f>m?f:m,c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b1?
null:b.zpp_inner_zn.b1.outer).get_position(),f,e,10+(f-h)*d,10+(e-h)*d,65535)):!this.stiff&&(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot>e&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,e,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-h)*d,10+(e-h)*d,65535);c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b1?
null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-h)*d,255)}(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer)!=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_space().get_world()&&(h=(this.jointMin+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot)/b.zpp_inner_zn.ratio,e=(this.jointMax+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot)/
b.zpp_inner_zn.ratio,h>e&&(f=h,h=e,e=f),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot>h?(f=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,m=e,f=f<m?f:m,c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),h,f,10+(h-h)*d,10+(f-h)*d,16776960)):!this.stiff&&(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot<h&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:
b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,h,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-h)*d,10+(h-h)*d,16776960),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot<e?(f=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,m=h,f=f>m?f:m,c.constraint.ZPP_AngleDraw.drawSpiral(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),f,e,10+(f-h)*d,10+(e-h)*
d,65535)):!this.stiff&&(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot>e&&c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,e,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-h)*d,10+(e-h)*d,65535),c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?
null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-h)*d,16711680))},__class__:c.constraint.ZPP_AngleJoint});c.constraint.ZPP_AngleDraw=function(){};n["zpp_nape.constraint.ZPP_AngleDraw"]=c.constraint.ZPP_AngleDraw;c.constraint.ZPP_AngleDraw.__name__=["zpp_nape","constraint","ZPP_AngleDraw"];c.constraint.ZPP_AngleDraw.indicator=function(a,b,d,c,e){d=g.geom.Vec2.get(Math.cos(d),Math.sin(d),null);a.drawFilledCircle(b.add(d.mul(c,!0),!0),
2,e);d.dispose()};c.constraint.ZPP_AngleDraw.drawSpiralSpring=function(a,b,d,h,e,f,m,u){null==u&&(u=4);if(d>h){var k=d;d=h;h=k;k=e;e=f;f=k}if(d!=h){f-=e;h-=d;var k=2*Math.PI*f/h,k=0>k?-k:k,l;l=Math.ceil(h/c.constraint.ZPP_AngleDraw.maxarc*3);var p=4*u;l=l>p?l:p;var p=h/l,v=1/l,n=Math.cos(d),q=Math.sin(d),s;s=e+0*f+0.75*k*Math.sin(2*u*Math.PI*0);var r=g.geom.Vec2.get(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+
s*n,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+s*q,null),w=f+1.5*u*k*Math.PI*Math.cos(2*u*Math.PI*0),x=w*n-s*h*q,n=w*q+s*h*n;s=g.geom.Vec2.get(null,null,null);for(var w=g.geom.Vec2.get(null,null,null),y=0;y<l;){var z=y++;d+=p;var A=Math.cos(d),q=Math.sin(d),t;t=e+f*(z+1)*v+0.75*k*Math.sin(2*u*Math.PI*(z+1)*v);s.setxy(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this)+t*A,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+t*q);var B=f+1.5*u*k*Math.PI*Math.cos(2*u*Math.PI*(z+1)*v),z=B*A-t*h*q;t=B*q+t*h*A;B=x*t-n*z;if(B*B<g.Config.epsilon||0>=x*z+n*t||0.999<x*z+n*t)a.drawLine(r,s,m);else{if(null!=s&&s.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";s.zpp_inner.validate();q=s.zpp_inner.x;if(null!=r&&r.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
r.zpp_inner.validate();var q=(q-r.zpp_inner.x)*t,E;if(null!=r&&r.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";r.zpp_inner.validate();E=r.zpp_inner.y;if(null!=s&&s.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";s.zpp_inner.validate();B=(q+(E-s.zpp_inner.y)*z)/B;0>=B?a.drawLine(r,s,m):(w.set_x(function(a){if(null!=r&&r.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";r.zpp_inner.validate();return r.zpp_inner.x}(this)+x*B),w.set_y(function(a){if(null!=
r&&r.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";r.zpp_inner.validate();return r.zpp_inner.y}(this)+n*B),a.drawCurve(r,w,s,m))}n=A;x=z;n=t;r.set(s)}r.dispose();s.dispose();w.dispose()}};c.constraint.ZPP_AngleDraw.drawSpiral=function(a,b,d,h,e,f,m){if(d>h){var u=d;d=h;h=u;u=e;e=f;f=u}if(d!=h){f-=e;h-=d;for(var u=Math.ceil(h/c.constraint.ZPP_AngleDraw.maxarc),k=f/u,l=h/u,p=Math.cos(d),v=Math.sin(d),n=g.geom.Vec2.get(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.x}(this)+e*p,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+e*v,null),q=f*p-e*h*v,p=f*v+e*h*p,s=g.geom.Vec2.get(null,null,null),r=g.geom.Vec2.get(null,null,null),w=0;w<u;){w++;e+=k;d+=l;var z=Math.cos(d),v=Math.sin(d);s.setxy(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+
e*z,function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)+e*v);var y=f*z-e*h*v,v=f*v+e*h*z,x=q*v-p*y;if(x*x<g.Config.epsilon)a.drawLine(n,s,m);else{if(null!=s&&s.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";s.zpp_inner.validate();var A=s.zpp_inner.x;if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();A=(A-n.zpp_inner.x)*v;if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
n.zpp_inner.validate();var t=n.zpp_inner.y;if(null!=s&&s.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";s.zpp_inner.validate();x=(A+(t-s.zpp_inner.y)*y)/x;0>=x?a.drawLine(n,s,m):(r.set_x(function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.x}(this)+q*x),r.set_y(function(a){if(null!=n&&n.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";n.zpp_inner.validate();return n.zpp_inner.y}(this)+
p*x),a.drawCurve(n,r,s,m))}p=z;q=y;p=v;n.set(s)}n.dispose();s.dispose();r.dispose()}};c.constraint.ZPP_CopyHelper=function(){this.bc=this.cb=null;this.id=0};n["zpp_nape.constraint.ZPP_CopyHelper"]=c.constraint.ZPP_CopyHelper;c.constraint.ZPP_CopyHelper.__name__=["zpp_nape","constraint","ZPP_CopyHelper"];c.constraint.ZPP_CopyHelper.dict=function(a,b){var d=new c.constraint.ZPP_CopyHelper;d.id=a;d.bc=b;return d};c.constraint.ZPP_CopyHelper.todo=function(a,b){var d=new c.constraint.ZPP_CopyHelper;d.id=
a;d.cb=b;return d};c.constraint.ZPP_CopyHelper.prototype={__class__:c.constraint.ZPP_CopyHelper};c.constraint.ZPP_DistanceJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.b1=null;this.nx=this.ny=this.cx1=this.cx2=0;this.slack=this.equal=!1;this.jointMin=this.jointMax=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);
this.jAcc=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.cx1=this.cx2=0};n["zpp_nape.constraint.ZPP_DistanceJoint"]=c.constraint.ZPP_DistanceJoint;c.constraint.ZPP_DistanceJoint.__name__=["zpp_nape","constraint","ZPP_DistanceJoint"];c.constraint.ZPP_DistanceJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_DistanceJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{is_slack:function(){var a;
this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var b=0;a=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);b=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);b=a*a+b*b;b<g.Config.epsilon?(b=0,a=!0):(b=Math.sqrt(b),this.equal?(b-=this.jointMax,a=!1):b<this.jointMin?(b=this.jointMin-
b,a=!1):b>this.jointMax?(b-=this.jointMax,a=!1):(b=0,a=!0));b;return a},bodyImpulse:function(a){return this.stepped?a==this.b1?g.geom.Vec3.get(-this.jAcc*this.nx,-this.jAcc*this.ny,-this.cx1*this.jAcc):g.geom.Vec3.get(this.jAcc*this.nx,this.jAcc*this.ny,this.cx2*this.jAcc):g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);
this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=g.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=B(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=B(this,
this.invalidate_a1)},validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=g.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=B(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=B(this,this.invalidate_a2)},copy:function(a,b){var d=
new g.constraint.DistanceJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.jointMin,this.jointMax);this.copyto(d);if(null!=a&&null!=this.b1){for(var h=null,e=0;e<a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b2=
h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: DistanceJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: DistanceJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>
this.jointMax)throw"Error: DistanceJoint must have jointMin <= jointMax";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;
if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==
this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==
a},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d;this.nx=this.b2.posx+this.a2relx-
(this.b1.posx+this.a1relx);this.ny=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);d=this.nx*this.nx+this.ny*this.ny;if(d<g.Config.epsilon)d=this.ny=this.nx=0,this.slack=!0;else{d=Math.sqrt(d);var c=1/d;this.nx*=c;this.ny*=c;this.equal?(d-=this.jointMax,this.slack=!1):d<this.jointMin?(d=this.jointMin-d,this.nx=-this.nx,this.ny=-this.ny,this.slack=!1):d>this.jointMax?(d-=this.jointMax,this.slack=!1):(d=this.ny=this.nx=0,this.slack=!0)}if(!this.slack){this.cx1=this.ny*this.a1relx-this.nx*this.a1rely;
this.cx2=this.ny*this.a2relx-this.nx*this.a2rely;this.kMass=this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=this.bias=0;else{if(this.breakUnderError&&d*d>this.maxError*this.maxError)return!0;var e;e=2*Math.PI*this.frequency;this.gamma=1/(a*e*(2*this.damping+e*a));c=1/(1+this.gamma);e=a*e*e*this.gamma;this.gamma*=c;this.kMass*=c;this.bias=-d*e;this.bias<-this.maxError?this.bias=
-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){if(!this.slack){var a=this.b1.imass*this.jAcc;this.b1.velx-=this.nx*a;this.b1.vely-=this.ny*a;a=this.b2.imass*this.jAcc;this.b2.velx+=this.nx*a;this.b2.vely+=this.ny*a;this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc;this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc}},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-(this.nx*(this.b2.velx+
this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.ny*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&this.jAcc<-this.jMax)return!0;!this.stiff&&this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);a=this.jAcc-b;b=this.b1.imass*a;this.b1.velx-=this.nx*b;this.b1.vely-=this.ny*b;b=this.b2.imass*a;
this.b2.velx+=this.nx*b;this.b2.vely+=this.ny*b;this.b1.angvel-=this.cx1*this.b1.iinertia*a;this.b2.angvel+=this.cx2*this.b2.iinertia*a;return!1},applyImpulsePos:function(){var a,b,d=0,c=0,d=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,c=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,e=0,f=0,e=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,f=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,m=0,u=0,m=this.b2.posx+e-(this.b1.posx+d),u=this.b2.posy+f-(this.b1.posy+
c);a=m*m+u*u;a<g.Config.epsilon?(a=u=m=0,b=!0):(a=Math.sqrt(a),b=1/a,m*=b,u*=b,this.equal?(a-=this.jointMax,b=!1):a<this.jointMin?(a=this.jointMin-a,m=-m,u=-u,b=!1):a>this.jointMax?(a-=this.jointMax,b=!1):(a=u=m=0,b=!0));if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;if(a*a<g.Config.constraintLinearSlop*g.Config.constraintLinearSlop)return!1;a*=0.5;6<a*a&&(b=this.b1.smass+this.b2.smass,b>g.Config.epsilon&&(b=0.75/b*-a,this.equal||0>b))&&(a=b*this.b1.imass,this.b1.posx-=m*
a,this.b1.posy-=u*a,a=b*this.b2.imass,this.b2.posx+=m*a,this.b2.posy+=u*a,m=this.b2.posx+e-(this.b1.posx+d),u=this.b2.posy+f-(this.b1.posy+c),a=m*m+u*u,a<g.Config.epsilon?a=u=m=0:(a=Math.sqrt(a),b=1/a,m*=b,u*=b,this.equal?a-=this.jointMax:a<this.jointMin?(a=this.jointMin-a,m=-m,u=-u):a>this.jointMax?a-=this.jointMax:a=u=m=0),a*=0.5);d=u*d-m*c;e=u*e-m*f;f=this.b1.smass+this.b2.smass+d*d*this.b1.sinertia+e*e*this.b2.sinertia;0!=f&&(f=1/f);b=-a*f;if(this.equal||0>b)f=this.b1.imass*b,this.b1.posx-=m*
f,this.b1.posy-=u*f,f=this.b2.imass*b,this.b2.posx+=m*f,this.b2.posy+=u*f,this.b1.delta_rot(-d*this.b1.iinertia*b),this.b2.delta_rot(e*this.b2.iinertia*b)}return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();
return b.zpp_inner_zn.wrap_a2}(this)),e=c.sub(d),f;if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this));if(0!=f){e.muleq(1/f);var m=d.add(c).muleq(0.5),g=m.sub(e.mul(0.5*this.jointMin,!0)),k=m.add(e.mul(0.5*this.jointMin,!0)),l=m.sub(e.mul(0.5*this.jointMax,!0)),p=m.add(e.mul(0.5*this.jointMax,!0));a.drawLine(g,k,16776960);a.drawLine(l,g,65535);a.drawLine(p,k,65535);this.stiff||(f>this.jointMax?(a.drawSpring(l,
d,65535),a.drawSpring(p,c,65535)):f<this.jointMin&&(a.drawSpring(g,d,16776960),a.drawSpring(k,c,16776960)));m.dispose();g.dispose();k.dispose();l.dispose();p.dispose()}a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);d.dispose();c.dispose();e.dispose()},__class__:c.constraint.ZPP_DistanceJoint});c.constraint.ZPP_LineJoint=function(){this.kMassa=this.kMassb=this.kMassc=this.jAccx=this.jAccy=this.biasx=this.biasy=0;this.wrap_n=null;this.nlocalx=this.nlocaly=this.nrelx=this.nrely=0;this.wrap_a2=
null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=null;this.dot1=this.dot2=this.cx1=this.cx2=this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.equal=!1;this.scale=this.jointMin=this.jointMax=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.jAccy=this.jAccx=this.nrely=this.nrelx=this.nlocaly=this.nlocalx=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.jMax=Math.POSITIVE_INFINITY;this.jointMin=
Math.NEGATIVE_INFINITY;this.jointMax=Math.POSITIVE_INFINITY;this.stepped=!1};n["zpp_nape.constraint.ZPP_LineJoint"]=c.constraint.ZPP_LineJoint;c.constraint.ZPP_LineJoint.__name__=["zpp_nape","constraint","ZPP_LineJoint"];c.constraint.ZPP_LineJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_LineJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{bodyImpulse:function(a){if(this.stepped){var b=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,d=this.nrelx*this.jAccx+this.scale*
this.nrely*this.jAccy;return a==this.b1?g.geom.Vec3.get(-b,-d,this.scale*this.cx1*d-this.dot1*b):g.geom.Vec3.get(b,d,this.scale*this.cx1*d-this.dot1*b)}return g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},validate_a1:function(){this.wrap_a1.zpp_inner.x=
this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=g.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=B(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=B(this,this.invalidate_a1)},validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},
invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=g.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=B(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=B(this,this.invalidate_a2)},validate_n:function(){this.wrap_n.zpp_inner.x=this.nlocalx;this.wrap_n.zpp_inner.y=this.nlocaly},invalidate_n:function(a){this.immutable_midstep("Constraint::n");
this.nlocalx=a.x;this.nlocaly=a.y;this.zip_n=!0;this.wake()},setup_n:function(){this.wrap_n=g.geom.Vec2.get(this.nlocalx,this.nlocaly,null);this.wrap_n.zpp_inner._inuse=!0;this.wrap_n.zpp_inner._validate=B(this,this.validate_n);this.wrap_n.zpp_inner._invalidate=B(this,this.invalidate_n)},validate_norm:function(){if(this.zip_n){this.zip_n=!1;var a=1/Math.sqrt(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly);this.nlocalx*=a;this.nlocaly*=a}},copy:function(a,b){var d=new g.constraint.LineJoint(null,
null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.outer_zn.get_direction(),this.jointMin,this.jointMax);this.copyto(d);if(null!=a&&null!=this.b1){for(var h=null,e=0;e<a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b2=
h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: DistanceJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: DistanceJoint must have jointMin <= jointMax";
if(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly<g.Config.epsilon)throw"Error: DistanceJoint direction must be non-degenerate";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,
b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.equal=this.jointMin==this.jointMax;this.stepped=!0;this.validate_norm();this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.nrelx=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly;this.nrely=
this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d=0,c=0,e=0,f=0,d=this.b2.posx+this.a2relx-this.b1.posx-this.a1relx,c=this.b2.posy+this.a2rely-this.b1.posy-this.a1rely,e=c*this.nrelx-d*this.nrely,f=this.nrelx*d+this.nrely*c;this.equal?(f-=this.jointMin,this.scale=1):f>this.jointMax?(f-=this.jointMax,this.scale=1):f<this.jointMin?(f=this.jointMin-f,this.scale=
-1):this.scale=f=0;var m=0,g=0,m=d+this.a1relx,g=c+this.a1rely;this.dot1=this.nrelx*m+this.nrely*g;this.cx1=g*this.nrelx-m*this.nrely;this.dot2=this.nrelx*this.a2relx+this.nrely*this.a2rely;this.cx2=this.a2rely*this.nrelx-this.a2relx*this.nrely;this.kMassa=this.b1.smass+this.b2.smass+this.dot1*this.dot1*this.b1.sinertia+this.dot2*this.dot2*this.b2.sinertia;this.kMassb=-this.scale*(this.dot1*this.cx1*this.b1.sinertia+this.dot2*this.cx2*this.b2.sinertia);this.kMassc=this.scale*this.scale*(this.b1.smass+
this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia);d=this.kMassa*this.kMassc-this.kMassb*this.kMassb;d!=d?(this.kMassa=this.kMassb=this.kMassc=0,d=3):0==d?(d=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,d|=1),0!=this.kMassc?this.kMassc=1/this.kMassc:(this.kMassc=0,d|=2),this.kMassb=0):(d=1/d,c=this.kMassc*d,this.kMassc=this.kMassa*d,this.kMassa=c,this.kMassb*=-d,d=0);0!=(d&1)&&(this.jAccx=0);0!=(d&2)&&(this.jAccy=0);if(this.stiff)this.biasy=this.biasx=
this.gamma=0;else{if(this.breakUnderError&&e*e+f*f>this.maxError*this.maxError)return!0;c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.kMassa*=d;this.kMassb*=d;this.kMassc*=d;this.biasx=e;this.biasy=f;e=-c;this.biasx*=e;this.biasy*=e;e=this.maxError;f=this.biasx*this.biasx+this.biasy*this.biasy;f>e*e&&(e*=1/Math.sqrt(f),this.biasx*=e,this.biasy*=e)}this.jAccx*=b;this.jAccy*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=
this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,b=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy,d=this.b1.imass;this.b1.velx-=a*d;this.b1.vely-=b*d;d=this.b2.imass;this.b2.velx+=a*d;this.b2.vely+=b*d;this.b1.angvel+=(this.scale*this.cx1*this.jAccy-this.dot1*this.jAccx)*this.b1.iinertia;this.b2.angvel+=(this.dot2*this.jAccx-this.scale*this.cx2*this.jAccy)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,d=0,c=0,d=this.b2.velx-this.b1.velx,c=this.b2.vely-this.b1.vely,d=d+(this.b2.kinvelx-
this.b1.kinvelx),c=c+(this.b2.kinvely-this.b1.kinvely),a=c*this.nrelx-d*this.nrely+(this.b2.angvel+this.b2.kinangvel)*this.dot2-(this.b1.angvel+this.b1.kinangvel)*this.dot1,b=this.scale*(this.nrelx*d+this.nrely*c-(this.b2.angvel+this.b2.kinangvel)*this.cx2+(this.b1.angvel+this.b1.kinangvel)*this.cx1),d=this.biasx-a,c=this.biasy-b,a=this.kMassa*d+this.kMassb*c,c=this.kMassb*d+this.kMassc*c,b=this.gamma,d=a-this.jAccx*b,c=c-this.jAccy*b,a=this.jAccx,b=this.jAccy;this.jAccx+=1*d;this.jAccy+=1*c;0<this.jAccy&&
(this.jAccy=0);if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(d=this.jMax,c=this.jAccx*this.jAccx+this.jAccy*this.jAccy,c>d*d&&(d*=1/Math.sqrt(c),this.jAccx*=d,this.jAccy*=d));var d=this.jAccx-a,c=this.jAccy-b,a=this.scale*this.nrelx*c-this.nrely*d,b=this.nrelx*d+this.scale*this.nrely*c,e=this.b1.imass;this.b1.velx-=a*e;this.b1.vely-=b*e;e=this.b2.imass;this.b2.velx+=a*e;this.b2.vely+=b*e;this.b1.angvel+=(this.scale*this.cx1*
c-this.dot1*d)*this.b1.iinertia;this.b2.angvel+=(this.dot2*d-this.scale*this.cx2*c)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly,b=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy,d=0,c=0,d=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,c=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,e=0,f=0,e=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,f=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,
m=0,u=0,k,l=0,p=0,m=this.b2.posx+e-this.b1.posx-d,u=this.b2.posy+f-this.b1.posy-c,l=u*a-m*b,p=a*m+b*u;this.equal?(p-=this.jointMin,k=1):p>this.jointMax?(p-=this.jointMax,k=1):p<this.jointMin?(p=this.jointMin-p,k=-1):k=p=0;if(this.breakUnderError&&l*l+p*p>this.maxError*this.maxError)return!0;if(l*l+p*p<g.Config.constraintLinearSlop*g.Config.constraintLinearSlop)return!1;var v=0,n=0,l=0.5*l,p=0.5*p;6<l*l+p*p&&(v=this.b1.smass+this.b2.smass,v>g.Config.epsilon&&(v=0.8/v,n=v*(b*l-k*a*p),k=v*(a*l*k-b*l),
v=this.b1.imass,this.b1.posx-=n*v,this.b1.posy-=k*v,v=this.b2.imass,this.b2.posx+=n*v,this.b2.posy+=k*v,m=this.b2.posx+e-this.b1.posx-d,u=this.b2.posy+f-this.b1.posy-c,p=a*m+b*u,this.equal?(p-=this.jointMin,k=1):p>this.jointMax?(p-=this.jointMax,k=1):p<this.jointMin?(p=this.jointMin-p,k=-1):k=p=0,l=0.5*(u*a-m*b),p*=0.5));var q=0,s=0,r=0,v=m+d,n=u+c,d=a*v+b*n,m=n*a-v*b,c=a*e+b*f,e=f*a-e*b,q=this.b1.smass+this.b2.smass+d*d*this.b1.sinertia+c*c*this.b2.sinertia,s=-k*(d*m*this.b1.sinertia+c*e*this.b2.sinertia),
r=k*k*(this.b1.smass+this.b2.smass+m*m*this.b1.sinertia+e*e*this.b2.sinertia),v=-l,n=-p,f=q*r-s*s;f!=f?v=n=0:0==f?(v=0!=q?v/q:0,n=0!=r?n/r:0):(f=1/f,l=f*(r*v-s*n),n=f*(q*n-s*v),v=l);0<n&&(n=0);f=k*a*n-b*v;a=a*v+k*b*n;b=this.b1.imass;this.b1.posx-=f*b;this.b1.posy-=a*b;b=this.b2.imass;this.b2.posx+=f*b;this.b2.posy+=a*b;this.b1.delta_rot((k*m*n-d*v)*this.b1.iinertia);this.b2.delta_rot((c*v-k*e*n)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==
b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),e=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localVectorToWorld(function(a){null==b.zpp_inner_zn.wrap_n&&b.zpp_inner_zn.setup_n();return b.zpp_inner_zn.wrap_n}(this));e.muleq(1/function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
return Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(a)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(a)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(a)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(a))}(this));var f=b.zpp_inner_zn.jointMin,m=b.zpp_inner_zn.jointMax;f<=Math.NEGATIVE_INFINITY&&(f=-1E3);m>=Math.POSITIVE_INFINITY&&(m=1E3);var u=c.sub(d),k=u.dot(e);u.dispose();var l=d.add(e.mul(f,!0)),p=d.add(e.mul(m,!0));k>f&&a.drawLine(l,d.add(e.mul(function(a){a=m;return k<a?k:a}(this),!0),!0),16776960);k<m&&a.drawLine(d.add(e.mul(function(a){a=f;return k>a?k:a}(this),!0),!0),p,65535);if(!this.stiff){if(k<this.jointMin){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
u=g.geom.Vec2.get(function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.x}(this),function(a){if(null!=l&&l.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l.zpp_inner.validate();return l.zpp_inner.y}(this),!1)}else if(k>this.jointMax){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";u=g.geom.Vec2.get(function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
p.zpp_inner.validate();return p.zpp_inner.x}(this),function(a){if(null!=p&&p.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";p.zpp_inner.validate();return p.zpp_inner.y}(this),!1)}else u=d.add(e.mul(k,!0));a.drawSpring(u,c,16711935);u.dispose()}a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);d.dispose();c.dispose();l.dispose();p.dispose()},__class__:c.constraint.ZPP_LineJoint});c.constraint.ZPP_MotorJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=0;this.b1=
this.b2=null;this.ratio=this.rate=0;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.jAcc=0;this.stepped=!1;this.__velocity=!0};n["zpp_nape.constraint.ZPP_MotorJoint"]=c.constraint.ZPP_MotorJoint;c.constraint.ZPP_MotorJoint.__name__=["zpp_nape","constraint","ZPP_MotorJoint"];c.constraint.ZPP_MotorJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_MotorJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{bodyImpulse:function(a){return this.stepped?a==this.b1?g.geom.Vec3.get(0,
0,-this.jAcc):g.geom.Vec3.get(0,0,this.ratio*this.jAcc):g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},copy:function(a,b){var d=new g.constraint.MotorJoint(null,null,this.rate,this.ratio);this.copyto(d);if(null!=a&&null!=this.b1){for(var h=null,e=0;e<
a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b2=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";
if(this.b1==this.b2)throw"Error: MotorJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=
d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,
b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia;this.kMass=1/this.kMass;this.jAcc*=b;this.jMax=this.maxForce*a;
return!1},warmStart:function(){this.b1.angvel-=this.b1.iinertia*this.jAcc;this.b2.angvel+=this.ratio*this.b2.iinertia*this.jAcc},applyImpulseVel:function(){var a=-this.kMass*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel-this.rate),b=this.jAcc;this.jAcc+=a;if(this.breakUnderForce){if(this.jAcc>this.jMax||this.jAcc<-this.jMax)return!0}else this.jAcc<-this.jMax?this.jAcc=-this.jMax:this.jAcc>this.jMax&&(this.jAcc=this.jMax);a=this.jAcc-b;this.b1.angvel-=this.b1.iinertia*
a;this.b2.angvel+=this.ratio*this.b2.iinertia*a;return!1},applyImpulsePos:function(){return!1},__class__:c.constraint.ZPP_MotorJoint});c.constraint.ZPP_PivotJoint=function(){this.stepped=!1;this.kMassa=this.kMassb=this.kMassc=this.jAccx=this.jAccy=this.jMax=this.gamma=this.biasx=this.biasy=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.outer_zn=this.b1=null;c.constraint.ZPP_Constraint.call(this);
this.stepped=!1;this.jAccy=this.jAccx=0;this.jMax=Math.POSITIVE_INFINITY;this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0};n["zpp_nape.constraint.ZPP_PivotJoint"]=c.constraint.ZPP_PivotJoint;c.constraint.ZPP_PivotJoint.__name__=["zpp_nape","constraint","ZPP_PivotJoint"];c.constraint.ZPP_PivotJoint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_PivotJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{bodyImpulse:function(a){return this.stepped?
a==this.b1?g.geom.Vec3.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely)):g.geom.Vec3.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely):g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},validate_a1:function(){this.wrap_a1.zpp_inner.x=
this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=g.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=B(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=B(this,this.invalidate_a1)},validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},
invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=g.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=B(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=B(this,this.invalidate_a2)},copy:function(a,b){var d=new g.constraint.PivotJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2());this.copyto(d);if(null!=a&&null!=
this.b1){for(var h=null,e=0;e<a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b2=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||
null==this.b2)throw"Error: PivotJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: PivotJoint cannot be simulated with body1 == body2 (body1=body2="+this.b1.outer.toString()+")";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=
c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;
else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;
else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccy=
this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d=this.b1.smass+this.b2.smass;this.kMassa=d;this.kMassb=0;this.kMassc=d;if(0!=this.b1.sinertia){var d=
this.a1relx*this.b1.sinertia,c=this.a1rely*this.b1.sinertia;this.kMassa+=c*this.a1rely;this.kMassb+=-c*this.a1relx;this.kMassc+=d*this.a1relx}0!=this.b2.sinertia&&(d=this.a2relx*this.b2.sinertia,c=this.a2rely*this.b2.sinertia,this.kMassa+=c*this.a2rely,this.kMassb+=-c*this.a2relx,this.kMassc+=d*this.a2relx);d=this.kMassa*this.kMassc-this.kMassb*this.kMassb;d!=d?(this.kMassa=this.kMassb=this.kMassc=0,d=3):0==d?(d=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,d|=1),0!=this.kMassc?this.kMassc=
1/this.kMassc:(this.kMassc=0,d|=2),this.kMassb=0):(d=1/d,c=this.kMassc*d,this.kMassc=this.kMassa*d,this.kMassa=c,this.kMassb*=-d,d=0);0!=(d&1)&&(this.jAccx=0);0!=(d&2)&&(this.jAccy=0);if(this.stiff)this.gamma=this.biasy=this.biasx=0;else{c=2*Math.PI*this.frequency;this.gamma=1/(a*c*(2*this.damping+c*a));d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.kMassa*=d;this.kMassb*=d;this.kMassc*=d;this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.biasy=this.b2.posy+this.a2rely-
(this.b1.posy+this.a1rely);if(this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy>this.maxError*this.maxError)return!0;d=-c;this.biasx*=d;this.biasy*=d;d=this.maxError;c=this.biasx*this.biasx+this.biasy*this.biasy;c>d*d&&(d*=1/Math.sqrt(c),this.biasx*=d,this.biasy*=d)}this.jAccx*=b;this.jAccy*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.jAccx*a;this.b1.vely-=this.jAccy*a;a=this.b2.imass;this.b2.velx+=this.jAccx*a;this.b2.vely+=this.jAccy*
a;this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely)*this.b1.iinertia;this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,a=this.b2.velx+this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),b=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),
d=0,c=0,d=this.biasx-a,c=this.biasy-b,a=this.kMassa*d+this.kMassb*c,c=this.kMassb*d+this.kMassc*c,b=this.gamma,d=a-this.jAccx*b,c=c-this.jAccy*b,a=this.jAccx,b=this.jAccy;this.jAccx+=1*d;this.jAccy+=1*c;if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(d=this.jMax,c=this.jAccx*this.jAccx+this.jAccy*this.jAccy,c>d*d&&(d*=1/Math.sqrt(c),this.jAccx*=d,this.jAccy*=d));d=this.jAccx-a;c=this.jAccy-b;a=this.b1.imass;this.b1.velx-=d*a;this.b1.vely-=
c*a;a=this.b2.imass;this.b2.velx+=d*a;this.b2.vely+=c*a;this.b1.angvel-=(c*this.a1relx-d*this.a1rely)*this.b1.iinertia;this.b2.angvel+=(c*this.a2relx-d*this.a2rely)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,b=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,d=0,c=0,d=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,c=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,f=0,e=this.b2.posx+d-(this.b1.posx+
a),f=this.b2.posy+c-(this.b1.posy+b);if(this.breakUnderError&&e*e+f*f>this.maxError*this.maxError)return!0;if(e*e+f*f<g.Config.constraintLinearSlop*g.Config.constraintLinearSlop)return!1;var e=0.5*e,f=0.5*f,m=0,u=0;if(6<e*e+f*f&&(u=this.b1.smass+this.b2.smass,u>g.Config.epsilon)){var u=0.75/u,m=-e*u,u=-f*u,k=m*m+u*u;400<k&&(k=20*(1/Math.sqrt(k)),m*=k,u*=k);k=this.b1.imass;this.b1.posx-=m*k;this.b1.posy-=u*k;k=this.b2.imass;this.b2.posx+=m*k;this.b2.posy+=u*k;e=this.b2.posx+d-(this.b1.posx+a);f=this.b2.posy+
c-(this.b1.posy+b);e*=0.5;f*=0.5}var l=0,p=0,k=m=this.b1.smass+this.b2.smass,l=0,p=m;0!=this.b1.sinertia&&(m=a*this.b1.sinertia,u=b*this.b1.sinertia,k+=u*b,l+=-u*a,p+=m*a);0!=this.b2.sinertia&&(m=d*this.b2.sinertia,u=c*this.b2.sinertia,k+=u*c,l+=-u*d,p+=m*d);m=-e;u=-f;e=m*m+u*u;36<e&&(e=6*(1/Math.sqrt(e)),m*=e,u*=e);e=k*p-l*l;e!=e?m=u=0:0==e?(m=0!=k?m/k:0,u=0!=p?u/p:0):(e=1/e,p=e*(p*m-l*u),u=e*(k*u-l*m),m=p);k=this.b1.imass;this.b1.posx-=m*k;this.b1.posy-=u*k;k=this.b2.imass;this.b2.posx+=m*k;this.b2.posy+=
u*k;this.b1.delta_rot(-(u*a-m*b)*this.b1.iinertia);this.b2.delta_rot((u*d-m*c)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this));
if(!this.stiff){var e=c.sub(d);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";0!=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this))&&a.drawSpring(d,c,16711935);e.dispose()}a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);d.dispose();c.dispose()},__class__:c.constraint.ZPP_PivotJoint});c.constraint.ZPP_PulleyJoint=function(){this.stepped=!1;this.kMass=this.jAcc=this.jMax=this.gamma=this.bias=0;this.wrap_a4=null;this.a4localx=
this.a4localy=this.a4relx=this.a4rely=0;this.wrap_a3=this.b4=null;this.a3localx=this.a3localy=this.a3relx=this.a3rely=0;this.wrap_a2=this.b3=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=this.a1relx=this.a1rely=0;this.b1=null;this.n12x=this.n12y=this.n34x=this.n34y=this.cx1=this.cx2=this.cx3=this.cx4=0;this.slack=this.equal=!1;this.jointMin=this.jointMax=0;this.ratio=1;this.outer_zn=null;c.constraint.ZPP_Constraint.call(this);this.a4rely=
this.a4relx=this.a4localy=this.a4localx=this.a3rely=this.a3relx=this.a3localy=this.a3localx=this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0;this.n12x=1;this.n12y=0;this.n34x=1;this.jAcc=this.n34y=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.cx1=this.cx2=this.cx3=this.cx4=0};n["zpp_nape.constraint.ZPP_PulleyJoint"]=c.constraint.ZPP_PulleyJoint;c.constraint.ZPP_PulleyJoint.__name__=["zpp_nape","constraint","ZPP_PulleyJoint"];c.constraint.ZPP_PulleyJoint.__super__=
c.constraint.ZPP_Constraint;c.constraint.ZPP_PulleyJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{is_slack:function(){var a;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy;this.a3rely=this.a3localx*this.b3.axisx+
this.a3localy*this.b3.axisy;this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy;this.a4rely=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy;var b=0,d=0,c=0,b=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),d=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);a=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx);c=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely);b=Math.sqrt(b*b+d*d);a=Math.sqrt(a*a+c*c);0==a&&Math.sqrt(0);c=b+this.ratio*a;this.equal?(c-=this.jointMax,
a=!1):c<this.jointMin?(c=this.jointMin-c,a=!1):c>this.jointMax?(c-=this.jointMax,a=!1):(c=0,a=!0);c;return a},bodyImpulse:function(a){if(this.stepped){var b=g.geom.Vec3.get();a==this.b1&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)-this.jAcc*this.n12x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.y}(this)-
this.jAcc*this.n12y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)-this.cx1*this.jAcc));a==this.b2&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+this.jAcc*this.n12x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();
return b.zpp_inner.y}(this)+this.jAcc*this.n12y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)+this.cx2*this.jAcc));a==this.b3&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)-this.jAcc*this.n34x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this)-this.jAcc*this.n34y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)-this.cx3*this.jAcc));a==this.b4&&(b.set_x(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.x}(this)+this.jAcc*this.n34x),b.set_y(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";
b.zpp_inner.validate();return b.zpp_inner.y}(this)+this.jAcc*this.n34y),b.set_z(function(a){if(null!=b&&b.zpp_disp)throw"Error: Vec3 has been disposed and cannot be used!";b.zpp_inner.validate();return b.zpp_inner.z}(this)+this.cx4*this.jAcc));return b}return g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this);this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.add(this);this.b4!=
this.b1&&this.b4!=this.b2&&this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.add(this)},inactiveBodies:function(){null!=this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this);this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.remove(this);this.b4!=this.b1&&this.b4!=this.b2&&this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.remove(this)},validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=
this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=g.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=B(this,this.validate_a1);this.wrap_a1.zpp_inner._invalidate=B(this,this.invalidate_a1)},validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");
this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=g.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=B(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=B(this,this.invalidate_a2)},validate_a3:function(){this.wrap_a3.zpp_inner.x=this.a3localx;this.wrap_a3.zpp_inner.y=this.a3localy},invalidate_a3:function(a){this.immutable_midstep("Constraint::a3");this.a3localx=a.x;this.a3localy=a.y;this.wake()},
setup_a3:function(){this.wrap_a3=g.geom.Vec2.get(this.a3localx,this.a3localy,null);this.wrap_a3.zpp_inner._inuse=!0;this.wrap_a3.zpp_inner._validate=B(this,this.validate_a3);this.wrap_a3.zpp_inner._invalidate=B(this,this.invalidate_a3)},validate_a4:function(){this.wrap_a4.zpp_inner.x=this.a4localx;this.wrap_a4.zpp_inner.y=this.a4localy},invalidate_a4:function(a){this.immutable_midstep("Constraint::a4");this.a4localx=a.x;this.a4localy=a.y;this.wake()},setup_a4:function(){this.wrap_a4=g.geom.Vec2.get(this.a4localx,
this.a4localy,null);this.wrap_a4.zpp_inner._inuse=!0;this.wrap_a4.zpp_inner._validate=B(this,this.validate_a4);this.wrap_a4.zpp_inner._invalidate=B(this,this.invalidate_a4)},copy:function(a,b){var d=new g.constraint.PulleyJoint(null,null,null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2(),this.outer_zn.get_anchor3(),this.outer_zn.get_anchor4(),this.jointMin,this.jointMax,this.ratio);this.copyto(d);if(null!=a&&null!=this.b1){for(var h=null,e=0;e<a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=
f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b2=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}if(null!=a&&null!=this.b3){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b3.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b3=
h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b3.id,function(a){d.zpp_inner_zn.b3=a.zpp_inner}))}if(null!=a&&null!=this.b4){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b4.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b4=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b4.id,function(a){d.zpp_inner_zn.b4=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2||null==this.b3||null==this.b4)throw"Error: PulleyJoint cannot be simulated with null bodies";if(this.b1==
this.b2||this.b3==this.b4)throw"Error: PulleyJoint cannot have body1==body2 or body3==body4";if(this.b1.space!=this.space||this.b2.space!=this.space||this.b3.space!=this.space||this.b4.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.jointMin>this.jointMax)throw"Error: PulleyJoint must have jointMin <= jointMax";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic";
if(this.b3.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b4.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake();null!=this.b3&&this.b3.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b3.wake();null!=this.b4&&this.b4.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b4.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:
a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>
b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b3.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b3.component==this.b3.component.parent)a=this.b3.component;else{a=this.b3.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?
b.parent=a:(b.parent=a,a.rank++))}if(this.b4.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b4.component==this.b4.component.parent)a=this.b4.component;else{a=this.b4.component;for(b=null;a!=a.parent;)d=a.parent,a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=
a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&(this.b2.id==b||this.b3.id==b||this.b4.id==b)||this.b2.id==a&&(this.b3.id==b||this.b4.id==b||this.b1.id==b)||this.b3.id==a&&(this.b4.id==b||this.b1.id==b||this.b2.id==b)||this.b4.id==a&&(this.b1.id==b||this.b2.id==b||this.b3.id==b)},clearcache:function(){this.jAcc=0;this.pre_dt=-1},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.equal=this.jointMin==this.jointMax;
this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy;this.a3rely=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy;this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy;this.a4rely=this.a4localx*
this.b4.axisx+this.a4localy*this.b4.axisy;var d,c=0,e=0,f=0,m=0,c=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),e=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),f=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx),m=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely);d=Math.sqrt(c*c+e*e);var g=Math.sqrt(f*f+m*m);if(0!=d){var k=1/d;this.n12x=c*k;this.n12y=e*k}0!=g?(c=1/g,this.n34x=f*c,this.n34y=m*c,f=this.ratio):f=this.ratio/Math.sqrt(this.n34x*this.n34x+this.n34y*this.n34y);this.n34x*=
f;this.n34y*=f;d+=this.ratio*g;this.equal?(d-=this.jointMax,this.slack=!1):d<this.jointMin?(d=this.jointMin-d,this.n12x=-this.n12x,this.n12y=-this.n12y,this.n34x=-this.n34x,this.n34y=-this.n34y,this.slack=!1):d>this.jointMax?(d-=this.jointMax,this.slack=!1):(d=this.n34y=this.n34x=this.n12y=this.n12x=0,this.slack=!0);if(!this.slack){this.cx1=this.n12y*this.a1relx-this.n12x*this.a1rely;this.cx2=this.n12y*this.a2relx-this.n12x*this.a2rely;this.cx3=this.n34y*this.a3relx-this.n34x*this.a3rely;this.cx4=
this.n34y*this.a4relx-this.n34x*this.a4rely;g=this.b1.smass+this.b2.smass+this.ratio*this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*this.cx1*this.cx1+this.b2.sinertia*this.cx2*this.cx2+this.b3.sinertia*this.cx3*this.cx3+this.b4.sinertia*this.cx4*this.cx4;this.b1==this.b4&&(g-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx4*this.b1.sinertia));this.b1==this.b3&&(g+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx3*this.b1.sinertia));
this.b2==this.b3&&(g-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx3*this.b2.sinertia));this.b2==this.b4&&(g+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx4*this.b2.sinertia));this.kMass=g;0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0;if(this.stiff)this.gamma=this.bias=0;else{if(this.breakUnderError&&d*d>this.maxError*this.maxError)return!0;f=2*Math.PI*this.frequency;this.gamma=1/(a*f*(2*this.damping+f*a));g=1/(1+this.gamma);f=a*f*f*
this.gamma;this.gamma*=g;this.kMass*=g;this.bias=-d*f;this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=b;this.jMax=this.maxForce*a}return!1},warmStart:function(){if(!this.slack){var a=this.b1.imass*this.jAcc;this.b1.velx-=this.n12x*a;this.b1.vely-=this.n12y*a;a=this.b2.imass*this.jAcc;this.b2.velx+=this.n12x*a;this.b2.vely+=this.n12y*a;a=this.b3.imass*this.jAcc;this.b3.velx-=this.n34x*a;this.b3.vely-=this.n34y*a;a=this.b4.imass*this.jAcc;
this.b4.velx+=this.n34x*a;this.b4.vely+=this.n34y*a;this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc;this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc;this.b3.angvel-=this.cx3*this.b3.iinertia*this.jAcc;this.b4.angvel+=this.cx4*this.b4.iinertia*this.jAcc}},applyImpulseVel:function(){if(this.slack)return!1;var a=this.kMass*(this.bias-(this.n12x*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.n12y*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+this.n34x*(this.b4.velx+
this.b4.kinvelx-this.b3.velx-this.b3.kinvelx)+this.n34y*(this.b4.vely+this.b4.kinvely-this.b3.vely-this.b3.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1+(this.b4.angvel+this.b4.kinangvel)*this.cx4-(this.b3.angvel+this.b3.kinangvel)*this.cx3))-this.jAcc*this.gamma,b=this.jAcc;this.jAcc+=a;!this.equal&&0<this.jAcc&&(this.jAcc=0);if(this.breakUnderForce&&this.jAcc<-this.jMax)return!0;!this.stiff&&this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);a=this.jAcc-
b;b=this.b1.imass*a;this.b1.velx-=this.n12x*b;this.b1.vely-=this.n12y*b;b=this.b2.imass*a;this.b2.velx+=this.n12x*b;this.b2.vely+=this.n12y*b;b=this.b3.imass*a;this.b3.velx-=this.n34x*b;this.b3.vely-=this.n34y*b;b=this.b4.imass*a;this.b4.velx+=this.n34x*b;this.b4.vely+=this.n34y*b;this.b1.angvel-=this.cx1*this.b1.iinertia*a;this.b2.angvel+=this.cx2*this.b2.iinertia*a;this.b3.angvel-=this.cx3*this.b3.iinertia*a;this.b4.angvel+=this.cx4*this.b4.iinertia*a;return!1},applyImpulsePos:function(){var a,
b,d=0,c=0,d=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,c=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,e=0,f=0,e=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,f=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,m=0,u=0,m=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy,u=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy,k=0,l=0,k=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy,l=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy,p=0,
v=0,n=0,q=0,p=this.n12x,v=this.n12y,n=this.n34x,q=this.n34y,s=0,r=0,w=0,x=0,s=this.b2.posx+e-(this.b1.posx+d),r=this.b2.posy+f-(this.b1.posy+c),w=this.b4.posx+k-(this.b3.posx+m),x=this.b4.posy+l-(this.b3.posy+u);b=Math.sqrt(s*s+r*r);a=Math.sqrt(w*w+x*x);0!=b&&(v=1/b,p=s*v,v*=r);0!=a?(q=1/a,s=this.ratio,n=w*q*s,q=x*q*s):(w=this.ratio/Math.sqrt(n*n+q*q),n*=w,q*=w);a=b+this.ratio*a;this.equal?(a-=this.jointMax,b=!1):a<this.jointMin?(a=this.jointMin-a,p=-p,v=-v,n=-n,q=-q,b=!1):a>this.jointMax?(a-=this.jointMax,
b=!1):(a=q=n=v=p=0,b=!0);if(!b){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;if(a*a<g.Config.constraintLinearSlop*g.Config.constraintLinearSlop)return!1;a*=0.5;6<a*a&&(b=this.b1.smass+this.b2.smass,b>g.Config.epsilon&&(b=0.75/b*-a,this.equal||0>b))&&(a=b*this.b1.imass,this.b1.posx-=p*a,this.b1.posy-=v*a,a=b*this.b2.imass,this.b2.posx+=p*a,this.b2.posy+=v*a,a=b*this.b3.imass,this.b3.posx-=n*a,this.b3.posy-=q*a,b*=this.b4.imass,this.b4.posx+=n*b,this.b4.posy+=q*b,s=this.b2.posx+
e-(this.b1.posx+d),r=this.b2.posy+f-(this.b1.posy+c),w=this.b4.posx+k-(this.b3.posx+m),x=this.b4.posy+l-(this.b3.posy+u),b=Math.sqrt(s*s+r*r),a=Math.sqrt(w*w+x*x),0!=b&&(v=1/b,p=s*v,v*=r),0!=a?(q=1/a,s=this.ratio,n=w*q*s,q=x*q*s):(w=this.ratio/Math.sqrt(n*n+q*q),n*=w,q*=w),b+=this.ratio*a,this.equal?b-=this.jointMax:b<this.jointMin?(b=this.jointMin-b,p=-p,v=-v,n=-n,q=-q):b>this.jointMax?b-=this.jointMax:b=q=n=v=p=0,a=0.5*b);d=v*d-p*c;e=v*e-p*f;m=q*m-n*u;k=q*k-n*l;l=this.b1.smass+this.b2.smass+this.ratio*
this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*d*d+this.b2.sinertia*e*e+this.b3.sinertia*m*m+this.b4.sinertia*k*k;this.b1==this.b4&&(l-=2*((p*n+v*q)*this.b1.smass+d*k*this.b1.sinertia));this.b1==this.b3&&(l+=2*((p*n+v*q)*this.b1.smass+d*m*this.b1.sinertia));this.b2==this.b3&&(l-=2*((p*n+v*q)*this.b2.smass+e*m*this.b2.sinertia));this.b2==this.b4&&(l+=2*((p*n+v*q)*this.b2.smass+e*k*this.b2.sinertia));0!=l&&(l=1/l);b=-a*l;if(this.equal||0>b)l=this.b1.imass*b,this.b1.posx-=p*l,this.b1.posy-=
v*l,l=this.b2.imass*b,this.b2.posx+=p*l,this.b2.posy+=v*l,p=this.b3.imass*b,this.b3.posx-=n*p,this.b3.posy-=q*p,p=this.b4.imass*b,this.b4.posx+=n*p,this.b4.posy+=q*p,this.b1.delta_rot(-d*this.b1.iinertia*b),this.b2.delta_rot(e*this.b2.iinertia*b),this.b3.delta_rot(-m*this.b3.iinertia*b),this.b4.delta_rot(k*this.b4.iinertia*b)}return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();
return b.zpp_inner_zn.wrap_a1}(this)),c=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this)),e=(null==b.zpp_inner_zn.b3?null:b.zpp_inner_zn.b3.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a3&&b.zpp_inner_zn.setup_a3();return b.zpp_inner_zn.wrap_a3}(this)),f=(null==b.zpp_inner_zn.b4?null:b.zpp_inner_zn.b4.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a4&&
b.zpp_inner_zn.setup_a4();return b.zpp_inner_zn.wrap_a4}(this)),m=c.sub(d),g=f.sub(e),k;if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k=Math.sqrt(function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this)*function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.x}(this)+function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
m.zpp_inner.validate();return m.zpp_inner.y}(this)*function(a){if(null!=m&&m.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";m.zpp_inner.validate();return m.zpp_inner.y}(this));var l;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";l=Math.sqrt(function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.x}(this)*function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
g.zpp_inner.validate();return g.zpp_inner.x}(this)+function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this)*function(a){if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();return g.zpp_inner.y}(this));this.drawLink(a,d,c,m,k,l*this.ratio,1,16776960,65535);this.drawLink(a,e,f,g,l,k,1/this.ratio,65535,16711935);a.drawFilledCircle(d,2,255);a.drawFilledCircle(c,2,16711680);
a.drawFilledCircle(e,2,65280);a.drawFilledCircle(f,2,16711935);d.dispose();c.dispose();e.dispose();f.dispose();m.dispose();g.dispose()},drawLink:function(a,b,d,c,e,f,m,g,k){if(0!=e){c.muleq(1/e);var l=b.add(d).muleq(0.5),p=(this.jointMin-f)*m;0>p&&(p=0);f=(this.jointMax-f)*m;0>f&&(f=0);m=l.sub(c.mul(0.5*p,!0));var v=l.add(c.mul(0.5*p,!0)),n=l.sub(c.mul(0.5*f,!0));c=l.add(c.mul(0.5*f,!0));a.drawLine(m,v,g);a.drawLine(n,m,k);a.drawLine(c,v,k);this.stiff||(e>f?(a.drawSpring(n,b,k),a.drawSpring(c,d,k)):
e<p&&(a.drawSpring(m,b,g),a.drawSpring(v,d,g)));l.dispose();m.dispose();v.dispose();n.dispose();c.dispose()}},__class__:c.constraint.ZPP_PulleyJoint});c.constraint.ZPP_UserConstraint=function(a,b){this.Keff=this.vec3=this.J=this.jOld=null;this.jMax=0;this.velonly=!1;this.soft=this.gamma=0;this.L=this.y=null;this.stepped=!1;this.jAcc=this.bias=null;this.dim=0;this.outer_zn=this.bodies=null;c.constraint.ZPP_Constraint.call(this);this.bodies=[];this.dim=a;this.velonly=b;this.jAcc=[];this.bias=[];this.L=
[];this.J=[];this.jOld=[];this.y=[];this.Keff=[];this.vec3=g.geom.Vec3.get(0,0,0);for(var d=0;d<a;)for(var h=d++,e=this.jAcc[h]=this.bias[h]=this.J[h]=this.jOld[h]=this.y[h]=0;e<a;){var f=e++;this.L[h*a+f]=0}this.stepped=!1};n["zpp_nape.constraint.ZPP_UserConstraint"]=c.constraint.ZPP_UserConstraint;c.constraint.ZPP_UserConstraint.__name__=["zpp_nape","constraint","ZPP_UserConstraint"];c.constraint.ZPP_UserConstraint.__super__=c.constraint.ZPP_Constraint;c.constraint.ZPP_UserConstraint.prototype=
K(c.constraint.ZPP_Constraint.prototype,{bindVec2_invalidate:function(a){this.outer_zn.__invalidate()},addBody:function(a){for(var b=null,d=0,h=this.bodies;d<h.length;){var e=h[d];++d;if(e.body==a){b=e;break}}null==b?(this.bodies.push(new c.constraint.ZPP_UserBody(1,a)),this.active&&null!=this.space&&null!=a&&a.constraints.add(this)):b.cnt++},remBody:function(a){for(var b=null,d=this.bodies.length|0,c=0;c<d;){var e=this.bodies[c];if(e.body==a){e.cnt--;0==e.cnt&&(0<d&&(this.bodies[c]=this.bodies[d-
1]),this.bodies.pop(),this.active&&null!=this.space&&null!=a&&a.constraints.remove(this));b=e;break}c++}return null!=b},bodyImpulse:function(a){for(var b=0,d=this.dim;b<d;){var c=b++;this.J[c]=this.jAcc[c]}b=g.geom.Vec3.get(0,0,0);this.stepped&&this.outer_zn.__impulse(this.J,a.outer,b);return b},activeBodies:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;null!=d.body&&d.body.constraints.add(this)}},inactiveBodies:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;null!=
d.body&&d.body.constraints.remove(this)}},copy:function(a,b){var d=this.outer_zn.__copy();this.copyto(d);throw"not done yet";},validate:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;if(d.body.space!=this.space)throw"Error: Constraints must have each body within the same sapce to which the constraint has been assigned";}this.outer_zn.__validate()},wake_connected:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;d.body.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&d.body.wake()}},
forest:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;if(d.body.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(d.body.component==d.body.component.parent)d=d.body.component;else{for(var d=d.body.component,h=null;d!=d.parent;){var e=d.parent;d.parent=h;h=d;d=e}for(;null!=h;)e=h.parent,h.parent=d,h=e}if(this.component==this.component.parent)h=this.component;else{h=this.component;for(e=null;h!=h.parent;){var f=h.parent;h.parent=e;e=h;h=f}for(;null!=e;)f=e.parent,e.parent=h,e=f}d!=h&&
(d.rank<h.rank?d.parent=h:d.rank>h.rank?h.parent=d:(h.parent=d,d.rank++))}}},pair_exists:function(a,b){for(var d=!1,c=this.bodies.length|0,e=0;e<c;){for(var f=e++,m=this.bodies[f].body,f=f+1;f<c;){var g=f++,g=this.bodies[g].body;if(m.id==a&&g.id==b||m.id==b&&g.id==a){d=!0;break}}if(d)break}return d},broken:function(){this.outer_zn.__broken()},clearcache:function(){for(var a=0,b=this.dim;a<b;){var d=a++;this.jAcc[d]=0}this.pre_dt=-1},lsq:function(a){for(var b=0,d=0,c=this.dim;d<c;)var e=d++,b=b+a[e]*
a[e];return b},_clamp:function(a,b){var d=this.lsq(a);if(d>b*b)for(var d=b/Math.sqrt(d),c=0,e=this.dim;c<e;){var f=c++;a[f]*=d}},solve:function(a){for(var b=0,d=0,c=this.dim;d<c;){for(var e=d++,f=0,m=0,g=e-1;m<g;)var k=m++,f=f+this.L[e*this.dim+k]*this.L[e*this.dim+k];f=Math.sqrt(a[b++]-f);this.L[e*this.dim+e]=f;if(0!=f)for(f=1/f,m=e+1,g=this.dim;m<g;){for(var k=m++,l=0,p=0,v=e-1;p<v;)var n=p++,l=l+this.L[k*this.dim+n]*this.L[e*this.dim+n];this.L[k*this.dim+e]=f*(a[b++]-l)}else{f=e+1;for(m=this.dim;f<
m;)g=f++,this.L[g*this.dim+e]=0;b+=this.dim-e-1}}return this.L},transform:function(a,b){for(var d=0,c=this.dim;d<c;){var e=d++,f=b[e],m=a[e*this.dim+e];if(0!=m){for(var g=0;g<e;)var k=g++,f=f-a[e*this.dim+k]*this.y[k];this.y[e]=f/m}else this.y[e]=0}d=0;for(c=this.dim;d<c;)if(e=d++,e=this.dim-1-e,f=a[e*this.dim+e],0!=f){m=this.y[e];g=e+1;for(k=this.dim;g<k;)var l=g++,m=m-a[l*this.dim+e]*b[l];b[e]=m/f}else b[e]=0},preStep:function(a){-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=
a;this.stepped=!0;this.outer_zn.__prepare();this.outer_zn.__eff_mass(this.Keff);this.L=this.solve(this.Keff);if(this.stiff||this.velonly){for(var d=0,c=this.dim;d<c;){var e=d++;this.bias[e]=0}this.gamma=0;this.soft=1}else{d=2*Math.PI*this.frequency;this.gamma=1/(a*d*(2*this.damping+d*a));c=1/(1+this.gamma);d=a*d*d*this.gamma;this.gamma*=c;this.soft=c;this.outer_zn.__position(this.bias);if(this.breakUnderError&&this.lsq(this.bias)>this.maxError*this.maxError)return!0;c=0;for(e=this.dim;c<e;){var f=
c++;this.bias[f]*=-d}this._clamp(this.bias,this.maxError)}d=0;for(c=this.dim;d<c;)e=d++,this.jAcc[e]*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){for(var a=0,b=this.bodies;a<b.length;){var d=b[a];++a;d=d.body;this.outer_zn.__impulse(this.jAcc,d.outer,this.vec3);var c=d.imass;d.velx+=this.vec3.get_x()*c;d.vely+=this.vec3.get_y()*c;d.angvel+=this.vec3.get_z()*d.iinertia}},applyImpulseVel:function(){this.outer_zn.__velocity(this.J);for(var a=0,b=this.dim;a<b;){var d=a++;this.J[d]=this.bias[d]-
this.J[d]}this.transform(this.L,this.J);a=0;for(b=this.dim;a<b;)d=a++,this.jOld[d]=this.jAcc[d],this.jAcc[d]+=this.J[d]=this.J[d]*this.soft-this.jAcc[d]*this.gamma;this.outer_zn.__clamp(this.jAcc);if((this.breakUnderForce||!this.stiff)&&this.lsq(this.jAcc)>this.jMax*this.jMax){if(this.breakUnderForce)return!0;this.stiff||this._clamp(this.jAcc,this.jMax)}a=0;for(b=this.dim;a<b;)d=a++,this.J[d]=this.jAcc[d]-this.jOld[d];a=0;for(b=this.bodies;a<b.length;){d=b[a];++a;d=d.body;this.outer_zn.__impulse(this.J,
d.outer,this.vec3);var c=d.imass;d.velx+=this.vec3.get_x()*c;d.vely+=this.vec3.get_y()*c;d.angvel+=this.vec3.get_z()*d.iinertia}return!1},applyImpulsePos:function(){if(this.velonly)return!1;this.outer_zn.__prepare();this.outer_zn.__position(this.J);var a=this.lsq(this.J);if(this.breakUnderError&&a>this.maxError*this.maxError)return!0;if(a<g.Config.constraintLinearSlop*g.Config.constraintLinearSlop)return!1;for(var a=0,b=this.dim;a<b;){var d=a++;this.J[d]*=-1}this.outer_zn.__eff_mass(this.Keff);this.transform(this.solve(this.Keff),
this.J);this.outer_zn.__clamp(this.J);a=0;for(b=this.bodies;a<b.length;){d=b[a];++a;d=d.body;this.outer_zn.__impulse(this.J,d.outer,this.vec3);var c=d.imass;d.posx+=this.vec3.get_x()*c;d.posy+=this.vec3.get_y()*c;d.delta_rot(this.vec3.get_z()*d.iinertia)}return!1},draw:function(a){this.outer_zn.__draw(a)},__class__:c.constraint.ZPP_UserConstraint});c.constraint.ZPP_UserBody=function(a,b){this.body=null;this.cnt=0;this.cnt=a;this.body=b};n["zpp_nape.constraint.ZPP_UserBody"]=c.constraint.ZPP_UserBody;
c.constraint.ZPP_UserBody.__name__=["zpp_nape","constraint","ZPP_UserBody"];c.constraint.ZPP_UserBody.prototype={__class__:c.constraint.ZPP_UserBody};c.constraint.ZPP_WeldJoint=function(){this.stepped=!1;this.phase=this.kMassa=this.kMassb=this.kMassd=this.kMassc=this.kMasse=this.kMassf=this.jAccx=this.jAccy=this.jAccz=this.jMax=this.gamma=this.biasx=this.biasy=this.biasz=0;this.wrap_a2=null;this.a2localx=this.a2localy=this.a2relx=this.a2rely=0;this.wrap_a1=this.b2=null;this.a1localx=this.a1localy=
this.a1relx=this.a1rely=0;this.outer_zn=this.b1=null;c.constraint.ZPP_Constraint.call(this);this.jAccz=this.jAccy=this.jAccx=this.phase=0;this.jMax=Math.POSITIVE_INFINITY;this.stepped=!1;this.a2rely=this.a2relx=this.a2localy=this.a2localx=this.a1rely=this.a1relx=this.a1localy=this.a1localx=0};n["zpp_nape.constraint.ZPP_WeldJoint"]=c.constraint.ZPP_WeldJoint;c.constraint.ZPP_WeldJoint.__name__=["zpp_nape","constraint","ZPP_WeldJoint"];c.constraint.ZPP_WeldJoint.__super__=c.constraint.ZPP_Constraint;
c.constraint.ZPP_WeldJoint.prototype=K(c.constraint.ZPP_Constraint.prototype,{bodyImpulse:function(a){return this.stepped?a==this.b1?g.geom.Vec3.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)):g.geom.Vec3.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz):g.geom.Vec3.get(0,0,0)},activeBodies:function(){null!=this.b1&&this.b1.constraints.add(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},inactiveBodies:function(){null!=
this.b1&&this.b1.constraints.remove(this);this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},validate_a1:function(){this.wrap_a1.zpp_inner.x=this.a1localx;this.wrap_a1.zpp_inner.y=this.a1localy},invalidate_a1:function(a){this.immutable_midstep("Constraint::a1");this.a1localx=a.x;this.a1localy=a.y;this.wake()},setup_a1:function(){this.wrap_a1=g.geom.Vec2.get(this.a1localx,this.a1localy,null);this.wrap_a1.zpp_inner._inuse=!0;this.wrap_a1.zpp_inner._validate=B(this,this.validate_a1);
this.wrap_a1.zpp_inner._invalidate=B(this,this.invalidate_a1)},validate_a2:function(){this.wrap_a2.zpp_inner.x=this.a2localx;this.wrap_a2.zpp_inner.y=this.a2localy},invalidate_a2:function(a){this.immutable_midstep("Constraint::a2");this.a2localx=a.x;this.a2localy=a.y;this.wake()},setup_a2:function(){this.wrap_a2=g.geom.Vec2.get(this.a2localx,this.a2localy,null);this.wrap_a2.zpp_inner._inuse=!0;this.wrap_a2.zpp_inner._validate=B(this,this.validate_a2);this.wrap_a2.zpp_inner._invalidate=B(this,this.invalidate_a2)},
copy:function(a,b){var d=new g.constraint.PivotJoint(null,null,this.outer_zn.get_anchor1(),this.outer_zn.get_anchor2());this.copyto(d);if(null!=a&&null!=this.b1){for(var h=null,e=0;e<a.length;){var f=a[e];++e;if(f.id==this.b1.id){h=f.bc;break}}null!=h?d.zpp_inner_zn.b1=h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b1.id,function(a){d.zpp_inner_zn.b1=a.zpp_inner}))}if(null!=a&&null!=this.b2){h=null;for(e=0;e<a.length;)if(f=a[e],++e,f.id==this.b2.id){h=f.bc;break}null!=h?d.zpp_inner_zn.b2=
h.zpp_inner:b.push(c.constraint.ZPP_CopyHelper.todo(this.b2.id,function(a){d.zpp_inner_zn.b2=a.zpp_inner}))}return d},validate:function(){if(null==this.b1||null==this.b2)throw"Error: AngleJoint cannot be simulated null bodies";if(this.b1==this.b2)throw"Error: WeldJoint cannot be simulated with body1 == body2";if(this.b1.space!=this.space||this.b2.space!=this.space)throw"Error: Constraints must have each body within the same space to which the constraint has been assigned";if(this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Constraints cannot have both bodies non-dynamic";},wake_connected:function(){null!=this.b1&&this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b1.wake();null!=this.b2&&this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&this.b2.wake()},forest:function(){if(this.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var a;if(this.b1.component==this.b1.component.parent)a=this.b1.component;else{a=this.b1.component;for(var b=null;a!=a.parent;){var d=
a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;){var h=b.parent;b.parent=d;d=b;b=h}for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}if(this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(this.b2.component==this.b2.component.parent)a=this.b2.component;else{a=this.b2.component;for(b=null;a!=a.parent;)d=a.parent,
a.parent=b,b=a,a=d;for(;null!=b;)d=b.parent,b.parent=a,b=d}if(this.component==this.component.parent)b=this.component;else{b=this.component;for(d=null;b!=b.parent;)h=b.parent,b.parent=d,d=b,b=h;for(;null!=d;)h=d.parent,d.parent=b,d=h}a!=b&&(a.rank<b.rank?a.parent=b:a.rank>b.rank?b.parent=a:(b.parent=a,a.rank++))}},pair_exists:function(a,b){return this.b1.id==a&&this.b2.id==b||this.b1.id==b&&this.b2.id==a},clearcache:function(){this.jAccz=this.jAccy=this.jAccx=0;this.pre_dt=-1},preStep:function(a){-1==
this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;this.stepped=!0;this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy;this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy;this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy;this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var d=this.b1.smass+this.b2.smass;this.kMassa=d;this.kMassb=0;this.kMassd=d;this.kMassf=this.kMasse=this.kMassc=0;if(0!=this.b1.sinertia){var d=this.a1relx*
this.b1.sinertia,c=this.a1rely*this.b1.sinertia;this.kMassa+=c*this.a1rely;this.kMassb+=-c*this.a1relx;this.kMassd+=d*this.a1relx;this.kMassc+=-c;this.kMasse+=d;this.kMassf+=this.b1.sinertia}0!=this.b2.sinertia&&(d=this.a2relx*this.b2.sinertia,c=this.a2rely*this.b2.sinertia,this.kMassa+=c*this.a2rely,this.kMassb+=-c*this.a2relx,this.kMassd+=d*this.a2relx,this.kMassc+=-c,this.kMasse+=d,this.kMassf+=this.b2.sinertia);d=this.kMassa*(this.kMassd*this.kMassf-this.kMasse*this.kMasse)+this.kMassb*(this.kMassc*
this.kMasse-this.kMassb*this.kMassf)+this.kMassc*(this.kMassb*this.kMasse-this.kMassc*this.kMassd);if(d!=d)this.kMassf=this.kMasse=this.kMassc=this.kMassd=this.kMassb=this.kMassa=0,d=7;else if(0==d)d=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,d|=1),0!=this.kMassd?this.kMassd=1/this.kMassd:(this.kMassd=0,d|=2),0!=this.kMassf?this.kMassf=1/this.kMassf:(this.kMassf=0,d|=4),this.kMassb=this.kMassc=this.kMasse=0;else{var d=1/d,c=d*(this.kMasse*this.kMassc-this.kMassb*this.kMassf),e=d*(this.kMassa*
this.kMassf-this.kMassc*this.kMassc),f=d*(this.kMassb*this.kMasse-this.kMassc*this.kMassd),m=d*(this.kMassb*this.kMassc-this.kMassa*this.kMasse),g=d*(this.kMassa*this.kMassd-this.kMassb*this.kMassb);this.kMassa=d*(this.kMassd*this.kMassf-this.kMasse*this.kMasse);this.kMassb=c;this.kMassd=e;this.kMassc=f;this.kMasse=m;this.kMassf=g;d=0}0!=(d&1)&&(this.jAccx=0);0!=(d&2)&&(this.jAccy=0);0!=(d&4)&&(this.jAccz=0);if(this.stiff)this.gamma=this.biasz=this.biasy=this.biasx=0;else{c=2*Math.PI*this.frequency;
this.gamma=1/(a*c*(2*this.damping+c*a));d=1/(1+this.gamma);c=a*c*c*this.gamma;this.gamma*=d;this.kMassa*=d;this.kMassb*=d;this.kMassd*=d;this.kMassc*=d;this.kMasse*=d;this.kMassf*=d;this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx);this.biasy=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely);this.biasz=this.b2.rot-this.b1.rot-this.phase;if(this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz>this.maxError*this.maxError)return!0;d=-c;this.biasx*=d;
this.biasy*=d;this.biasz*=d;d=this.maxError;c=this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz;c>d*d&&(d*=1/Math.sqrt(c),this.biasx*=d,this.biasy*=d,this.biasz*=d)}this.jAccx*=b;this.jAccy*=b;this.jAccz*=b;this.jMax=this.maxForce*a;return!1},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.jAccx*a;this.b1.vely-=this.jAccy*a;a=this.b2.imass;this.b2.velx+=this.jAccx*a;this.b2.vely+=this.jAccy*a;this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)*this.b1.iinertia;
this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz)*this.b2.iinertia},applyImpulseVel:function(){var a=0,b=0,d=0,a=this.b2.velx+this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),b=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),d=this.b2.angvel+this.b2.kinangvel-this.b1.angvel-this.b1.kinangvel,
c=0,e=0,f=0,c=this.biasx-a,e=this.biasy-b,f=this.biasz-d,a=this.kMassa*c+this.kMassb*e+this.kMassc*f,b=this.kMassb*c+this.kMassd*e+this.kMasse*f,f=this.kMassc*c+this.kMasse*e+this.kMassf*f,d=this.gamma,c=a-this.jAccx*d,e=b-this.jAccy*d,f=f-this.jAccz*d,a=this.jAccx,b=this.jAccy,d=this.jAccz;this.jAccx+=1*c;this.jAccy+=1*e;this.jAccz+=1*f;if(this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz>this.jMax*this.jMax)return!0}else this.stiff||(c=this.jMax,e=this.jAccx*
this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz,e>c*c&&(c*=1/Math.sqrt(e),this.jAccx*=c,this.jAccy*=c,this.jAccz*=c));c=this.jAccx-a;e=this.jAccy-b;f=this.jAccz-d;a=this.b1.imass;this.b1.velx-=c*a;this.b1.vely-=e*a;a=this.b2.imass;this.b2.velx+=c*a;this.b2.vely+=e*a;this.b1.angvel-=(e*this.a1relx-c*this.a1rely+f)*this.b1.iinertia;this.b2.angvel+=(e*this.a2relx-c*this.a2rely+f)*this.b2.iinertia;return!1},applyImpulsePos:function(){var a=0,b=0,a=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,
b=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,d=0,h=0,d=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,h=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,e=0,f=0,m=0,e=this.b2.posx+d-(this.b1.posx+a),f=this.b2.posy+h-(this.b1.posy+b),m=this.b2.rot-this.b1.rot-this.phase,u=0,k=0,l=0;if(this.breakUnderError&&e*e+f*f+m*m>this.maxError*this.maxError)return!0;u=!0;e*e+f*f<g.Config.constraintLinearSlop*g.Config.constraintLinearSlop&&(u=!1,f=e=0);if(m*m<c.util.ZPP_Math.sqr(g.Config.constraintAngularSlop))if(u)m=
0;else return!1;e*=0.5;f*=0.5;m*=0.5;if(6<e*e+f*f&&(k=this.b1.smass+this.b2.smass,k>g.Config.epsilon)){var k=0.75/k,u=-e*k,k=-f*k,p=u*u+k*k;400<p&&(p=20*(1/Math.sqrt(p)),u*=p,k*=p);p=this.b1.imass;this.b1.posx-=u*p;this.b1.posy-=k*p;p=this.b2.imass;this.b2.posx+=u*p;this.b2.posy+=k*p;e=this.b2.posx+d-(this.b1.posx+a);f=this.b2.posy+h-(this.b1.posy+b);m=this.b2.rot-this.b1.rot-this.phase;e*=0.5;f*=0.5;m*=0.5}var v=0,n=0,q=0,s=0,r=0,p=u=this.b1.smass+this.b2.smass,v=0,n=u,r=s=q=0;0!=this.b1.sinertia&&
(u=a*this.b1.sinertia,k=b*this.b1.sinertia,p+=k*b,v+=-k*a,n+=u*a,q+=-k,s+=u,r+=this.b1.sinertia);0!=this.b2.sinertia&&(u=d*this.b2.sinertia,k=h*this.b2.sinertia,p+=k*h,v+=-k*d,n+=u*d,q+=-k,s+=u,r+=this.b2.sinertia);u=-e;k=-f;l=-m;e=u*u+k*k;36<e&&(e=6*(1/Math.sqrt(e)),u*=e,k*=e);c.util.ZPP_Math.clamp(l,-0.25,0.25);e=p*(n*r-s*s)+v*(q*s-v*r)+q*(v*s-q*n);if(e!=e)u=k=l=0;else if(0==e)u=0!=p?u/p:0,k=0!=n?k/n:0,l=0!=r?l/r:0;else var e=1/e,w=s*q-v*r,f=v*s-q*n,m=v*q-p*s,s=e*(u*(n*r-s*s)+k*w+l*f),q=e*(u*w+
k*(p*r-q*q)+l*m),l=e*(u*f+k*m+l*(p*n-v*v)),u=s,k=q;p=this.b1.imass;this.b1.posx-=u*p;this.b1.posy-=k*p;p=this.b2.imass;this.b2.posx+=u*p;this.b2.posy+=k*p;this.b1.delta_rot(-(k*a-u*b+l)*this.b1.iinertia);this.b2.delta_rot((k*d-u*h+l)*this.b2.iinertia);return!1},draw:function(a){var b=this.outer_zn,d=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a1&&b.zpp_inner_zn.setup_a1();return b.zpp_inner_zn.wrap_a1}(this)),h=(null==b.zpp_inner_zn.b2?
null:b.zpp_inner_zn.b2.outer).localPointToWorld(function(a){null==b.zpp_inner_zn.wrap_a2&&b.zpp_inner_zn.setup_a2();return b.zpp_inner_zn.wrap_a2}(this));if(!this.stiff){var e=h.sub(d);if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";0!=Math.sqrt(function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.x}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
e.zpp_inner.validate();return e.zpp_inner.x}(this)+function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this)*function(a){if(null!=e&&e.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";e.zpp_inner.validate();return e.zpp_inner.y}(this))&&a.drawSpring(d,h,16711935);e.dispose();var f=5/Math.PI/2;if((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer)!=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_space().get_world()){var m=
(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-b.zpp_inner_zn.phase,g=(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot;if(g>m)var k=g,g=m,m=k;c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),g,m,10+(g-g)*f,10+(m-g)*f,16711808);c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).get_position(),(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,
10+((null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot-g)*f,16711808)}(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer)!=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_space().get_world()&&(m=b.zpp_inner_zn.phase+(null==b.zpp_inner_zn.b1?null:b.zpp_inner_zn.b1.outer).zpp_inner.rot,g=(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,g>m&&(k=g,g=m,m=k),c.constraint.ZPP_AngleDraw.drawSpiralSpring(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),
g,m,10+(g-g)*f,10+(m-g)*f,8388863),c.constraint.ZPP_AngleDraw.indicator(a,(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).get_position(),(null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot,10+((null==b.zpp_inner_zn.b2?null:b.zpp_inner_zn.b2.outer).zpp_inner.rot-g)*f,8388863))}a.drawFilledCircle(d,2,255);a.drawFilledCircle(h,2,16711680);d.dispose();h.dispose()},__class__:c.constraint.ZPP_WeldJoint});c.dynamics.ZPP_Arbiter=function(){this.colarb=this.fluidarb=this.sensorarb=
null;this.type=0;this.b1=this.b2=this.ws1=this.ws2=this.pair=null;this.invalidated=!1;this.immState=0;this.intchange=this.presentable=this.continuous=this.fresh=!1;this.present=0;this.active=this.cleared=this.sleeping=!1;this.id=this.di=this.stamp=this.up_stamp=this.sleep_stamp=this.endGenerated=0;this.outer=this.hnext=null};n["zpp_nape.dynamics.ZPP_Arbiter"]=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_Arbiter.__name__=["zpp_nape","dynamics","ZPP_Arbiter"];c.dynamics.ZPP_Arbiter.prototype={wrapper:function(){null==
this.outer&&(c.dynamics.ZPP_Arbiter.internal=!0,this.type==c.dynamics.ZPP_Arbiter.COL?(this.colarb.outer_zn=new g.dynamics.CollisionArbiter,this.outer=this.colarb.outer_zn):this.type==c.dynamics.ZPP_Arbiter.FLUID?(this.fluidarb.outer_zn=new g.dynamics.FluidArbiter,this.outer=this.fluidarb.outer_zn):this.outer=new g.dynamics.Arbiter,this.outer.zpp_inner=this,c.dynamics.ZPP_Arbiter.internal=!1);return this.outer},inactiveme:function(){return!this.active},acting:function(){return this.active&&0!=(this.immState&
c.util.ZPP_Flags.id_ImmState_ACCEPT)},swap_features:function(){var a=this.b1;this.b1=this.b2;this.b2=a;a=this.ws1;this.ws1=this.ws2;this.ws2=a;a=this.colarb.s1;this.colarb.s1=this.colarb.s2;this.colarb.s2=a},lazyRetire:function(a,b){this.cleared=!0;null!=b&&this.b2!=b||this.b1.arbiters.inlined_try_remove(this);null!=b&&this.b1!=b||this.b2.arbiters.inlined_try_remove(this);null!=this.pair&&(this.pair=this.pair.arb=null);this.active=!1;a.f_arbiters.modified=!0},sup_assign:function(a,b,d,c){this.b1=
a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1},sup_retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1},__class__:c.dynamics.ZPP_Arbiter};c.dynamics.ZPP_SensorArbiter=
function(){this.next=null;c.dynamics.ZPP_Arbiter.call(this);this.type=c.dynamics.ZPP_Arbiter.SENSOR;this.sensorarb=this};n["zpp_nape.dynamics.ZPP_SensorArbiter"]=c.dynamics.ZPP_SensorArbiter;c.dynamics.ZPP_SensorArbiter.__name__=["zpp_nape","dynamics","ZPP_SensorArbiter"];c.dynamics.ZPP_SensorArbiter.__super__=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_SensorArbiter.prototype=K(c.dynamics.ZPP_Arbiter.prototype,{alloc:function(){},free:function(){},assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=
b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1;this.next=c.dynamics.ZPP_SensorArbiter.zpp_pool;c.dynamics.ZPP_SensorArbiter.zpp_pool=this},
makemutable:function(){},makeimmutable:function(){},__class__:c.dynamics.ZPP_SensorArbiter});c.dynamics.ZPP_FluidArbiter=function(){this.pre_dt=0;this.mutable=!1;this.wrap_position=null;this.wMass=this.adamp=this.agamma=this.vMassa=this.vMassb=this.vMassc=this.dampx=this.dampy=this.lgamma=this.nx=this.ny=this.buoyx=this.buoyy=0;this.nodrag=!1;this.centroidx=this.centroidy=this.overlap=this.r1x=this.r1y=this.r2x=this.r2y=0;this.outer_zn=this.next=null;c.dynamics.ZPP_Arbiter.call(this);this.type=c.dynamics.ZPP_Arbiter.FLUID;
this.fluidarb=this;this.buoyy=this.buoyx=0;this.pre_dt=-1};n["zpp_nape.dynamics.ZPP_FluidArbiter"]=c.dynamics.ZPP_FluidArbiter;c.dynamics.ZPP_FluidArbiter.__name__=["zpp_nape","dynamics","ZPP_FluidArbiter"];c.dynamics.ZPP_FluidArbiter.__super__=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_FluidArbiter.prototype=K(c.dynamics.ZPP_Arbiter.prototype,{alloc:function(){},free:function(){},position_validate:function(){if(!this.active)throw"Error: Arbiter not currently in use";this.wrap_position.zpp_inner.x=this.centroidx;
this.wrap_position.zpp_inner.y=this.centroidy},position_invalidate:function(a){this.centroidx=a.x;this.centroidy=a.y},getposition:function(){this.wrap_position=g.geom.Vec2.get(null,null,null);this.wrap_position.zpp_inner._inuse=!0;this.wrap_position.zpp_inner._immutable=!this.mutable;this.wrap_position.zpp_inner._validate=B(this,this.position_validate);this.wrap_position.zpp_inner._invalidate=B(this,this.position_invalidate)},assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=
b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1;this.nx=0;this.ny=1;this.adamp=this.dampy=this.dampx=0},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;this.intchange=this.active=!1;this.next=c.dynamics.ZPP_FluidArbiter.zpp_pool;c.dynamics.ZPP_FluidArbiter.zpp_pool=
this;this.pre_dt=-1},makemutable:function(){this.mutable=!0;null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!1)},makeimmutable:function(){this.mutable=!1;null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!0)},inject:function(a,b,d){this.overlap=a;this.centroidx=b;this.centroidy=d},preStep:function(a,b){-1==this.pre_dt&&(this.pre_dt=b);var d=b/this.pre_dt;this.pre_dt=b;this.r1x=this.centroidx-this.b1.posx;this.r1y=this.centroidy-this.b1.posy;this.r2x=this.centroidx-
this.b2.posx;this.r2y=this.centroidy-this.b2.posy;var h=0,e=0;this.ws1.fluidEnabled&&null!=this.ws1.fluidProperties.wrap_gravity?(h=this.ws1.fluidProperties.gravityx,e=this.ws1.fluidProperties.gravityy):(h=a.gravityx,e=a.gravityy);var f=0,m=0;this.ws2.fluidEnabled&&null!=this.ws2.fluidProperties.wrap_gravity?(f=this.ws2.fluidProperties.gravityx,m=this.ws2.fluidProperties.gravityy):(f=a.gravityx,m=a.gravityy);var u=0,k=0;if(this.ws1.fluidEnabled&&this.ws2.fluidEnabled){var l=this.overlap*this.ws1.fluidProperties.density,
p=this.overlap*this.ws2.fluidProperties.density;if(l>p)f=l+p,u-=h*f,k-=e*f;else if(l<p)h=l+p,u+=f*h,k+=m*h;else{var n=0,q=0,n=0.5*(h+f),q=0.5*(e+m);this.ws1.worldCOMx*n+this.ws1.worldCOMy*q>this.ws2.worldCOMx*n+this.ws2.worldCOMy*q?(h=l+p,u-=n*h,k-=q*h):(h=l+p,u+=n*h,k+=q*h)}}else this.ws1.fluidEnabled?(f=this.overlap*this.ws1.fluidProperties.density,u-=h*f,k-=e*f):this.ws2.fluidEnabled&&(h=this.overlap*this.ws2.fluidProperties.density,u+=f*h,k+=m*h);u*=b;k*=b;this.buoyx=u;this.buoyy=k;this.b1.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(h=this.b1.imass,this.b1.velx-=u*h,this.b1.vely-=k*h,this.b1.angvel-=(k*this.r1x-u*this.r1y)*this.b1.iinertia);this.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(h=this.b2.imass,this.b2.velx+=u*h,this.b2.vely+=k*h,this.b2.angvel+=(k*this.r2x-u*this.r2y)*this.b2.iinertia);if(this.ws1.fluidEnabled&&0!=this.ws1.fluidProperties.viscosity||this.ws2.fluidEnabled&&0!=this.ws2.fluidProperties.viscosity){this.nodrag=!1;u=0;this.ws1.fluidEnabled&&(this.ws2.validate_angDrag(),
u+=this.ws1.fluidProperties.viscosity*this.ws2.angDrag*this.overlap/this.ws2.area);this.ws2.fluidEnabled&&(this.ws1.validate_angDrag(),u+=this.ws2.fluidProperties.viscosity*this.ws1.angDrag*this.overlap/this.ws1.area);0!=u?(k=this.b1.sinertia+this.b2.sinertia,this.wMass=0!=k?1/k:0,u=8E-4*u*Math.PI,this.agamma=1/(b*u*(2+u*b)),u=1/(1+this.agamma),this.agamma*=u,this.wMass*=u):this.agamma=this.wMass=0;u=this.b2.velx+this.b2.kinvelx-this.r2y*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-
this.r1y*(this.b2.angvel+this.b2.kinangvel));k=this.b2.vely+this.b2.kinvely+this.r2x*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.r1x*(this.b1.angvel+this.b1.kinangvel));u*u+k*k<g.Config.epsilon*g.Config.epsilon||(h=1/Math.sqrt(u*u+k*k),this.nx=u*h,this.ny=k*h);u=0;if(this.ws1.fluidEnabled)if(k=-this.ws1.fluidProperties.viscosity*this.overlap/this.ws2.area,this.ws2.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)u-=k*this.ws2.circle.radius*g.Config.fluidLinearDrag/(2*this.ws2.circle.radius*
Math.PI);else{e=h=0;for(f=this.ws2.polygon.edges.head;null!=f;)m=f.elt,h+=m.length,m=k*m.length*(m.gnormx*this.nx+m.gnormy*this.ny),0<m&&(m=m*=-g.Config.fluidVacuumDrag),e-=0.5*m*g.Config.fluidLinearDrag,f=f.next;u+=e/h}if(this.ws2.fluidEnabled)if(k=-this.ws2.fluidProperties.viscosity*this.overlap/this.ws1.area,this.ws1.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)u-=k*this.ws1.circle.radius*g.Config.fluidLinearDrag/(2*this.ws1.circle.radius*Math.PI);else{e=h=0;for(f=this.ws1.polygon.edges.head;null!=
f;)m=f.elt,h+=m.length,m=k*m.length*(m.gnormx*this.nx+m.gnormy*this.ny),0<m&&(m=m*=-g.Config.fluidVacuumDrag),e-=0.5*m*g.Config.fluidLinearDrag,f=f.next;u+=e/h}0!=u?(f=this.b1.smass+this.b2.smass,k=f,h=0,e=f,0!=this.b1.sinertia&&(f=this.r1x*this.b1.sinertia,m=this.r1y*this.b1.sinertia,k+=m*this.r1y,h+=-m*this.r1x,e+=f*this.r1x),0!=this.b2.sinertia&&(f=this.r2x*this.b2.sinertia,m=this.r2y*this.b2.sinertia,k+=m*this.r2y,h+=-m*this.r2x,e+=f*this.r2x),f=k*e-h*h,f!=f?(k=h=e=0,3):0==f?(f=0,0!=k?k=1/k:(k=
0,f|=1),0!=e?e=1/e:(e=0,f|=2),h=0,f):(f=1/f,m=e*f,e=k*f,k=m,h*=-f,0),this.vMassa=k,this.vMassb=h,this.vMassc=e,u=2*u*Math.PI,this.lgamma=1/(b*u*(2+u*b)),u=1/(1+this.lgamma),this.lgamma*=u,this.vMassa*=u,this.vMassb*=u,this.vMassc*=u):this.lgamma=this.vMassc=this.vMassb=this.vMassa=0}else this.nodrag=!0,this.adamp=this.dampy=this.dampx=0;this.dampx*=d;this.dampy*=d;this.adamp*=d},warmStart:function(){var a=this.b1.imass;this.b1.velx-=this.dampx*a;this.b1.vely-=this.dampy*a;a=this.b2.imass;this.b2.velx+=
this.dampx*a;this.b2.vely+=this.dampy*a;this.b1.angvel-=this.b1.iinertia*(this.dampy*this.r1x-this.dampx*this.r1y);this.b2.angvel+=this.b2.iinertia*(this.dampy*this.r2x-this.dampx*this.r2y);this.b1.angvel-=this.adamp*this.b1.iinertia;this.b2.angvel+=this.adamp*this.b2.iinertia},applyImpulseVel:function(){if(!this.nodrag){var a=this.b1.angvel+this.b1.kinangvel,b=this.b2.angvel+this.b2.kinangvel,d=this.b1.velx+this.b1.kinvelx-this.r1y*a-(this.b2.velx+this.b2.kinvelx-this.r2y*b),c=this.b1.vely+this.b1.kinvely+
this.r1x*a-(this.b2.vely+this.b2.kinvely+this.r2x*b),e=this.vMassa*d+this.vMassb*c,c=this.vMassb*d+this.vMassc*c,f=this.lgamma,d=e-this.dampx*f,c=c-this.dampy*f;this.dampx+=1*d;this.dampy+=1*c;e=this.b1.imass;this.b1.velx-=d*e;this.b1.vely-=c*e;e=this.b2.imass;this.b2.velx+=d*e;this.b2.vely+=c*e;this.b1.angvel-=this.b1.iinertia*(c*this.r1x-d*this.r1y);this.b2.angvel+=this.b2.iinertia*(c*this.r2x-d*this.r2y);a=(a-b)*this.wMass-this.adamp*this.agamma;this.adamp+=a;this.b1.angvel-=a*this.b1.iinertia;
this.b2.angvel+=a*this.b2.iinertia}},__class__:c.dynamics.ZPP_FluidArbiter});c.dynamics.ZPP_ColArbiter=function(){this.pre_dt=0;this.stat=this.mutable=!1;this.next=null;this.hc2=this.hpc2=!1;this.c1=this.oc1=this.c2=this.oc2=null;this.__ref_vertex=0;this.__ref_edge1=this.__ref_edge2=null;this.biasCoef=0;this.rev=!1;this.kMassa=this.kMassb=this.kMassc=this.Ka=this.Kb=this.Kc=this.rMass=this.jrAcc=this.rn1a=this.rt1a=this.rn1b=this.rt1b=this.rn2a=this.rt2a=this.rn2b=this.rt2b=this.k1x=this.k1y=this.k2x=
this.k2y=this.surfacex=this.surfacey=this.lnormx=this.lnormy=this.lproj=this.radius=0;this.wrap_normal=null;this.nx=this.ny=0;this.s1=this.s2=this.contacts=this.wrap_contacts=this.innards=null;this.userdef_dyn_fric=this.userdef_stat_fric=this.userdef_restitution=this.userdef_rfric=!1;this.dyn_fric=this.stat_fric=this.restitution=this.rfric=0;this.outer_zn=null;c.dynamics.ZPP_Arbiter.call(this);this.pre_dt=-1;this.contacts=new c.dynamics.ZPP_Contact;this.innards=new c.dynamics.ZPP_IContact;this.type=
c.dynamics.ZPP_Arbiter.COL;this.colarb=this};n["zpp_nape.dynamics.ZPP_ColArbiter"]=c.dynamics.ZPP_ColArbiter;c.dynamics.ZPP_ColArbiter.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"];c.dynamics.ZPP_ColArbiter.__super__=c.dynamics.ZPP_Arbiter;c.dynamics.ZPP_ColArbiter.prototype=K(c.dynamics.ZPP_Arbiter.prototype,{normal_validate:function(){if(this.cleared)throw"Error: Arbiter not currently in use";this.wrap_normal.zpp_inner.x=this.nx;this.wrap_normal.zpp_inner.y=this.ny;this.ws1.id>this.ws2.id&&
(this.wrap_normal.zpp_inner.x=-this.wrap_normal.zpp_inner.x,this.wrap_normal.zpp_inner.y=-this.wrap_normal.zpp_inner.y)},getnormal:function(){this.wrap_normal=g.geom.Vec2.get(0,0,null);this.wrap_normal.zpp_inner._immutable=!0;this.wrap_normal.zpp_inner._inuse=!0;this.wrap_normal.zpp_inner._validate=B(this,this.normal_validate)},alloc:function(){},free:function(){this.userdef_rfric=this.userdef_restitution=this.userdef_stat_fric=this.userdef_dyn_fric=!1;this.__ref_edge1=this.__ref_edge2=null},injectContact:function(a,
b,d,h,e,f,m){null==m&&(m=!1);for(var g=null,k=this.contacts.next;null!=k;){var l=k;if(f==l.hash){g=l;break}k=k.next}null==g?(null==c.dynamics.ZPP_Contact.zpp_pool?g=new c.dynamics.ZPP_Contact:(g=c.dynamics.ZPP_Contact.zpp_pool,c.dynamics.ZPP_Contact.zpp_pool=g.next,g.next=null),null,k=g.inner,k.jnAcc=k.jtAcc=0,g.hash=f,g.fresh=!0,g.arbiter=this,this.jrAcc=0,this.contacts.inlined_add(g),this.innards.add(k)):g.fresh=!1;g.px=a;g.py=b;this.nx=d;this.ny=h;g.dist=e;g.stamp=this.stamp;g.posOnly=m;return g},
assign:function(a,b,d,c){this.b1=a.body;this.ws1=a;this.b2=b.body;this.ws2=b;this.id=d;this.di=c;this.b1.arbiters.inlined_add(this);this.b2.arbiters.inlined_add(this);this.active=!0;this.present=0;this.presentable=this.fresh=this.sleeping=this.cleared=!1;this.s1=a;this.s2=b;this.userdef_restitution||(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=
Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1));this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},
calcProperties:function(){this.userdef_restitution||(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1));this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*
this.s2.material.dynamicFriction));this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction));this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},validate_props:function(){this.invalidated&&(this.invalidated=!1,this.userdef_restitution||(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=
Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*
this.s2.material.rollingFriction)))},retire:function(){this.cleared||(this.b1.arbiters.inlined_try_remove(this),this.b2.arbiters.inlined_try_remove(this),null!=this.pair&&(this.pair=this.pair.arb=null));this.b1=this.b2=null;for(this.intchange=this.active=!1;null!=this.contacts.next;){var a=this.contacts.inlined_pop_unsafe();a.arbiter=null;a.next=c.dynamics.ZPP_Contact.zpp_pool;c.dynamics.ZPP_Contact.zpp_pool=a;this.innards.inlined_pop()}this.userdef_rfric=this.userdef_restitution=this.userdef_stat_fric=
this.userdef_dyn_fric=!1;this.__ref_edge1=this.__ref_edge2=null;this.next=c.dynamics.ZPP_ColArbiter.zpp_pool;c.dynamics.ZPP_ColArbiter.zpp_pool=this;this.pre_dt=-1},makemutable:function(){this.mutable=!0;null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!1);null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=!1)},makeimmutable:function(){this.mutable=!1;null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!0);null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=
!0)},contacts_adder:function(a){throw"Error: Cannot add new contacts, information required is far too specific and detailed :)";},contacts_subber:function(a){for(var b=null,d=null,h=this.innards.next,e=this.contacts.next;null!=e;){var f=e;if(f==a.zpp_inner){this.contacts.erase(b);this.innards.erase(d);a=f;a.arbiter=null;a.next=c.dynamics.ZPP_Contact.zpp_pool;c.dynamics.ZPP_Contact.zpp_pool=a;break}b=e;d=h;h=h.next;e=e.next}},setupcontacts:function(){this.wrap_contacts=c.util.ZPP_ContactList.get(this.contacts,
!0);this.wrap_contacts.zpp_inner.immutable=!this.mutable;this.wrap_contacts.zpp_inner.adder=B(this,this.contacts_adder);this.wrap_contacts.zpp_inner.dontremove=!0;this.wrap_contacts.zpp_inner.subber=B(this,this.contacts_subber)},cleanupContacts:function(){var a=!0,b=null,d=null,h=this.innards.next;this.hc2=!1;for(var e=this.contacts.next;null!=e;){var f=e;f.stamp+g.Config.arbiterExpirationDelay<this.stamp?(e=this.contacts.inlined_erase(b),h=this.innards.inlined_erase(d),f.arbiter=null,f.next=c.dynamics.ZPP_Contact.zpp_pool,
c.dynamics.ZPP_Contact.zpp_pool=f):(b=f.inner,d=f.active,f.active=f.stamp==this.stamp,f.active&&(a?(a=!1,this.c1=b,this.oc1=f):(this.hc2=!0,this.c2=b,this.oc2=f)),d!=f.active&&(this.contacts.modified=!0),b=e,d=h,h=h.next,e=e.next)}this.hc2?(this.hpc2=!0,this.oc1.posOnly?(h=this.c1,this.c1=this.c2,this.c2=h,h=this.oc1,this.oc1=this.oc2,this.oc2=h,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&(a=!0)):this.hpc2=!1;return a},preStep:function(a){this.invalidated&&(this.invalidated=!1,
this.userdef_restitution||(this.restitution=this.s1.material.elasticity<=Math.NEGATIVE_INFINITY||this.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:this.s1.material.elasticity>=Math.POSITIVE_INFINITY||this.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(this.s1.material.elasticity+this.s2.material.elasticity)/2,0>this.restitution&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),
this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction)));-1==this.pre_dt&&(this.pre_dt=a);var b=a/this.pre_dt;this.pre_dt=a;var d=this.b1.smass+this.b2.smass;this.hc2=!1;a=!0;this.biasCoef=this.b1.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.b2.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC?this.continuous?g.Config.contactContinuousStaticBiasCoef:
g.Config.contactStaticBiasCoef:this.continuous?g.Config.contactContinuousBiasCoef:g.Config.contactBiasCoef;this.continuous=!1;for(var h=null,e=null,f=this.innards.next,m=this.contacts.next;null!=m;){var u=m;if(u.stamp+g.Config.arbiterExpirationDelay<this.stamp)m=this.contacts.inlined_erase(h),f=this.innards.inlined_erase(e),u.arbiter=null,u.next=c.dynamics.ZPP_Contact.zpp_pool,c.dynamics.ZPP_Contact.zpp_pool=u;else{h=u.inner;e=u.active;u.active=u.stamp==this.stamp;if(u.active){a?(a=!1,this.c1=h,this.oc1=
u):(this.hc2=!0,this.c2=h,this.oc2=u);h.r2x=u.px-this.b2.posx;h.r2y=u.py-this.b2.posy;h.r1x=u.px-this.b1.posx;h.r1y=u.py-this.b1.posy;var k=d+this.b2.sinertia*c.util.ZPP_Math.sqr(h.r2x*this.nx+h.r2y*this.ny),k=k+this.b1.sinertia*c.util.ZPP_Math.sqr(h.r1x*this.nx+h.r1y*this.ny);h.tMass=k<g.Config.epsilon*g.Config.epsilon?0:1/k;k=d+this.b2.sinertia*c.util.ZPP_Math.sqr(this.ny*h.r2x-this.nx*h.r2y);k+=this.b1.sinertia*c.util.ZPP_Math.sqr(this.ny*h.r1x-this.nx*h.r1y);h.nMass=k<g.Config.epsilon*g.Config.epsilon?
0:1/k;var l=0,p=this.b2.angvel+this.b2.kinangvel,k=this.b2.velx+this.b2.kinvelx-h.r2y*p,l=this.b2.vely+this.b2.kinvely+h.r2x*p,p=this.b1.angvel+this.b1.kinangvel,k=k-(this.b1.velx+this.b1.kinvelx-h.r1y*p),l=l-(this.b1.vely+this.b1.kinvely+h.r1x*p),p=this.nx*k+this.ny*l;u.elasticity=this.restitution;h.bounce=p*u.elasticity;h.bounce>-g.Config.elasticThreshold&&(h.bounce=0);p=l*this.nx-k*this.ny;k=g.Config.staticFrictionThreshold;h.friction=p*p>k*k?this.dyn_fric:this.stat_fric;h.jnAcc*=b;h.jtAcc*=b}e!=
u.active&&(this.contacts.modified=!0);h=m;e=f;f=f.next;m=m.next}}this.hc2?(this.hpc2=!0,this.oc1.posOnly?(f=this.c1,this.c1=this.c2,this.c2=f,f=this.oc1,this.oc1=this.oc2,this.oc2=f,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&(a=!0)):this.hpc2=!1;this.jrAcc*=b;a||(this.rn1a=this.ny*this.c1.r1x-this.nx*this.c1.r1y,this.rt1a=this.c1.r1x*this.nx+this.c1.r1y*this.ny,this.rn1b=this.ny*this.c1.r2x-this.nx*this.c1.r2y,this.rt1b=this.c1.r2x*this.nx+this.c1.r2y*this.ny,this.k1x=this.b2.kinvelx-
this.c1.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c1.r1y*this.b1.kinangvel),this.k1y=this.b2.kinvely+this.c1.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c1.r1x*this.b1.kinangvel));this.hc2&&(this.rn2a=this.ny*this.c2.r1x-this.nx*this.c2.r1y,this.rt2a=this.c2.r1x*this.nx+this.c2.r1y*this.ny,this.rn2b=this.ny*this.c2.r2x-this.nx*this.c2.r2y,this.rt2b=this.c2.r2x*this.nx+this.c2.r2y*this.ny,this.k2x=this.b2.kinvelx-this.c2.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c2.r1y*this.b1.kinangvel),this.k2y=
this.b2.kinvely+this.c2.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c2.r1x*this.b1.kinangvel),this.kMassa=d+this.b1.sinertia*this.rn1a*this.rn1a+this.b2.sinertia*this.rn1b*this.rn1b,this.kMassb=d+this.b1.sinertia*this.rn1a*this.rn2a+this.b2.sinertia*this.rn1b*this.rn2b,this.kMassc=d+this.b1.sinertia*this.rn2a*this.rn2a+this.b2.sinertia*this.rn2b*this.rn2b,this.kMassa*this.kMassa+2*this.kMassb*this.kMassb+this.kMassc*this.kMassc<g.Config.illConditionedThreshold*(this.kMassa*this.kMassc-this.kMassb*
this.kMassb)?(this.Ka=this.kMassa,this.Kb=this.kMassb,this.Kc=this.kMassc,b=this.kMassa*this.kMassc-this.kMassb*this.kMassb,b!=b?(this.kMassa=this.kMassb=this.kMassc=0,3):0==b?(b=0,0!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,b|=1),0!=this.kMassc?this.kMassc=1/this.kMassc:(this.kMassc=0,b|=2),this.kMassb=0,b):(b=1/b,d=this.kMassc*b,this.kMassc=this.kMassa*b,this.kMassa=d,this.kMassb*=-b,0)):(this.hc2=!1,this.oc2.dist<this.oc1.dist&&(b=this.c1,this.c1=this.c2,this.c2=b),this.oc2.active=
!1,this.contacts.modified=!0));this.surfacex=this.b2.svelx;this.surfacey=this.b2.svely;this.surfacex+=1*this.b1.svelx;this.surfacey+=1*this.b1.svely;this.surfacex=-this.surfacex;this.surfacey=-this.surfacey;this.rMass=this.b1.sinertia+this.b2.sinertia;0!=this.rMass&&(this.rMass=1/this.rMass);return a},warmStart:function(){var a=this.nx*this.c1.jnAcc-this.ny*this.c1.jtAcc,b=this.ny*this.c1.jnAcc+this.nx*this.c1.jtAcc,d=this.b1.imass;this.b1.velx-=a*d;this.b1.vely-=b*d;this.b1.angvel-=this.b1.iinertia*
(b*this.c1.r1x-a*this.c1.r1y);d=this.b2.imass;this.b2.velx+=a*d;this.b2.vely+=b*d;this.b2.angvel+=this.b2.iinertia*(b*this.c1.r2x-a*this.c1.r2y);this.hc2&&(a=this.nx*this.c2.jnAcc-this.ny*this.c2.jtAcc,b=this.ny*this.c2.jnAcc+this.nx*this.c2.jtAcc,d=this.b1.imass,this.b1.velx-=a*d,this.b1.vely-=b*d,this.b1.angvel-=this.b1.iinertia*(b*this.c2.r1x-a*this.c2.r1y),d=this.b2.imass,this.b2.velx+=a*d,this.b2.vely+=b*d,this.b2.angvel+=this.b2.iinertia*(b*this.c2.r2x-a*this.c2.r2y));this.b2.angvel+=this.jrAcc*
this.b2.iinertia;this.b1.angvel-=this.jrAcc*this.b1.iinertia},applyImpulseVel:function(){var a,b,d,c,e;c=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel);var f=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel);d=(f*this.nx-c*this.ny+this.surfacex)*this.c1.tMass;c=this.c1.friction*this.c1.jnAcc;a=this.c1.jtAcc;e=a-d;e>c?e=c:e<-c&&(e=-c);d=e-a;this.c1.jtAcc=e;a=-this.ny*d;b=this.nx*d;this.b2.velx+=a*this.b2.imass;this.b2.vely+=
b*this.b2.imass;this.b1.velx-=a*this.b1.imass;this.b1.vely-=b*this.b1.imass;this.b2.angvel+=this.rt1b*d*this.b2.iinertia;this.b1.angvel-=this.rt1a*d*this.b1.iinertia;this.hc2?(e=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),b=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),d=(b*this.nx-e*this.ny+this.surfacex)*this.c2.tMass,c=this.c2.friction*this.c2.jnAcc,a=this.c2.jtAcc,e=a-d,e>c?e=c:e<-c&&(e=-c),d=e-a,this.c2.jtAcc=
e,a=-this.ny*d,b=this.nx*d,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=this.rt2b*d*this.b2.iinertia,this.b1.angvel-=this.rt2a*d*this.b1.iinertia,c=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),f=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),e=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),
b=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),d=this.c1.jnAcc,a=this.c2.jnAcc,c=c*this.nx+f*this.ny+this.surfacey+this.c1.bounce-(this.Ka*d+this.Kb*a),e=e*this.nx+b*this.ny+this.surfacey+this.c2.bounce-(this.Kb*d+this.Kc*a),b=-(this.kMassa*c+this.kMassb*e),f=-(this.kMassb*c+this.kMassc*e),0<=b&&0<=f?(c=b-d,e=f-a,this.c1.jnAcc=b,this.c2.jnAcc=f):(b=-this.c1.nMass*c,0<=b&&0<=this.Kb*b+e?(c=b-d,e=-a,this.c1.jnAcc=b,this.c2.jnAcc=0):(f=-this.c2.nMass*e,0<=
f&&0<=this.Kb*f+c?(c=-d,e=f-a,this.c1.jnAcc=0,this.c2.jnAcc=f):0<=c&&0<=e?(c=-d,e=-a,this.c1.jnAcc=this.c2.jnAcc=0):e=c=0)),d=c+e,a=this.nx*d,b=this.ny*d,this.b2.velx+=a*this.b2.imass,this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=(this.rn1b*c+this.rn2b*e)*this.b2.iinertia,this.b1.angvel-=(this.rn1a*c+this.rn2a*e)*this.b1.iinertia):(0!=this.radius&&(d=(this.b2.angvel-this.b1.angvel)*this.rMass,c=this.rfric*this.c1.jnAcc,a=this.jrAcc,this.jrAcc-=
d,this.jrAcc>c?this.jrAcc=c:this.jrAcc<-c&&(this.jrAcc=-c),d=this.jrAcc-a,this.b2.angvel+=d*this.b2.iinertia,this.b1.angvel-=d*this.b1.iinertia),c=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),f=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),d=(this.c1.bounce+(this.nx*c+this.ny*f)+this.surfacey)*this.c1.nMass,a=this.c1.jnAcc,e=a-d,0>e&&(e=0),d=e-a,this.c1.jnAcc=e,a=this.nx*d,b=this.ny*d,this.b2.velx+=a*this.b2.imass,
this.b2.vely+=b*this.b2.imass,this.b1.velx-=a*this.b1.imass,this.b1.vely-=b*this.b1.imass,this.b2.angvel+=this.rn1b*d*this.b2.iinertia,this.b1.angvel-=this.rn1a*d*this.b1.iinertia)},applyImpulsePos:function(){if(2==this.ptype){var a=this.c1,b=0,d=0,b=this.b2.axisy*a.lr2x-this.b2.axisx*a.lr2y,d=a.lr2x*this.b2.axisx+a.lr2y*this.b2.axisy,b=b+1*this.b2.posx,d=d+1*this.b2.posy,c=0,e=0,c=this.b1.axisy*a.lr1x-this.b1.axisx*a.lr1y,e=a.lr1x*this.b1.axisx+a.lr1y*this.b1.axisy,c=c+1*this.b1.posx,e=e+1*this.b1.posy,
f=0,a=b-c,f=d-e,m=Math.sqrt(a*a+f*f),u=this.radius-g.Config.collisionSlop,k=m-u;0>a*this.nx+f*this.ny&&(a=-a,f=-f,k-=this.radius);0>k&&(m<g.Config.epsilon?0!=this.b1.smass?this.b1.posx+=10*g.Config.epsilon:this.b2.posx+=10*g.Config.epsilon:(k=1/m,a*=k,f*=k,b=0.5*(c+b),d=0.5*(e+d),c=b-this.b1.posx,e=d-this.b1.posy,b-=this.b2.posx,d-=this.b2.posy,c=f*c-a*e,b=f*b-a*d,d=this.b2.smass+b*b*this.b2.sinertia+this.b1.smass+c*c*this.b1.sinertia,0!=d&&(m=-this.biasCoef*(m-u)/d,u=a*m,d=f*m,a=this.b1.imass,this.b1.posx-=
u*a,this.b1.posy-=d*a,this.b1.delta_rot(-c*this.b1.iinertia*m),a=this.b2.imass,this.b2.posx+=u*a,this.b2.posy+=d*a,this.b2.delta_rot(b*this.b2.iinertia*m))))}else{var l=k=f=a=0,e=u=0;0==this.ptype?(a=this.b1.axisy*this.lnormx-this.b1.axisx*this.lnormy,f=this.lnormx*this.b1.axisx+this.lnormy*this.b1.axisy,m=this.lproj+(a*this.b1.posx+f*this.b1.posy),k=this.b2.axisy*this.c1.lr1x-this.b2.axisx*this.c1.lr1y,l=this.c1.lr1x*this.b2.axisx+this.c1.lr1y*this.b2.axisy,k+=1*this.b2.posx,l+=1*this.b2.posy,this.hpc2&&
(u=this.b2.axisy*this.c2.lr1x-this.b2.axisx*this.c2.lr1y,e=this.c2.lr1x*this.b2.axisx+this.c2.lr1y*this.b2.axisy,u+=1*this.b2.posx,e+=1*this.b2.posy)):(a=this.b2.axisy*this.lnormx-this.b2.axisx*this.lnormy,f=this.lnormx*this.b2.axisx+this.lnormy*this.b2.axisy,m=this.lproj+(a*this.b2.posx+f*this.b2.posy),k=this.b1.axisy*this.c1.lr1x-this.b1.axisx*this.c1.lr1y,l=this.c1.lr1x*this.b1.axisx+this.c1.lr1y*this.b1.axisy,k+=1*this.b1.posx,l+=1*this.b1.posy,this.hpc2&&(u=this.b1.axisy*this.c2.lr1x-this.b1.axisx*
this.c2.lr1y,e=this.c2.lr1x*this.b1.axisx+this.c2.lr1y*this.b1.axisy,u+=1*this.b1.posx,e+=1*this.b1.posy));b=k*a+l*f-m-this.radius;b+=g.Config.collisionSlop;d=0;this.hpc2&&(d=u*a+e*f-m-this.radius,d+=g.Config.collisionSlop);if(0>b||0>d){this.rev&&(a=-a,f=-f);var p=0,n=0,p=k-this.b1.posx,n=l-this.b1.posy,m=k-this.b2.posx,c=l-this.b2.posy,q=0,r=0;if(this.hpc2){q=u-this.b1.posx;r=e-this.b1.posy;k=u-this.b2.posx;l=e-this.b2.posy;u=f*p-a*n;m=f*m-a*c;e=f*q-a*r;c=f*k-a*l;k=this.b1.smass+this.b2.smass;this.kMassa=
k+this.b1.sinertia*u*u+this.b2.sinertia*m*m;this.kMassb=k+this.b1.sinertia*u*e+this.b2.sinertia*m*c;this.kMassc=k+this.b1.sinertia*e*e+this.b2.sinertia*c*c;p=this.kMassa;k=this.kMassb;l=this.kMassc;n=b*this.biasCoef;q=d*this.biasCoef;b=-n;d=-q;r=this.kMassa*this.kMassc-this.kMassb*this.kMassb;if(r!=r)b=d=0;else if(0==r)b=0!=this.kMassa?b/this.kMassa:0,d=0!=this.kMassc?d/this.kMassc:0;else var r=1/r,s=r*(this.kMassc*b-this.kMassb*d),d=r*(this.kMassa*d-this.kMassb*b),b=s;0<=b&&0<=d?(k=(b+d)*this.b1.imass,
this.b1.posx-=a*k,this.b1.posy-=f*k,this.b1.delta_rot(-this.b1.iinertia*(u*b+e*d)),u=(b+d)*this.b2.imass,this.b2.posx+=a*u,this.b2.posy+=f*u,this.b2.delta_rot(this.b2.iinertia*(m*b+c*d))):(b=-n/p,d=0,p=k*b+q,0<=b&&0<=p?(k=(b+d)*this.b1.imass,this.b1.posx-=a*k,this.b1.posy-=f*k,this.b1.delta_rot(-this.b1.iinertia*(u*b+e*d)),u=(b+d)*this.b2.imass,this.b2.posx+=a*u,this.b2.posy+=f*u,this.b2.delta_rot(this.b2.iinertia*(m*b+c*d))):(b=0,d=-q/l,k=k*d+n,0<=d&&0<=k&&(k=(b+d)*this.b1.imass,this.b1.posx-=a*
k,this.b1.posy-=f*k,this.b1.delta_rot(-this.b1.iinertia*(u*b+e*d)),u=(b+d)*this.b2.imass,this.b2.posx+=a*u,this.b2.posy+=f*u,this.b2.delta_rot(this.b2.iinertia*(m*b+c*d)))))}else u=f*p-a*n,m=f*m-a*c,d=this.b2.smass+m*m*this.b2.sinertia+this.b1.smass+u*u*this.b1.sinertia,0!=d&&(b=-this.biasCoef*b/d,d=a*b,c=f*b,a=this.b1.imass,this.b1.posx-=d*a,this.b1.posy-=c*a,this.b1.delta_rot(-u*this.b1.iinertia*b),a=this.b2.imass,this.b2.posx+=d*a,this.b2.posy+=c*a,this.b2.delta_rot(m*this.b2.iinertia*b))}}},__class__:c.dynamics.ZPP_ColArbiter});
c.dynamics.ZPP_Contact=function(){this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.dist=this.elasticity=0;this.fresh=!1;this.stamp=this.hash=0;this.active=this.posOnly=!1;this.wrap_position=this.arbiter=this.inner=null;this.px=this.py=0;this.outer=null;this.inner=new c.dynamics.ZPP_IContact};n["zpp_nape.dynamics.ZPP_Contact"]=c.dynamics.ZPP_Contact;c.dynamics.ZPP_Contact.__name__=["zpp_nape","dynamics","ZPP_Contact"];c.dynamics.ZPP_Contact.prototype={wrapper:function(){null==
this.outer&&(c.dynamics.ZPP_Contact.internal=!0,this.outer=new g.dynamics.Contact,c.dynamics.ZPP_Contact.internal=!1,this.outer.zpp_inner=this);return this.outer},position_validate:function(){if(this.inactiveme())throw"Error: Contact not currently in use";this.wrap_position.zpp_inner.x=this.px;this.wrap_position.zpp_inner.y=this.py},getposition:function(){this.wrap_position=g.geom.Vec2.get(null,null,null);this.wrap_position.zpp_inner._inuse=!0;this.wrap_position.zpp_inner._immutable=!0;this.wrap_position.zpp_inner._validate=
B(this,this.position_validate)},inactiveme:function(){return!(this.active&&null!=this.arbiter&&this.arbiter.active)},free:function(){this.arbiter=null},alloc:function(){},elem:function(){return this},begin:function(){return this.next},setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();
return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&
(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},__class__:c.dynamics.ZPP_Contact};c.dynamics.ZPP_IContact=function(){this.length=0;this._inuse=this.modified=this.pushmod=!1;this.next=null;this.r1x=this.r1y=
this.r2x=this.r2y=this.nMass=this.tMass=this.bounce=this.friction=this.jnAcc=this.jtAcc=this.lr1x=this.lr1y=this.lr2x=this.lr2y=0};n["zpp_nape.dynamics.ZPP_IContact"]=c.dynamics.ZPP_IContact;c.dynamics.ZPP_IContact.__name__=["zpp_nape","dynamics","ZPP_IContact"];c.dynamics.ZPP_IContact.prototype={elem:function(){return this},begin:function(){return this.next},setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=
!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=
!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},
erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=
this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},__class__:c.dynamics.ZPP_IContact};
c.dynamics.ZPP_InteractionGroup=function(){this.depth=0;this.group=this.groups=this.wrap_groups=this.interactors=this.wrap_interactors=null;this.ignore=!1;this.outer=null;this.depth=0;this.groups=new c.util.ZNPList_ZPP_InteractionGroup;this.interactors=new c.util.ZNPList_ZPP_Interactor};n["zpp_nape.dynamics.ZPP_InteractionGroup"]=c.dynamics.ZPP_InteractionGroup;c.dynamics.ZPP_InteractionGroup.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"];c.dynamics.ZPP_InteractionGroup.prototype={setGroup:function(a){this.group!=
a&&(null!=this.group&&(this.group.groups.remove(this),this.depth=0,this.group.invalidate(!0)),this.group=a,null!=a?(a.groups.add(this),this.depth=a.depth+1,a.invalidate(!0)):this.invalidate(!0))},invalidate:function(a){null==a&&(a=!1);if(a||this.ignore){for(var b=this.interactors.head;null!=b;){var d=b.elt;null!=d.ibody?d.ibody.wake():null!=d.ishape?d.ishape.body.wake():d.icompound.wake();b=b.next}for(b=this.groups.head;null!=b;)b.elt.invalidate(a),b=b.next}},addGroup:function(a){this.groups.add(a);
a.depth=this.depth+1},remGroup:function(a){this.groups.remove(a);a.depth=0},addInteractor:function(a){this.interactors.add(a)},remInteractor:function(a,b){this.interactors.remove(a)},__class__:c.dynamics.ZPP_InteractionGroup};c.dynamics.ZPP_SpaceArbiterList=function(){this.at_index_0=this.at_index_1=this.at_index_2=this.at_index_3=0;this.lengths=this.ite_0=this.ite_1=this.ite_2=this.ite_3=null;this.zip_length=!1;this._length=0;this.space=null;g.dynamics.ArbiterList.call(this);this.at_index_3=this.at_index_2=
this.at_index_1=this.at_index_0=0;this.zip_length=!0;this._length=0;this.lengths=[];for(var a=0;4>a;)a++,this.lengths.push(0)};n["zpp_nape.dynamics.ZPP_SpaceArbiterList"]=c.dynamics.ZPP_SpaceArbiterList;c.dynamics.ZPP_SpaceArbiterList.__name__=["zpp_nape","dynamics","ZPP_SpaceArbiterList"];c.dynamics.ZPP_SpaceArbiterList.__super__=g.dynamics.ArbiterList;c.dynamics.ZPP_SpaceArbiterList.prototype=K(g.dynamics.ArbiterList.prototype,{zpp_gl:function(){this.zpp_vm();if(this.zip_length){for(var a=this._length=
0,b=0,d=this.space.c_arbiters_true.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;b=0;for(d=this.space.c_arbiters_false.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;b=0;for(d=this.space.f_arbiters.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;b=0;for(d=this.space.s_arbiters.head;null!=d;)d.elt.active&&b++,d=d.next;this.lengths[a++]=b;this._length+=b;this.zip_length=!1}return this._length},zpp_vm:function(){var a=
!1;this.space.c_arbiters_true.modified&&(a=!0,this.space.c_arbiters_true.modified=!1);this.space.c_arbiters_false.modified&&(a=!0,this.space.c_arbiters_false.modified=!1);this.space.f_arbiters.modified&&(a=!0,this.space.f_arbiters.modified=!1);this.space.s_arbiters.modified&&(a=!0,this.space.s_arbiters.modified=!1);a&&(this.zip_length=!0,this._length=0,this.ite_3=this.ite_2=this.ite_1=this.ite_0=null)},push:function(a){throw"Error: ArbiterList is immutable";},pop:function(){throw"Error: ArbiterList is immutable";
},unshift:function(a){throw"Error: ArbiterList is immutable";},shift:function(){throw"Error: ArbiterList is immutable";},remove:function(a){throw"Error: ArbiterList is immutable";},clear:function(){throw"Error: ArbiterList is immutable";},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";var b=null,d=0;if(null==b)if(a<d+this.lengths[0]){b=a-d;if(b<this.at_index_0||null==this.ite_0)for(this.at_index_0=0,this.ite_0=this.space.c_arbiters_true.head;!this.ite_0.elt.active;)this.ite_0=
this.ite_0.next;for(;this.at_index_0!=b;)for(this.at_index_0++,this.ite_0=this.ite_0.next;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next;b=this.ite_0.elt.wrapper()}else d+=this.lengths[0];if(null==b)if(a<d+this.lengths[1]){b=a-d;if(b<this.at_index_1||null==this.ite_1)for(this.at_index_1=0,this.ite_1=this.space.c_arbiters_false.head;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next;for(;this.at_index_1!=b;)for(this.at_index_1++,this.ite_1=this.ite_1.next;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next;
b=this.ite_1.elt.wrapper()}else d+=this.lengths[1];if(null==b)if(a<d+this.lengths[2]){b=a-d;if(b<this.at_index_2||null==this.ite_2)for(this.at_index_2=0,this.ite_2=this.space.f_arbiters.head;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next;for(;this.at_index_2!=b;)for(this.at_index_2++,this.ite_2=this.ite_2.next;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next;b=this.ite_2.elt.wrapper()}else d+=this.lengths[2];if(null==b&&a<d+this.lengths[3]){a-=d;if(a<this.at_index_3||null==this.ite_3)for(this.at_index_3=
0,this.ite_3=this.space.s_arbiters.head;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next;for(;this.at_index_3!=a;)for(this.at_index_3++,this.ite_3=this.ite_3.next;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next;b=this.ite_3.elt.wrapper()}return b},__class__:c.dynamics.ZPP_SpaceArbiterList});c.geom.ZPP_AABB=function(){this.wrap_max=null;this.maxx=this.maxy=0;this.wrap_min=null;this.minx=this.miny=0;this.outer=this.next=null;this._immutable=!1;this._invalidate=this._validate=null};n["zpp_nape.geom.ZPP_AABB"]=
c.geom.ZPP_AABB;c.geom.ZPP_AABB.__name__=["zpp_nape","geom","ZPP_AABB"];c.geom.ZPP_AABB.get=function(a,b,d,h){var e;null==c.geom.ZPP_AABB.zpp_pool?e=new c.geom.ZPP_AABB:(e=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=e.next,e.next=null);null;e.minx=a;e.miny=b;e.maxx=d;e.maxy=h;return e};c.geom.ZPP_AABB.prototype={validate:function(){null!=this._validate&&this._validate()},invalidate:function(){null!=this._invalidate&&this._invalidate(this)},wrapper:function(){if(null==this.outer){this.outer=
new g.geom.AABB;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a.wrap_min=a.wrap_max=null;a._invalidate=null;a._validate=null;a.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},alloc:function(){},free:function(){null!=this.outer&&(this.outer=this.outer.zpp_inner=null);this._validate=this._invalidate=this.wrap_min=this.wrap_max=null},copy:function(){return c.geom.ZPP_AABB.get(this.minx,this.miny,this.maxx,this.maxy)},
width:function(){return this.maxx-this.minx},height:function(){return this.maxy-this.miny},perimeter:function(){return 2*(this.maxx-this.minx+(this.maxy-this.miny))},getmin:function(){null==this.wrap_min&&(this.wrap_min=g.geom.Vec2.get(this.minx,this.miny,null),this.wrap_min.zpp_inner._inuse=!0,this._immutable?this.wrap_min.zpp_inner._immutable=!0:this.wrap_min.zpp_inner._invalidate=B(this,this.mod_min),this.wrap_min.zpp_inner._validate=B(this,this.dom_min));return this.wrap_min},dom_min:function(){null!=
this._validate&&this._validate();this.wrap_min.zpp_inner.x=this.minx;this.wrap_min.zpp_inner.y=this.miny},mod_min:function(a){if(a.x!=this.minx||a.y!=this.miny)this.minx=a.x,this.miny=a.y,null!=this._invalidate&&this._invalidate(this)},getmax:function(){null==this.wrap_max&&(this.wrap_max=g.geom.Vec2.get(this.maxx,this.maxy,null),this.wrap_max.zpp_inner._inuse=!0,this._immutable?this.wrap_max.zpp_inner._immutable=!0:this.wrap_max.zpp_inner._invalidate=B(this,this.mod_max),this.wrap_max.zpp_inner._validate=
B(this,this.dom_max));return this.wrap_max},dom_max:function(){null!=this._validate&&this._validate();this.wrap_max.zpp_inner.x=this.maxx;this.wrap_max.zpp_inner.y=this.maxy},mod_max:function(a){if(a.x!=this.maxx||a.y!=this.maxy)this.maxx=a.x,this.maxy=a.y,null!=this._invalidate&&this._invalidate(this)},intersectX:function(a){return!(a.minx>this.maxx||this.minx>a.maxx)},intersectY:function(a){return!(a.miny>this.maxy||this.miny>a.maxy)},intersect:function(a){return a.miny<=this.maxy&&this.miny<=a.maxy&&
a.minx<=this.maxx&&this.minx<=a.maxx},combine:function(a){a.minx<this.minx&&(this.minx=a.minx);a.maxx>this.maxx&&(this.maxx=a.maxx);a.miny<this.miny&&(this.miny=a.miny);a.maxy>this.maxy&&(this.maxy=a.maxy)},contains:function(a){return a.minx>=this.minx&&a.miny>=this.miny&&a.maxx<=this.maxx&&a.maxy<=this.maxy},containsPoint:function(a){return a.x>=this.minx&&a.x<=this.maxx&&a.y>=this.miny&&a.y<=this.maxy},setCombine:function(a,b){this.minx=a.minx<b.minx?a.minx:b.minx;this.miny=a.miny<b.miny?a.miny:
b.miny;this.maxx=a.maxx>b.maxx?a.maxx:b.maxx;this.maxy=a.maxy>b.maxy?a.maxy:b.maxy},setExpand:function(a,b){this.minx=a.minx-b;this.miny=a.miny-b;this.maxx=a.maxx+b;this.maxy=a.maxy+b},setExpandPoint:function(a,b){a<this.minx&&(this.minx=a);a>this.maxx&&(this.maxx=a);b<this.miny&&(this.miny=b);b>this.maxy&&(this.maxy=b)},toString:function(){return"{ x: "+this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+" h: "+(this.maxy-this.miny)+" }"},__class__:c.geom.ZPP_AABB};c.util.ZNPList_ZPP_Vec2=function(){this.length=
0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Vec2"]=c.util.ZNPList_ZPP_Vec2;c.util.ZNPList_ZPP_Vec2.__name__=["zpp_nape","util","ZNPList_ZPP_Vec2"];c.util.ZNPList_ZPP_Vec2.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Vec2.zpp_pool?b=new c.util.ZNPNode_ZPP_Vec2:(b=c.util.ZNPNode_ZPP_Vec2.zpp_pool,c.util.ZNPNode_ZPP_Vec2.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Vec2.zpp_pool?d=new c.util.ZNPNode_ZPP_Vec2:(d=c.util.ZNPNode_ZPP_Vec2.zpp_pool,c.util.ZNPNode_ZPP_Vec2.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=
this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Vec2.zpp_pool;c.util.ZNPNode_ZPP_Vec2.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,
c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;
a.next=c.util.ZNPNode_ZPP_Vec2.zpp_pool;c.util.ZNPNode_ZPP_Vec2.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==
this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Vec2};c.geom.ZPP_Collide=
function(){};n["zpp_nape.geom.ZPP_Collide"]=c.geom.ZPP_Collide;c.geom.ZPP_Collide.__name__=["zpp_nape","geom","ZPP_Collide"];c.geom.ZPP_Collide.circleContains=function(a,b){var d=0,c=0,d=b.x-a.worldCOMx,c=b.y-a.worldCOMy;return d*d+c*c<a.radius*a.radius};c.geom.ZPP_Collide.polyContains=function(a,b){var d;d=!0;for(var c=a.edges.head;null!=c;){var e=c.elt;if(e.gnormx*b.x+e.gnormy*b.y<=e.gprojection)c=c.next;else{d=!1;break}}return d};c.geom.ZPP_Collide.shapeContains=function(a,b){return a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
c.geom.ZPP_Collide.circleContains(a.circle,b):c.geom.ZPP_Collide.polyContains(a.polygon,b)};c.geom.ZPP_Collide.bodyContains=function(a,b){var d;d=!1;for(var h=a.shapes.head;null!=h;){if(c.geom.ZPP_Collide.shapeContains(h.elt,b)){d=!0;break}h=h.next}return d};c.geom.ZPP_Collide.containTest=function(a,b){if(a.aabb.contains(b.aabb)){if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){if(b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var d=a.circle.radius+-b.circle.radius,h=0,e=0,h=b.circle.worldCOMx-a.circle.worldCOMx,
e=b.circle.worldCOMy-a.circle.worldCOMy;return h*h+e*e<=d*d}d=!0;for(h=b.polygon.gverts.next;null!=h;){var f=h;if(function(b){b=a.circle.radius;var d=0,c=0,d=f.x-a.circle.worldCOMx,c=f.y-a.circle.worldCOMy;return d*d+c*c<=b*b}(this))h=h.next;else{d=!1;break}}return d}if(b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){d=!0;for(h=a.polygon.edges.head;null!=h;)if(e=h.elt,e.gnormx*b.circle.worldCOMx+e.gnormy*b.circle.worldCOMy+b.circle.radius<=e.gprojection)h=h.next;else{d=!1;break}return d}d=!0;for(h=
a.polygon.edges.head;null!=h;){var m=h.elt;if(function(a){a=-1E100;for(var d=b.polygon.gverts.next;null!=d;){var c=d,c=m.gnormx*c.x+m.gnormy*c.y;c>a&&(a=c);d=d.next}return a<=m.gprojection}(this))h=h.next;else{d=!1;break}}return d}return!1};c.geom.ZPP_Collide.contactCollide=function(a,b,d,h){if(b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON)if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){for(var e=!0,f=-1E100,m=-1,k=null,l=null,n=a.polygon.edges.head;null!=n;){for(var p=n.elt,v=1E100,q=b.polygon.gverts.next;null!=
q;){var r=q,r=p.gnormx*r.x+p.gnormy*r.y;r<v&&(v=r);if(v-p.gprojection<=f)break;q=q.next}v-=p.gprojection;if(0<=v){e=!1;break}v>f&&(f=v,k=p,m=1);n=n.next}if(e){for(n=b.polygon.edges.head;null!=n;){p=n.elt;v=1E100;for(q=a.polygon.gverts.next;null!=q;){r=q;r=p.gnormx*r.x+p.gnormy*r.y;r<v&&(v=r);if(v-p.gprojection<=f)break;q=q.next}v-=p.gprojection;if(0<=v){e=!1;break}v>f&&(f=v,l=p,m=2);n=n.next}if(e){1==m?(a=b.polygon,b=k,l=1):(a=a.polygon,b=l,l=-1);k=null;e=1E100;for(f=a.edges.head;null!=f;)n=f.elt,
p=b.gnormx*n.gnormx+b.gnormy*n.gnormy,p<e&&(e=p,k=n),f=f.next;var e=k.gp0.x,f=k.gp0.y,n=k.gp1.x,p=k.gp1.y,v=n-e,q=p-f,s=b.gnormy*e-b.gnormx*f,r=b.gnormy*n-b.gnormx*p,w=1/(r-s),s=(-b.tp1-s)*w;s>g.Config.epsilon&&(e+=v*s,f+=q*s);r=(-b.tp0-r)*w;r<-g.Config.epsilon&&(n+=v*r,p+=q*r);q=l;v=b.gnormx*q;q*=b.gnormy;d.lnormx=b.lnormx;d.lnormy=b.lnormy;d.lproj=b.lprojection;d.radius=0;d.rev=h!=(-1==l);d.ptype=d.rev?1:0;r=e*b.gnormx+f*b.gnormy-b.gprojection;l=n*b.gnormx+p*b.gnormy-b.gprojection;if(0<r&&0<l)return!1;
h&&(v=-v,q=-q);h=d.injectContact(e-b.gnormx*r*0.5,f-b.gnormy*r*0.5,v,q,r,d.rev?1:0,0<r);e-=1*a.body.posx;f-=1*a.body.posy;h.inner.lr1x=e*a.body.axisy+f*a.body.axisx;h.inner.lr1y=f*a.body.axisy-e*a.body.axisx;h=d.injectContact(n-b.gnormx*l*0.5,p-b.gnormy*l*0.5,v,q,l,d.rev?0:1,0<l);n-=1*a.body.posx;p-=1*a.body.posy;h.inner.lr1x=n*a.body.axisy+p*a.body.axisx;h.inner.lr1y=p*a.body.axisy-n*a.body.axisx;1==m?(d.__ref_edge1=b,d.__ref_edge2=k):(d.__ref_edge2=b,d.__ref_edge1=k);return!0}}}else{l=-1E100;k=
!0;e=m=null;f=b.polygon.gverts.next;for(n=b.polygon.edges.head;null!=n;){p=n.elt;v=p.gnormx*a.circle.worldCOMx+p.gnormy*a.circle.worldCOMy-p.gprojection-a.circle.radius;if(0<v){k=!1;break}v>l&&(l=v,m=p,e=f);f=f.next;n=n.next}if(k){k=e;e=null==e.next?b.polygon.gverts.next:e.next;f=a.circle.worldCOMy*m.gnormx-a.circle.worldCOMx*m.gnormy;if(f<=k.y*m.gnormx-k.x*m.gnormy)return l=a.circle.radius,e=k.x-a.circle.worldCOMx,f=k.y-a.circle.worldCOMy,n=e*e+f*f,n>l*l?l=null:n<g.Config.epsilon*g.Config.epsilon?
l=d.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-l,0,null):(n=1/Math.sqrt(n),p=n<g.Config.epsilon?1E100:1/n,v=0.5+(a.circle.radius-0.5*l)*n,l=h?d.injectContact(a.circle.worldCOMx+e*v,a.circle.worldCOMy+f*v,-e*n,-f*n,p-l,0,null):d.injectContact(a.circle.worldCOMx+e*v,a.circle.worldCOMy+f*v,e*n,f*n,p-l,0,null)),null!=l&&(e=l.inner,d.ptype=2,f=k.x-b.polygon.body.posx,n=k.y-b.polygon.body.posy,d.__ref_edge1=m,d.__ref_vertex=-1,h?(e.lr1x=f*b.polygon.body.axisy+n*b.polygon.body.axisx,e.lr1y=
n*b.polygon.body.axisy-f*b.polygon.body.axisx,e.lr2x=a.circle.localCOMx,e.lr2y=a.circle.localCOMy):(e.lr2x=f*b.polygon.body.axisy+n*b.polygon.body.axisx,e.lr2y=n*b.polygon.body.axisy-f*b.polygon.body.axisx,e.lr1x=a.circle.localCOMx,e.lr1y=a.circle.localCOMy),d.radius=a.circle.radius),null!=l;if(f>=e.y*m.gnormx-e.x*m.gnormy)return k=a.circle.radius,l=e.x-a.circle.worldCOMx,f=e.y-a.circle.worldCOMy,n=l*l+f*f,n>k*k?k=null:n<g.Config.epsilon*g.Config.epsilon?k=d.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,
1,0,-k,0,null):(n=1/Math.sqrt(n),p=n<g.Config.epsilon?1E100:1/n,v=0.5+(a.circle.radius-0.5*k)*n,k=h?d.injectContact(a.circle.worldCOMx+l*v,a.circle.worldCOMy+f*v,-l*n,-f*n,p-k,0,null):d.injectContact(a.circle.worldCOMx+l*v,a.circle.worldCOMy+f*v,l*n,f*n,p-k,0,null)),null!=k&&(l=k.inner,d.ptype=2,f=e.x-b.polygon.body.posx,n=e.y-b.polygon.body.posy,d.__ref_edge1=m,d.__ref_vertex=1,h?(l.lr1x=f*b.polygon.body.axisy+n*b.polygon.body.axisx,l.lr1y=n*b.polygon.body.axisy-f*b.polygon.body.axisx,l.lr2x=a.circle.localCOMx,
l.lr2y=a.circle.localCOMy):(l.lr2x=f*b.polygon.body.axisy+n*b.polygon.body.axisx,l.lr2y=n*b.polygon.body.axisy-f*b.polygon.body.axisx,l.lr1x=a.circle.localCOMx,l.lr1y=a.circle.localCOMy),d.radius=a.circle.radius),null!=k;k=a.circle.radius+0.5*l;b=m.gnormx*k;k*=m.gnormy;e=a.circle.worldCOMx-b;f=a.circle.worldCOMy-k;b=h?d.injectContact(e,f,m.gnormx,m.gnormy,l,0,null):d.injectContact(e,f,-m.gnormx,-m.gnormy,l,0,null);d.ptype=h?0:1;d.lnormx=m.lnormx;d.lnormy=m.lnormy;d.rev=!h;d.lproj=m.lprojection;d.radius=
a.circle.radius;b.inner.lr1x=a.circle.localCOMx;b.inner.lr1y=a.circle.localCOMy;d.__ref_edge1=m;d.__ref_vertex=0;return!0}}else if(m=a.circle.radius+b.circle.radius,k=b.circle.worldCOMx-a.circle.worldCOMx,l=b.circle.worldCOMy-a.circle.worldCOMy,e=k*k+l*l,e>m*m?m=null:e<g.Config.epsilon*g.Config.epsilon?m=d.injectContact(a.circle.worldCOMx,a.circle.worldCOMy,1,0,-m,0,null):(e=1/Math.sqrt(e),f=e<g.Config.epsilon?1E100:1/e,n=0.5+(a.circle.radius-0.5*m)*e,m=h?d.injectContact(a.circle.worldCOMx+k*n,a.circle.worldCOMy+
l*n,-k*e,-l*e,f-m,0,null):d.injectContact(a.circle.worldCOMx+k*n,a.circle.worldCOMy+l*n,k*e,l*e,f-m,0,null)),null!=m)return m=m.inner,h?(m.lr1x=b.circle.localCOMx,m.lr1y=b.circle.localCOMy,m.lr2x=a.circle.localCOMx,m.lr2y=a.circle.localCOMy):(m.lr1x=a.circle.localCOMx,m.lr1y=a.circle.localCOMy,m.lr2x=b.circle.localCOMx,m.lr2y=b.circle.localCOMy),d.radius=a.circle.radius+b.circle.radius,d.ptype=2,!0;return!1};c.geom.ZPP_Collide.testCollide_safe=function(a,b){if(b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var d=
a;a=b;b=d}return c.geom.ZPP_Collide.testCollide(a,b)};c.geom.ZPP_Collide.testCollide=function(a,b){if(b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){for(var d=!0,h=a.polygon.edges.head;null!=h;){for(var e=h.elt,f=1E100,m=b.polygon.gverts.next;null!=m;){var g=m,g=e.gnormx*g.x+e.gnormy*g.y;g<f&&(f=g);m=m.next}f-=e.gprojection;if(0<f){d=!1;break}h=h.next}if(d){for(h=b.polygon.edges.head;null!=h;){e=h.elt;f=1E100;for(m=a.polygon.gverts.next;null!=m;)g=
m,g=e.gnormx*g.x+e.gnormy*g.y,g<f&&(f=g),m=m.next;f-=e.gprojection;if(0<f){d=!1;break}h=h.next}return d}}else{h=d=null;e=!0;f=-1E100;m=b.polygon.gverts.next;for(g=b.polygon.edges.head;null!=g;){var k=g.elt,l=k.gnormx*a.circle.worldCOMx+k.gnormy*a.circle.worldCOMy-k.gprojection-a.circle.radius;if(0<l){e=!1;break}l>f&&(f=l,d=k,h=m);m=m.next;g=g.next}if(e)return e=h,h=null==h.next?b.polygon.gverts.next:h.next,f=a.circle.worldCOMy*d.gnormx-a.circle.worldCOMx*d.gnormy,f<=e.y*d.gnormx-e.x*d.gnormy?(d=a.circle.radius,
h=e.x-a.circle.worldCOMx,f=e.y-a.circle.worldCOMy,h*h+f*f<=d*d):f>=h.y*d.gnormx-h.x*d.gnormy?(d=a.circle.radius,e=h.x-a.circle.worldCOMx,f=h.y-a.circle.worldCOMy,e*e+f*f<=d*d):!0}return!1}d=a.circle.radius+b.circle.radius;h=b.circle.worldCOMx-a.circle.worldCOMx;e=b.circle.worldCOMy-a.circle.worldCOMy;return h*h+e*e<=d*d};c.geom.ZPP_Collide.flowCollide=function(a,b,d){if(b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){for(var h=[],e=[],f=!0,m=!0,k=a.polygon.edges.head;null!=
k;){for(var l=k.elt,n=1E100,p=0,v=b.polygon.gverts.next;null!=v;){var q=v,r=l.gnormx*q.x+l.gnormy*q.y;r<n&&(n=r);r>=l.gprojection+g.Config.epsilon&&(e[p]=!0,m=!1);p++;v=v.next}n-=l.gprojection;if(0<n){f=!1;break}k=k.next}if(m)return b.polygon.validate_worldCOM(),d.overlap=b.polygon.area,d.centroidx=b.polygon.worldCOMx,d.centroidy=b.polygon.worldCOMy,null,!0;if(f){for(var m=!0,s=b.polygon.edges.head;null!=s;){for(var w=s.elt,x=1E100,z=0,y=a.polygon.gverts.next;null!=y;){var B=y,A=w.gnormx*B.x+w.gnormy*
B.y;A<x&&(x=A);A>=w.gprojection+g.Config.epsilon&&(h[z]=!0,m=!1);z++;y=y.next}x-=w.gprojection;if(0<x){f=!1;break}s=s.next}if(m)return a.polygon.validate_worldCOM(),d.overlap=a.polygon.area,d.centroidx=a.polygon.worldCOMx,d.centroidy=a.polygon.worldCOMy,null,!0;if(f){for(;null!=c.geom.ZPP_Collide.flowpoly.head;){var t=c.geom.ZPP_Collide.flowpoly.pop_unsafe();if(!t._inuse){var E=t;null!=E.outer&&(E.outer.zpp_inner=null,E.outer=null);E._isimmutable=null;E._validate=null;E._invalidate=null;E.next=c.geom.ZPP_Vec2.zpp_pool;
c.geom.ZPP_Vec2.zpp_pool=E}}for(var D=null,F=!1,G=a.polygon.gverts.next,I=0,H=b.polygon.gverts.next,K=0,N=0,M=b.polygon.edgeCnt;N<M;){var R=N++;if(e[R])H=H.next;else{K=R;break}}if(null==H){for(var H=b.polygon.gverts.next,F=!0,S=0,T=a.polygon.edgeCnt;S<T;){var V=S++;if(h[V])G=G.next;else{I=V;break}}null==G?G=a.polygon.gverts.next:(c.geom.ZPP_Collide.flowpoly.add(G),D=c.geom.ZPP_Collide.flowpoly.head.elt)}else c.geom.ZPP_Collide.flowpoly.add(H),D=c.geom.ZPP_Collide.flowpoly.head.elt;var U=1;if(null==
c.geom.ZPP_Collide.flowpoly.head){for(var Z=!0,X=a.polygon.gverts.next,Ea=X,$=X.next;null!=$;){for(var da=$,ea=2,ca=b.polygon.gverts.next,aa=ca,Ec=ca.next;null!=Ec;){var ua=Ec,ga=0;(function(a){var b=0;a=Ea.x-aa.x;var b=Ea.y-aa.y,d=0,c=0,d=da.x-Ea.x,c=da.y-Ea.y,e=0,h=0,e=ua.x-aa.x,h=ua.y-aa.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(ga=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&
ga<ea&&(ea=ga,H=ca);ca=Ec;aa=ua;Ec=Ec.next}var Fa=Ec=b.polygon.gverts.next,Jc=0;(function(a){var b=0;a=Ea.x-aa.x;var b=Ea.y-aa.y,d=0,c=0,d=da.x-Ea.x,c=da.y-Ea.y,e=0,h=0,e=Fa.x-aa.x,h=Fa.y-aa.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(Jc=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&Jc<ea&&(ea=Jc,H=ca);if(2!=ea){var ta=0,J=0,$b=ea,ta=Ea.x+(da.x-Ea.x)*$b,J=Ea.y+(da.y-Ea.y)*$b,D=
c.geom.ZPP_Vec2.get(ta,J,null);c.geom.ZPP_Collide.flowpoly.add(D);F=!0;G=X;Z=!1;break}X=$;Ea=da;$=$.next}if(Z){for(var nb=$=a.polygon.gverts.next,va=2,gb=b.polygon.gverts.next,Oa=gb,La=gb.next;null!=La;){var sb=La,fa=0;(function(a){var b=0;a=Ea.x-Oa.x;var b=Ea.y-Oa.y,d=0,c=0,d=nb.x-Ea.x,c=nb.y-Ea.y,e=0,h=0,e=sb.x-Oa.x,h=sb.y-Oa.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(fa=
e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&fa<va&&(va=fa,H=gb);gb=La;Oa=sb;La=La.next}var $d=La=b.polygon.gverts.next,L=0;(function(a){var b=0;a=Ea.x-Oa.x;var b=Ea.y-Oa.y,d=0,c=0,d=nb.x-Ea.x,c=nb.y-Ea.y,e=0,h=0,e=$d.x-Oa.x,h=$d.y-Oa.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(L=e,a=!0):a=!1):a=!1):a=!1;return a})(this)&&L<va&&(va=L,H=gb);if(2!=va){var hb=0,tb=0,Hb=va,hb=Ea.x+
(nb.x-Ea.x)*Hb,tb=Ea.y+(nb.y-Ea.y)*Hb,D=c.geom.ZPP_Vec2.get(hb,tb,null);c.geom.ZPP_Collide.flowpoly.add(D);F=!0;G=X}}U=2}for(;;)if(F)if(G=G.next,I++,null==G&&(G=a.polygon.gverts.next,I=0),h[I]){var qa=c.geom.ZPP_Collide.flowpoly.head.elt,ia=G,ra=H,na=H.next;null==na&&(na=b.polygon.gverts.next);var Pa=-1,Ta=null,Ua=0,Va=0,Qa=na,ma=na;do{var Ra=ma,Ma=0;if(function(a){var b=0;a=ra.x-qa.x;var b=ra.y-qa.y,d=0,c=0,d=Ra.x-ra.x,c=Ra.y-ra.y,e=0,h=0,e=ia.x-qa.x,h=ia.y-qa.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?
(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(Ma=e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&Ma>=Pa)if(Ta=H,Ua=K,++Va==U){Pa=Ma;ma=Qa;break}else Pa=Ma;ra=Ra;H=ma;K++;K>=b.polygon.edgeCnt&&(K=0);ma=ma.next;null==ma&&(ma=b.polygon.gverts.next)}while(0);for(;ma!=Qa;){var ja=ma,Sa=0;if(function(a){var b=0;a=ra.x-qa.x;var b=ra.y-qa.y,d=0,c=0,d=ja.x-ra.x,c=ja.y-ra.y,e=0,h=0,e=ia.x-qa.x,h=ia.y-qa.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?
(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(Sa=e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&Sa>=Pa)if(Ta=H,Ua=K,++Va==U){Pa=Sa;ma=Qa;break}else Pa=Sa;ra=ja;H=ma;K++;K>=b.polygon.edgeCnt&&(K=0);ma=ma.next;null==ma&&(ma=b.polygon.gverts.next)}if(null==Ta)break;var ub=Ta,$a=Ta.next;null==$a&&($a=b.polygon.gverts.next);var Ib=$a,P=0,Od=0,Ka=Pa,P=ub.x+(Ib.x-ub.x)*Ka,Od=ub.y+(Ib.y-ub.y)*Ka;if(null!=D&&c.geom.ZPP_VecMath.vec_dsq(P,Od,
D.x,D.y)<g.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(P,Od,null));null==D&&(D=c.geom.ZPP_Collide.flowpoly.head.elt);H=Ta;K=Ua;F=!F;U=2}else{var xb=G;if(null!=D&&c.geom.ZPP_VecMath.vec_dsq(xb.x,xb.y,D.x,D.y)<g.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(xb);null==D&&(D=c.geom.ZPP_Collide.flowpoly.head.elt);U=1}else if(H=H.next,K++,null==H&&(H=b.polygon.gverts.next,K=0),e[K]){var Na=c.geom.ZPP_Collide.flowpoly.head.elt,yb=H,ya=G,Jb=G.next;null==Jb&&(Jb=a.polygon.gverts.next);
var Ga=-1,Wa=null,oa=0,Db=0,ob=Jb,pa=Jb;do{var Xa=pa,ib=0;if(function(a){var b=0;a=ya.x-Na.x;var b=ya.y-Na.y,d=0,c=0,d=Xa.x-ya.x,c=Xa.y-ya.y,e=0,h=0,e=yb.x-Na.x,h=yb.y-Na.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(ib=e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&ib>=Ga)if(Wa=G,oa=I,++Db==U){Ga=ib;pa=ob;break}else Ga=ib;ya=Xa;G=pa;I++;I>=a.polygon.edgeCnt&&(I=0);pa=pa.next;null==
pa&&(pa=a.polygon.gverts.next)}while(0);for(;pa!=ob;){var Eb=pa,ac=0;if(function(a){var b=0;a=ya.x-Na.x;var b=ya.y-Na.y,d=0,c=0,d=Eb.x-ya.x,c=Eb.y-ya.y,e=0,h=0,e=yb.x-Na.x,h=yb.y-Na.y,f=c*e-d*h;f*f>g.Config.epsilon*g.Config.epsilon?(f=1/f,e=(h*a-e*b)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon?(a=(c*a-d*b)*f,a>g.Config.epsilon&&a<1-g.Config.epsilon?(ac=e,a=!0):a=!1):a=!1):a=!1;return a}(this)&&ac>=Ga)if(Wa=G,oa=I,++Db==U){Ga=ac;pa=ob;break}else Ga=ac;ya=Eb;G=pa;I++;I>=a.polygon.edgeCnt&&(I=0);pa=pa.next;
null==pa&&(pa=a.polygon.gverts.next)}if(null==Wa)break;var jb=Wa,kb=Wa.next;null==kb&&(kb=a.polygon.gverts.next);var vb=kb,ab=0,bb=0,cb=Ga,ab=jb.x+(vb.x-jb.x)*cb,bb=jb.y+(vb.y-jb.y)*cb;if(null!=D&&c.geom.ZPP_VecMath.vec_dsq(ab,bb,D.x,D.y)<g.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(ab,bb,null));null==D&&(D=c.geom.ZPP_Collide.flowpoly.head.elt);G=Wa;I=oa;F=!F;U=2}else{var zb=H;if(null!=D&&c.geom.ZPP_VecMath.vec_dsq(zb.x,zb.y,D.x,D.y)<g.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(zb);
null==D&&(D=c.geom.ZPP_Collide.flowpoly.head.elt);U=1}if(null!=c.geom.ZPP_Collide.flowpoly.head&&null!=c.geom.ZPP_Collide.flowpoly.head.next&&null!=c.geom.ZPP_Collide.flowpoly.head.next.next){for(var Ya=0,Ba=0,wa=0,Ya=wa=Ba=0,Ca=c.geom.ZPP_Collide.flowpoly.head,Ob=Ca.elt,Ca=Ca.next,za=Ca.elt,Ca=Ca.next;null!=Ca;)var pb=Ca.elt,Ya=Ya+za.x*(pb.y-Ob.y),bc=pb.y*za.x-pb.x*za.y,Ba=Ba+(za.x+pb.x)*bc,wa=wa+(za.y+pb.y)*bc,Ob=za,za=pb,Ca=Ca.next;var Ca=c.geom.ZPP_Collide.flowpoly.head,O=Ca.elt,Ya=Ya+za.x*(O.y-
Ob.y),Q=O.y*za.x-O.x*za.y,Ba=Ba+(za.x+O.x)*Q,wa=wa+(za.y+O.y)*Q,Ob=za,za=O,Ca=Ca.next,qb=Ca.elt,Ya=Ya+za.x*(qb.y-Ob.y),ae=qb.y*za.x-qb.x*za.y,Ba=Ba+(za.x+qb.x)*ae,wa=wa+(za.y+qb.y)*ae,Ya=0.5*Ya,sa=1/(6*Ya),Ba=Ba*sa,wa=wa*sa;d.overlap=-Ya;d.centroidx=Ba;d.centroidy=wa;null;return!0}}}return!1}for(var eb=[],la=!0,Ab=null,Pb=null,xc=-1E100,Gb=!0,Da=b.polygon.gverts.next,cc=0,Qb=b.polygon.edges.head;null!=Qb;){var Rb=Qb.elt,Fc=Rb.gnormx*a.circle.worldCOMx+Rb.gnormy*a.circle.worldCOMy;if(Fc>Rb.gprojection+
a.circle.radius){Gb=!1;break}else Fc+a.circle.radius>Rb.gprojection+g.Config.epsilon&&(la=!1,eb[cc]=!0);Fc-=Rb.gprojection+a.circle.radius;Fc>xc&&(xc=Fc,Ab=Rb,Pb=Da);Da=Da.next;cc++;Qb=Qb.next}if(Gb){if(la)return d.overlap=a.circle.area,d.centroidx=a.circle.worldCOMx,d.centroidy=a.circle.worldCOMy,null,!0;var Ja=Pb,Kb;Kb=null==Pb.next?b.polygon.gverts.next:Pb.next;var fc=a.circle.worldCOMy*Ab.gnormx-a.circle.worldCOMx*Ab.gnormy;if(fc<=Ja.y*Ab.gnormx-Ja.x*Ab.gnormy?function(b){b=a.circle.radius;var d=
0,c=0,d=Ja.x-a.circle.worldCOMx,c=Ja.y-a.circle.worldCOMy;return d*d+c*c<=b*b}(this):fc>=Kb.y*Ab.gnormx-Kb.x*Ab.gnormy?function(b){b=a.circle.radius;var d=0,c=0,d=Kb.x-a.circle.worldCOMx,c=Kb.y-a.circle.worldCOMy;return d*d+c*c<=b*b}(this):1){for(var gc=[],fb=0,be=!0,Ha=null,Sb=0,Lb=b.polygon.gverts.next;null!=Lb;){var hc=Lb,Sc=c.geom.ZPP_VecMath.vec_dsq(hc.x,hc.y,a.circle.worldCOMx,a.circle.worldCOMy);(gc[fb]=Sc<=a.circle.radius*a.circle.radius)?(Sb=fb,Ha=Lb):be=!1;fb++;Lb=Lb.next}if(be)return b.polygon.validate_worldCOM(),
d.overlap=b.polygon.area,d.centroidx=b.polygon.worldCOMx,d.centroidy=b.polygon.worldCOMy,null,!0;for(;null!=c.geom.ZPP_Collide.flowpoly.head;){var ic=c.geom.ZPP_Collide.flowpoly.pop_unsafe();if(!ic._inuse){var Ia=ic;null!=Ia.outer&&(Ia.outer.zpp_inner=null,Ia.outer=null);Ia._isimmutable=null;Ia._validate=null;Ia._invalidate=null;Ia.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=Ia}}c.geom.ZPP_Collide.flowsegs.clear();var xa=null,Za=1;for(null==Ha?(Ha=b.polygon.gverts.next,Za=2):c.geom.ZPP_Collide.flowpoly.add(xa=
Ha);0!=Za;)if(1==Za)if(Ha=Ha.next,null==Ha&&(Ha=b.polygon.gverts.next),Sb++,Sb>=b.polygon.edgeCnt&&(Sb=0),gc[Sb]){if(c.geom.ZPP_VecMath.vec_dsq(xa.x,xa.y,Ha.x,Ha.y)<g.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(Ha)}else{var rb=c.geom.ZPP_Collide.flowpoly.head.elt,Tb=Ha,jc=0,Wc=0,jc=Tb.x-rb.x,Wc=Tb.y-rb.y,Xc=0,Ub=0,Xc=rb.x-a.circle.worldCOMx,Ub=rb.y-a.circle.worldCOMy,Mb=jc*jc+Wc*Wc,kc=2*(Xc*jc+Ub*Wc),od=Math.sqrt(kc*kc-4*Mb*(Xc*Xc+Ub*Ub-a.circle.radius*a.circle.radius)),Mb=1/(2*Mb),pd=(-kc-
od)*Mb,dc=0,dd=0,lc=pd<g.Config.epsilon?(-kc+od)*Mb:pd,dc=rb.x+(Tb.x-rb.x)*lc,dd=rb.y+(Tb.y-rb.y)*lc;if(c.geom.ZPP_VecMath.vec_dsq(xa.x,xa.y,dc,dd)<g.Config.epsilon)break;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(dc,dd,null));Za=2}else if(2==Za){var Vb=Ha.next;null==Vb&&(Vb=b.polygon.gverts.next);var ba=Ha,Za=0,Bb=Vb,ha=Vb;do{var db=ha,Wb=Sb+1;Wb==b.polygon.edgeCnt&&(Wb=0);if(eb[Sb])if(gc[Wb]){var Nb=0,Xb=0,Nb=db.x-ba.x,Xb=db.y-ba.y,mc=0,Yc=0,mc=ba.x-a.circle.worldCOMx,Yc=ba.y-a.circle.worldCOMy,
Kc=Nb*Nb+Xb*Xb,Yb=2*(mc*Nb+Yc*Xb),nc=Math.sqrt(Yb*Yb-4*Kc*(mc*mc+Yc*Yc-a.circle.radius*a.circle.radius)),Kc=1/(2*Kc),yc=(-Yb-nc)*Kc,ed=0,fd=0,zc=yc<g.Config.epsilon?(-Yb+nc)*Kc:yc,ed=ba.x+(db.x-ba.x)*zc,fd=ba.y+(db.y-ba.y)*zc;if(c.geom.ZPP_VecMath.vec_dsq(xa.x,xa.y,ed,fd)<g.Config.epsilon){Za=0;ha=Bb;break}var Ac=c.geom.ZPP_Vec2.get(ed,fd,null);c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt);c.geom.ZPP_Collide.flowsegs.add(Ac);c.geom.ZPP_Collide.flowpoly.add(Ac);Za=1;ha=Bb;break}else{var rc=
0,Bc=0,Gc,Cb=0,Zb=0,Cb=db.x-ba.x,Zb=db.y-ba.y,oc=0,Zc=0,oc=ba.x-a.circle.worldCOMx,Zc=ba.y-a.circle.worldCOMy,Hc=Cb*Cb+Zb*Zb,ka=2*(oc*Cb+Zc*Zb),pc=ka*ka-4*Hc*(oc*oc+Zc*Zc-a.circle.radius*a.circle.radius);pc*pc<g.Config.epsilon?(rc=0>pc?10:Bc=-ka/(2*Hc),Gc=!1):(pc=Math.sqrt(pc),Hc=1/(2*Hc),rc=(-ka-pc)*Hc,Bc=(-ka+pc)*Hc,Gc=!0);if(rc<1-g.Config.epsilon&&Bc>g.Config.epsilon){var gd=0,Lc=0,Mc=rc,gd=ba.x+(db.x-ba.x)*Mc,Lc=ba.y+(db.y-ba.y)*Mc;if(null!=xa&&c.geom.ZPP_VecMath.vec_dsq(xa.x,xa.y,gd,Lc)<g.Config.epsilon){Za=
0;ha=Bb;break}var Nc=c.geom.ZPP_Vec2.get(gd,Lc,null);null!=c.geom.ZPP_Collide.flowpoly.head&&(c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt),c.geom.ZPP_Collide.flowsegs.add(Nc));c.geom.ZPP_Collide.flowpoly.add(Nc);null==xa&&(xa=c.geom.ZPP_Collide.flowpoly.head.elt);if(Gc){var qd=0,Oc=0,wc=Bc,qd=ba.x+(db.x-ba.x)*wc,Oc=ba.y+(db.y-ba.y)*wc;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(qd,Oc,null))}}}ba=db;Ha=ha;Sb=Wb;ha=ha.next;null==ha&&(ha=b.polygon.gverts.next)}while(0);
for(;ha!=Bb;){var qc=ha,rd=Sb+1;rd==b.polygon.edgeCnt&&(rd=0);if(eb[Sb])if(gc[rd]){var sd=0,td=0,sd=qc.x-ba.x,td=qc.y-ba.y,ud=0,vd=0,ud=ba.x-a.circle.worldCOMx,vd=ba.y-a.circle.worldCOMy,hd=sd*sd+td*td,wd=2*(ud*sd+vd*td),Ic=Math.sqrt(wd*wd-4*hd*(ud*ud+vd*vd-a.circle.radius*a.circle.radius)),hd=1/(2*hd),Tc=(-wd-Ic)*hd,Pd=0,Qd=0,Uc=Tc<g.Config.epsilon?(-wd+Ic)*hd:Tc,Pd=ba.x+(qc.x-ba.x)*Uc,Qd=ba.y+(qc.y-ba.y)*Uc;if(c.geom.ZPP_VecMath.vec_dsq(xa.x,xa.y,Pd,Qd)<g.Config.epsilon){Za=0;ha=Bb;break}var Vc=
c.geom.ZPP_Vec2.get(Pd,Qd,null);c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt);c.geom.ZPP_Collide.flowsegs.add(Vc);c.geom.ZPP_Collide.flowpoly.add(Vc);Za=1;ha=Bb;break}else{var xd=0,yd=0,Rd,zd=0,Ad=0,zd=qc.x-ba.x,Ad=qc.y-ba.y,Bd=0,Cd=0,Bd=ba.x-a.circle.worldCOMx,Cd=ba.y-a.circle.worldCOMy,$c=zd*zd+Ad*Ad,id=2*(Bd*zd+Cd*Ad),Pc=id*id-4*$c*(Bd*Bd+Cd*Cd-a.circle.radius*a.circle.radius);Pc*Pc<g.Config.epsilon?(xd=0>Pc?10:yd=-id/(2*$c),Rd=!1):(Pc=Math.sqrt(Pc),$c=1/(2*$c),xd=(-id-
Pc)*$c,yd=(-id+Pc)*$c,Rd=!0);if(xd<1-g.Config.epsilon&&yd>g.Config.epsilon){var Sd=0,Td=0,ce=xd,Sd=ba.x+(qc.x-ba.x)*ce,Td=ba.y+(qc.y-ba.y)*ce;if(null!=xa&&c.geom.ZPP_VecMath.vec_dsq(xa.x,xa.y,Sd,Td)<g.Config.epsilon){Za=0;ha=Bb;break}var de=c.geom.ZPP_Vec2.get(Sd,Td,null);null!=c.geom.ZPP_Collide.flowpoly.head&&(c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt),c.geom.ZPP_Collide.flowsegs.add(de));c.geom.ZPP_Collide.flowpoly.add(de);null==xa&&(xa=c.geom.ZPP_Collide.flowpoly.head.elt);
if(Rd){var ee=0,fe=0,ge=yd,ee=ba.x+(qc.x-ba.x)*ge,fe=ba.y+(qc.y-ba.y)*ge;c.geom.ZPP_Collide.flowpoly.add(c.geom.ZPP_Vec2.get(ee,fe,null))}}}ba=qc;Ha=ha;Sb=rd;ha=ha.next;null==ha&&(ha=b.polygon.gverts.next)}}if(null==c.geom.ZPP_Collide.flowpoly.head)return!1;if(null==c.geom.ZPP_Collide.flowpoly.head.next){for(var he=!0,Dd=b.polygon.edges.head;null!=Dd;){var Ud=Dd.elt;if(Ud.gnormx*a.circle.worldCOMx+Ud.gnormy*a.circle.worldCOMy>Ud.gprojection){he=!1;break}Dd=Dd.next}return he?(d.overlap=a.circle.area,
d.centroidx=a.circle.worldCOMx,d.centroidy=a.circle.worldCOMy,null,!0):!1}var Qc=0,Rc=0,ad=0;if(null!=c.geom.ZPP_Collide.flowpoly.head.next.next){for(var ec=0,sc=0,tc=0,ec=tc=sc=0,Fb=c.geom.ZPP_Collide.flowpoly.head,jd=Fb.elt,Fb=Fb.next,lb=Fb.elt,Fb=Fb.next;null!=Fb;)var bd=Fb.elt,ec=ec+lb.x*(bd.y-jd.y),ie=bd.y*lb.x-bd.x*lb.y,sc=sc+(lb.x+bd.x)*ie,tc=tc+(lb.y+bd.y)*ie,jd=lb,lb=bd,Fb=Fb.next;var Fb=c.geom.ZPP_Collide.flowpoly.head,cd=Fb.elt,ec=ec+lb.x*(cd.y-jd.y),je=cd.y*lb.x-cd.x*lb.y,sc=sc+(lb.x+
cd.x)*je,tc=tc+(lb.y+cd.y)*je,jd=lb,lb=cd,Fb=Fb.next,kd=Fb.elt,ec=ec+lb.x*(kd.y-jd.y),ke=kd.y*lb.x-kd.x*lb.y,sc=sc+(lb.x+kd.x)*ke,tc=tc+(lb.y+kd.y)*ke,ec=0.5*ec,le=1/(6*ec),sc=sc*le,tc=tc*le,me=-ec,Qc=Qc+sc*me,Rc=Rc+tc*me,ad=ad-ec}else c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.elt),c.geom.ZPP_Collide.flowsegs.add(c.geom.ZPP_Collide.flowpoly.head.next.elt);for(;null!=c.geom.ZPP_Collide.flowsegs.head;)var Ed=c.geom.ZPP_Collide.flowsegs.pop_unsafe(),Fd=c.geom.ZPP_Collide.flowsegs.pop_unsafe(),
ne=0,oe=0,ne=Fd.x-Ed.x,oe=Fd.y-Ed.y,Cc=0,Dc=0,Cc=ne,Dc=oe,pe=1/Math.sqrt(Cc*Cc+Dc*Dc),Cc=Cc*pe,Dc=Dc*pe,Nd=Cc,Cc=-Dc,Dc=Nd,uc=0,vc=0,uc=Ed.x+Fd.x,vc=Ed.y+Fd.y,uc=0.5*uc,vc=0.5*vc,uc=uc-1*a.circle.worldCOMx,vc=vc-1*a.circle.worldCOMy,Vd=0,qe=0,re=Cc*uc+Dc*vc,Gd=re/a.circle.radius,ld=Math.sqrt(1-Gd*Gd),se=Math.acos(Gd),Vd=a.circle.radius*(a.circle.radius*se-re*ld),qe=0.6666666666666666*a.circle.radius*ld*ld*ld/(se-Gd*ld),uc=a.circle.worldCOMx,vc=a.circle.worldCOMy,te=qe,uc=uc+Cc*te,vc=vc+Dc*te,ue=Vd,
Qc=Qc+uc*ue,Rc=Rc+vc*ue,ad=ad+Vd;var ve=1/ad,Qc=Qc*ve,Rc=Rc*ve;d.overlap=ad;d.centroidx=Qc;d.centroidy=Rc;null;return!0}}return!1}var mb=a.circle,wb=b.circle,Hd=0,Id=0,Hd=wb.worldCOMx-mb.worldCOMx,Id=wb.worldCOMy-mb.worldCOMy,we=mb.radius+wb.radius,Wd=Hd*Hd+Id*Id;if(Wd>we*we)return!1;if(Wd<g.Config.epsilon*g.Config.epsilon)mb.radius<wb.radius?(d.overlap=mb.area,d.centroidx=mb.worldCOMx,d.centroidy=mb.worldCOMy):(d.overlap=wb.area,d.centroidx=wb.worldCOMx,d.centroidy=wb.worldCOMy);else{var Jd=Math.sqrt(Wd),
xe=1/Jd,Kd=0.5*(Jd-(wb.radius*wb.radius-mb.radius*mb.radius)*xe);if(Kd<=-mb.radius)d.overlap=mb.area,d.centroidx=mb.worldCOMx,d.centroidy=mb.worldCOMy;else{var Xd=Jd-Kd;if(Xd<=-wb.radius)d.overlap=wb.area,d.centroidx=wb.worldCOMx,d.centroidy=wb.worldCOMy;else{var Yd=0,ye=0,Zd=0,ze=0,Ld=Kd/mb.radius,md=Math.sqrt(1-Ld*Ld),Ae=Math.acos(Ld),Yd=mb.radius*(mb.radius*Ae-Kd*md),ye=0.6666666666666666*mb.radius*md*md*md/(Ae-Ld*md),Md=Xd/wb.radius,nd=Math.sqrt(1-Md*Md),Be=Math.acos(Md),Zd=wb.radius*(wb.radius*
Be-Xd*nd),ze=0.6666666666666666*wb.radius*nd*nd*nd/(Be-Md*nd),Ce=Yd+Zd,De=(ye*Yd+(Jd-ze)*Zd)/Ce*xe;d.overlap=Ce;d.centroidx=mb.worldCOMx+Hd*De;d.centroidy=mb.worldCOMy+Id*De}}}null;return!0};c.geom.ZPP_Convex=function(){};n["zpp_nape.geom.ZPP_Convex"]=c.geom.ZPP_Convex;c.geom.ZPP_Convex.__name__=["zpp_nape","geom","ZPP_Convex"];c.geom.ZPP_Convex.isinner=function(a,b,d){var c=0,e=0,c=a.x-b.x,e=a.y-b.y,f=0;a=d.x-b.x;f=d.y-b.y;return 0<=f*c-a*e};c.geom.ZPP_Convex.optimise=function(a){var b=a.vertices,
d=a.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=d)}a=d=a.vertices;if(null!=d){do{for(var b=d,h=b.prev,e=null,f=b.diagonals.head;null!=f;){var m=f.elt;if(c.geom.ZPP_Convex.isinner(null==f.next?b.next:f.next.elt,b,h)){for(var g=!0,k=m,l=k.prev,p=null,n=k.diagonals.head;null!=n;){var q=n.elt;if(q==b){g=c.geom.ZPP_Convex.isinner(null==n.next?k.next:n.next.elt,k,l);break}l=q;p=n;n=n.next}g?(f=b.diagonals.erase(e),k.diagonals.erase(p)):(h=m,e=f,f=f.next)}else e=f,h=m,f=f.next}d=d.next}while(d!=a)
}};c.geom.ZPP_ConvexRayResult=function(){this.toiDistance=0;this.next=null;this.inner=!1;this.normal=this.shape=this.convex=this.position=this.ray=null};n["zpp_nape.geom.ZPP_ConvexRayResult"]=c.geom.ZPP_ConvexRayResult;c.geom.ZPP_ConvexRayResult.__name__=["zpp_nape","geom","ZPP_ConvexRayResult"];c.geom.ZPP_ConvexRayResult.getRay=function(a,b,d,h){var e;null==c.geom.ZPP_ConvexRayResult.rayPool?(c.geom.ZPP_ConvexRayResult.internal=!0,e=new g.geom.RayResult,e.zpp_inner=new c.geom.ZPP_ConvexRayResult,
e.zpp_inner.ray=e,c.geom.ZPP_ConvexRayResult.internal=!1):(e=c.geom.ZPP_ConvexRayResult.rayPool.ray,c.geom.ZPP_ConvexRayResult.rayPool=c.geom.ZPP_ConvexRayResult.rayPool.next,e.zpp_inner.next=null);var f=e.zpp_inner;f.normal=a;a.zpp_inner._immutable=!0;f.toiDistance=b;f.inner=d;f.shape=h;return e};c.geom.ZPP_ConvexRayResult.getConvex=function(a,b,d,h){var e;null==c.geom.ZPP_ConvexRayResult.convexPool?(c.geom.ZPP_ConvexRayResult.internal=!0,e=new g.geom.ConvexResult,e.zpp_inner=new c.geom.ZPP_ConvexRayResult,
e.zpp_inner.convex=e,c.geom.ZPP_ConvexRayResult.internal=!1):(e=c.geom.ZPP_ConvexRayResult.convexPool.convex,c.geom.ZPP_ConvexRayResult.convexPool=c.geom.ZPP_ConvexRayResult.convexPool.next,e.zpp_inner.next=null);var f=e.zpp_inner;f.normal=a;f.position=b;a.zpp_inner._immutable=!0;b.zpp_inner._immutable=!0;f.toiDistance=d;f.shape=h;return e};c.geom.ZPP_ConvexRayResult.prototype={disposed:function(){if(null!=this.next)throw"Error: This object has been disposed of and cannot be used";},free:function(){this.normal.zpp_inner._immutable=
!1;this.normal.dispose();null!=this.position&&(this.position.zpp_inner._immutable=!1,this.position.dispose());this.shape=null;this.toiDistance=0;null!=this.convex?(this.next=c.geom.ZPP_ConvexRayResult.convexPool,c.geom.ZPP_ConvexRayResult.convexPool=this):(this.next=c.geom.ZPP_ConvexRayResult.rayPool,c.geom.ZPP_ConvexRayResult.rayPool=this)},__class__:c.geom.ZPP_ConvexRayResult};c.geom.ZPP_CutVert=function(){this.used=!1;this.rank=0;this.parent=null;this.positive=!1;this.value=0;this.vert=null;this.posx=
this.posy=0;this.prev=this.next=null};n["zpp_nape.geom.ZPP_CutVert"]=c.geom.ZPP_CutVert;c.geom.ZPP_CutVert.__name__=["zpp_nape","geom","ZPP_CutVert"];c.geom.ZPP_CutVert.path=function(a){var b;null==c.geom.ZPP_CutVert.zpp_pool?b=new c.geom.ZPP_CutVert:(b=c.geom.ZPP_CutVert.zpp_pool,c.geom.ZPP_CutVert.zpp_pool=b.next,b.next=null);null;b.vert=a;b.parent=b;b.rank=0;b.used=!1;return b};c.geom.ZPP_CutVert.prototype={alloc:function(){},free:function(){this.parent=this.vert=null},__class__:c.geom.ZPP_CutVert};
c.geom.ZPP_CutInt=function(){this.path0=this.end=this.start=this.path1=null;this.virtualint=this.vertex=!1;this.time=0;this.next=null};n["zpp_nape.geom.ZPP_CutInt"]=c.geom.ZPP_CutInt;c.geom.ZPP_CutInt.__name__=["zpp_nape","geom","ZPP_CutInt"];c.geom.ZPP_CutInt.get=function(a,b,d,h,e,f,m){null==m&&(m=!1);null==f&&(f=!1);var g;null==c.geom.ZPP_CutInt.zpp_pool?g=new c.geom.ZPP_CutInt:(g=c.geom.ZPP_CutInt.zpp_pool,c.geom.ZPP_CutInt.zpp_pool=g.next,g.next=null);null;g.virtualint=f;g.end=b;g.start=d;g.path0=
h;g.path1=e;g.time=a;g.vertex=m;return g};c.geom.ZPP_CutInt.prototype={alloc:function(){},free:function(){this.path0=this.path1=this.end=this.start=null},__class__:c.geom.ZPP_CutInt};c.geom.ZPP_Cutter=function(){};n["zpp_nape.geom.ZPP_Cutter"]=c.geom.ZPP_Cutter;c.geom.ZPP_Cutter.__name__=["zpp_nape","geom","ZPP_Cutter"];c.geom.ZPP_Cutter.run=function(a,b,d,h,e,f){var m=0,k=0;if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();m=b.zpp_inner.x;if(null!=
b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();var k=b.zpp_inner.y,l=0,n=0;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();l=d.zpp_inner.x-m;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();var n=d.zpp_inner.y-k,p;p=h?0:Math.NEGATIVE_INFINITY;var v;v=e?1:Math.POSITIVE_INFINITY;var q=-(k*l-m*n),r=null,s=!1,w=a;do{var x;null==c.geom.ZPP_CutVert.zpp_pool?
x=new c.geom.ZPP_CutVert:(x=c.geom.ZPP_CutVert.zpp_pool,c.geom.ZPP_CutVert.zpp_pool=x.next,x.next=null);null;x.vert=w;x.posx=x.vert.x;x.posy=x.vert.y;x.value=x.posy*l-x.posx*n+q;x.positive=0<x.value;0==x.value&&(s=!0);var z=x;null==r?r=z.prev=z.next=z:(z.prev=r,z.next=r.next,r.next.prev=z,r.next=z);r=z;w=w.next}while(w!=a);if(s){var y=null,B=r,A=r;if(null!=B){var t=B;do{var D=t;if(0!=D.value){y=D;break}t=t.next}while(t!=A)}var E=0,F=0,E=l,F=n,G=1/Math.sqrt(E*E+F*F),E=E*G,F=F*G,I=E,E=-F,F=I,H=null,
K=y;do{if(0==K.value||null!=H&&K!=H.next){var N=H.value*K.value;if(0!=N){var M=H.next,R;if(0<N)R=H.positive;else{var S=M.next,U=0,T=0,U=M.posx+S.posx,T=M.posy+S.posy,U=0.5*U,T=0.5*T,V=U+1E-8*E,X=T+1E-8*F,Z=!1,$=a,da=a;if(null!=$){var aa=$;do{var ea=aa,ca=ea.prev;(ea.y<X&&ca.y>=X||ca.y<X&&ea.y>=X)&&(ea.x<=V||ca.x<=V)&&ea.x+(X-ea.y)/(ca.y-ea.y)*(ca.x-ea.x)<V&&(Z=!Z);aa=aa.next}while(aa!=da)}R=Z}var ga=M,Ec=K;if(null!=ga){var ua=ga;do ua.positive=R,ua=ua.next;while(ua!=Ec)}H=K}}else H=K;K=K.next}while(K!=
y);if(0==K.value||null!=H&&K!=H.next){var ta=H.value*K.value;if(0!=ta){var Fa=H.next,Jc;if(0<ta)Jc=H.positive;else{var Ka=Fa.next,J=0,$b=0,J=Fa.posx+Ka.posx,$b=Fa.posy+Ka.posy,J=0.5*J,$b=0.5*$b,nb=J+1E-8*E,va=$b+1E-8*F,gb=!1;if(null!=a){var Oa=a;do{var La=Oa,sb=La.prev;(La.y<va&&sb.y>=va||sb.y<va&&La.y>=va)&&(La.x<=nb||sb.x<=nb)&&La.x+(va-La.y)/(sb.y-La.y)*(sb.x-La.x)<nb&&(gb=!gb);Oa=Oa.next}while(Oa!=a)}Jc=gb}var fa=K;if(null!=Fa){var sa=Fa;do sa.positive=Jc,sa=sa.next;while(sa!=fa)}H=K}}else H=
K;K=K.next}null==c.geom.ZPP_Cutter.ints&&(c.geom.ZPP_Cutter.ints=new c.util.ZNPList_ZPP_CutInt);null==c.geom.ZPP_Cutter.paths&&(c.geom.ZPP_Cutter.paths=new c.util.ZNPList_ZPP_CutVert);var L=null,hb=c.geom.ZPP_GeomVert.get(r.posx,r.posy);null==L?L=hb.prev=hb.next=hb:(hb.next=L,hb.prev=L.prev,L.prev.next=hb,L.prev=hb);hb;var tb=L,Hb=c.geom.ZPP_CutVert.path(L);c.geom.ZPP_Cutter.paths.add(Hb);var qa=r;do{var ia=qa.next,ra=c.geom.ZPP_GeomVert.get(ia.posx,ia.posy);if(qa.positive==ia.positive){var na=ra;
null==L?L=na.prev=na.next=na:(na.next=L,na.prev=L.prev,L.prev.next=na,L.prev=na);na}else{var Pa=0,Ta=0,Pa=ia.posx-qa.posx,Ta=ia.posy-qa.posy,Ua=n*Pa-l*Ta,Ua=1/Ua,Va=0,Qa=0,Va=m-qa.posx,Qa=k-qa.posy,ma=(Ta*Va-Pa*Qa)*Ua;if(ma<p||ma>v){c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ma,null,null,null,null,!0,null));var Ra=ra;null==L?L=Ra.prev=Ra.next=Ra:(Ra.next=L,Ra.prev=L.prev,L.prev.next=Ra,L.prev=Ra);Ra}else if(0==qa.value){var Ma=L.prev,L=null,ja=c.geom.ZPP_GeomVert.get(Ma.x,Ma.y);null==L?L=ja.prev=
ja.next=ja:(ja.next=L,ja.prev=L.prev,L.prev.next=ja,L.prev=ja);ja;var Sa=ra;null==L?L=Sa.prev=Sa.next=Sa:(Sa.next=L,Sa.prev=L.prev,L.prev.next=Sa,L.prev=Sa);Sa;var ub=c.geom.ZPP_Cutter.paths.head.elt;c.geom.ZPP_Cutter.paths.add(c.geom.ZPP_CutVert.path(L));c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ma,Ma,L,ub,c.geom.ZPP_Cutter.paths.head.elt,!0,null))}else if(0==ia.value){var $a=ra;null==L?L=$a.prev=$a.next=$a:($a.next=L,$a.prev=L.prev,L.prev.next=$a,L.prev=$a);$a;var Ib=L.prev,L=null,P=c.geom.ZPP_GeomVert.get(ia.posx,
ia.posy);null==L?L=P.prev=P.next=P:(P.next=L,P.prev=L.prev,L.prev.next=P,L.prev=P);P;var eb=c.geom.ZPP_Cutter.paths.head.elt;c.geom.ZPP_Cutter.paths.add(c.geom.ZPP_CutVert.path(L));c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ma,Ib,L,eb,c.geom.ZPP_Cutter.paths.head.elt,!0,null))}else{var Ja=(n*Va-l*Qa)*Ua,xb=0,Na=0,xb=qa.posx,Na=qa.posy,yb=Ja,xb=xb+Pa*yb,Na=Na+Ta*yb,ya=c.geom.ZPP_GeomVert.get(xb,Na);null==L?L=ya.prev=ya.next=ya:(ya.next=L,ya.prev=L.prev,L.prev.next=ya,L.prev=ya);ya;var Jb=L.prev,
L=null,Ga=c.geom.ZPP_GeomVert.get(xb,Na);null==L?L=Ga.prev=Ga.next=Ga:(Ga.next=L,Ga.prev=L.prev,L.prev.next=Ga,L.prev=Ga);Ga;var Wa=ra;null==L?L=Wa.prev=Wa.next=Wa:(Wa.next=L,Wa.prev=L.prev,L.prev.next=Wa,L.prev=Wa);Wa;var oa=c.geom.ZPP_Cutter.paths.head.elt;c.geom.ZPP_Cutter.paths.add(c.geom.ZPP_CutVert.path(L));c.geom.ZPP_Cutter.ints.add(c.geom.ZPP_CutInt.get(ma,Jb,L,oa,c.geom.ZPP_Cutter.paths.head.elt,!1,null))}}qa=qa.next}while(qa!=r);var Db=L.prev;Db.next.prev=tb.prev;tb.prev.next=Db.next;Db.next=
tb;tb.prev=Db;var ob=c.geom.ZPP_Cutter.paths.head.elt,pa;if(Hb==Hb.parent)pa=Hb;else{for(var Xa=Hb,ib=null;Xa!=Xa.parent;){var Eb=Xa.parent;Xa.parent=ib;ib=Xa;Xa=Eb}for(;null!=ib;){var ac=ib.parent;ib.parent=Xa;ib=ac}pa=Xa}var jb;if(ob==ob.parent)jb=ob;else{for(var kb=ob,vb=null;kb!=kb.parent;){var ab=kb.parent;kb.parent=vb;vb=kb;kb=ab}for(;null!=vb;){var bb=vb.parent;vb.parent=kb;vb=bb}jb=kb}pa!=jb&&(pa.rank<jb.rank?pa.parent=jb:pa.rank>jb.rank?jb.parent=pa:(jb.parent=pa,pa.rank++));var cb=c.geom.ZPP_Cutter.ints;
if(null!=cb.head&&null!=cb.head.next){var zb=cb.head,Ya=null,Ba=null,wa=null,Ca=null,Ob=1,za,pb,bc;do{za=0;Ba=zb;for(Ya=zb=null;null!=Ba;){za++;wa=Ba;pb=0;for(bc=Ob;null!=wa&&pb<Ob;)pb++,wa=wa.next;for(;0<pb||0<bc&&null!=wa;)0==pb?(Ca=wa,wa=wa.next,bc--):0==bc||null==wa?(Ca=Ba,Ba=Ba.next,pb--):Ba.elt.time<wa.elt.time?(Ca=Ba,Ba=Ba.next,pb--):(Ca=wa,wa=wa.next,bc--),null!=Ya?Ya.next=Ca:zb=Ca,Ya=Ca;Ba=wa}Ya.next=null;Ob<<=1}while(1<za);cb.head=zb;cb.modified=!0;cb.pushmod=!0}for(;null!=c.geom.ZPP_Cutter.ints.head;){var O=
c.geom.ZPP_Cutter.ints.pop_unsafe(),Q=c.geom.ZPP_Cutter.ints.pop_unsafe();if(!O.virtualint&&!Q.virtualint){O.end.next.prev=Q.start.prev;Q.start.prev.next=O.end.next;O.end.next=Q.start;Q.start.prev=O.end;Q.end.next.prev=O.start.prev;O.start.prev.next=Q.end.next;Q.end.next=O.start;O.start.prev=Q.end;var qb;if(O.path0==O.path0.parent)qb=O.path0;else{for(var la=O.path0,Da=null;la!=la.parent;){var fb=la.parent;la.parent=Da;Da=la;la=fb}for(;null!=Da;){var Gb=Da.parent;Da.parent=la;Da=Gb}qb=la}var Ab;if(Q.path1==
Q.path1.parent)Ab=Q.path1;else{for(var Pb=Q.path1,xc=null;Pb!=Pb.parent;){var wc=Pb.parent;Pb.parent=xc;xc=Pb;Pb=wc}for(;null!=xc;){var Ic=xc.parent;xc.parent=Pb;xc=Ic}Ab=Pb}qb!=Ab&&(qb.rank<Ab.rank?qb.parent=Ab:qb.rank>Ab.rank?Ab.parent=qb:(Ab.parent=qb,qb.rank++));var cc;if(O.path1==O.path1.parent)cc=O.path1;else{for(var Qb=O.path1,Rb=null;Qb!=Qb.parent;){var Fc=Qb.parent;Qb.parent=Rb;Rb=Qb;Qb=Fc}for(;null!=Rb;){var Sc=Rb.parent;Rb.parent=Qb;Rb=Sc}cc=Qb}var Kb;if(Q.path0==Q.path0.parent)Kb=Q.path0;
else{for(var fc=Q.path0,gc=null;fc!=fc.parent;){var Tc=fc.parent;fc.parent=gc;gc=fc;fc=Tc}for(;null!=gc;){var Uc=gc.parent;gc.parent=fc;gc=Uc}Kb=fc}cc!=Kb&&(cc.rank<Kb.rank?cc.parent=Kb:cc.rank>Kb.rank?Kb.parent=cc:(Kb.parent=cc,cc.rank++))}else if(O.virtualint&&!Q.virtualint){if(null!=Q.end&&Q.end.prev==Q.end){Q.end.next=Q.end.prev=null;var Ha=Q.end;null!=Ha.wrap&&(Ha.wrap.zpp_inner._inuse=!1,Ha.wrap.dispose(),Ha.wrap=null);Ha.prev=Ha.next=null;Ha.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=
Ha;Q.end=null}else{var Sb=Q.end.prev;Q.end.prev.next=Q.end.next;Q.end.next.prev=Q.end.prev;Q.end.next=Q.end.prev=null;var Lb=Q.end;null!=Lb.wrap&&(Lb.wrap.zpp_inner._inuse=!1,Lb.wrap.dispose(),Lb.wrap=null);Lb.prev=Lb.next=null;Lb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Lb;Q.end=null;Q.end=Sb}if(!Q.vertex)if(Q.end!=Q.path0.vert)if(Q.start.x=Q.end.x,Q.start.y=Q.end.y,null!=Q.end&&Q.end.prev==Q.end){Q.end.next=Q.end.prev=null;var hc=Q.end;null!=hc.wrap&&(hc.wrap.zpp_inner._inuse=
!1,hc.wrap.dispose(),hc.wrap=null);hc.prev=hc.next=null;hc.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=hc;Q.end=null}else{var Vc=Q.end.prev;Q.end.prev.next=Q.end.next;Q.end.next.prev=Q.end.prev;Q.end.next=Q.end.prev=null;var ic=Q.end;null!=ic.wrap&&(ic.wrap.zpp_inner._inuse=!1,ic.wrap.dispose(),ic.wrap=null);ic.prev=ic.next=null;ic.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=ic;Q.end=null;Q.end=Vc}else{var Ia=Q.start.next;Q.start.x=Ia.x;Q.start.y=Ia.y;if(null!=
Ia&&Ia.prev==Ia){Ia.next=Ia.prev=null;var xa=Ia;null!=xa.wrap&&(xa.wrap.zpp_inner._inuse=!1,xa.wrap.dispose(),xa.wrap=null);xa.prev=xa.next=null;xa.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=xa;Ia=null}else{Ia.prev.next=Ia.next;Ia.next.prev=Ia.prev;Ia.next=Ia.prev=null;var Za=Ia;null!=Za.wrap&&(Za.wrap.zpp_inner._inuse=!1,Za.wrap.dispose(),Za.wrap=null);Za.prev=Za.next=null;Za.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Za}}Q.end.next.prev=Q.start.prev;Q.start.prev.next=
Q.end.next;Q.end.next=Q.start;Q.start.prev=Q.end;var rb;if(Q.path0==Q.path0.parent)rb=Q.path0;else{for(var Tb=Q.path0,jc=null;Tb!=Tb.parent;){var Wc=Tb.parent;Tb.parent=jc;jc=Tb;Tb=Wc}for(;null!=jc;){var Xc=jc.parent;jc.parent=Tb;jc=Xc}rb=Tb}var Ub;if(Q.path1==Q.path1.parent)Ub=Q.path1;else{for(var Mb=Q.path1,kc=null;Mb!=Mb.parent;){var od=Mb.parent;Mb.parent=kc;kc=Mb;Mb=od}for(;null!=kc;){var pd=kc.parent;kc.parent=Mb;kc=pd}Ub=Mb}rb!=Ub&&(rb.rank<Ub.rank?rb.parent=Ub:rb.rank>Ub.rank?Ub.parent=rb:
(Ub.parent=rb,rb.rank++))}else if(Q.virtualint&&!O.virtualint){if(null!=O.end&&O.end.prev==O.end){O.end.next=O.end.prev=null;var dc=O.end;null!=dc.wrap&&(dc.wrap.zpp_inner._inuse=!1,dc.wrap.dispose(),dc.wrap=null);dc.prev=dc.next=null;dc.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=dc;O.end=null}else{var dd=O.end.prev;O.end.prev.next=O.end.next;O.end.next.prev=O.end.prev;O.end.next=O.end.prev=null;var lc=O.end;null!=lc.wrap&&(lc.wrap.zpp_inner._inuse=!1,lc.wrap.dispose(),lc.wrap=
null);lc.prev=lc.next=null;lc.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=lc;O.end=null;O.end=dd}if(!O.vertex)if(O.end!=O.path0.vert)if(O.start.x=O.end.x,O.start.y=O.end.y,null!=O.end&&O.end.prev==O.end){O.end.next=O.end.prev=null;var Vb=O.end;null!=Vb.wrap&&(Vb.wrap.zpp_inner._inuse=!1,Vb.wrap.dispose(),Vb.wrap=null);Vb.prev=Vb.next=null;Vb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Vb;O.end=null}else{var ba=O.end.prev;O.end.prev.next=O.end.next;O.end.next.prev=
O.end.prev;O.end.next=O.end.prev=null;var Bb=O.end;null!=Bb.wrap&&(Bb.wrap.zpp_inner._inuse=!1,Bb.wrap.dispose(),Bb.wrap=null);Bb.prev=Bb.next=null;Bb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Bb;O.end=null;O.end=ba}else{var ha=O.start.next;O.start.x=ha.x;O.start.y=ha.y;if(null!=ha&&ha.prev==ha){ha.next=ha.prev=null;var db=ha;null!=db.wrap&&(db.wrap.zpp_inner._inuse=!1,db.wrap.dispose(),db.wrap=null);db.prev=db.next=null;db.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=
db;ha=null}else{ha.prev.next=ha.next;ha.next.prev=ha.prev;ha.next=ha.prev=null;var Wb=ha;null!=Wb.wrap&&(Wb.wrap.zpp_inner._inuse=!1,Wb.wrap.dispose(),Wb.wrap=null);Wb.prev=Wb.next=null;Wb.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=Wb}}O.end.next.prev=O.start.prev;O.start.prev.next=O.end.next;O.end.next=O.start;O.start.prev=O.end;var Nb;if(O.path0==O.path0.parent)Nb=O.path0;else{for(var Xb=O.path0,mc=null;Xb!=Xb.parent;){var Yc=Xb.parent;Xb.parent=mc;mc=Xb;Xb=Yc}for(;null!=mc;){var Kc=
mc.parent;mc.parent=Xb;mc=Kc}Nb=Xb}var Yb;if(O.path1==O.path1.parent)Yb=O.path1;else{for(var nc=O.path1,yc=null;nc!=nc.parent;){var ed=nc.parent;nc.parent=yc;yc=nc;nc=ed}for(;null!=yc;){var fd=yc.parent;yc.parent=nc;yc=fd}Yb=nc}Nb!=Yb&&(Nb.rank<Yb.rank?Nb.parent=Yb:Nb.rank>Yb.rank?Yb.parent=Nb:(Yb.parent=Nb,Nb.rank++))}var zc=O;zc.end=zc.start=null;zc.path0=zc.path1=null;zc.next=c.geom.ZPP_CutInt.zpp_pool;c.geom.ZPP_CutInt.zpp_pool=zc;var Ac=Q;Ac.end=Ac.start=null;Ac.path0=Ac.path1=null;Ac.next=c.geom.ZPP_CutInt.zpp_pool;
c.geom.ZPP_CutInt.zpp_pool=Ac}var rc;rc=null==f?new g.geom.GeomPolyList:f;for(var Bc=c.geom.ZPP_Cutter.paths.head;null!=Bc;){var Gc=Bc.elt,Cb;if(Gc==Gc.parent)Cb=Gc;else{for(var Zb=Gc,oc=null;Zb!=Zb.parent;){var Zc=Zb.parent;Zb.parent=oc;oc=Zb;Zb=Zc}for(;null!=oc;){var Hc=oc.parent;oc.parent=Zb;oc=Hc}Cb=Zb}if(!Cb.used){Cb.used=!0;for(var ka=Cb.vert,pc=!0;null!=Cb.vert&&(pc||ka!=Cb.vert);)if(pc=!1,ka.x==ka.next.x&&ka.y==ka.next.y)if(ka==Cb.vert&&(Cb.vert=ka.next==ka?null:ka.next,pc=!0),null!=ka&&ka.prev==
ka)ka=ka=ka.next=ka.prev=null;else{var gd=ka.next;ka.prev.next=ka.next;ka.next.prev=ka.prev;ka=ka.next=ka.prev=null;ka=gd}else ka=ka.next;if(null!=Cb.vert){var Lc=g.geom.GeomPoly.get();Lc.zpp_inner.vertices=Cb.vert;rc.zpp_inner.reverse_flag?rc.push(Lc):rc.unshift(Lc)}}Bc=Bc.next}for(;null!=c.geom.ZPP_Cutter.paths.head;){var Mc=c.geom.ZPP_Cutter.paths.pop_unsafe();Mc.vert=null;Mc.parent=null;Mc.next=c.geom.ZPP_CutVert.zpp_pool;c.geom.ZPP_CutVert.zpp_pool=Mc}for(;null!=r;)if(null!=r&&r.prev==r){r.next=
r.prev=null;var Nc=r;Nc.vert=null;Nc.parent=null;Nc.next=c.geom.ZPP_CutVert.zpp_pool;c.geom.ZPP_CutVert.zpp_pool=Nc;r=r=null}else{var qd=r.next;r.prev.next=r.next;r.next.prev=r.prev;r.next=r.prev=null;var Oc=r;Oc.vert=null;Oc.parent=null;Oc.next=c.geom.ZPP_CutVert.zpp_pool;c.geom.ZPP_CutVert.zpp_pool=Oc;r=null;r=qd}return rc};c.geom.ZPP_Geom=function(){};n["zpp_nape.geom.ZPP_Geom"]=c.geom.ZPP_Geom;c.geom.ZPP_Geom.__name__=["zpp_nape","geom","ZPP_Geom"];c.geom.ZPP_Geom.validateShape=function(a){a.type==
c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.validate_gaxi();a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb());a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=
a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy))};c.geom.ZPP_GeomVert=function(){this.forced=!1;this.prev=this.next=this.wrap=null;this.x=this.y=0};n["zpp_nape.geom.ZPP_GeomVert"]=c.geom.ZPP_GeomVert;c.geom.ZPP_GeomVert.__name__=["zpp_nape","geom","ZPP_GeomVert"];c.geom.ZPP_GeomVert.get=function(a,b){var d;null==c.geom.ZPP_GeomVert.zpp_pool?d=new c.geom.ZPP_GeomVert:(d=c.geom.ZPP_GeomVert.zpp_pool,c.geom.ZPP_GeomVert.zpp_pool=
d.next,d.next=null);d.forced=!1;d.x=a;d.y=b;return d};c.geom.ZPP_GeomVert.prototype={free:function(){null!=this.wrap&&(this.wrap.zpp_inner._inuse=!1,this.wrap.dispose(),this.wrap=null);this.prev=this.next=null},alloc:function(){this.forced=!1},wrapper:function(){null==this.wrap&&(this.wrap=g.geom.Vec2.get(this.x,this.y,null),this.wrap.zpp_inner._inuse=!0,this.wrap.zpp_inner._invalidate=B(this,this.modwrap),this.wrap.zpp_inner._validate=B(this,this.getwrap));return this.wrap},modwrap:function(a){this.x=
a.x;this.y=a.y},getwrap:function(){this.wrap.zpp_inner.x=this.x;this.wrap.zpp_inner.y=this.y},__class__:c.geom.ZPP_GeomVert};c.geom.ZPP_GeomPoly=function(a){this.outer=this.vertices=null;this.outer=a};n["zpp_nape.geom.ZPP_GeomPoly"]=c.geom.ZPP_GeomPoly;c.geom.ZPP_GeomPoly.__name__=["zpp_nape","geom","ZPP_GeomPoly"];c.geom.ZPP_GeomPoly.prototype={__class__:c.geom.ZPP_GeomPoly};c.geom.ZPP_GeomVertexIterator=function(){this.outer=this.next=null;this.first=this.forward=!1;this.ptr=this.start=null;c.geom.ZPP_GeomVertexIterator.internal=
!0;this.outer=new g.geom.GeomVertexIterator;c.geom.ZPP_GeomVertexIterator.internal=!1};n["zpp_nape.geom.ZPP_GeomVertexIterator"]=c.geom.ZPP_GeomVertexIterator;c.geom.ZPP_GeomVertexIterator.__name__=["zpp_nape","geom","ZPP_GeomVertexIterator"];c.geom.ZPP_GeomVertexIterator.get=function(a,b){var d;null==c.geom.ZPP_GeomVertexIterator.zpp_pool?d=new c.geom.ZPP_GeomVertexIterator:(d=c.geom.ZPP_GeomVertexIterator.zpp_pool,c.geom.ZPP_GeomVertexIterator.zpp_pool=d.next,d.next=null);null;d.outer.zpp_inner=
d;d.ptr=a;d.forward=b;d.start=a;d.first=null!=a;return d.outer};c.geom.ZPP_GeomVertexIterator.prototype={free:function(){this.ptr=this.start=this.outer.zpp_inner=null},alloc:function(){},__class__:c.geom.ZPP_GeomVertexIterator};c.geom.ZPP_MarchSpan=function(){this.next=null;this.out=!1;this.rank=0;this.parent=null;this.parent=this};n["zpp_nape.geom.ZPP_MarchSpan"]=c.geom.ZPP_MarchSpan;c.geom.ZPP_MarchSpan.__name__=["zpp_nape","geom","ZPP_MarchSpan"];c.geom.ZPP_MarchSpan.prototype={free:function(){this.parent=
this},alloc:function(){this.out=!1;this.rank=0},__class__:c.geom.ZPP_MarchSpan};c.geom.ZPP_MarchPair=function(){this.pd=this.span1=this.span2=this.spanr=this.next=null;this.keyr=this.okeyr=0;this.pr=null;this.key2=this.okey2=0;this.p2=null;this.key1=this.okey1=0;this.p1=null};n["zpp_nape.geom.ZPP_MarchPair"]=c.geom.ZPP_MarchPair;c.geom.ZPP_MarchPair.__name__=["zpp_nape","geom","ZPP_MarchPair"];c.geom.ZPP_MarchPair.prototype={free:function(){this.span1=this.span2=this.spanr=this.p1=this.p2=this.pr=
this.pd=null},alloc:function(){},__class__:c.geom.ZPP_MarchPair};c.geom.ZPP_MarchingSquares=function(){};n["zpp_nape.geom.ZPP_MarchingSquares"]=c.geom.ZPP_MarchingSquares;c.geom.ZPP_MarchingSquares.__name__=["zpp_nape","geom","ZPP_MarchingSquares"];c.geom.ZPP_MarchingSquares.run=function(a,b,d,h,e,f,m,g,k){var l,p=h-b;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();l=p/f.zpp_inner.x;var p=l|0,n,q=e-d;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();n=q/f.zpp_inner.y;q=n|0;l!=p&&p++;n!=q&&q++;g&&(null==c.geom.ZPP_MarchingSquares.map?c.geom.ZPP_MarchingSquares.map=new c.util.ZNPArray2_ZPP_MarchPair(p,q):c.geom.ZPP_MarchingSquares.map.resize(p,q,null));null==c.geom.ZPP_MarchingSquares.isos?c.geom.ZPP_MarchingSquares.isos=new c.util.ZNPArray2_Float(p+1,q+1):c.geom.ZPP_MarchingSquares.isos.resize(p+1,q+1,0);l=0;for(n=q+1;l<n;){var r=l++,s;if(0==r)s=d;else if(r<=q){s=d;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
f.zpp_inner.validate();s+=f.zpp_inner.y*r}else s=e;for(var w=0,x=p+1;w<x;){var z=w++,y;if(0==z)y=b;else if(z<=p){y=b;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();y+=f.zpp_inner.x*z}else y=h;c.geom.ZPP_MarchingSquares.isos.set(z,r,a(y,s))}}null==c.geom.ZPP_MarchingSquares.ints?c.geom.ZPP_MarchingSquares.ints=new c.util.ZNPArray2_ZPP_GeomVert(p+1,(q<<1)+1):c.geom.ZPP_MarchingSquares.ints.resize(p+1,(q<<1)+1,null);l=null;g&&(null==c.geom.ZPP_MarchSpan.zpp_pool?
l=new c.geom.ZPP_MarchSpan:(l=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=l.next,l.next=null),l.out=!1,l.rank=0);w=d;for(n=0;n<q;){r=n++;s=w;if(r==q-1)w=e;else{w=d;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();w+=f.zpp_inner.y*(r+1)}var w=x=w,B=b,z=null;for(y=0;y<p;){var A=y++,t=B,E;if(A==p-1)B=h;else{B=b;if(null!=f&&f.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";f.zpp_inner.validate();B+=f.zpp_inner.x*(A+
1)}B=E=B;t=c.geom.ZPP_MarchingSquares.me.marchSquare(a,c.geom.ZPP_MarchingSquares.isos,c.geom.ZPP_MarchingSquares.ints,t,s,E,x,A,r,0==A||!g,0==r||!g,A==p-1||!g,r==q-1||!g,m);null==t?z=null:g?(E=null!=t.p2&&14!=t.okey2?t.p2:t.p1,t.pd=0==((E==t.p2?t.okey2:t.okey1)&128)?E.prev:E.prev.prev,c.geom.ZPP_MarchingSquares.map.set(A,r,t),null!=z&&c.geom.ZPP_MarchingSquares.me.combLeft(t.key1)?(c.geom.ZPP_MarchingSquares.me.combLR(z,t),t.span1=z.spanr):(null==c.geom.ZPP_MarchSpan.zpp_pool?t.span1=new c.geom.ZPP_MarchSpan:
(t.span1=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=t.span1.next,t.span1.next=null),t.span1.alloc(),t.span1.next=l,l=t.span1),null!=t.p2?(null==c.geom.ZPP_MarchSpan.zpp_pool?t.span2=new c.geom.ZPP_MarchSpan:(t.span2=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=t.span2.next,t.span2.next=null),t.span2.alloc(),t.span2.next=l,l=t.span2,t.spanr=t.span2):t.spanr=t.span1,z=c.geom.ZPP_MarchingSquares.me.combRight(t.keyr)?t:null):(c.geom.ZPP_MarchingSquares.me.output(k,t.p1),
null!=t.p2&&c.geom.ZPP_MarchingSquares.me.output(k,t.p2),A=t,A.p1=A.p2=A.pr=A.pd=null,A.span1=A.span2=A.spanr=null,A.next=c.geom.ZPP_MarchPair.zpp_pool,c.geom.ZPP_MarchPair.zpp_pool=A)}}if(g){for(a=1;a<q;)for(b=a++,f=null,d=0;d<p;)if(e=d++,h=c.geom.ZPP_MarchingSquares.map.get(e,b),null==h)f=null;else if(c.geom.ZPP_MarchingSquares.me.combUp(null!=h.p2&&14==h.okey2?h.okey2:h.okey1))if(e=c.geom.ZPP_MarchingSquares.map.get(e,b-1),null==e)f=null;else if(c.geom.ZPP_MarchingSquares.me.combDown(null!=e.p2&&
56==e.okey2?e.okey2:e.okey1)){var D;D=null!=e.p2&&56==e.okey2?e.span2:e.span1;var F;F=null!=h.p2&&14==h.okey2?h.span2:h.span1;if((D==D.parent?D:function(a){a=D;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d;return a}(this))==(F==F.parent?F:function(a){a=F;for(var b=null;a!=a.parent;){var d=a.parent;a.parent=b;b=a;a=d}for(;null!=b;)d=b.parent,b.parent=a,b=d;return a}(this)))f!=F&&c.geom.ZPP_MarchingSquares.me.combUD_virtual(e,h);else{if(D==D.parent)f=
D;else{f=D;for(m=null;f!=f.parent;)g=f.parent,f.parent=m,m=f,f=g;for(;null!=m;)g=m.parent,m.parent=f,m=g}if(F==F.parent)m=F;else{m=F;for(g=null;m!=m.parent;)n=m.parent,m.parent=g,g=m,m=n;for(;null!=g;)n=g.parent,g.parent=m,g=n}f!=m&&(f.rank<m.rank?f.parent=m:f.rank>m.rank?m.parent=f:(m.parent=f,f.rank++));c.geom.ZPP_MarchingSquares.me.combUD(e,h)}f=0!=((F==h.span2?h.okey2:h.okey1)&4)?F:null}else f=null;else f=null;for(a=0;a<q;)for(b=a++,d=0;d<p;)if(h=d++,e=c.geom.ZPP_MarchingSquares.map.get(h,b),
null!=e){if(e.span1==e.span1.parent)f=e.span1;else{f=e.span1;for(m=null;f!=f.parent;)g=f.parent,f.parent=m,m=f,f=g;for(;null!=m;)g=m.parent,m.parent=f,m=g}f.out||(f.out=!0,c.geom.ZPP_MarchingSquares.me.output(k,e.p1));if(null!=e.p2){if(e.span2==e.span2.parent)f=e.span2;else{f=e.span2;for(m=null;f!=f.parent;)g=f.parent,f.parent=m,m=f,f=g;for(;null!=m;)g=m.parent,m.parent=f,m=g}f.out||(f.out=!0,c.geom.ZPP_MarchingSquares.me.output(k,e.p2))}e.p1=e.p2=e.pr=e.pd=null;e.span1=e.span2=e.spanr=null;e.next=
c.geom.ZPP_MarchPair.zpp_pool;c.geom.ZPP_MarchPair.zpp_pool=e;c.geom.ZPP_MarchingSquares.map.set(h,b,null)}for(;null!=l;)k=l,l=k.next,k.parent=k,k.next=c.geom.ZPP_MarchSpan.zpp_pool,c.geom.ZPP_MarchSpan.zpp_pool=k}};c.geom.ZPP_MarchingSquares.ISO=function(a,b,d){return a(b,d)};c.geom.ZPP_MarchingSquares.prototype={output:function(a,b){var d;if(null==b||b.next==b||b.next==b.prev)d=!0;else{d=0;var c=b,e=b;if(null!=c){do{var f=c;d+=f.x*(f.next.y-f.prev.y);c=c.next}while(c!=e)}d*=0.5;d=d*d<g.Config.epsilon*
g.Config.epsilon}if(d)for(;null!=b;)null!=b&&b.prev==b?b=b=b.next=b.prev=null:(d=b.next,b.prev.next=b.next,b.next.prev=b.prev,b.next=b.prev=null,b=d);else d=g.geom.GeomPoly.get(),d.zpp_inner.vertices=b,a.zpp_inner.reverse_flag?a.push(d):a.unshift(d)},linkright:function(a,b){var d=b&7;return 0==d?a:3==d?a.next.next:a.next},linkleft:function(a,b){return 0==(b&1)?a.prev:a},linkdown:function(a,b){return 0==(b&128)?a.prev:a.prev.prev},linkup:function(a,b){return a},combLR:function(a,b){var d=this.linkright(a.pr,
a.okeyr),h=this.linkleft(b.p1,b.okey1),e=d.next,f=h.prev;0!=(a.keyr&4)?(b.pr==b.p1&&(b.pr=d.prev),b.p1=d.prev,d.prev.next=h.next,h.next.prev=d.prev,null!=d.wrap&&(d.wrap.zpp_inner._inuse=!1,d.wrap.dispose(),d.wrap=null),d.prev=d.next=null,d.next=c.geom.ZPP_GeomVert.zpp_pool,c.geom.ZPP_GeomVert.zpp_pool=d):(d.next=h.next,h.next.prev=d);null!=h.wrap&&(h.wrap.zpp_inner._inuse=!1,h.wrap.dispose(),h.wrap=null);h.prev=h.next=null;h.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=h;0!=(a.keyr&
16)?(b.pd=e.next,e.next.prev=f.prev,f.prev.next=e.next,null!=e.wrap&&(e.wrap.zpp_inner._inuse=!1,e.wrap.dispose(),e.wrap=null),e.prev=e.next=null,e.next=c.geom.ZPP_GeomVert.zpp_pool,c.geom.ZPP_GeomVert.zpp_pool=e):(e.prev=f.prev,f.prev.next=e);null!=f.wrap&&(f.wrap.zpp_inner._inuse=!1,f.wrap.dispose(),f.wrap=null);f.prev=f.next=null;f.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=f},combUD:function(a,b){var d=a.pd,h=null!=b.p2&&14==b.key2?b.p2:b.p1,e=d.prev,f=h.next;h.next=d.next;
d.next.prev=h;null!=d.wrap&&(d.wrap.zpp_inner._inuse=!1,d.wrap.dispose(),d.wrap=null);d.prev=d.next=null;d.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=d;f.prev=e.prev;e.prev.next=f;e==a.p1&&(a.p1=f);null!=e.wrap&&(e.wrap.zpp_inner._inuse=!1,e.wrap.dispose(),e.wrap=null);e.prev=e.next=null;e.next=c.geom.ZPP_GeomVert.zpp_pool;c.geom.ZPP_GeomVert.zpp_pool=e},combUD_virtual:function(a,b){var d=a.pd,c=null!=b.p2&&14==b.key2?b.p2:b.p1;d.forced=c.forced=d.prev.forced=c.next.forced=!0},
combLeft:function(a){return this.comb(a&1|(a&192)>>5)},combRight:function(a){return this.comb((a&28)>>2)},combUp:function(a){return this.comb(a&7)},combDown:function(a){return this.comb((a&112)>>4)},comb:function(a){var b=0;0!=(a&1)&&b++;0!=(a&2)&&b++;0!=(a&4)&&b++;return 2<=b},marchSquare:function(a,b,d,h,e,f,m,g,k,l,p,n,q,r){var s=0,w=b.list[k*b.width+g];0>w&&(s|=8);var x=b.list[k*b.width+(g+1)];0>x&&(s|=4);var z=b.list[(k+1)*b.width+(g+1)];0>z&&(s|=2);b=b.list[(k+1)*b.width+g];0>b&&(s|=1);if(0==
s)return null;var y;null==c.geom.ZPP_MarchPair.zpp_pool?y=new c.geom.ZPP_MarchPair:(y=c.geom.ZPP_MarchPair.zpp_pool,c.geom.ZPP_MarchPair.zpp_pool=y.next,y.next=null);null;if(10!=s&&5!=s){s=c.geom.ZPP_MarchingSquares.look_march[s];y.okey1=s;for(var B=0;8>B;){var A=B++;if(0!=(s&1<<A)){var t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=
c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==
f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==
e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}}y.p1=y.p1.next;y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=0,y.p1=null;0==s?y=null:(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1)}else if(B=0>a(0.5*(h+f),0.5*(e+m)),10==s)if(B){s=187;y.okey1=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=
c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=
d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=
d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}y.p1=y.p1.next;y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=
0,y.p1=null;0==s?y=null:(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1)}else{s=131;y.okey1=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<
1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<
1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}y.p1=y.p1.next;
y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=0,y.p1=null;if(0!=s){s=56;y.okey2=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<
1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<
1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p2?y.p2=A.prev=
A.next=A:(A.prev=y.p2,A.next=y.p2.next,y.p2.next.prev=A,y.p2.next=A);y.p2=A}y.p2=y.p2.next;y.key2=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key2=0,y.p2=null;0==s?(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1):(y.pr=y.p2,y.okeyr=y.okey2,y.keyr=y.key2)}else{s=56;y.okey1=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,
e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,
r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,
m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}y.p1=y.p1.next;y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=0,y.p1=null;0==s?y=null:(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1)}}else if(B){s=
238;y.okey1=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==
h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=
!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}y.p1=y.p1.next;y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||
6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=0,y.p1=null;0==s?y=null:(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1)}else{s=224;y.okey1=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==
t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+
1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=
y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}y.p1=y.p1.next;y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=0,y.p1=null;if(0!=s){s=14;y.okey2=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=
c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==
f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==
e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p2?y.p2=A.prev=A.next=A:(A.prev=y.p2,A.next=y.p2.next,y.p2.next.prev=A,y.p2.next=A);y.p2=A}y.p2=y.p2.next;y.key2=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key2=0,y.p2=null;0==s?(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1):(y.pr=y.p2,y.okeyr=y.okey2,y.keyr=y.key2)}else{s=14;y.okey1=s;for(B=0;8>B;)if(A=B++,0!=(s&1<<A)){t=null;if(0==A){if(t=c.geom.ZPP_GeomVert.get(h,
e),l||p)t.forced=!0}else if(2==A){if(t=c.geom.ZPP_GeomVert.get(f,e),n||p)t.forced=!0}else if(4==A){if(t=c.geom.ZPP_GeomVert.get(f,m),n||q)t.forced=!0}else if(6==A){if(t=c.geom.ZPP_GeomVert.get(h,m),l||q)t.forced=!0}else if(1==A){if(t=d.list[(k<<1)*d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,e,w,x,a,r),e),d.list[(k<<1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),p&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&1)||t.x==f&&0!=(s&4))s^=2}else if(5==A){if(t=d.list[((k<<1)+2)*d.width+
g],null==t?(t=c.geom.ZPP_GeomVert.get(this.xlerp(h,f,m,b,z,a,r),m),d.list[((k<<1)+2)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),q&&(t.forced=!0),t.x==h||t.x==f)if(t.x==h&&0!=(s&64)||t.x==f&&0!=(s&16))s^=32}else if(3==A){if(t=d.list[((k<<1)+1)*d.width+(g+1)],null==t?(t=c.geom.ZPP_GeomVert.get(f,this.ylerp(e,m,f,x,z,a,r)),d.list[((k<<1)+1)*d.width+(g+1)]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),n&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&4)||t.y==m&&0!=(s&16))s^=8}else if(t=d.list[((k<<1)+1)*
d.width+g],null==t?(t=c.geom.ZPP_GeomVert.get(h,this.ylerp(e,m,h,w,b,a,r)),d.list[((k<<1)+1)*d.width+g]=t):t=c.geom.ZPP_GeomVert.get(t.x,t.y),l&&(t.forced=!0),t.y==e||t.y==m)if(t.y==e&&0!=(s&1)||t.y==m&&0!=(s&64))s^=128;A=t;null==y.p1?y.p1=A.prev=A.next=A:(A.prev=y.p1,A.next=y.p1.next,y.p1.next.prev=A,y.p1.next=A);y.p1=A}y.p1=y.p1.next;y.key1=s;if(1==s||4==s||16==s||64==s||3==s||12==s||48==s||192==s||129==s||6==s||24==s||96==s||5==s||20==s||80==s||65==s||17==s||68==s)s=0,y.key1=0,y.p1=null;0==s?y=
null:(y.pr=y.p1,y.okeyr=y.okey1,y.keyr=y.key1)}}return y},lerp:function(a,b,d,c){if(0==d)return a;if(0==c)return b;c=d-c;d=c*c<g.Config.epsilon*g.Config.epsilon?0.5:d/c;0>d?d=0:1<d&&(d=1);return a+d*(b-a)},xlerp:function(a,b,d,c,e,f,g){for(var k=this.lerp(a,b,c,e);0!=g--&&a<k&&k<b;){var l=f(k,d);if(0==l)break;0>c*l?(b=k,e=l):(a=k,c=l);k=this.lerp(a,b,c,e)}return k},ylerp:function(a,b,d,c,e,f,g){for(var k=this.lerp(a,b,c,e);0!=g--&&a<k&&k<b;){var l=f(d,k);if(0==l)break;0>c*l?(b=k,e=l):(a=k,c=l);k=
this.lerp(a,b,c,e)}return k},__class__:c.geom.ZPP_MarchingSquares};c.geom.ZPP_Mat23=function(){this._invalidate=this.next=null;this.a=this.b=this.c=this.d=this.tx=this.ty=0;this.outer=null};n["zpp_nape.geom.ZPP_Mat23"]=c.geom.ZPP_Mat23;c.geom.ZPP_Mat23.__name__=["zpp_nape","geom","ZPP_Mat23"];c.geom.ZPP_Mat23.get=function(){var a;null==c.geom.ZPP_Mat23.zpp_pool?a=new c.geom.ZPP_Mat23:(a=c.geom.ZPP_Mat23.zpp_pool,c.geom.ZPP_Mat23.zpp_pool=a.next,a.next=null);null;return a};c.geom.ZPP_Mat23.identity=
function(){var a=c.geom.ZPP_Mat23.get();a.setas(1,0,0,1,0,0);return a};c.geom.ZPP_Mat23.prototype={wrapper:function(){if(null==this.outer){this.outer=new g.geom.Mat23;var a=this.outer.zpp_inner;a.next=c.geom.ZPP_Mat23.zpp_pool;c.geom.ZPP_Mat23.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},invalidate:function(){null!=this._invalidate&&this._invalidate()},set:function(a){this.setas(a.a,a.b,a.c,a.d,a.tx,a.ty)},setas:function(a,b,d,c,e,f){this.tx=e;this.ty=f;this.a=a;this.b=b;this.c=d;this.d=
c},free:function(){},alloc:function(){},__class__:c.geom.ZPP_Mat23};c.geom.ZPP_MatMN=function(a,b){this.x=null;this.m=this.n=0;this.outer=null;this.m=a;this.n=b;this.x=[];for(var d=0,c=a*b;d<c;)d++,this.x.push(0)};n["zpp_nape.geom.ZPP_MatMN"]=c.geom.ZPP_MatMN;c.geom.ZPP_MatMN.__name__=["zpp_nape","geom","ZPP_MatMN"];c.geom.ZPP_MatMN.prototype={__class__:c.geom.ZPP_MatMN};c.geom.ZPP_Monotone=function(){};n["zpp_nape.geom.ZPP_Monotone"]=c.geom.ZPP_Monotone;c.geom.ZPP_Monotone.__name__=["zpp_nape","geom",
"ZPP_Monotone"];c.geom.ZPP_Monotone.bisector=function(a){var b=a.prev,d=a.next,h=0,e=0,h=a.x-b.x,e=a.y-b.y,f=0,b=d.x-a.x,f=d.y-a.y;a=c.geom.ZPP_Vec2.get(-e-f,h+b,null);d=1/Math.sqrt(a.x*a.x+a.y*a.y);a.x*=d;a.y*=d;0>f*h-b*e&&(a.x=-a.x,a.y=-a.y);return a};c.geom.ZPP_Monotone.below=function(a,b){if(a.y<b.y)return!0;if(a.y>b.y)return!1;if(a.x<b.x)return!0;if(a.x>b.x)return!1;var d=c.geom.ZPP_Monotone.bisector(a),h=c.geom.ZPP_Monotone.bisector(b);d.x+=1*a.x;d.y+=1*a.y;h.x+=1*b.x;h.y+=1*b.y;var e=d.x<h.x||
d.x==h.x&&d.y<h.y;null!=d.outer&&(d.outer.zpp_inner=null,d.outer=null);d._isimmutable=null;d._validate=null;d._invalidate=null;d.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=d;null!=h.outer&&(h.outer.zpp_inner=null,h.outer=null);h._isimmutable=null;h._validate=null;h._invalidate=null;h.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=h;return e};c.geom.ZPP_Monotone.above=function(a,b){return c.geom.ZPP_Monotone.below(b,a)};c.geom.ZPP_Monotone.left_vertex=function(a){var b=a.prev;return b.y>
a.y||b.y==a.y&&a.next.y<a.y};c.geom.ZPP_Monotone.isMonotone=function(a){var b=a,d=a,c=a.next;if(null!=c){do{var e=c;e.y<b.y&&(b=e);e.y>d.y&&(d=e);c=c.next}while(c!=a)}a=!0;c=b;if(d!=b.next){var f=b.next,e=d;if(null!=f){do{var g=f;if(g.y<c.y){a=!1;break}c=g;f=f.next}while(f!=e)}}if(!a)return!1;c=b;if(d!=b.prev&&(b=b.prev,null!=b)){do{e=b;if(e.y<c.y){a=!1;break}c=e;b=b.prev}while(b!=d)}return a};c.geom.ZPP_Monotone.getShared=function(){null==c.geom.ZPP_Monotone.sharedPPoly&&(c.geom.ZPP_Monotone.sharedPPoly=
new c.geom.ZPP_PartitionedPoly);return c.geom.ZPP_Monotone.sharedPPoly};c.geom.ZPP_Monotone.decompose=function(a,b){null==b?b=new c.geom.ZPP_PartitionedPoly(a):b.init(a);if(null==b.vertices)return b;null==c.geom.ZPP_Monotone.queue&&(c.geom.ZPP_Monotone.queue=new c.util.ZNPList_ZPP_PartitionVertex);var d=b.vertices,h=b.vertices;if(null!=d){do{var e=d;c.geom.ZPP_Monotone.queue.add(e);var f=0,g=0,f=e.next.x-e.x,g=e.next.y-e.y,k=0,l=0,k=e.prev.x-e.x,l=e.prev.y-e.y,f=0<l*f-k*g;c.geom.ZPP_Monotone.below(e.prev,
e)?c.geom.ZPP_Monotone.below(e.next,e)?e.type=f?0:3:e.type=4:c.geom.ZPP_Monotone.below(e,e.next)?e.type=f?1:2:e.type=4;d=d.next}while(d!=h)}h=c.geom.ZPP_Monotone.queue;if(null!=h.head&&null!=h.head.next){var d=h.head,k=null,l=1,n,p,v;do{n=0;f=d;for(e=d=null;null!=f;){n++;g=f;p=0;for(v=l;null!=g&&p<l;)p++,g=g.next;for(;0<p||0<v&&null!=g;)0==p?(k=g,g=g.next,v--):0==v||null==g?(k=f,f=f.next,p--):c.geom.ZPP_Monotone.above(f.elt,g.elt)?(k=f,f=f.next,p--):(k=g,g=g.next,v--),null!=e?e.next=k:d=k,e=k;f=g}e.next=
null;l<<=1}while(1<n);h.head=d;h.modified=!0;h.pushmod=!0}for(null==c.geom.ZPP_Monotone.edges&&(null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?c.geom.ZPP_Monotone.edges=new c.util.ZPP_Set_ZPP_PartitionVertex:(c.geom.ZPP_Monotone.edges=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=c.geom.ZPP_Monotone.edges.next,c.geom.ZPP_Monotone.edges.next=null),null,c.geom.ZPP_Monotone.edges.lt=c.geom.ZPP_PartitionVertex.edge_lt,c.geom.ZPP_Monotone.edges.swapped=c.geom.ZPP_PartitionVertex.edge_swap);null!=
c.geom.ZPP_Monotone.queue.head;)switch(h=c.geom.ZPP_Monotone.queue.pop_unsafe(),h.type){case 0:h.helper=h;h.node=c.geom.ZPP_Monotone.edges.insert(h);break;case 1:d=h.prev;if(null==d.helper)throw"Fatal error (1): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(h,d.helper);c.geom.ZPP_Monotone.edges.remove_node(d.node);d.helper=null;break;case 3:d=null;if(!c.geom.ZPP_Monotone.edges.empty()){for(e=c.geom.ZPP_Monotone.edges.parent;null!=e.prev;)e=e.prev;for(;null!=e;){f=e.data;
if(!c.geom.ZPP_PartitionVertex.vert_lt(f,h)){d=f;break}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}if(null!=d){if(null==d.helper)throw"Fatal error (2): Polygon is not weakly-simple and clockwise";b.add_diagonal(h,d.helper);d.helper=h}h.node=c.geom.ZPP_Monotone.edges.insert(h);h.helper=h;break;case 2:d=h.prev;if(null==d.helper)throw"Fatal error (3): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(h,
d.helper);c.geom.ZPP_Monotone.edges.remove_node(d.node);d=d.helper=null;if(!c.geom.ZPP_Monotone.edges.empty()){for(e=c.geom.ZPP_Monotone.edges.parent;null!=e.prev;)e=e.prev;for(;null!=e;){f=e.data;if(!c.geom.ZPP_PartitionVertex.vert_lt(f,h)){d=f;break}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}if(null!=d){if(null==d.helper)throw"Fatal error (4): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(h,
d.helper);d.helper=h}break;case 4:if(d=h.prev,c.geom.ZPP_Monotone.left_vertex(h)){if(null==d.helper)throw"Fatal error (5): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(h,d.helper);c.geom.ZPP_Monotone.edges.remove_node(d.node);d.helper=null;h.node=c.geom.ZPP_Monotone.edges.insert(h);h.helper=h}else{d=null;if(!c.geom.ZPP_Monotone.edges.empty()){for(e=c.geom.ZPP_Monotone.edges.parent;null!=e.prev;)e=e.prev;for(;null!=e;){f=e.data;if(!c.geom.ZPP_PartitionVertex.vert_lt(f,
h)){d=f;break}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}if(null==d||null==d.helper)throw"Fatal error (6): Polygon is not weakly-simple and clockwise";2==d.helper.type&&b.add_diagonal(h,d.helper);d.helper=h}}return b};c.geom.ZPP_PartitionVertex=function(){this.next=this.prev=this.node=null;this.rightchain=!1;this.helper=null;this.type=0;this.diagonals=null;this.forced=!1;this.id=this.mag=this.x=this.y=0;this.id=c.geom.ZPP_PartitionVertex.nextId++;
this.diagonals=new c.util.ZNPList_ZPP_PartitionVertex};n["zpp_nape.geom.ZPP_PartitionVertex"]=c.geom.ZPP_PartitionVertex;c.geom.ZPP_PartitionVertex.__name__=["zpp_nape","geom","ZPP_PartitionVertex"];c.geom.ZPP_PartitionVertex.get=function(a){var b;null==c.geom.ZPP_PartitionVertex.zpp_pool?b=new c.geom.ZPP_PartitionVertex:(b=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.x=a.x;b.y=a.y;return b};c.geom.ZPP_PartitionVertex.rightdistance=function(a,
b){var d=a.next.y>a.y,c=0,e=0,c=a.next.x-a.x,e=a.next.y-a.y,f=0,g=0,f=b.x-a.x,g=b.y-a.y;return(d?-1:1)*(g*c-f*e)};c.geom.ZPP_PartitionVertex.vert_lt=function(a,b){if(b==a||b==a.next)return!0;if(a.y==a.next.y){var d=a.x,h=a.next.x;return(d<h?d:h)<=b.x}return 0>=c.geom.ZPP_PartitionVertex.rightdistance(a,b)};c.geom.ZPP_PartitionVertex.edge_swap=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_PartitionVertex.edge_lt=function(a,b){if(a==b&&a.next==b.next)return!1;if(a==b.next)return!c.geom.ZPP_PartitionVertex.vert_lt(a,
b);if(b==a.next)return c.geom.ZPP_PartitionVertex.vert_lt(b,a);if(a.y==a.next.y)return b.y==b.next.y?function(b){b=a.x;var d=a.next.x;return b>d?b:d}(this)>function(a){a=b.x;var d=b.next.x;return a>d?a:d}(this):0<c.geom.ZPP_PartitionVertex.rightdistance(b,a)||0<c.geom.ZPP_PartitionVertex.rightdistance(b,a.next);var d=c.geom.ZPP_PartitionVertex.rightdistance(a,b),h=c.geom.ZPP_PartitionVertex.rightdistance(a,b.next);if(0==d&&0==h)return function(b){b=a.x;var d=a.next.x;return b>d?b:d}(this)>function(a){a=
b.x;var d=b.next.x;return a>d?a:d}(this);if(0<=d*h)return 0>d||0>h;d=c.geom.ZPP_PartitionVertex.rightdistance(b,a);h=c.geom.ZPP_PartitionVertex.rightdistance(b,a.next);return 0<=d*h?0<d||0<h:!1};c.geom.ZPP_PartitionVertex.prototype={alloc:function(){},free:function(){this.helper=null},copy:function(){var a;null==c.geom.ZPP_PartitionVertex.zpp_pool?a=new c.geom.ZPP_PartitionVertex:(a=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a.next,a.next=null);null;a.x=this.x;a.y=this.y;
a.forced=this.forced;return a},sort:function(){var a=0,b=0,d=0,c=0,e,a=this.prev.x-this.x,b=this.prev.y-this.y,d=this.next.x-this.x,c=this.next.y-this.y;e=c*a-d*b;e=0<e?-1:0==e?0:1;var f=this.diagonals;if(null!=f.head&&null!=f.head.next){var g=f.head,k=null,l=null,n=null,p=null,v=1,q,r,s;do{q=0;l=g;for(k=g=null;null!=l;){q++;n=l;r=0;for(s=v;null!=n&&r<v;)r++,n=n.next;for(;0<r||0<s&&null!=n;)0==r?(p=n,n=n.next,s--):0==s||null==n?(p=l,l=l.next,r--):(1==e?1==function(e){a=l.elt.x-e.x;b=l.elt.y-e.y;d=
n.elt.x-e.x;c=n.elt.y-e.y;e=c*a-d*b;return 0<e?-1:0==e?0:1}(this):function(e){var f;a=e.prev.x-e.x;b=e.prev.y-e.y;d=l.elt.x-e.x;c=l.elt.y-e.y;f=c*a-d*b;f=0<f?-1:0==f?0:1;var g;a=e.prev.x-e.x;b=e.prev.y-e.y;d=n.elt.x-e.x;c=n.elt.y-e.y;g=c*a-d*b;g=0<g?-1:0==g?0:1;return 1==f*g||0==f*g&&(1==f||1==g)?1==function(e){a=l.elt.x-e.x;b=l.elt.y-e.y;d=n.elt.x-e.x;c=n.elt.y-e.y;e=c*a-d*b;return 0<e?-1:0==e?0:1}(e):-1==f||-1==g?-1==g:0==f&&0==g?function(e){a=e.x-e.prev.x;b=e.y-e.prev.y;d=l.elt.x-e.x;c=l.elt.y-
e.y;var f=a*d+b*c;d=n.elt.x-e.x;c=n.elt.y-e.y;e=a*d+b*c;return 0>f&&0<e?!0:0>e&&0<f?!1:!0}(e):!0}(this))?(p=l,l=l.next,r--):(p=n,n=n.next,s--),null!=k?k.next=p:g=p,k=p;l=n}k.next=null;v<<=1}while(1<q);f.head=g;f.modified=!0;f.pushmod=!0}},__class__:c.geom.ZPP_PartitionVertex};c.geom.ZPP_PartitionedPoly=function(a){this.vertices=this.next=null;this.init(a)};n["zpp_nape.geom.ZPP_PartitionedPoly"]=c.geom.ZPP_PartitionedPoly;c.geom.ZPP_PartitionedPoly.__name__=["zpp_nape","geom","ZPP_PartitionedPoly"];
c.geom.ZPP_PartitionedPoly.getSharedPP=function(){null==c.geom.ZPP_PartitionedPoly.sharedPPList&&(c.geom.ZPP_PartitionedPoly.sharedPPList=new c.util.ZNPList_ZPP_PartitionedPoly);return c.geom.ZPP_PartitionedPoly.sharedPPList};c.geom.ZPP_PartitionedPoly.getShared=function(){null==c.geom.ZPP_PartitionedPoly.sharedGVList&&(c.geom.ZPP_PartitionedPoly.sharedGVList=new c.util.ZNPList_ZPP_GeomVert);return c.geom.ZPP_PartitionedPoly.sharedGVList};c.geom.ZPP_PartitionedPoly.prototype={eq:function(a,b){return c.geom.ZPP_VecMath.vec_dsq(a.x,
a.y,b.x,b.y)<g.Config.epsilon*g.Config.epsilon},alloc:function(){},free:function(){},init:function(a){if(null!=a){var b;b=0;if(null!=a){var d=a;do{var h=d;b+=h.x*(h.next.y-h.prev.y);d=d.next}while(d!=a)}b=0<0.5*b;d=a;do b?(h=c.geom.ZPP_PartitionVertex.get(d),null==this.vertices?this.vertices=h.prev=h.next=h:(h.prev=this.vertices,h.next=this.vertices.next,this.vertices.next.prev=h,this.vertices.next=h)):(h=c.geom.ZPP_PartitionVertex.get(d),null==this.vertices?this.vertices=h.prev=h.next=h:(h.next=
this.vertices,h.prev=this.vertices.prev,this.vertices.prev.next=h,this.vertices.prev=h)),this.vertices=h,this.vertices.forced=d.forced,d=d.next;while(d!=a);this.remove_collinear_vertices()}},remove_collinear_vertices:function(){for(var a=this.vertices,b=!0;b||a!=this.vertices;)if(b=!1,this.eq(a,a.next)){a==this.vertices&&(this.vertices=a.next,b=!0);a.forced&&(a.next.forced=!0);if(null!=a&&a.prev==a)a.next=a.prev=null,a.helper=null,null,a.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=
a,a=a=null;else{var d=a.next;a.prev.next=a.next;a.next.prev=a.prev;a.next=a.prev=null;a.helper=null;null;a.next=c.geom.ZPP_PartitionVertex.zpp_pool;c.geom.ZPP_PartitionVertex.zpp_pool=a;a=d}if(null==a){this.vertices=null;break}}else a=a.next;if(null==this.vertices)return!0;do for(d=!1,a=this.vertices,b=!0;b||a!=this.vertices;){var b=!1,h=a.prev,e=0,f=0,e=a.x-h.x,f=a.y-h.y,m=0,h=a.next.x-a.x,m=a.next.y-a.y,e=m*e-h*f;if(e*e>=g.Config.epsilon*g.Config.epsilon)a=a.next;else if(a==this.vertices&&(this.vertices=
a.next,b=!0),null!=a&&a.prev==a?(a.next=a.prev=null,a.helper=null,null,a.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a,a=a=null):(d=a.next,a.prev.next=a.next,a.next.prev=a.prev,a.next=a.prev=null,a.helper=null,null,a.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=a,a=d),d=!0,null==a){d=!1;this.vertices=null;break}}while(d);return null==this.vertices},add_diagonal:function(a,b){a.diagonals.add(b);b.diagonals.add(a);a.forced=b.forced=!0},
extract_partitions:function(a){null==a&&(a=new c.util.ZNPList_ZPP_PartitionedPoly);if(null!=this.vertices){var b=this.vertices,d=this.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=d)}for(this.pull_partitions(this.vertices,a);null!=this.vertices;)null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,d=this.vertices,d.helper=null,null,d.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=d,this.vertices=this.vertices=null):(d=
this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,b=this.vertices,b.helper=null,null,b.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=b,this.vertices=null,this.vertices=d);d=null;for(b=a.head;null!=b;)b.elt.remove_collinear_vertices()?a.erase(d):(d=b,b=b.next)}return a},pull_partitions:function(a,b){var d;null==c.geom.ZPP_PartitionedPoly.zpp_pool?d=new c.geom.ZPP_PartitionedPoly:
(d=c.geom.ZPP_PartitionedPoly.zpp_pool,c.geom.ZPP_PartitionedPoly.zpp_pool=d.next,d.next=null);null;var h=a;do{var e=h.copy();null==d.vertices?d.vertices=e.prev=e.next=e:(e.prev=d.vertices,e.next=d.vertices.next,d.vertices.next.prev=e,d.vertices.next=e);d.vertices=e;d.vertices.forced=h.forced;if(null!=h.diagonals.head)if(h.diagonals.inlined_pop_unsafe()==a)break;else h=this.pull_partitions(h,b);else h=h.next}while(h!=a);var e=0,f=d.vertices,g=d.vertices;if(null!=f){do var k=f,e=e+k.x*(k.next.y-k.prev.y),
f=f.next;while(f!=g)}0!=0.5*e&&b.add(d);return h},extract:function(a){null==a&&(a=new c.util.ZNPList_ZPP_GeomVert);if(null!=this.vertices){var b=this.vertices,d=this.vertices;if(null!=b){do b.sort(),b=b.next;while(b!=d)}for(this.pull(this.vertices,a);null!=this.vertices;)null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,d=this.vertices,d.helper=null,null,d.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=d,this.vertices=
this.vertices=null):(d=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,b=this.vertices,b.helper=null,null,b.next=c.geom.ZPP_PartitionVertex.zpp_pool,c.geom.ZPP_PartitionVertex.zpp_pool=b,this.vertices=null,this.vertices=d)}return a},pull:function(a,b){var d=null,h=a;do{var e=c.geom.ZPP_GeomVert.get(h.x,h.y);null==d?e.prev=e.next=e:(e.prev=d,e.next=d.next,d.next.prev=e,d.next=e);d=e;d.forced=h.forced;
if(null!=h.diagonals.head)if(h.diagonals.inlined_pop_unsafe()==a)break;else h=this.pull(h,b);else h=h.next}while(h!=a);var e=0,f=d,m=d;if(null!=f){do var k=f,e=e+k.x*(k.next.y-k.prev.y),f=f.next;while(f!=m)}e*=0.5;if(e*e>=g.Config.epsilon*g.Config.epsilon){e=d;for(m=!0;m||e!=d;)if(m=!1,c.geom.ZPP_VecMath.vec_dsq(e.x,e.y,e.next.x,e.next.y)<g.Config.epsilon*g.Config.epsilon){if(e==d&&(d=e.next,m=!0),e.forced&&(e.next.forced=!0),null!=e&&e.prev==e?e=e=e.next=e.prev=null:(f=e.next,e.prev.next=e.next,
e.next.prev=e.prev,e.next=e.prev=null,e=f),null==e){d=null;break}}else e=e.next;if(null!=d){do for(f=!1,e=d,m=!0;m||e!=d;){var m=!1,l=e.prev,n=0,k=e.x-l.x,n=e.y-l.y,p=0,l=e.next.x-e.x,p=e.next.y-e.y,k=p*k-l*n;if(k*k>=g.Config.epsilon*g.Config.epsilon)e=e.next;else if(e==d&&(d=e.next,m=!0),null!=e&&e.prev==e?e=e=e.next=e.prev=null:(f=e.next,e.prev.next=e.next,e.next.prev=e.prev,e.next=e.prev=null,e=f),f=!0,null==e){f=!1;d=null;break}}while(f)}null==d||b.add(d)}return h},__class__:c.geom.ZPP_PartitionedPoly};
c.geom.ZPP_Ray=function(){this.zip_dir=!1;this.originx=this.originy=this.dirx=this.diry=this.idirx=this.idiry=this.normalx=this.normaly=this.absnormalx=this.absnormaly=0;this.userData=null;this.maxdist=0;this.origin=this.direction=null;this.origin=g.geom.Vec2.get(null,null,null);this.origin.zpp_inner._invalidate=B(this,this.origin_invalidate);this.direction=g.geom.Vec2.get(null,null,null);this.direction.zpp_inner._invalidate=B(this,this.direction_invalidate);this.diry=this.dirx=this.originy=this.originx=
0;this.zip_dir=!1};n["zpp_nape.geom.ZPP_Ray"]=c.geom.ZPP_Ray;c.geom.ZPP_Ray.__name__=["zpp_nape","geom","ZPP_Ray"];c.geom.ZPP_Ray.prototype={origin_invalidate:function(a){this.originx=a.x;this.originy=a.y},direction_invalidate:function(a){this.dirx=a.x;this.diry=a.y;this.zip_dir=!0},invalidate_dir:function(){this.zip_dir=!0},validate_dir:function(){if(this.zip_dir){this.zip_dir=!1;if(this.dirx*this.dirx+this.diry*this.diry<g.Config.epsilon)throw"Error: Ray::direction is degenerate";var a=1/Math.sqrt(this.dirx*
this.dirx+this.diry*this.diry);this.dirx*=a;this.diry*=a;this.idirx=1/this.dirx;this.idiry=1/this.diry;this.normalx=-this.diry;this.normaly=this.dirx;a=this.normalx;this.absnormalx=0>a?-a:a;a=this.normaly;this.absnormaly=0>a?-a:a}},rayAABB:function(){var a=this.originx,b=a,d=this.originy,h=d;this.maxdist>=Math.POSITIVE_INFINITY?(0<this.dirx?b=Math.POSITIVE_INFINITY:0>this.dirx&&(b=Math.NEGATIVE_INFINITY),0<this.diry?h=Math.POSITIVE_INFINITY:0>this.diry&&(h=Math.NEGATIVE_INFINITY)):(b+=this.maxdist*
this.dirx,h+=this.maxdist*this.diry);if(b<a)var e=a,a=b,b=e;h<d&&(e=d,d=h,h=e);return c.geom.ZPP_AABB.get(a,d,b,h)},aabbtest:function(a){var b=this.normalx*(this.originx-0.5*(a.minx+a.maxx))+this.normaly*(this.originy-0.5*(a.miny+a.maxy));return(0>b?-b:b)<0.5*this.absnormalx*(a.maxx-a.minx)+0.5*this.absnormaly*(a.maxy-a.miny)},aabbsect:function(a){var b=this.originy>=a.miny&&this.originy<=a.maxy;if(this.originx>=a.minx&&this.originx<=a.maxx&&b)return 0;b=-1;do if(!(0<=this.dirx&&this.originx>=a.maxx||
0>=this.dirx&&this.originx<=a.minx||0<=this.diry&&this.originy>=a.maxy||0>=this.diry&&this.originy<=a.miny)){if(0<this.dirx){var d=(a.minx-this.originx)*this.idirx;if(0<=d&&d<=this.maxdist){var c=this.originy+d*this.diry;if(c>=a.miny&&c<=a.maxy){b=d;break}}}else if(0>this.dirx&&(d=(a.maxx-this.originx)*this.idirx,0<=d&&d<=this.maxdist&&(c=this.originy+d*this.diry,c>=a.miny&&c<=a.maxy))){b=d;break}0<this.diry?(d=(a.miny-this.originy)*this.idiry,0<=d&&d<=this.maxdist&&(c=this.originx+d*this.dirx,c>=
a.minx&&c<=a.maxx&&(b=d))):0>this.diry&&(d=(a.maxy-this.originy)*this.idiry,0<=d&&d<=this.maxdist&&(c=this.originx+d*this.dirx,c>=a.minx&&c<=a.maxx&&(b=d)))}while(0);return b},circlesect:function(a,b,d){a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=
a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy));var h=0,e=0,h=this.originx-a.worldCOMx,e=this.originy-a.worldCOMy,f=this.dirx*this.dirx+this.diry*this.diry,m=2*(h*this.dirx+e*this.diry),h=h*h+e*e-a.radius*a.radius,e=m*m-4*f*h;if(0==e){if(f*=-m/2,(!b||0<h)&&0<f&&f<d&&f<=this.maxdist)return b=this.originx,d=this.originy,b+=this.dirx*f,d+=this.diry*f,b-=1*a.worldCOMx,d-=1*a.worldCOMy,m=1/Math.sqrt(b*b+d*d),b*=
m,d*=m,0>=h&&(b=-b,d=-d),c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(b,d,null),f,0>=h,a.outer)}else if(e=Math.sqrt(e),f=1/(2*f),h=(-m-e)*f,f*=-m+e,0<h){if(h<d&&h<=this.maxdist)return b=this.originx,d=this.originy,b+=this.dirx*h,d+=this.diry*h,b-=1*a.worldCOMx,d-=1*a.worldCOMy,f=1/Math.sqrt(b*b+d*d),c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(b*f,d*f,null),h,!1,a.outer)}else if(0<f&&b&&f<d&&f<=this.maxdist)return b=this.originx,d=this.originy,b+=this.dirx*f,d+=this.diry*f,b-=1*a.worldCOMx,
d-=1*a.worldCOMy,h=1/Math.sqrt(b*b+d*d),b=-(b*h),d=-(d*h),c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(b,d,null),f,!0,a.outer);return null},circlesect2:function(a,b,d){a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*
a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy));var h=0,e=0,h=this.originx-a.worldCOMx,e=this.originy-a.worldCOMy,f=this.dirx*this.dirx+this.diry*this.diry,m=2*(h*this.dirx+e*this.diry),h=h*h+e*e-a.radius*a.radius,k=m*m-4*f*h;if(0==k){if(e=-m/2*f,(!b||0<h)&&0<e&&e<=this.maxdist){b=this.originx;f=this.originy;b+=this.dirx*e;f+=this.diry*e;b-=1*a.worldCOMx;f-=1*a.worldCOMy;m=1/Math.sqrt(b*b+f*f);b*=m;f*=m;0>=h&&(b=-b,f=-f);a=c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(b,
f,null),e,0>=h,a.outer);b=null;for(h=d.zpp_inner.inner.head;null!=h;){e=h.elt;if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";f=a.zpp_inner.toiDistance;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(f<e.zpp_inner.toiDistance)break;b=h;h=h.next}d.zpp_inner.inner.inlined_insert(b,a)}}else{k=Math.sqrt(k);f=1/(2*f);e=(-m-k)*f;h=(-m+k)*f;if(0<e&&e<=this.maxdist){f=this.originx;m=this.originy;f+=this.dirx*e;m+=this.diry*
e;f-=1*a.worldCOMx;m-=1*a.worldCOMy;k=1/Math.sqrt(f*f+m*m);e=c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(f*k,m*k,null),e,!1,a.outer);f=null;for(m=d.zpp_inner.inner.head;null!=m;){var k=m.elt,l;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";l=e.zpp_inner.toiDistance;if(null!=k.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(l<k.zpp_inner.toiDistance)break;f=m;m=m.next}d.zpp_inner.inner.inlined_insert(f,e)}if(0<h&&
h<=this.maxdist&&b){b=this.originx;e=this.originy;b+=this.dirx*h;e+=this.diry*h;b-=1*a.worldCOMx;e-=1*a.worldCOMy;f=1/Math.sqrt(b*b+e*e);a=c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(-(b*f),-(e*f),null),h,!0,a.outer);b=null;for(h=d.zpp_inner.inner.head;null!=h;){e=h.elt;if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";f=a.zpp_inner.toiDistance;if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(f<e.zpp_inner.toiDistance)break;
b=h;h=h.next}d.zpp_inner.inner.inlined_insert(b,a)}}},polysect:function(a,b,d){for(var h=null,e=a.edges.head,f=a.gverts.next,m=f,f=f.next;null!=f;){var k=f,l=e.elt;if(b||0>l.gnormx*this.dirx+l.gnormy*this.diry){var n=0,p=0,n=k.x-m.x,p=k.y-m.y,v=0,l=m.x-this.originx,v=m.y-this.originy,m=p*this.dirx-n*this.diry;m*m>g.Config.epsilon&&(m=1/m,n=(p*l-n*v)*m,0<n&&n<d&&n<=this.maxdist&&(m*=this.diry*l-this.dirx*v,m>-g.Config.epsilon&&m<1+g.Config.epsilon&&(d=n,h=e.elt)))}e=e.next;m=k;f=f.next}k=a.gverts.next;
f=e.elt;if(b||0>f.gnormx*this.dirx+f.gnormy*this.diry)b=k.x-m.x,f=k.y-m.y,k=m.x-this.originx,l=m.y-this.originy,m=f*this.dirx-b*this.diry,m*m>g.Config.epsilon&&(m=1/m,b=(f*k-b*l)*m,0<b&&b<d&&b<=this.maxdist&&(m*=this.diry*k-this.dirx*l,m>-g.Config.epsilon&&m<1+g.Config.epsilon&&(d=b,h=e.elt)));if(null!=h){e=h.gnormx;b=h.gnormy;if(h=0<e*this.dirx+b*this.diry)e=-e,b=-b;return c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(e,b,null),d,h,a.outer)}return null},polysect2:function(a,b,d){for(var h=Math.POSITIVE_INFINITY,
e=-1,f=null,m=null,k=a.edges.head,l=a.gverts.next,n=l,l=l.next;null!=l;){var p=l,v=k.elt;if(b||0>v.gnormx*this.dirx+v.gnormy*this.diry){var q=0,r=0,q=p.x-n.x,r=p.y-n.y,s=0,v=n.x-this.originx,s=n.y-this.originy,n=r*this.dirx-q*this.diry;n*n>g.Config.epsilon&&(n=1/n,q=(r*v-q*s)*n,0<q&&q<=this.maxdist&&(q<h||q>e)&&(n*=this.diry*v-this.dirx*s,n>-g.Config.epsilon&&n<1+g.Config.epsilon&&(q<h&&(h=q,f=k.elt),q>e&&(e=q,m=k.elt))))}k=k.next;n=p;l=l.next}p=a.gverts.next;l=k.elt;if(b||0>l.gnormx*this.dirx+l.gnormy*
this.diry)b=p.x-n.x,l=p.y-n.y,p=n.x-this.originx,v=n.y-this.originy,n=l*this.dirx-b*this.diry,n*n>g.Config.epsilon&&(n=1/n,b=(l*p-b*v)*n,0<b&&b<=this.maxdist&&(b<h||b>e)&&(n*=this.diry*p-this.dirx*v,n>-g.Config.epsilon&&n<1+g.Config.epsilon&&(b<h&&(h=b,f=k.elt),b>e&&(e=b,m=k.elt))));if(null!=f){k=f.gnormx;n=f.gnormy;if(b=0<k*this.dirx+n*this.diry)k=-k,n=-n;h=c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(k,n,null),h,b,a.outer);k=null;for(n=d.zpp_inner.inner.head;null!=n;){b=n.elt;if(null!=h.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
l=h.zpp_inner.toiDistance;if(null!=b.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(l<b.zpp_inner.toiDistance)break;k=n;n=n.next}d.zpp_inner.inner.inlined_insert(k,h)}if(null!=m&&f!=m){f=m.gnormx;h=m.gnormy;if(m=0<f*this.dirx+h*this.diry)f=-f,h=-h;a=c.geom.ZPP_ConvexRayResult.getRay(g.geom.Vec2.get(f,h,null),e,m,a.outer);e=null;for(m=d.zpp_inner.inner.head;null!=m;){f=m.elt;if(null!=a.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
h=a.zpp_inner.toiDistance;if(null!=f.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(h<f.zpp_inner.toiDistance)break;e=m;m=m.next}d.zpp_inner.inner.inlined_insert(e,a)}},__class__:c.geom.ZPP_Ray};c.geom.ZPP_SimpleVert=function(){this.next=this.node=null;this.id=0;this.links=null;this.x=this.y=0;this.forced=!1;this.id=c.ZPP_ID.ZPP_SimpleVert();null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?this.links=new c.util.ZPP_Set_ZPP_SimpleVert:(this.links=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=this.links.next,this.links.next=null);null;this.links.lt=c.geom.ZPP_SimpleVert.less_xy};n["zpp_nape.geom.ZPP_SimpleVert"]=c.geom.ZPP_SimpleVert;c.geom.ZPP_SimpleVert.__name__=["zpp_nape","geom","ZPP_SimpleVert"];c.geom.ZPP_SimpleVert.less_xy=function(a,b){return a.y<b.y||a.y==b.y&&a.x<b.x};c.geom.ZPP_SimpleVert.swap_nodes=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_SimpleVert.get=function(a,b){var d;null==c.geom.ZPP_SimpleVert.zpp_pool?d=new c.geom.ZPP_SimpleVert:
(d=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=d.next,d.next=null);null;d.x=a;d.y=b;return d};c.geom.ZPP_SimpleVert.prototype={free:function(){this.links.clear();this.node=null;this.forced=!1},alloc:function(){},__class__:c.geom.ZPP_SimpleVert};c.geom.ZPP_SimpleSeg=function(){this.next=this.prev=this.node=null;this.id=0;this.left=this.right=this.vertices=null;this.id=c.ZPP_ID.ZPP_SimpleSeg();null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?this.vertices=new c.util.ZPP_Set_ZPP_SimpleVert:
(this.vertices=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=this.vertices.next,this.vertices.next=null);null;this.vertices.lt=B(this,this.less_xy)};n["zpp_nape.geom.ZPP_SimpleSeg"]=c.geom.ZPP_SimpleSeg;c.geom.ZPP_SimpleSeg.__name__=["zpp_nape","geom","ZPP_SimpleSeg"];c.geom.ZPP_SimpleSeg.get=function(a,b){var d;null==c.geom.ZPP_SimpleSeg.zpp_pool?d=new c.geom.ZPP_SimpleSeg:(d=c.geom.ZPP_SimpleSeg.zpp_pool,c.geom.ZPP_SimpleSeg.zpp_pool=d.next,d.next=null);null;d.left=
a;d.right=b;d.vertices.insert(a);d.vertices.insert(b);return d};c.geom.ZPP_SimpleSeg.prototype={free:function(){this.node=this.prev=this.left=this.right=null;this.vertices.clear()},alloc:function(){},less_xy:function(a,b){return a.x<b.x||a.x==b.x&&a.y<b.y},__class__:c.geom.ZPP_SimpleSeg};c.geom.ZPP_SimpleEvent=function(){this.vertex=this.segment=this.segment2=this.node=this.next=null;this.type=0};n["zpp_nape.geom.ZPP_SimpleEvent"]=c.geom.ZPP_SimpleEvent;c.geom.ZPP_SimpleEvent.__name__=["zpp_nape",
"geom","ZPP_SimpleEvent"];c.geom.ZPP_SimpleEvent.swap_nodes=function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_SimpleEvent.less_xy=function(a,b){return a.vertex.x<b.vertex.x?!0:a.vertex.x>b.vertex.x?!1:a.vertex.y<b.vertex.y?!0:a.vertex.y>b.vertex.y?!1:a.type<b.type};c.geom.ZPP_SimpleEvent.get=function(a){var b;null==c.geom.ZPP_SimpleEvent.zpp_pool?b=new c.geom.ZPP_SimpleEvent:(b=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.vertex=a;return b};
c.geom.ZPP_SimpleEvent.prototype={free:function(){this.node=this.segment=this.segment2=this.vertex=null},alloc:function(){},__class__:c.geom.ZPP_SimpleEvent};c.geom.ZPP_SimpleSweep=function(){this.tree=null;this.sweepx=0;null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?this.tree=new c.util.ZPP_Set_ZPP_SimpleSeg:(this.tree=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=this.tree.next,this.tree.next=null);null;this.tree.lt=B(this,this.edge_lt);this.tree.swapped=B(this,this.swap_nodes)};
n["zpp_nape.geom.ZPP_SimpleSweep"]=c.geom.ZPP_SimpleSweep;c.geom.ZPP_SimpleSweep.__name__=["zpp_nape","geom","ZPP_SimpleSweep"];c.geom.ZPP_SimpleSweep.prototype={swap_nodes:function(a,b){var d=a.node;a.node=b.node;b.node=d},edge_lt:function(a,b){var d=0,c=0,e=0,f=0,g;if(a.left==b.left&&a.right==b.right)return!1;if(a.left==b.right)return a.left.x==a.right.x?d=a.left.y<a.right.y?a.left.y>b.left.y:a.right.y>b.left.y:(g=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.left.x-a.left.x,
f=b.left.y-a.left.y,d=0>(g?c*e-d*f:f*d-e*c)),d;if(a.right==b.left)return b.left.x==b.right.x?d=b.left.y<b.right.y?b.left.y>a.left.y:b.right.y>a.left.y:(g=b.right.x<b.left.x,d=b.right.x-b.left.x,c=b.right.y-b.left.y,e=a.left.x-b.left.x,f=a.left.y-b.left.y,d=0>(g?c*e-d*f:f*d-e*c)),!d;if(a.left==b.left)return a.left.x==a.right.x?d=a.left.y<a.right.y?a.left.y>b.right.y:a.right.y>b.right.y:(g=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.right.x-a.left.x,f=b.right.y-a.left.y,d=0>(g?
c*e-d*f:f*d-e*c)),d;if(a.right==b.right)return a.left.x==a.right.x?d=a.left.y<a.right.y?a.left.y>b.left.y:a.right.y>b.left.y:(g=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.left.x-a.left.x,f=b.left.y-a.left.y,d=0>(g?c*e-d*f:f*d-e*c)),d;if(a.left.x==a.right.x){if(b.left.x==b.right.x)return(a.left.y<a.right.y?a.right:a.left).y>(b.left.y<b.right.y?b.right:b.left).y;var k;g=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.left.x-b.left.x;f=a.left.y-b.left.y;k=g?c*e-
d*f:f*d-e*c;g=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.right.x-b.left.x;f=a.right.y-b.left.y;return 0<=k*(g?c*e-d*f:f*d-e*c)?0<=k:this.sweepx>=a.left.x}if(b.left.x==b.right.x)return g=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.left.x-a.left.x,f=b.left.y-a.left.y,k=g?c*e-d*f:f*d-e*c,g=a.right.x<a.left.x,d=a.right.x-a.left.x,c=a.right.y-a.left.y,e=b.right.x-a.left.x,f=b.right.y-a.left.y,0<=k*(g?c*e-d*f:f*d-e*c)?0>k:this.sweepx<b.left.x;g=a.right.x<a.left.x;
d=a.right.x-a.left.x;c=a.right.y-a.left.y;e=b.left.x-a.left.x;f=b.left.y-a.left.y;k=0>(g?c*e-d*f:f*d-e*c);g=a.right.x<a.left.x;d=a.right.x-a.left.x;c=a.right.y-a.left.y;e=b.right.x-a.left.x;f=b.right.y-a.left.y;if(k==0>(g?c*e-d*f:f*d-e*c))return k;g=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.left.x-b.left.x;f=a.left.y-b.left.y;k=0<=(g?c*e-d*f:f*d-e*c);g=b.right.x<b.left.x;d=b.right.x-b.left.x;c=b.right.y-b.left.y;e=a.right.x-b.left.x;f=a.right.y-b.left.y;return k==0<=(g?c*e-
d*f:f*d-e*c)?k:(this.sweepx-a.left.x)/(a.right.x-a.left.x)*(a.right.y-a.left.y)+a.left.y>(this.sweepx-b.left.x)/(b.right.x-b.left.x)*(b.right.y-b.left.y)+b.left.y},clear:function(){this.tree.clear()},add:function(a){a.node=this.tree.insert(a);var b=this.tree.successor_node(a.node),d=this.tree.predecessor_node(a.node);null!=b&&(a.next=b.data,b.data.prev=a);null!=d&&(a.prev=d.data,d.data.next=a);return a},remove:function(a){var b=this.tree.successor_node(a.node),d=this.tree.predecessor_node(a.node);
null!=b&&(b.data.prev=a.prev);null!=d&&(d.data.next=a.next);this.tree.remove_node(a.node);a.node=null},intersect:function(a,b){return null==a||null==b||a.left==b.left||a.left==b.right||a.right==b.left||a.right==b.right||0<((b.left.x-a.left.x)*(a.right.y-a.left.y)-(a.right.x-a.left.x)*(b.left.y-a.left.y))*((b.right.x-a.left.x)*(a.right.y-a.left.y)-(a.right.x-a.left.x)*(b.right.y-a.left.y))?!1:0<((a.left.x-b.left.x)*(b.right.y-b.left.y)-(b.right.x-b.left.x)*(a.left.y-b.left.y))*((a.right.x-b.left.x)*
(b.right.y-b.left.y)-(b.right.x-b.left.x)*(a.right.y-b.left.y))?!1:!0},intersection:function(a,b){if(null==a||null==b||a.left==b.left||a.left==b.right||a.right==b.left||a.right==b.right)return null;var d=0,h=0,d=a.right.x-a.left.x,h=a.right.y-a.left.y,e=0,f=0,e=b.right.x-b.left.x,f=b.right.y-b.left.y,g=f*d-e*h;if(0==g)return null;var g=1/g,k=0,l=0,k=b.left.x-a.left.x,l=b.left.y-a.left.y,n=(f*k-e*l)*g;if(0>n||1<n)return null;g*=h*k-d*l;if(0>g||1<g)return null;if(0==g||1==g||0==n||1==n){d=0==g;if(1==
g&&d)throw"corner case 1a";1==g&&(d=!0);if(0==n&&d)throw"corner case 1b";0==n&&(d=!0);if(1==n&&d)throw"corner case 1c";n=0==g?b.left:1==g?b.right:0==n?a.left:a.right}else n=c.geom.ZPP_SimpleVert.get(0.5*(a.left.x+d*n+b.left.x+e*g),0.5*(a.left.y+h*n+b.left.y+f*g));n=c.geom.ZPP_SimpleEvent.get(n);n.type=0;n.segment=a;n.segment2=b;return n},__class__:c.geom.ZPP_SimpleSweep};c.geom.ZPP_Simple=function(){};n["zpp_nape.geom.ZPP_Simple"]=c.geom.ZPP_Simple;c.geom.ZPP_Simple.__name__=["zpp_nape","geom","ZPP_Simple"];
c.geom.ZPP_Simple.decompose=function(a,b){null==c.geom.ZPP_Simple.sweep&&(c.geom.ZPP_Simple.sweep=new c.geom.ZPP_SimpleSweep,c.geom.ZPP_Simple.inthash=new c.util.FastHash2_Hashable2_Boolfalse);null==c.geom.ZPP_Simple.vertices&&(null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?c.geom.ZPP_Simple.vertices=new c.util.ZPP_Set_ZPP_SimpleVert:(c.geom.ZPP_Simple.vertices=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=c.geom.ZPP_Simple.vertices.next,c.geom.ZPP_Simple.vertices.next=
null),null,c.geom.ZPP_Simple.vertices.lt=c.geom.ZPP_SimpleVert.less_xy,c.geom.ZPP_Simple.vertices.swapped=c.geom.ZPP_SimpleVert.swap_nodes);null==c.geom.ZPP_Simple.queue&&(null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?c.geom.ZPP_Simple.queue=new c.util.ZPP_Set_ZPP_SimpleEvent:(c.geom.ZPP_Simple.queue=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=c.geom.ZPP_Simple.queue.next,c.geom.ZPP_Simple.queue.next=null),null,c.geom.ZPP_Simple.queue.lt=c.geom.ZPP_SimpleEvent.less_xy,
c.geom.ZPP_Simple.queue.swapped=c.geom.ZPP_SimpleEvent.swap_nodes);var d=null,h=null;if(null!=a){var e=a;do{var f=e,f=c.geom.ZPP_SimpleVert.get(f.x,f.y),g;for(g=c.geom.ZPP_Simple.vertices.parent;null!=g;)if(c.geom.ZPP_Simple.vertices.lt(f,g.data))g=g.prev;else if(c.geom.ZPP_Simple.vertices.lt(g.data,f))g=g.next;else break;null!=g?(f.links.clear(),f.node=null,f.forced=!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f,f=g.data):f.node=c.geom.ZPP_Simple.vertices.insert(f);if(null!=
h){g=c.geom.ZPP_SimpleEvent.get(h);var k=c.geom.ZPP_SimpleEvent.get(f),l;c.geom.ZPP_SimpleEvent.less_xy(g,k)?(g.type=1,k.type=2,l=c.geom.ZPP_SimpleSeg.get(h,f)):(g.type=2,k.type=1,l=c.geom.ZPP_SimpleSeg.get(f,h));g.segment=k.segment=l;c.geom.ZPP_Simple.queue.insert(g);c.geom.ZPP_Simple.queue.insert(k);h.links.insert(f);f.links.insert(h)}h=f;null==d&&(d=f);e=e.next}while(e!=a)}e=c.geom.ZPP_SimpleEvent.get(h);f=c.geom.ZPP_SimpleEvent.get(d);c.geom.ZPP_SimpleEvent.less_xy(e,f)?(e.type=1,f.type=2,g=c.geom.ZPP_SimpleSeg.get(h,
d)):(e.type=2,f.type=1,g=c.geom.ZPP_SimpleSeg.get(d,h));e.segment=f.segment=g;c.geom.ZPP_Simple.queue.insert(e);c.geom.ZPP_Simple.queue.insert(f);h.links.insert(d);d.links.insert(h);for(null==c.geom.ZPP_Simple.ints&&(null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?c.geom.ZPP_Simple.ints=new c.util.ZPP_Set_ZPP_SimpleEvent:(c.geom.ZPP_Simple.ints=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=c.geom.ZPP_Simple.ints.next,c.geom.ZPP_Simple.ints.next=null),null,c.geom.ZPP_Simple.ints.lt=
c.geom.ZPP_SimpleEvent.less_xy);!c.geom.ZPP_Simple.queue.empty();){d=c.geom.ZPP_Simple.queue.pop_front();c.geom.ZPP_Simple.sweep.sweepx=d.vertex.x;if(1==d.type){h=d.segment;c.geom.ZPP_Simple.sweep.add(h);if(null!=h.next&&null!=h&&(h.next.id<h.id?!c.geom.ZPP_Simple.inthash.has(h.next.id,h.id):!c.geom.ZPP_Simple.inthash.has(h.id,h.next.id))&&(e=c.geom.ZPP_Simple.sweep.intersection(h.next,h),null!=e))if(e.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(f=c.geom.ZPP_Simple.queue.parent;null!=f;)if(c.geom.ZPP_Simple.queue.lt(e,
f.data))f=f.prev;else if(c.geom.ZPP_Simple.queue.lt(f.data,e))f=f.next;else break;if(null==f){for(f=c.geom.ZPP_Simple.ints.parent;null!=f;)if(c.geom.ZPP_Simple.ints.lt(e,f.data))f=f.prev;else if(c.geom.ZPP_Simple.ints.lt(f.data,e))f=f.next;else break;null!=f?(g=e.vertex,g.links.clear(),g.node=null,g.forced=!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=g,e.vertex=f.data.vertex,f.data=e,c.geom.ZPP_Simple.queue.insert(e)):(c.geom.ZPP_Simple.queue.insert(e),c.geom.ZPP_Simple.ints.insert(e));
h.next.id<h.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(h.next.id,h.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(h.id,h.next.id,!0))}else{f=f.data;if(f.segment!=e.segment||e.segment2!=f.segment2)throw"corner case 2, shiiiit.";f=e.vertex;f.links.clear();f.node=null;f.forced=!1;f.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=f;e.vertex=null;e.segment=e.segment2=null;e.node=null;e.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=
e}}else f=e.vertex,f.links.clear(),f.node=null,f.forced=!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f,e.vertex=null,e.segment=e.segment2=null,e.node=null,e.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=e;if(null!=h&&null!=h.prev&&(h.id<h.prev.id?!c.geom.ZPP_Simple.inthash.has(h.id,h.prev.id):!c.geom.ZPP_Simple.inthash.has(h.prev.id,h.id))&&(e=c.geom.ZPP_Simple.sweep.intersection(h,h.prev),null!=e))if(e.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(f=
c.geom.ZPP_Simple.queue.parent;null!=f;)if(c.geom.ZPP_Simple.queue.lt(e,f.data))f=f.prev;else if(c.geom.ZPP_Simple.queue.lt(f.data,e))f=f.next;else break;if(null==f){for(f=c.geom.ZPP_Simple.ints.parent;null!=f;)if(c.geom.ZPP_Simple.ints.lt(e,f.data))f=f.prev;else if(c.geom.ZPP_Simple.ints.lt(f.data,e))f=f.next;else break;null!=f?(g=e.vertex,g.links.clear(),g.node=null,g.forced=!1,g.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=g,e.vertex=f.data.vertex,f.data=e,c.geom.ZPP_Simple.queue.insert(e)):
(c.geom.ZPP_Simple.queue.insert(e),c.geom.ZPP_Simple.ints.insert(e));h.id<h.prev.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(h.id,h.prev.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(h.prev.id,h.id,!0))}else{h=f.data;if(h.segment!=e.segment||e.segment2!=h.segment2)throw"corner case 2, shiiiit.";h=e.vertex;h.links.clear();h.node=null;h.forced=!1;h.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=h;h=e;h.vertex=null;h.segment=h.segment2=null;
h.node=null;h.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=h}}else h=e.vertex,h.links.clear(),h.node=null,h.forced=!1,h.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=h,h=e,h.vertex=null,h.segment=h.segment2=null,h.node=null,h.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=h}else if(2==d.type){if(h=d.segment,null!=h.node&&(e=h.next,f=h.prev,c.geom.ZPP_Simple.sweep.remove(h),h.left=h.right=null,h.prev=null,h.node=null,h.vertices.clear(),
h.next=c.geom.ZPP_SimpleSeg.zpp_pool,c.geom.ZPP_SimpleSeg.zpp_pool=h,null!=e&&null!=f&&(e.id<f.id?!c.geom.ZPP_Simple.inthash.has(e.id,f.id):!c.geom.ZPP_Simple.inthash.has(f.id,e.id))&&(h=c.geom.ZPP_Simple.sweep.intersection(e,f),null!=h)))if(h.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(g=c.geom.ZPP_Simple.queue.parent;null!=g;)if(c.geom.ZPP_Simple.queue.lt(h,g.data))g=g.prev;else if(c.geom.ZPP_Simple.queue.lt(g.data,h))g=g.next;else break;if(null==g){for(g=c.geom.ZPP_Simple.ints.parent;null!=g;)if(c.geom.ZPP_Simple.ints.lt(h,
g.data))g=g.prev;else if(c.geom.ZPP_Simple.ints.lt(g.data,h))g=g.next;else break;null!=g?(k=h.vertex,k.links.clear(),k.node=null,k.forced=!1,k.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=k,h.vertex=g.data.vertex,g.data=h,c.geom.ZPP_Simple.queue.insert(h)):(c.geom.ZPP_Simple.queue.insert(h),c.geom.ZPP_Simple.ints.insert(h));e.id<f.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(e.id,f.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(f.id,e.id,
!0))}else{e=g.data;if(e.segment!=h.segment||h.segment2!=e.segment2)throw"corner case 2, shiiiit.";e=h.vertex;e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;h.vertex=null;h.segment=h.segment2=null;h.node=null;h.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=h}}else e=h.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=e,h.vertex=null,h.segment=h.segment2=
null,h.node=null,h.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=h}else{var n=d.vertex,h=null==n.node,p=d.segment,v=d.segment2;v.next!=p&&(e=p,p=v,v=e);f=null==function(a){for(a=p.vertices.parent;null!=a;)if(p.vertices.lt(n,a.data))a=a.prev;else if(p.vertices.lt(a.data,n))a=a.next;else break;return a}(this);e=null==function(a){for(a=v.vertices.parent;null!=a;)if(v.vertices.lt(n,a.data))a=a.prev;else if(v.vertices.lt(a.data,n))a=a.next;else break;return a}(this);f&&(g=p.vertices.insert(n),
f=n==p.left?n:p.vertices.predecessor_node(g).data,g=n==p.right?n:p.vertices.successor_node(g).data,f.links.remove(g),n!=f&&f.links.insert(n),g.links.remove(f),n!=g&&g.links.insert(n),n!=f&&n.links.insert(f),n!=g&&n.links.insert(g));e&&(f=v.vertices.insert(n),e=n==v.left?n:v.vertices.predecessor_node(f).data,f=n==v.right?n:v.vertices.successor_node(f).data,e.links.remove(f),n!=e&&e.links.insert(n),f.links.remove(e),n!=f&&f.links.insert(n),n!=e&&n.links.insert(e),n!=f&&n.links.insert(f));h&&(n.node=
c.geom.ZPP_Simple.vertices.insert(n));n.forced=!0;h&&(h=p.node,e=v.node,h.data=v,e.data=p,p.node=e,v.node=h,v.next=p.next,p.next=v,p.prev=v.prev,v.prev=p,null!=p.prev&&(p.prev.next=p),null!=v.next&&(v.next.prev=v));if(null!=v.next&&null!=v&&(v.next.id<v.id?!c.geom.ZPP_Simple.inthash.has(v.next.id,v.id):!c.geom.ZPP_Simple.inthash.has(v.id,v.next.id))&&(h=c.geom.ZPP_Simple.sweep.intersection(v.next,v),null!=h))if(h.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(e=c.geom.ZPP_Simple.queue.parent;null!=
e;)if(c.geom.ZPP_Simple.queue.lt(h,e.data))e=e.prev;else if(c.geom.ZPP_Simple.queue.lt(e.data,h))e=e.next;else break;if(null==e){for(e=c.geom.ZPP_Simple.ints.parent;null!=e;)if(c.geom.ZPP_Simple.ints.lt(h,e.data))e=e.prev;else if(c.geom.ZPP_Simple.ints.lt(e.data,h))e=e.next;else break;null!=e?(f=h.vertex,f.links.clear(),f.node=null,f.forced=!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f,h.vertex=e.data.vertex,e.data=h,c.geom.ZPP_Simple.queue.insert(h)):(c.geom.ZPP_Simple.queue.insert(h),
c.geom.ZPP_Simple.ints.insert(h));v.next.id<v.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(v.next.id,v.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(v.id,v.next.id,!0))}else{e=e.data;if(e.segment!=h.segment||h.segment2!=e.segment2)throw"corner case 2, shiiiit.";e=h.vertex;e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;h.vertex=null;h.segment=h.segment2=null;h.node=null;h.next=c.geom.ZPP_SimpleEvent.zpp_pool;
c.geom.ZPP_SimpleEvent.zpp_pool=h}}else e=h.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=e,h.vertex=null,h.segment=h.segment2=null,h.node=null,h.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=h;if(null!=p&&null!=p.prev&&(p.id<p.prev.id?!c.geom.ZPP_Simple.inthash.has(p.id,p.prev.id):!c.geom.ZPP_Simple.inthash.has(p.prev.id,p.id))&&(h=c.geom.ZPP_Simple.sweep.intersection(p,p.prev),null!=h))if(h.vertex.x>=c.geom.ZPP_Simple.sweep.sweepx){for(e=
c.geom.ZPP_Simple.queue.parent;null!=e;)if(c.geom.ZPP_Simple.queue.lt(h,e.data))e=e.prev;else if(c.geom.ZPP_Simple.queue.lt(e.data,h))e=e.next;else break;if(null==e){for(e=c.geom.ZPP_Simple.ints.parent;null!=e;)if(c.geom.ZPP_Simple.ints.lt(h,e.data))e=e.prev;else if(c.geom.ZPP_Simple.ints.lt(e.data,h))e=e.next;else break;null!=e?(f=h.vertex,f.links.clear(),f.node=null,f.forced=!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f,h.vertex=e.data.vertex,e.data=h,c.geom.ZPP_Simple.queue.insert(h)):
(c.geom.ZPP_Simple.queue.insert(h),c.geom.ZPP_Simple.ints.insert(h));p.id<p.prev.id?c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(p.id,p.prev.id,!0)):c.geom.ZPP_Simple.inthash.add(c.util.Hashable2_Boolfalse.get(p.prev.id,p.id,!0))}else{e=e.data;if(e.segment!=h.segment||h.segment2!=e.segment2)throw"corner case 2, shiiiit.";e=h.vertex;e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=e;h.vertex=null;h.segment=h.segment2=null;
h.node=null;h.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=h}}else e=h.vertex,e.links.clear(),e.node=null,e.forced=!1,e.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=e,h.vertex=null,h.segment=h.segment2=null,h.node=null,h.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=h;c.geom.ZPP_Simple.ints.remove(d)}d.vertex=null;d.segment=d.segment2=null;d.node=null;d.next=c.geom.ZPP_SimpleEvent.zpp_pool;c.geom.ZPP_SimpleEvent.zpp_pool=d}d=0;for(h=
c.geom.ZPP_Simple.inthash.table.length;d<h;)if(e=d++,g=c.geom.ZPP_Simple.inthash.table[e],null!=g){for(;null!=g;)f=g.hnext,g.hnext=null,g.next=c.util.Hashable2_Boolfalse.zpp_pool,c.util.Hashable2_Boolfalse.zpp_pool=g,g=f;c.geom.ZPP_Simple.inthash.table[e]=null}for(null==b&&(b=new c.util.ZNPList_ZPP_GeomVert);!c.geom.ZPP_Simple.vertices.empty();)c.geom.ZPP_Simple.clip_polygon(c.geom.ZPP_Simple.vertices,b);return b};c.geom.ZPP_Simple.clip_polygon=function(a,b){var d=null,h=a.first(),e=h,f=h.links.parent,
g=f.data,f=(null==f.prev?f.next:f.prev).data,k=0,l=0,k=h.x-g.x,l=h.y-g.y,n=0,p=0,n=f.x-h.x,p=f.y-h.y;0>p*k-n*l&&(f=g);g=c.geom.ZPP_GeomVert.get(h.x,h.y);null==d?g.prev=g.next=g:(g.prev=d,g.next=d.next,d.next.prev=g,d.next=g);d=g;for(d.forced=h.forced;;){h.links.remove(f);f.links.remove(h);if(f==e){h.links.empty()&&(a.remove(h),f=h,f.links.clear(),f.node=null,f.forced=!1,f.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=f);break}g=c.geom.ZPP_GeomVert.get(f.x,f.y);null==d?g.prev=
g.next=g:(g.prev=d,g.next=d.next,d.next.prev=g,d.next=g);d=g;d.forced=f.forced;if(f.links.singular())h.links.empty()&&(a.remove(h),h.links.clear(),h.node=null,h.forced=!1,h.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=h),h=f,f=f.links.parent.data;else{g=null;n=0;if(!f.links.empty()){for(k=f.links.parent;null!=k.prev;)k=k.prev;for(;null!=k;){l=k.data;if(null==g)var g=l,n=f.x-h.x,p=f.y-h.y,v=0,q=0,v=l.x-f.x,q=l.y-f.y,n=q*n-v*p;else{var p=f.x-h.x,v=f.y-h.y,r=0,q=l.x-f.x,r=l.y-f.y,
p=r*p-q*v;if(0<p&&0>=n)g=l,n=p;else if(0<=n*p){var v=f.x-l.x,q=f.y-l.y,s=0,r=g.x-f.x,s=g.y-f.y;0<s*v-r*q&&(g=l,n=p)}}if(null!=k.next)for(k=k.next;null!=k.prev;)k=k.prev;else{for(;null!=k.parent&&k==k.parent.next;)k=k.parent;k=k.parent}}}h.links.empty()&&(a.remove(h),h.links.clear(),h.node=null,h.forced=!1,h.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=h);h=f;f=g}}a.remove(e);e.links.clear();e.node=null;e.forced=!1;e.next=c.geom.ZPP_SimpleVert.zpp_pool;c.geom.ZPP_SimpleVert.zpp_pool=
e;b.add(d)};c.geom.ZPP_Simple.isSimple=function(a){null==c.geom.ZPP_Simple.sweep&&(c.geom.ZPP_Simple.sweep=new c.geom.ZPP_SimpleSweep,c.geom.ZPP_Simple.inthash=new c.util.FastHash2_Hashable2_Boolfalse);var b=c.geom.ZPP_Simple.list_vertices;null==b&&(b=c.geom.ZPP_Simple.list_vertices=new c.util.ZNPList_ZPP_SimpleVert);if(null!=a){var d=a;do{var h=d;b.add(c.geom.ZPP_SimpleVert.get(h.x,h.y));d=d.next}while(d!=a)}a=c.geom.ZPP_Simple.list_queue;null==a&&(a=c.geom.ZPP_Simple.list_queue=new c.util.ZNPList_ZPP_SimpleEvent);
h=b.head;d=h.elt;for(h=h.next;null!=h;){var e=h.elt,f=a.add(c.geom.ZPP_SimpleEvent.get(d)),g=a.add(c.geom.ZPP_SimpleEvent.get(e)),k=f;c.geom.ZPP_SimpleEvent.less_xy(f,g)?(f.type=1,g.type=2,d=g.segment=c.geom.ZPP_SimpleSeg.get(d,e)):(f.type=2,g.type=1,d=g.segment=c.geom.ZPP_SimpleSeg.get(e,d));k.segment=d;d=e;h=h.next}e=b.head.elt;h=a.add(c.geom.ZPP_SimpleEvent.get(d));k=a.add(c.geom.ZPP_SimpleEvent.get(e));c.geom.ZPP_SimpleEvent.less_xy(h,k)?(h.type=1,k.type=2,d=k.segment=c.geom.ZPP_SimpleSeg.get(d,
e)):(h.type=2,k.type=1,d=k.segment=c.geom.ZPP_SimpleSeg.get(e,d));h.segment=d;d=a;if(null!=d.head&&null!=d.head.next){var h=d.head,g=null,l=1,n,p,v;do{n=0;k=h;for(e=h=null;null!=k;){n++;f=k;p=0;for(v=l;null!=f&&p<l;)p++,f=f.next;for(;0<p||0<v&&null!=f;)0==p?(g=f,f=f.next,v--):0==v||null==f?(g=k,k=k.next,p--):c.geom.ZPP_SimpleEvent.less_xy(k.elt,f.elt)?(g=k,k=k.next,p--):(g=f,f=f.next,v--),null!=e?e.next=g:h=g,e=g;k=f}e.next=null;l<<=1}while(1<n);d.head=h;d.modified=!0;d.pushmod=!0}for(d=!0;null!=
a.head;){h=a.pop_unsafe();e=h.segment;if(1==h.type){if(c.geom.ZPP_Simple.sweep.add(e),c.geom.ZPP_Simple.sweep.intersect(e,e.next)||c.geom.ZPP_Simple.sweep.intersect(e,e.prev)){d=!1;break}}else if(2==h.type){if(c.geom.ZPP_Simple.sweep.intersect(e.prev,e.next)){d=!1;break}c.geom.ZPP_Simple.sweep.remove(e);e.left=e.right=null;e.prev=null;e.node=null;e.vertices.clear();e.next=c.geom.ZPP_SimpleSeg.zpp_pool;c.geom.ZPP_SimpleSeg.zpp_pool=e}h.vertex=null;h.segment=h.segment2=null;h.node=null;h.next=c.geom.ZPP_SimpleEvent.zpp_pool;
c.geom.ZPP_SimpleEvent.zpp_pool=h}for(;null!=a.head;)h=a.pop_unsafe(),2==h.type&&(e=h.segment,e.left=e.right=null,e.prev=null,e.node=null,e.vertices.clear(),e.next=c.geom.ZPP_SimpleSeg.zpp_pool,c.geom.ZPP_SimpleSeg.zpp_pool=e),h.vertex=null,h.segment=h.segment2=null,h.node=null,h.next=c.geom.ZPP_SimpleEvent.zpp_pool,c.geom.ZPP_SimpleEvent.zpp_pool=h;for(c.geom.ZPP_Simple.sweep.clear();null!=b.head;)a=b.pop_unsafe(),a.links.clear(),a.node=null,a.forced=!1,a.next=c.geom.ZPP_SimpleVert.zpp_pool,c.geom.ZPP_SimpleVert.zpp_pool=
a;return d};c.geom.ZPP_SimplifyV=function(){this.flag=this.forced=!1;this.next=this.prev=null;this.x=this.y=0};n["zpp_nape.geom.ZPP_SimplifyV"]=c.geom.ZPP_SimplifyV;c.geom.ZPP_SimplifyV.__name__=["zpp_nape","geom","ZPP_SimplifyV"];c.geom.ZPP_SimplifyV.get=function(a){var b;null==c.geom.ZPP_SimplifyV.zpp_pool?b=new c.geom.ZPP_SimplifyV:(b=c.geom.ZPP_SimplifyV.zpp_pool,c.geom.ZPP_SimplifyV.zpp_pool=b.next,b.next=null);null;b.x=a.x;b.y=a.y;b.flag=!1;return b};c.geom.ZPP_SimplifyV.prototype={free:function(){},
alloc:function(){},__class__:c.geom.ZPP_SimplifyV};c.geom.ZPP_SimplifyP=function(){this.next=this.min=this.max=null};n["zpp_nape.geom.ZPP_SimplifyP"]=c.geom.ZPP_SimplifyP;c.geom.ZPP_SimplifyP.__name__=["zpp_nape","geom","ZPP_SimplifyP"];c.geom.ZPP_SimplifyP.get=function(a,b){var d;null==c.geom.ZPP_SimplifyP.zpp_pool?d=new c.geom.ZPP_SimplifyP:(d=c.geom.ZPP_SimplifyP.zpp_pool,c.geom.ZPP_SimplifyP.zpp_pool=d.next,d.next=null);null;d.min=a;d.max=b;return d};c.geom.ZPP_SimplifyP.prototype={free:function(){this.min=
this.max=null},alloc:function(){},__class__:c.geom.ZPP_SimplifyP};c.geom.ZPP_Simplify=function(){};n["zpp_nape.geom.ZPP_Simplify"]=c.geom.ZPP_Simplify;c.geom.ZPP_Simplify.__name__=["zpp_nape","geom","ZPP_Simplify"];c.geom.ZPP_Simplify.lessval=function(a,b){return a.x-b.x+(a.y-b.y)};c.geom.ZPP_Simplify.less=function(a,b){return 0>a.x-b.x+(a.y-b.y)};c.geom.ZPP_Simplify.distance=function(a,b,d){var h=0,e=0,h=d.x-b.x,e=d.y-b.y,f=0,g=0,f=a.x-b.x,g=a.y-b.y;if(0==h*h+e*e)return f*f+g*g;b=(f*h+g*e)/(h*h+
e*e);if(0>=b)return f*f+g*g;if(1<=b)return c.geom.ZPP_VecMath.vec_dsq(a.x,a.y,d.x,d.y);f-=h*b;g-=e*b;return f*f+g*g};c.geom.ZPP_Simplify.simplify=function(a,b){var d=null,h=null,e=null;b*=b;null==c.geom.ZPP_Simplify.stack&&(c.geom.ZPP_Simplify.stack=new c.util.ZNPList_ZPP_SimplifyP);var f=null,g=null,k=a;do{var l=c.geom.ZPP_SimplifyV.get(k);l.forced=k.forced;l.forced&&(l.flag=!0,null!=f?c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(f,l)):g=l,f=l);null==d?l.prev=l.next=l:(l.prev=d,l.next=
d.next,d.next.prev=l,d.next=l);d=l;null==h?e=h=d:(0>d.x-h.x+(d.y-h.y)&&(h=d),0>e.x-d.x+(e.y-d.y)&&(e=d));k=k.next}while(k!=a);for(null==c.geom.ZPP_Simplify.stack.head?null==g?(h.flag=e.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(h,e)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(e,h))):(f=h.x-g.x+(h.y-g.y),0>f&&(f=-f),k=e.x-g.x+(e.y-g.y),0>k&&(k=-k),f>k?(h.flag=g.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(h,g)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(g,
h))):(e.flag=g.flag=!0,c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(e,g)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(g,e)))):c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(f,g));null!=c.geom.ZPP_Simplify.stack.head;){g=c.geom.ZPP_Simplify.stack.pop_unsafe();h=g.min;e=g.max;g.min=g.max=null;g.next=c.geom.ZPP_SimplifyP.zpp_pool;c.geom.ZPP_SimplifyP.zpp_pool=g;g=b;f=null;for(k=h.next;k!=e;)l=c.geom.ZPP_Simplify.distance(k,h,e),l>g&&(g=l,f=k),k=k.next;null!=f&&(f.flag=!0,
c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(h,f)),c.geom.ZPP_Simplify.stack.add(c.geom.ZPP_SimplifyP.get(f,e)))}for(h=null;null!=d;)d.flag&&(e=c.geom.ZPP_GeomVert.get(d.x,d.y),null==h?e.prev=e.next=e:(e.prev=h,e.next=h.next,h.next.prev=e,h.next=e),h=e,h.forced=d.forced),null!=d&&d.prev==d?(d.next=d.prev=null,d.next=c.geom.ZPP_SimplifyV.zpp_pool,c.geom.ZPP_SimplifyV.zpp_pool=d,d=d=null):(e=d.next,d.prev.next=d.next,d.next.prev=d.prev,d.next=d.prev=null,d.next=c.geom.ZPP_SimplifyV.zpp_pool,
c.geom.ZPP_SimplifyV.zpp_pool=d,d=e);return h};c.geom.ZPP_ToiEvent=function(){this.slipped=this.failed=this.kinematic=!1;this.c1=this.c2=this.axis=null;this.frozen1=this.frozen2=!1;this.s1=this.s2=this.arbiter=null;this.toi=0;this.next=null;this.c1=new c.geom.ZPP_Vec2;this.c2=new c.geom.ZPP_Vec2;this.axis=new c.geom.ZPP_Vec2};n["zpp_nape.geom.ZPP_ToiEvent"]=c.geom.ZPP_ToiEvent;c.geom.ZPP_ToiEvent.__name__=["zpp_nape","geom","ZPP_ToiEvent"];c.geom.ZPP_ToiEvent.prototype={alloc:function(){this.failed=
!1;this.arbiter=this.s1=this.s2=null},free:function(){},__class__:c.geom.ZPP_ToiEvent};c.geom.ZPP_SweepDistance=function(){};n["zpp_nape.geom.ZPP_SweepDistance"]=c.geom.ZPP_SweepDistance;c.geom.ZPP_SweepDistance.__name__=["zpp_nape","geom","ZPP_SweepDistance"];c.geom.ZPP_SweepDistance.dynamicSweep=function(a,b,d,h,e){null==e&&(e=!1);var f=a.s1,m=a.s2,k=f.body,l=m.body,n=0,p=0,n=l.velx-k.velx,p=l.vely-k.vely,v=k.angvel;0>v&&(v=-v);var q=l.angvel;0>q&&(q=-q);var r=f.sweepCoef*v+m.sweepCoef*q;if(!e&&
!a.kinematic&&n*n+p*p<g.Config.dynamicSweepLinearThreshold*g.Config.dynamicSweepLinearThreshold&&r<g.Config.dynamicSweepAngularThreshold)a.toi=-1,a.failed=!0;else{for(var s=a.c1,v=a.c2,q=a.axis,w=0;;){k.sweepIntegrate(d*b);k.sweepValidate(f);l.sweepIntegrate(d*b);l.sweepValidate(m);var x=c.geom.ZPP_SweepDistance.distance(f,m,s,v,q,null)+h,z=n*q.x+p*q.y;if(x<g.Config.distanceThresholdCCD){if(e)break;var y=0,B=0,y=s.x-k.posx,B=s.y-k.posy,A=0,t=0,A=v.x-l.posx,t=v.y-l.posy,y=z-k.sweep_angvel*(q.y*y-q.x*
B)+l.sweep_angvel*(q.y*A-q.x*t);0<y&&(a.slipped=!0);if(0>=y||x<0.5*g.Config.distanceThresholdCCD)break}z=(r-z)*b;if(0>=z){d=-1;break}z=x/z;1E-6>z&&(z=1E-6);d+=z;if(1<=d){d=1;k.sweepIntegrate(d*b);k.sweepValidate(f);l.sweepIntegrate(d*b);l.sweepValidate(m);b=c.geom.ZPP_SweepDistance.distance(f,m,s,v,q,null)+h;n=n*q.x+p*q.y;if(b<g.Config.distanceThresholdCCD){if(e)break;e=s.x-k.posx;p=s.y-k.posy;s=v.x-l.posx;h=v.y-l.posy;k=n-k.sweep_angvel*(q.y*e-q.x*p)+l.sweep_angvel*(q.y*s-q.x*h);0<k&&(a.slipped=
!0);if(0>=k||b<0.5*g.Config.distanceThresholdCCD)break}d=-1;break}if(40<=++w){x>h&&(a.failed=!0);break}}a.toi=d}};c.geom.ZPP_SweepDistance.staticSweep=function(a,b,d,h){var e=a.s1,f=a.s2,m=e.body,k=0,l=0,k=-m.velx,l=-m.vely,n=m.sweep_angvel;0>n&&(n=-n);for(var p=e.sweepCoef*n,n=a.c1,q=a.c2,r=a.axis,w=0;;){m.sweepIntegrate(d*b);m.sweepValidate(e);var s=c.geom.ZPP_SweepDistance.distance(e,f,n,q,r,null)+h,x=k*r.x+l*r.y;if(s<g.Config.distanceThresholdCCD){var z=0,B=0,z=n.x-m.posx,B=n.y-m.posy,z=x-m.sweep_angvel*
(r.y*z-r.x*B);0<z&&(a.slipped=!0);if(0>=z||s<0.5*g.Config.distanceThresholdCCD)break}x=(p-x)*b;if(0>=x){d=-1;break}x=s/x;1E-6>x&&(x=1E-6);d+=x;if(1<=d){d=1;m.sweepIntegrate(d*b);m.sweepValidate(e);b=c.geom.ZPP_SweepDistance.distance(e,f,n,q,r,null)+h;k=k*r.x+l*r.y;if(b<g.Config.distanceThresholdCCD&&(l=n.x-m.posx,h=n.y-m.posy,m=k-m.sweep_angvel*(r.y*l-r.x*h),0<m&&(a.slipped=!0),0>=m||b<0.5*g.Config.distanceThresholdCCD))break;d=-1;break}if(40<=++w){s>h&&(a.failed=!0);break}}a.toi=d};c.geom.ZPP_SweepDistance.distanceBody=
function(a,b,d,h){var e;null==c.geom.ZPP_Vec2.zpp_pool?e=new c.geom.ZPP_Vec2:(e=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=e.next,e.next=null);e.weak=!1;var f;null==c.geom.ZPP_Vec2.zpp_pool?f=new c.geom.ZPP_Vec2:(f=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=f.next,f.next=null);f.weak=!1;var g;null==c.geom.ZPP_Vec2.zpp_pool?g=new c.geom.ZPP_Vec2:(g=c.geom.ZPP_Vec2.zpp_pool,c.geom.ZPP_Vec2.zpp_pool=g.next,g.next=null);g.weak=!1;var k=1E100;for(a=a.shapes.head;null!=a;){for(var l=a.elt,
n=b.shapes.head;null!=n;){var p=c.geom.ZPP_SweepDistance.distance(l,n.elt,e,f,g,k);p<k&&(k=p,d.x=e.x,d.y=e.y,h.x=f.x,h.y=f.y);n=n.next}a=a.next}b=e;null!=b.outer&&(b.outer.zpp_inner=null,b.outer=null);b._isimmutable=null;b._validate=null;b._invalidate=null;b.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=b;null!=f.outer&&(f.outer.zpp_inner=null,f.outer=null);f._isimmutable=null;f._validate=null;f._invalidate=null;f.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=f;null!=g.outer&&(g.outer.zpp_inner=
null,g.outer=null);g._isimmutable=null;g._validate=null;g._invalidate=null;g.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=g;return k};c.geom.ZPP_SweepDistance.distance=function(a,b,d,h,e,f){null==f&&(f=1E100);if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE&&b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){var m=a.circle,k=b.circle,l,n=0,p=0,n=k.worldCOMx-m.worldCOMx,p=k.worldCOMy-m.worldCOMy,q=Math.sqrt(n*n+p*p);l=q-(m.radius+k.radius);if(l<f){if(0==q)n=1,p=0;else var r=1/q,n=n*r,p=p*r;var w=
m.radius;d.x=m.worldCOMx+n*w;d.y=m.worldCOMy+p*w;var s=-k.radius;h.x=k.worldCOMx+n*s;h.y=k.worldCOMy+p*s;e.x=n;e.y=p}return l}var x=!1;if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE&&b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){var z=a;a=b;b=z;var B=d;d=h;h=B;x=!0}if(a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE){for(var y=b.circle,D=-1E100,A=null,t=a.polygon.edges.head;null!=t;){var E=t.elt,F=E.gnormx*y.worldCOMx+E.gnormy*y.worldCOMy-E.gprojection-
y.radius;if(F>f){D=F;break}0<F?F>D&&(D=F,A=E):0>D&&F>D&&(D=F,A=E);t=t.next}if(D<f){var G=A.gp0,H=A.gp1,I=y.worldCOMy*A.gnormx-y.worldCOMx*A.gnormy;if(I<=G.y*A.gnormx-G.x*A.gnormy){var K=0,N=0,K=y.worldCOMx-G.x,N=y.worldCOMy-G.y,M=Math.sqrt(K*K+N*N),D=M-y.radius;if(D<f){if(0==M)K=1,N=0;else var R=1/M,K=K*R,N=N*R;d.x=G.x+0*K;d.y=G.y+0*N;var S=-y.radius;h.x=y.worldCOMx+K*S;h.y=y.worldCOMy+N*S;e.x=K;e.y=N}}else if(I>=H.y*A.gnormx-H.x*A.gnormy){var U=0,T=0,U=y.worldCOMx-H.x,T=y.worldCOMy-H.y,V=Math.sqrt(U*
U+T*T),D=V-y.radius;if(D<f){if(0==V)U=1,T=0;else var X=1/V,U=U*X,T=T*X;d.x=H.x+0*U;d.y=H.y+0*T;var Z=-y.radius;h.x=y.worldCOMx+U*Z;h.y=y.worldCOMy+T*Z;e.x=U;e.y=T}}else{var $=-y.radius;h.x=y.worldCOMx+A.gnormx*$;h.y=y.worldCOMy+A.gnormy*$;var da=-D;d.x=h.x+A.gnormx*da;d.y=h.y+A.gnormy*da;e.x=A.gnormx;e.y=A.gnormy}}x&&(e.x=-e.x,e.y=-e.y);return D}for(var ca=a.polygon,aa=b.polygon,ea=-1E100,ga=null,ta=null,la=0,ua=ca.edges.head;null!=ua;){for(var sa=ua.elt,Fa=1E100,Da=aa.gverts.next;null!=Da;){var Ka=
Da,J=sa.gnormx*Ka.x+sa.gnormy*Ka.y;J<Fa&&(Fa=J);Da=Da.next}Fa-=sa.gprojection;if(Fa>f){ea=Fa;break}0<Fa?Fa>ea&&(ea=Fa,ga=sa,la=1):0>ea&&Fa>ea&&(ea=Fa,ga=sa,la=1);ua=ua.next}if(ea<f){for(var $b=aa.edges.head;null!=$b;){for(var nb=$b.elt,va=1E100,gb=ca.gverts.next;null!=gb;){var Oa=gb,La=nb.gnormx*Oa.x+nb.gnormy*Oa.y;La<va&&(va=La);gb=gb.next}va-=nb.gprojection;if(va>f){ea=va;break}0<va?va>ea&&(ea=va,ta=nb,la=2):0>ea&&va>ea&&(ea=va,ta=nb,la=2);$b=$b.next}if(ea<f){var sb,fa;if(1==la)sb=aa,fa=ga;else{sb=
ca;fa=ta;var eb=d;d=h;h=eb;x=!x}for(var L=null,hb=1E100,tb=sb.edges.head;null!=tb;){var Hb=tb.elt,qa=fa.gnormx*Hb.gnormx+fa.gnormy*Hb.gnormy;qa<hb&&(hb=qa,L=Hb);tb=tb.next}x?(e.x=-fa.gnormx,e.y=-fa.gnormy):(e.x=fa.gnormx,e.y=fa.gnormy);if(0<=ea){var ia=fa.gp0,ra=fa.gp1,na=L.gp0,Pa=L.gp1,Ta=0,Ua=0,Va=0,Qa=0,Ta=ra.x-ia.x,Ua=ra.y-ia.y,Va=Pa.x-na.x,Qa=Pa.y-na.y,ma=1/(Ta*Ta+Ua*Ua),Ra=1/(Va*Va+Qa*Qa),Ma=-(Ta*(ia.x-na.x)+Ua*(ia.y-na.y))*ma,ja=-(Ta*(ia.x-Pa.x)+Ua*(ia.y-Pa.y))*ma,Sa=-(Va*(na.x-ia.x)+Qa*(na.y-
ia.y))*Ra,ub=-(Va*(na.x-ra.x)+Qa*(na.y-ra.y))*Ra;0>Ma?Ma=0:1<Ma&&(Ma=1);0>ja?ja=0:1<ja&&(ja=1);0>Sa?Sa=0:1<Sa&&(Sa=1);0>ub?ub=0:1<ub&&(ub=1);var $a=0,Ib=0,P=Ma,$a=ia.x+Ta*P,Ib=ia.y+Ua*P,Ja=0,fb=0,xb=ja,Ja=ia.x+Ta*xb,fb=ia.y+Ua*xb,Na=0,yb=0,ya=Sa,Na=na.x+Va*ya,yb=na.y+Qa*ya,Jb=0,Ga=0,Wa=ub,Jb=na.x+Va*Wa,Ga=na.y+Qa*Wa,oa=c.geom.ZPP_VecMath.vec_dsq($a,Ib,na.x,na.y),Db=c.geom.ZPP_VecMath.vec_dsq(Ja,fb,Pa.x,Pa.y),ob=c.geom.ZPP_VecMath.vec_dsq(Na,yb,ia.x,ia.y),pa=c.geom.ZPP_VecMath.vec_dsq(Jb,Ga,ra.x,ra.y),
Xa=0,ib=0,Eb=null;oa<Db?(Xa=$a,ib=Ib,Eb=na):(Xa=Ja,ib=fb,Eb=Pa,oa=Db);var ac=0,jb=0,kb=null;ob<pa?(ac=Na,jb=yb,kb=ia):(ac=Jb,jb=Ga,kb=ra,ob=pa);oa<ob?(d.x=Xa,d.y=ib,h.x=Eb.x,h.y=Eb.y,ea=Math.sqrt(oa)):(h.x=ac,h.y=jb,d.x=kb.x,d.y=kb.y,ea=Math.sqrt(ob));if(0!=ea){e.x=h.x-d.x;e.y=h.y-d.y;var vb=1/ea;e.x*=vb;e.y*=vb;x&&(e.x=-e.x,e.y=-e.y)}return ea}var ab=0,bb=0,ab=L.gp0.x,bb=L.gp0.y,cb=0,zb=0,cb=L.gp1.x,zb=L.gp1.y,Ya=0,Ba=0,Ya=cb-ab,Ba=zb-bb,wa=fa.gnormy*ab-fa.gnormx*bb,Ca=fa.gnormy*cb-fa.gnormx*zb,
Ob=1/(Ca-wa),za=(-fa.tp1-wa)*Ob;za>g.Config.epsilon&&(ab+=Ya*za,bb+=Ba*za);var pb=(-fa.tp0-Ca)*Ob;pb<-g.Config.epsilon&&(cb+=Ya*pb,zb+=Ba*pb);var bc=ab*fa.gnormx+bb*fa.gnormy-fa.gprojection,O=cb*fa.gnormx+zb*fa.gnormy-fa.gprojection;if(bc<O){h.x=ab;h.y=bb;var Q=-bc;d.x=h.x+fa.gnormx*Q;d.y=h.y+fa.gnormy*Q;return bc}h.x=cb;h.y=zb;var qb=-O;d.x=h.x+fa.gnormx*qb;d.y=h.y+fa.gnormy*qb;return O}}return f};c.geom.ZPP_PartitionPair=function(){this.node=null;this.id=this.di=0;this.a=this.b=null;this.length=
0;this._inuse=this.modified=this.pushmod=!1;this.next=null};n["zpp_nape.geom.ZPP_PartitionPair"]=c.geom.ZPP_PartitionPair;c.geom.ZPP_PartitionPair.__name__=["zpp_nape","geom","ZPP_PartitionPair"];c.geom.ZPP_PartitionPair.get=function(a,b){var d;null==c.geom.ZPP_PartitionPair.zpp_pool?d=new c.geom.ZPP_PartitionPair:(d=c.geom.ZPP_PartitionPair.zpp_pool,c.geom.ZPP_PartitionPair.zpp_pool=d.next,d.next=null);null;d.a=a;d.b=b;a.id<b.id?(d.id=a.id,d.di=b.id):(d.id=b.id,d.di=a.id);return d};c.geom.ZPP_PartitionPair.edge_swap=
function(a,b){var d=a.node;a.node=b.node;b.node=d};c.geom.ZPP_PartitionPair.edge_lt=function(a,b){return a.id<b.id||a.id==b.id&&a.di<b.di};c.geom.ZPP_PartitionPair.prototype={elem:function(){return this},begin:function(){return this.next},setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),
a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();
return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&
(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},free:function(){this.node=this.a=this.b=null},alloc:function(){},__class__:c.geom.ZPP_PartitionPair};c.geom.ZPP_Triangular=function(){};n["zpp_nape.geom.ZPP_Triangular"]=
c.geom.ZPP_Triangular;c.geom.ZPP_Triangular.__name__=["zpp_nape","geom","ZPP_Triangular"];c.geom.ZPP_Triangular.lt=function(a,b){return a.y<b.y||a.y==b.y&&a.x<b.x};c.geom.ZPP_Triangular.right_turn=function(a,b,d){var c=0,e=0,c=d.x-b.x,e=d.y-b.y,f=0;d=b.x-a.x;f=b.y-a.y;return f*c-d*e};c.geom.ZPP_Triangular.delaunay=function(a,b,d,c){var e=0,f=0,g=0,k=0,e=d.x-b.x,f=d.y-b.y,g=b.x-a.x,k=b.y-a.y;(e=0<=k*e-g*f)||(e=c.x-d.x,f=c.y-d.y,g=d.x-b.x,k=d.y-b.y,(e=0<=k*e-g*f)||(e=a.x-c.x,f=a.y-c.y,g=c.x-d.x,k=c.y-
d.y,(e=0<=k*e-g*f)||(e=b.x-a.x,f=b.y-a.y,g=a.x-c.x,k=a.y-c.y,e=0<=k*e-g*f)));return e?!0:0<b.x*(d.y*c.mag-d.mag*c.y)-d.x*(b.y*c.mag-b.mag*c.y)+c.x*(b.y*d.mag-b.mag*d.y)-(a.x*(d.y*c.mag-d.mag*c.y)-d.x*(a.y*c.mag-a.mag*c.y)+c.x*(a.y*d.mag-a.mag*d.y))+(a.x*(b.y*c.mag-b.mag*c.y)-b.x*(a.y*c.mag-a.mag*c.y)+c.x*(a.y*b.mag-a.mag*b.y))-(a.x*(b.y*d.mag-b.mag*d.y)-b.x*(a.y*d.mag-a.mag*d.y)+d.x*(a.y*b.mag-a.mag*b.y))};c.geom.ZPP_Triangular.optimise=function(a){var b=a.vertices,d=a.vertices;if(null!=b){do{var h=
b;h.sort();h.mag=h.x*h.x+h.y*h.y;b=b.next}while(b!=d)}null==c.geom.ZPP_Triangular.edgeSet&&(null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?c.geom.ZPP_Triangular.edgeSet=new c.util.ZPP_Set_ZPP_PartitionPair:(c.geom.ZPP_Triangular.edgeSet=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=c.geom.ZPP_Triangular.edgeSet.next,c.geom.ZPP_Triangular.edgeSet.next=null),null,c.geom.ZPP_Triangular.edgeSet.lt=c.geom.ZPP_PartitionPair.edge_lt,c.geom.ZPP_Triangular.edgeSet.swapped=
c.geom.ZPP_PartitionPair.edge_swap);null==c.geom.ZPP_PartitionPair.zpp_pool?d=new c.geom.ZPP_PartitionPair:(d=c.geom.ZPP_PartitionPair.zpp_pool,c.geom.ZPP_PartitionPair.zpp_pool=d.next,d.next=null);null;a=b=a.vertices;if(null!=b){do{var h=b,e=h.next;h.diagonals.reverse();for(var f=h.diagonals.head;null!=f;){var g=f.elt;g.id<h.id||c.geom.ZPP_Triangular.delaunay(h,e,g,null==f.next?h.prev:f.next.elt)||(e=c.geom.ZPP_PartitionPair.get(h,g),d.add(e),e.node=c.geom.ZPP_Triangular.edgeSet.insert(e));e=g;f=
f.next}b=b.next}while(b!=a)}for(;null!=d.next;){a=d.pop_unsafe();b=a.a;g=a.b;h=b.next;f=null;for(e=b.diagonals.head;null!=e;){var k=e.elt;if(k==g){e=e.next;f=null==e?b.prev:e.elt;break}h=k;e=e.next}b.diagonals.remove(g);g.diagonals.remove(b);if(g==h.next)h.diagonals.add(f);else for(e=h.diagonals.head;null!=e;){if(e.elt==g){h.diagonals.insert(e,f);break}e=e.next}if(b==f.next)f.diagonals.add(h);else for(g=f.diagonals.head;null!=g;){if(g.elt==b){f.diagonals.insert(g,h);break}g=g.next}c.geom.ZPP_Triangular.edgeSet.remove_node(a.node);
a.a=a.b=null;a.node=null;a.next=c.geom.ZPP_PartitionPair.zpp_pool;c.geom.ZPP_PartitionPair.zpp_pool=a}d.a=d.b=null;d.node=null;d.next=c.geom.ZPP_PartitionPair.zpp_pool;c.geom.ZPP_PartitionPair.zpp_pool=d};c.geom.ZPP_Triangular.triangulate=function(a){var b=a.vertices,d=a.vertices,h=a.vertices.next,e=a.vertices;if(null!=h){do{var f=h;if(f.y<b.y||f.y==b.y&&f.x<b.x)b=f;if(d.y<f.y||d.y==f.y&&d.x<f.x)d=f;h=h.next}while(h!=e)}null==c.geom.ZPP_Triangular.queue&&(c.geom.ZPP_Triangular.queue=new c.util.ZNPList_ZPP_PartitionVertex);
e=d.prev;h=d.next;for(c.geom.ZPP_Triangular.queue.add(d);e!=b||h!=b;)e==b||h!=b&&(e.y<h.y||e.y==h.y&&e.x<h.x)?(c.geom.ZPP_Triangular.queue.add(h),h.rightchain=!1,h=h.next):(c.geom.ZPP_Triangular.queue.add(e),e.rightchain=!0,e=e.prev);c.geom.ZPP_Triangular.queue.add(b);null==c.geom.ZPP_Triangular.stack&&(c.geom.ZPP_Triangular.stack=new c.util.ZNPList_ZPP_PartitionVertex);c.geom.ZPP_Triangular.stack.add(c.geom.ZPP_Triangular.queue.pop_unsafe());e=c.geom.ZPP_Triangular.queue.pop_unsafe();for(c.geom.ZPP_Triangular.stack.add(e);;){b=
c.geom.ZPP_Triangular.queue.pop_unsafe();if(null==c.geom.ZPP_Triangular.queue.head)break;if(b.rightchain!=c.geom.ZPP_Triangular.stack.head.elt.rightchain)for(;;){h=c.geom.ZPP_Triangular.stack.pop_unsafe();if(null==c.geom.ZPP_Triangular.stack.head)break;a.add_diagonal(h,b)}else for(e=c.geom.ZPP_Triangular.stack.pop_unsafe();null!=c.geom.ZPP_Triangular.stack.head;){h=c.geom.ZPP_Triangular.stack.head.elt;f=c.geom.ZPP_Triangular.right_turn(h,e,b);if(b.rightchain&&0<=f||!b.rightchain&&0>=f)break;a.add_diagonal(h,
b);e=h;c.geom.ZPP_Triangular.stack.pop()}c.geom.ZPP_Triangular.stack.add(e);c.geom.ZPP_Triangular.stack.add(b);e=b}if(null!=c.geom.ZPP_Triangular.stack.head)for(c.geom.ZPP_Triangular.stack.pop();null!=c.geom.ZPP_Triangular.stack.head;){b=c.geom.ZPP_Triangular.stack.pop_unsafe();if(null==c.geom.ZPP_Triangular.stack.head)break;a.add_diagonal(d,b)}return a};c.geom.ZPP_Vec3=function(){this._validate=null;this.immutable=!1;this.x=this.y=this.z=0;this.outer=null;this.immutable=!1;this._validate=null};n["zpp_nape.geom.ZPP_Vec3"]=
c.geom.ZPP_Vec3;c.geom.ZPP_Vec3.__name__=["zpp_nape","geom","ZPP_Vec3"];c.geom.ZPP_Vec3.prototype={validate:function(){null!=this._validate&&this._validate()},__class__:c.geom.ZPP_Vec3};c.geom.ZPP_VecMath=function(){};n["zpp_nape.geom.ZPP_VecMath"]=c.geom.ZPP_VecMath;c.geom.ZPP_VecMath.__name__=["zpp_nape","geom","ZPP_VecMath"];c.geom.ZPP_VecMath.vec_dsq=function(a,b,d,c){var e=0,f=0,e=a-d,f=b-c;return e*e+f*f};c.geom.ZPP_VecMath.vec_distance=function(a,b,d,c){var e=0,f=0,e=a-d,f=b-c;return Math.sqrt(e*
e+f*f)};c.phys={};c.phys.ZPP_Interactor=function(){this.userData=this.ishape=this.ibody=this.icompound=this.cbsets=this.group=this.cbTypes=this.cbSet=this.wrap_cbTypes=null;this.id=0;this.outer_i=null;this.id=c.ZPP_ID.Interactor();this.cbsets=new c.util.ZNPList_ZPP_CallbackSet;this.cbTypes=new c.util.ZNPList_ZPP_CbType};n["zpp_nape.phys.ZPP_Interactor"]=c.phys.ZPP_Interactor;c.phys.ZPP_Interactor.__name__=["zpp_nape","phys","ZPP_Interactor"];c.phys.ZPP_Interactor.get=function(a,b){var d;d=a.id<b.id?
a.id:b.id;var c;c=a.id<b.id?b.id:a.id;for(var e=null,f=(a.cbsets.length<b.cbsets.length?a.cbsets:b.cbsets).head;null!=f;){var g=f.elt;if(g.id==d&&g.di==c){e=g;break}f=f.next}return e};c.phys.ZPP_Interactor.int_callback=function(a,b,d){var c=a.int1;a=a.int2;b.options1.compatible(c.cbTypes)&&b.options2.compatible(a.cbTypes)?(d.int1=c,d.int2=a):(d.int1=a,d.int2=c)};c.phys.ZPP_Interactor.prototype={isShape:function(){return null!=this.ishape},isBody:function(){return null!=this.ibody},isCompound:function(){return null!=
this.icompound},__iaddedToSpace:function(){null!=this.group&&this.group.interactors.add(this);for(var a=this.cbTypes.head;null!=a;)a.elt.interactors.add(this),a=a.next;this.alloc_cbSet()},__iremovedFromSpace:function(){null!=this.group&&this.group.interactors.remove(this);for(var a=this.cbTypes.head;null!=a;)a.elt.interactors.remove(this),a=a.next;this.dealloc_cbSet()},wake:function(){if(null!=this.ishape){var a=this.ishape.body;null!=a&&null!=a.space&&a.space.non_inlined_wake(a);!0}else null!=this.ibody?
null!=this.ibody.space?this.ibody.space.non_inlined_wake(this.ibody):!1:(null!=this.icompound.space&&this.icompound.space.wakeCompound(this.icompound),!0)},getSpace:function(){return null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space},setupcbTypes:function(){this.wrap_cbTypes=c.util.ZPP_CbTypeList.get(this.cbTypes);this.wrap_cbTypes.zpp_inner.adder=B(this,this.wrap_cbTypes_adder);this.wrap_cbTypes.zpp_inner.subber=B(this,this.wrap_cbTypes_subber);
this.wrap_cbTypes.zpp_inner.dontremove=!0;this.wrap_cbTypes.zpp_inner._modifiable=B(this,this.immutable_cbTypes)},immutable_cbTypes:function(){this.immutable_midstep("Interactor::cbTypes")},wrap_cbTypes_subber:function(a){a=a.zpp_inner;if(this.cbTypes.has(a)){var b;b=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=b&&(this.dealloc_cbSet(),a.interactors.remove(this));this.cbTypes.remove(a);null!=b&&(this.alloc_cbSet(),
this.wake())}},wrap_cbTypes_adder:function(a){this.insert_cbtype(a.zpp_inner);return!1},insert_cbtype:function(a){if(!this.cbTypes.has(a)){var b;b=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=b&&(this.dealloc_cbSet(),a.interactors.add(this));for(var d=null,c=this.cbTypes.head;null!=c&&!(a.id<c.elt.id);)d=c,c=c.next;this.cbTypes.inlined_insert(d,a);null!=b&&(this.alloc_cbSet(),this.wake())}},alloc_cbSet:function(){var a;
a=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=(this.cbSet=a.cbsets.get(this.cbTypes))&&(this.cbSet.count++,this.cbSet.interactors.add(this),this.cbSet.validate(),a.freshInteractorType(this))},dealloc_cbSet:function(){var a;a=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space;null!=this.cbSet&&(this.cbSet.interactors.remove(this),a.nullInteractorType(this),
0==--this.cbSet.count&&(a.cbsets.remove(this.cbSet),a=this.cbSet,a.free(),a.next=c.callbacks.ZPP_CbSet.zpp_pool,c.callbacks.ZPP_CbSet.zpp_pool=a),this.cbSet=null)},setGroup:function(a){if(this.group!=a){var b;(b=null!=(null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:null!=this.ibody?this.ibody.space:this.icompound.space))&&null!=this.group&&this.group.interactors.remove(this);this.group=a;b&&null!=a&&a.interactors.add(this);b&&(null!=this.ishape?this.ishape.body.wake():null!=
this.ibody?this.ibody.wake():this.icompound.wake())}},immutable_midstep:function(a){null!=this.ibody?this.ibody.__immutable_midstep(a):null!=this.ishape?this.ishape.__immutable_midstep(a):this.icompound.__imutable_midstep(a)},lookup_group:function(){for(var a=this;null!=a&&null==a.group;)a=null!=a.ishape?a.ishape.body:null!=a.icompound?a.icompound.compound:a.ibody.compound;return null==a?null:a.group},copyto:function(a){a.zpp_inner_i.group=this.group;for(var b=this.outer_i.get_cbTypes().iterator();b.hasNext();){var d;
b.zpp_critical=!1;d=b.zpp_inner.at(b.zpp_i++);var c=void 0;null==a.zpp_inner_i.wrap_cbTypes&&a.zpp_inner_i.setupcbTypes();c=a.zpp_inner_i.wrap_cbTypes;c.add(d)}null!=this.userData&&(a.zpp_inner_i.userData=X.copy(this.userData))},__class__:c.phys.ZPP_Interactor};c.phys.ZPP_Body=function(){this.wrap_localCOM=this.wrap_worldCOM=null;this.zip_worldCOM=!1;this.worldCOMx=this.worldCOMy=0;this.zip_localCOM=!1;this.localCOMx=this.localCOMy=0;this.zip_aabb=!1;this.aabb=null;this.norotate=!1;this.cinertia=
this.iinertia=this.sinertia=0;this.zip_inertia=!1;this.inertiaMode=this.inertia=0;this.zip_gravMassScale=!1;this.gravMassMode=this.gravMassScale=0;this.zip_gravMass=!1;this.gravMass=0;this.nomove=!1;this.massMode=this.imass=this.smass=this.cmass=0;this.zip_mass=!1;this.mass=0;this.zip_axis=!1;this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=this.axisx=this.axisy=0;this.wrap_svel=this.wrapcvel=null;this.svelx=this.svely=0;this.wrap_kinvel=null;this.kinvelx=this.kinvely=0;this.wrap_force=
null;this.forcex=this.forcey=0;this.wrap_vel=null;this.velx=this.vely=0;this.wrap_pos=null;this.pre_posx=this.pre_posy=this.posx=this.posy=0;this.bullet=this.bulletEnabled=this.disableCCD=!1;this.sweepRadius=0;this.sweepFrozen=!1;this.graph_depth=this.sweepTime=this.sweep_angvel=0;this.compound=this.shapes=this.wrap_shapes=this.space=this.arbiters=this.wrap_arbiters=this.constraints=this.wrap_constraints=this.component=null;this.type=0;this.world=!1;this.outer=null;c.phys.ZPP_Interactor.call(this);
this.ibody=this;this.bulletEnabled=this.world=!1;this.sweep_angvel=this.sweepTime=0;this.disableCCD=this.norotate=this.nomove=!1;this.axisx=this.rot=this.posy=this.posx=0;this.axisy=1;this.torque=this.angvel=this.kinangvel=this.forcey=this.forcex=this.kinvely=this.kinvelx=this.vely=this.velx=this.svely=this.svelx=0;this.pre_rot=this.pre_posy=this.pre_posx=Math.POSITIVE_INFINITY;this.worldCOMy=this.worldCOMx=this.localCOMy=this.localCOMx=0;this.zip_aabb=!0;this.aabb=c.geom.ZPP_AABB.get(0,0,0,0);this.aabb._immutable=
!0;this.aabb._validate=B(this,this.aabb_validate);this.massMode=c.util.ZPP_Flags.id_MassMode_DEFAULT;this.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_DEFAULT;this.gravMassScale=1;this.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_DEFAULT;this.arbiters=new c.util.ZNPList_ZPP_Arbiter;this.constraints=new c.util.ZNPList_ZPP_Constraint;this.shapes=new c.util.ZNPList_ZPP_Shape;this.wrap_shapes=c.util.ZPP_ShapeList.get(this.shapes);this.wrap_shapes.zpp_inner.adder=B(this,this.shapes_adder);this.wrap_shapes.zpp_inner.subber=
B(this,this.shapes_subber);this.wrap_shapes.zpp_inner._invalidate=B(this,this.shapes_invalidate);this.wrap_shapes.zpp_inner._modifiable=B(this,this.shapes_modifiable);this.kinematicDelaySleep=!1};n["zpp_nape.phys.ZPP_Body"]=c.phys.ZPP_Body;c.phys.ZPP_Body.__name__=["zpp_nape","phys","ZPP_Body"];c.phys.ZPP_Body.bodysetlt=function(a,b){return a.id<b.id};c.phys.ZPP_Body.__static=function(){var a=g.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=
new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);var a=new a(c.util.ZPP_Flags.BodyType_STATIC),b=a.zpp_inner;b.world=!0;b.wrap_shapes.zpp_inner.immutable=!0;b.smass=b.imass=b.cmass=b.mass=b.gravMass=0;b.sinertia=b.iinertia=b.cinertia=b.inertia=0;b.cbTypes.clear();return a};c.phys.ZPP_Body.__super__=c.phys.ZPP_Interactor;c.phys.ZPP_Body.prototype=K(c.phys.ZPP_Interactor.prototype,{isStatic:function(){return this.type==c.util.ZPP_Flags.id_BodyType_STATIC},isDynamic:function(){return this.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC},
isKinematic:function(){return this.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC},invalidate_type:function(){this.invalidate_mass();this.invalidate_inertia()},invalidate_shapes:function(){this.zip_worldCOM=this.zip_localCOM=this.zip_aabb=!0;this.invalidate_mass();this.invalidate_inertia()},init_bodysetlist:function(){null==c.phys.ZPP_Body.bodyset&&(c.phys.ZPP_Body.bodyset=new c.util.ZPP_Set_ZPP_Body,c.phys.ZPP_Body.bodyset.lt=c.phys.ZPP_Body.bodysetlt,c.phys.ZPP_Body.bodystack=new c.util.ZNPList_ZPP_Body)},
connectedBodies_cont:function(a){c.phys.ZPP_Body.bodyset.try_insert_bool(a.zpp_inner)&&(c.phys.ZPP_Body.bodystack.add(a.zpp_inner),a.zpp_inner.graph_depth=c.phys.ZPP_Body.cur_graph_depth+1)},connectedBodies:function(a,b){var d=this;null==c.phys.ZPP_Body.bodyset&&(c.phys.ZPP_Body.bodyset=new c.util.ZPP_Set_ZPP_Body,c.phys.ZPP_Body.bodyset.lt=c.phys.ZPP_Body.bodysetlt,c.phys.ZPP_Body.bodystack=new c.util.ZNPList_ZPP_Body);null;var h;h=null==b?new g.phys.BodyList:b;c.phys.ZPP_Body.bodystack.add(this);
c.phys.ZPP_Body.bodyset.insert(this);for(this.graph_depth=0;null!=c.phys.ZPP_Body.bodystack.head;){var e=c.phys.ZPP_Body.bodystack.pop_unsafe();if(e.graph_depth!=a)for(c.phys.ZPP_Body.cur_graph_depth=e.graph_depth,e=e.constraints.head;null!=e;)e.elt.outer.visitBodies(B(this,this.connectedBodies_cont)),e=e.next}c.phys.ZPP_Body.bodyset.clear_with(function(a){a!=d&&h.add(a.outer)});return h},interactingBodies:function(a,b,d){var h=this;null==c.phys.ZPP_Body.bodyset&&(c.phys.ZPP_Body.bodyset=new c.util.ZPP_Set_ZPP_Body,
c.phys.ZPP_Body.bodyset.lt=c.phys.ZPP_Body.bodysetlt,c.phys.ZPP_Body.bodystack=new c.util.ZNPList_ZPP_Body);null;var e;e=null==d?new g.phys.BodyList:d;c.phys.ZPP_Body.bodyset.insert(this);c.phys.ZPP_Body.bodystack.add(this);for(this.graph_depth=0;null!=c.phys.ZPP_Body.bodystack.head;)if(d=c.phys.ZPP_Body.bodystack.pop_unsafe(),d.graph_depth!=b)for(var f=d.arbiters.head;null!=f;){var m=f.elt;0!=(m.type&a)&&(m=m.b1==d?m.b2:m.b1,c.phys.ZPP_Body.bodyset.try_insert_bool(m)&&(c.phys.ZPP_Body.bodystack.add(m),
m.graph_depth=d.graph_depth+1));f=f.next}c.phys.ZPP_Body.bodyset.clear_with(function(a){a!=h&&e.add(a.outer)});return e},atRest:function(a){if(this.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)return this.component.sleeping;var b=g.Config.linearSleepThreshold,b=b*b;if(this.velx*this.velx+this.vely*this.vely>b)a=!1;else if(c.geom.ZPP_VecMath.vec_dsq(this.posx,this.posy,this.pre_posx,this.pre_posy)>0.25*b*a*a)a=!1;else{var d=0,b=this.aabb.maxx-this.aabb.minx,d=this.aabb.maxy-this.aabb.miny,b=b*b+d*d,
d=g.Config.angularSleepThreshold,d=d*d;if(4*this.angvel*this.angvel*b>d)a=!1;else{var h=this.rot-this.pre_rot;a=h*h*b>d*a*a?!1:!0}}a||(this.component.waket=this.space.stamp);return this.component.waket+g.Config.sleepDelay<this.space.stamp},refreshArbiters:function(){for(var a=this.arbiters.head;null!=a;)a.elt.invalidated=!0,a=a.next},sweepIntegrate:function(a){var b=a-this.sweepTime;0!=b&&(this.sweepTime=a,this.posx+=this.velx*b,this.posy+=this.vely*b,0!=this.angvel&&this.delta_rot(this.sweep_angvel*
b))},sweepValidate:function(a){if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)a.worldCOMx=this.posx+(this.axisy*a.localCOMx-this.axisx*a.localCOMy),a.worldCOMy=this.posy+(a.localCOMx*this.axisx+a.localCOMy*this.axisy);else{a=a.polygon;for(var b=a.lverts.next,d=a.gverts.next;null!=d;){var h=d,e=b,b=b.next;h.x=this.posx+(this.axisy*e.x-this.axisx*e.y);h.y=this.posy+(e.x*this.axisx+e.y*this.axisy);d=d.next}d=a.edges.head;b=h=a.gverts.next;for(h=h.next;null!=h;){var e=h,f=d.elt,d=d.next;f.gnormx=this.axisy*
f.lnormx-this.axisx*f.lnormy;f.gnormy=f.lnormx*this.axisx+f.lnormy*this.axisy;f.gprojection=this.posx*f.gnormx+this.posy*f.gnormy+f.lprojection;f.tp0=b.y*f.gnormx-b.x*f.gnormy;f.tp1=e.y*f.gnormx-e.x*f.gnormy;b=e;h=h.next}a=a.gverts.next;d=d.elt;d.gnormx=this.axisy*d.lnormx-this.axisx*d.lnormy;d.gnormy=d.lnormx*this.axisx+d.lnormy*this.axisy;d.gprojection=this.posx*d.gnormx+this.posy*d.gnormy+d.lprojection;d.tp0=b.y*d.gnormx-b.x*d.gnormy;d.tp1=a.y*d.gnormx-a.x*d.gnormy}},invalidate_pos:function(){for(var a=
this.shapes.head;null!=a;){var b=a.elt;b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&(b.polygon.invalidate_gverts(),b.polygon.invalidate_gaxi());b.invalidate_worldCOM();a=a.next}this.zip_worldCOM=!0},pos_invalidate:function(a){this.immutable_midstep("Body::position");if(this.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.space)throw"Error: Cannot move a static object once inside a Space";if(this.posx!=a.x||this.posy!=a.y)this.posx=a.x,this.posy=a.y,this.invalidate_pos(),this.wake()},pos_validate:function(){this.wrap_pos.zpp_inner.x=
this.posx;this.wrap_pos.zpp_inner.y=this.posy},vel_invalidate:function(a){if(this.type==c.util.ZPP_Flags.id_BodyType_STATIC)throw"Error: Static body cannot have its velocity set.";this.velx=a.x;this.vely=a.y;this.wake()},vel_validate:function(){this.wrap_vel.zpp_inner.x=this.velx;this.wrap_vel.zpp_inner.y=this.vely},kinvel_invalidate:function(a){this.kinvelx=a.x;this.kinvely=a.y;this.wake()},kinvel_validate:function(){this.wrap_kinvel.zpp_inner.x=this.kinvelx;this.wrap_kinvel.zpp_inner.y=this.kinvely},
svel_invalidate:function(a){this.svelx=a.x;this.svely=a.y;this.wake()},svel_validate:function(){this.wrap_svel.zpp_inner.x=this.svelx;this.wrap_svel.zpp_inner.y=this.svely},force_invalidate:function(a){if(this.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC)throw"Error: Non-dynamic body cannot have force applied.";this.forcex=a.x;this.forcey=a.y;this.wake()},force_validate:function(){this.wrap_force.zpp_inner.x=this.forcex;this.wrap_force.zpp_inner.y=this.forcey},setupPosition:function(){this.wrap_pos=
g.geom.Vec2.get(this.posx,this.posy,null);this.wrap_pos.zpp_inner._inuse=!0;this.world?this.wrap_pos.zpp_inner._immutable=!0:(this.wrap_pos.zpp_inner._invalidate=B(this,this.pos_invalidate),this.wrap_pos.zpp_inner._validate=B(this,this.pos_validate))},setupVelocity:function(){this.wrap_vel=g.geom.Vec2.get(this.velx,this.vely,null);this.wrap_vel.zpp_inner._inuse=!0;this.world?this.wrap_vel.zpp_inner._immutable=!0:(this.wrap_vel.zpp_inner._invalidate=B(this,this.vel_invalidate),this.wrap_vel.zpp_inner._validate=
B(this,this.vel_validate))},setupkinvel:function(){this.wrap_kinvel=g.geom.Vec2.get(this.kinvelx,this.kinvely,null);this.wrap_kinvel.zpp_inner._inuse=!0;this.world?this.wrap_kinvel.zpp_inner._immutable=!0:(this.wrap_kinvel.zpp_inner._invalidate=B(this,this.kinvel_invalidate),this.wrap_kinvel.zpp_inner._validate=B(this,this.kinvel_validate))},setupsvel:function(){this.wrap_svel=g.geom.Vec2.get(this.svelx,this.svely,null);this.wrap_svel.zpp_inner._inuse=!0;this.world?this.wrap_svel.zpp_inner._immutable=
!0:(this.wrap_svel.zpp_inner._invalidate=B(this,this.svel_invalidate),this.wrap_svel.zpp_inner._validate=B(this,this.svel_validate))},setupForce:function(){this.wrap_force=g.geom.Vec2.get(this.forcex,this.forcey,null);this.wrap_force.zpp_inner._inuse=!0;this.world?this.wrap_force.zpp_inner._immutable=!0:(this.wrap_force.zpp_inner._invalidate=B(this,this.force_invalidate),this.wrap_force.zpp_inner._validate=B(this,this.force_validate))},cvel_validate:function(){this.wrapcvel.zpp_inner.x=this.velx+
this.kinvelx;this.wrapcvel.zpp_inner.y=this.vely+this.kinvely;this.wrapcvel.zpp_inner.z=this.angvel+this.kinangvel},setup_cvel:function(){this.wrapcvel=g.geom.Vec3.get();this.wrapcvel.zpp_inner.immutable=!0;this.wrapcvel.zpp_inner._validate=B(this,this.cvel_validate)},invalidate_rot:function(){this.zip_axis=!0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&(b.polygon.invalidate_gverts(),b.polygon.invalidate_gaxi());b.invalidate_worldCOM();a=a.next}this.zip_worldCOM=
!0},validate_axis:function(){this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null)},quick_validate_axis:function(){this.axisx=Math.sin(this.rot);this.axisy=Math.cos(this.rot)},delta_rot:function(a){this.rot+=a;if(1E-4<a*a)this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null;else{var b=a*a,d=1-0.5*b,b=1-b*b/8,c=(d*this.axisx+a*this.axisy)*b;this.axisy=(d*this.axisy-a*this.axisx)*b;this.axisx=c}},invalidate_mass:function(){this.zip_mass=!0;this.invalidate_gravMass()},
validate_mass:function(){if(this.zip_mass){this.zip_mass=!1;if(this.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT){this.cmass=0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.refmaterial.density=b.material.density;b.validate_area_inertia();this.cmass+=b.area*b.material.density;a=a.next}}this.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.nomove?(this.mass=Math.POSITIVE_INFINITY,this.imass=this.smass=0):(this.mass=this.cmass,this.imass=this.smass=1/this.mass)}},invalidate_gravMass:function(){this.gravMassMode!=
c.util.ZPP_Flags.id_GravMassMode_FIXED&&(this.zip_gravMass=!0);this.gravMassMode!=c.util.ZPP_Flags.id_GravMassMode_SCALED&&(this.zip_gravMassScale=!0);this.wake()},validate_gravMass:function(){this.zip_gravMass&&(this.zip_gravMass=!1,this.validate_mass(),this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_DEFAULT?(this.validate_mass(),this.gravMass=this.cmass):this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_SCALED&&(this.validate_mass(),this.gravMass=this.cmass*this.gravMassScale))},invalidate_gravMassScale:function(){this.gravMassMode!=
c.util.ZPP_Flags.id_GravMassMode_SCALED?this.zip_gravMassScale=!0:this.invalidate_gravMass()},validate_gravMassScale:function(){this.zip_gravMassScale&&(this.zip_gravMassScale=!1,this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_DEFAULT?this.gravMassScale=1:this.gravMassMode==c.util.ZPP_Flags.id_GravMassMode_FIXED&&(this.validate_mass(),this.gravMassScale=this.gravMass/this.cmass))},invalidate_inertia:function(){this.zip_inertia=!0;this.wake()},validate_inertia:function(){if(this.zip_inertia){this.zip_inertia=
!1;if(this.inertiaMode==c.util.ZPP_Flags.id_InertiaMode_DEFAULT){this.cinertia=0;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.refmaterial.density=b.material.density;b.validate_area_inertia();this.cinertia+=b.inertia*b.area*b.material.density;a=a.next}}this.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.norotate?(this.inertia=Math.POSITIVE_INFINITY,this.sinertia=this.iinertia=0):(this.inertia=this.cinertia,this.sinertia=this.iinertia=1/this.inertia)}},invalidate_wake:function(){this.wake()},
validate_aabb:function(){if(null==this.shapes.head)throw"Error: Body bounds only makes sense if it contains shapes";if(this.zip_aabb){this.zip_aabb=!1;this.aabb.minx=Math.POSITIVE_INFINITY;this.aabb.miny=Math.POSITIVE_INFINITY;this.aabb.maxx=Math.NEGATIVE_INFINITY;this.aabb.maxy=Math.NEGATIVE_INFINITY;for(var a=this.shapes.head;null!=a;){var b=a.elt;b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb());this.aabb.combine(b.aabb);
a=a.next}}},invalidate_aabb:function(){this.zip_aabb=!0},invalidate_localCOM:function(){this.zip_worldCOM=this.zip_localCOM=!0},invalidate_worldCOM:function(){this.zip_worldCOM=!0},validate_localCOM:function(){if(this.zip_localCOM){this.zip_localCOM=!1;for(var a=0,b=0,d=0,h=this.shapes.head;null!=h;){var e=h.elt;e.zip_localCOM&&(e.zip_localCOM=!1,e.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&e.polygon.__validate_localCOM(),null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=
e.localCOMy));e.validate_area_inertia();var f=e.area*e.material.density,a=a+e.localCOMx*f,b=b+e.localCOMy*f,d=d+e.area*e.material.density,h=h.next}0!=d&&(h=1/d,this.localCOMx=a*h,this.localCOMy=b*h);null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy);this.zip_mass&&this.massMode==c.util.ZPP_Flags.id_MassMode_DEFAULT&&(this.zip_mass=!1,this.cmass=d,this.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?(this.mass=this.cmass,this.imass=this.smass=
1/this.mass):(this.mass=Math.POSITIVE_INFINITY,this.imass=this.smass=0))}},validate_worldCOM:function(){this.zip_worldCOM&&(this.zip_worldCOM=!1,this.validate_localCOM(),this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null),this.worldCOMx=this.posx+(this.axisy*this.localCOMx-this.axisx*this.localCOMy),this.worldCOMy=this.posy+(this.localCOMx*this.axisx+this.localCOMy*this.axisy),null!=this.wrap_worldCOM&&(this.wrap_worldCOM.zpp_inner.x=this.worldCOMx,this.wrap_worldCOM.zpp_inner.y=
this.worldCOMy))},getlocalCOM:function(){if(null==this.shapes.head)throw"Error: localCOM only makes sense when Body has Shapes";this.validate_localCOM()},getworldCOM:function(){if(null==this.shapes.head)throw"Error: worldCOM only makes sense when Body has Shapes";this.validate_worldCOM()},__immutable_midstep:function(a){if(null!=this.space&&this.space.midstep)throw"Error: "+a+" cannot be set during a space step()";},clear:function(){if(null!=this.space)throw"Error: Cannot clear a Body if it is currently being used by a Space!";
if(null!=this.constraints.head)throw"Error: Cannot clear a Body if it is currently being used by a constraint!";for(;null!=this.shapes.head;){var a=this.shapes.pop_unsafe();a.removedFromBody();a.body=null}this.invalidate_shapes();this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=this.svely=this.svelx=this.kinvely=this.kinvelx=this.forcey=this.forcex=this.vely=this.velx=this.posy=this.posx=this.pre_posy=this.pre_posx=0;this.invalidate_pos();this.invalidate_rot();this.axisx=0;this.axisy=
1;this.zip_axis=!1;this.massMode=c.util.ZPP_Flags.id_MassMode_DEFAULT;this.gravMassMode=c.util.ZPP_Flags.id_GravMassMode_DEFAULT;this.gravMassScale=1;this.inertiaMode=c.util.ZPP_Flags.id_InertiaMode_DEFAULT;this.nomove=this.norotate=!1},aabb_validate:function(){if(null==this.shapes.head)throw"Error: bounds only makes sense when Body has shapes";this.validate_aabb()},shapes_adder:function(a){return a.zpp_inner.body!=this?(null!=a.zpp_inner.body&&a.zpp_inner.body.wrap_shapes.remove(a),a.zpp_inner.body=
this,a.zpp_inner.addedToBody(),null!=this.space&&this.space.added_shape(a.zpp_inner,null),a.zpp_inner.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&(a.zpp_inner.polygon.invalidate_gaxi(),a.zpp_inner.polygon.invalidate_gverts()),!0):!1},shapes_subber:function(a){null!=this.space&&this.space.removed_shape(a.zpp_inner);a.zpp_inner.body=null;a.zpp_inner.removedFromBody()},shapes_invalidate:function(a){this.invalidate_shapes()},shapes_modifiable:function(){this.immutable_midstep("Body::shapes");if(this.type==
c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.space)throw"Error: Cannot modifiy shapes of static object once added to Space";},addedToSpace:function(){null==c.space.ZPP_Component.zpp_pool?this.component=new c.space.ZPP_Component:(this.component=c.space.ZPP_Component.zpp_pool,c.space.ZPP_Component.zpp_pool=this.component.next,this.component.next=null);null;this.component.isBody=!0;this.component.body=this;this.__iaddedToSpace()},removedFromSpace:function(){for(;null!=this.arbiters.head;){var a=this.arbiters.pop_unsafe();
a.cleared=!0;a.b2==this&&a.b1.arbiters.inlined_try_remove(a);a.b1==this&&a.b2.arbiters.inlined_try_remove(a);null!=a.pair&&(a.pair.arb=null,a.pair=null);a.active=!1;this.space.f_arbiters.modified=!0}a=this.component;a.body=null;a.constraint=null;null;a.next=c.space.ZPP_Component.zpp_pool;c.space.ZPP_Component.zpp_pool=a;this.component=null;this.__iremovedFromSpace()},copy:function(){var a=(new g.phys.Body).zpp_inner;a.type=this.type;a.bulletEnabled=this.bulletEnabled;a.disableCCD=this.disableCCD;
for(var b=this.shapes.head;null!=b;)a.outer.zpp_inner.wrap_shapes.add(b.elt.outer.copy()),b=b.next;a.posx=this.posx;a.posy=this.posy;a.velx=this.velx;a.vely=this.vely;a.forcex=this.forcex;a.forcey=this.forcey;a.rot=this.rot;a.angvel=this.angvel;a.torque=this.torque;a.kinvelx=this.kinvelx;a.kinvely=this.kinvely;a.kinangvel=this.kinangvel;a.svelx=this.svelx;a.svely=this.svely;this.zip_axis?a.invalidate_rot():(a.axisx=this.axisx,a.axisy=this.axisy);a.rot=this.rot;a.massMode=this.massMode;a.gravMassMode=
this.gravMassMode;a.inertiaMode=this.inertiaMode;a.norotate=this.norotate;a.nomove=this.nomove;a.cmass=this.cmass;a.cinertia=this.cinertia;this.zip_mass?a.invalidate_mass():a.mass=this.mass;this.zip_gravMass?a.invalidate_gravMass():a.gravMass=this.gravMass;this.zip_gravMassScale?a.invalidate_gravMassScale():a.gravMassScale=this.gravMassScale;this.zip_inertia?a.invalidate_inertia():a.inertia=this.inertia;this.zip_aabb?a.zip_aabb=!0:(a.aabb.minx=this.aabb.minx,a.aabb.miny=this.aabb.miny,a.aabb.maxx=
this.aabb.maxx,a.aabb.maxy=this.aabb.maxy);this.zip_localCOM?(a.zip_localCOM=!0,a.zip_worldCOM=!0):(a.localCOMx=this.localCOMx,a.localCOMy=this.localCOMy);this.zip_worldCOM?a.zip_worldCOM=!0:(a.worldCOMx=this.worldCOMx,a.worldCOMy=this.worldCOMy);this.copyto(a.outer);return a.outer},__class__:c.phys.ZPP_Body});c.phys.ZPP_Compound=function(){this.compound=this.space=null;this.depth=0;this.outer=this.bodies=this.constraints=this.compounds=this.wrap_bodies=this.wrap_constraints=this.wrap_compounds=null;
c.phys.ZPP_Interactor.call(this);this.icompound=this;this.depth=1;this.bodies=new c.util.ZNPList_ZPP_Body;this.wrap_bodies=c.util.ZPP_BodyList.get(this.bodies);this.wrap_bodies.zpp_inner.adder=B(this,this.bodies_adder);this.wrap_bodies.zpp_inner.subber=B(this,this.bodies_subber);this.wrap_bodies.zpp_inner._modifiable=B(this,this.bodies_modifiable);this.constraints=new c.util.ZNPList_ZPP_Constraint;this.wrap_constraints=c.util.ZPP_ConstraintList.get(this.constraints);this.wrap_constraints.zpp_inner.adder=
B(this,this.constraints_adder);this.wrap_constraints.zpp_inner.subber=B(this,this.constraints_subber);this.wrap_constraints.zpp_inner._modifiable=B(this,this.constraints_modifiable);this.compounds=new c.util.ZNPList_ZPP_Compound;this.wrap_compounds=c.util.ZPP_CompoundList.get(this.compounds);this.wrap_compounds.zpp_inner.adder=B(this,this.compounds_adder);this.wrap_compounds.zpp_inner.subber=B(this,this.compounds_subber);this.wrap_compounds.zpp_inner._modifiable=B(this,this.compounds_modifiable)};
n["zpp_nape.phys.ZPP_Compound"]=c.phys.ZPP_Compound;c.phys.ZPP_Compound.__name__=["zpp_nape","phys","ZPP_Compound"];c.phys.ZPP_Compound.__super__=c.phys.ZPP_Interactor;c.phys.ZPP_Compound.prototype=K(c.phys.ZPP_Interactor.prototype,{__imutable_midstep:function(a){if(null!=this.space&&this.space.midstep)throw"Error: "+a+" cannot be set during space step()";},addedToSpace:function(){this.__iaddedToSpace()},removedFromSpace:function(){this.__iremovedFromSpace()},breakApart:function(){null!=this.space&&
(this.__iremovedFromSpace(),this.space.nullInteractorType(this));for(null!=this.compound?this.compound.compounds.remove(this):null!=this.space&&this.space.compounds.remove(this);null!=this.bodies.head;){var a=this.bodies.pop_unsafe();null!=(a.compound=this.compound)?this.compound.bodies.add(a):null!=this.space&&this.space.bodies.add(a);null!=this.space&&this.space.freshInteractorType(a)}for(;null!=this.constraints.head;)a=this.constraints.pop_unsafe(),null!=(a.compound=this.compound)?this.compound.constraints.add(a):
null!=this.space&&this.space.constraints.add(a);for(;null!=this.compounds.head;)a=this.compounds.pop_unsafe(),null!=(a.compound=this.compound)?this.compound.compounds.add(a):null!=this.space&&this.space.compounds.add(a),null!=this.space&&this.space.freshInteractorType(a);this.space=this.compound=null},bodies_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_bodies.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_bodies.remove(a),a.zpp_inner.compound=
this,null!=this.space&&this.space.addBody(a.zpp_inner),!0):!1},bodies_subber:function(a){a.zpp_inner.compound=null;null!=this.space&&this.space.remBody(a.zpp_inner)},bodies_modifiable:function(){this.immutable_midstep("Compound::bodies")},constraints_adder:function(a){return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_constraints.remove(a):null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_constraints.remove(a),a.zpp_inner.compound=this,null!=this.space&&this.space.addConstraint(a.zpp_inner),
!0):!1},constraints_subber:function(a){a.zpp_inner.compound=null;null!=this.space&&this.space.remConstraint(a.zpp_inner)},constraints_modifiable:function(){this.immutable_midstep("Compound::constraints")},compounds_adder:function(a){for(var b=this;null!=b&&b!=a.zpp_inner;)b=b.compound;if(b==a.zpp_inner)throw"Error: Assignment would cause a cycle in the Compound tree: assigning "+a.toString()+".compound = "+this.outer.toString();return a.zpp_inner.compound!=this?(null!=a.zpp_inner.compound?a.zpp_inner.compound.wrap_compounds.remove(a):
null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_compounds.remove(a),a.zpp_inner.compound=this,a.zpp_inner.depth=this.depth+1,null!=this.space&&this.space.addCompound(a.zpp_inner),!0):!1},compounds_subber:function(a){a.zpp_inner.compound=null;a.zpp_inner.depth=1;null!=this.space&&this.space.remCompound(a.zpp_inner)},compounds_modifiable:function(){this.immutable_midstep("Compound::compounds")},copy:function(a,b){var d=null==a;null==a&&(a=[]);null==b&&(b=[]);for(var h=new g.phys.Compound,e=this.compounds.head;null!=
e;){var f=e.elt.copy(a,b);f.zpp_inner.immutable_midstep("Compound::compound");(null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer)!=h&&(null!=(null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer)&&(null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(f),null!=h&&h.zpp_inner.wrap_compounds.add(f));null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer;e=e.next}for(e=this.bodies.head;null!=e;){var f=e.elt,m=f.outer.copy();a.push(c.constraint.ZPP_CopyHelper.dict(f.id,
m));(null==m.zpp_inner.compound?null:m.zpp_inner.compound.outer)!=h&&(null!=(null==m.zpp_inner.compound?null:m.zpp_inner.compound.outer)&&(null==m.zpp_inner.compound?null:m.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(m),null!=h&&h.zpp_inner.wrap_bodies.add(m));null==m.zpp_inner.compound?null:m.zpp_inner.compound.outer;e=e.next}for(e=this.constraints.head;null!=e;)f=e.elt.copy(a,b),(null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer)!=h&&(null!=(null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer)&&
(null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(f),null!=h&&h.zpp_inner.wrap_constraints.add(f)),null==f.zpp_inner.compound?null:f.zpp_inner.compound.outer,e=e.next;if(d)for(;0<b.length;)for(d=b.pop(),e=0;e<a.length;)if(f=a[e],++e,f.id==d.id){d.cb(f.bc);break}this.copyto(h);return h},__class__:c.phys.ZPP_Compound});c.phys.ZPP_FluidProperties=function(){this.wrap_gravity=null;this.viscosity=this.density=this.gravityx=this.gravityy=0;this.next=this.userData=
this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new c.util.ZNPList_ZPP_Shape;this.density=this.viscosity=1;this.wrap_gravity=null;this.gravityy=this.gravityx=0};n["zpp_nape.phys.ZPP_FluidProperties"]=c.phys.ZPP_FluidProperties;c.phys.ZPP_FluidProperties.__name__=["zpp_nape","phys","ZPP_FluidProperties"];c.phys.ZPP_FluidProperties.prototype={wrapper:function(){if(null==this.outer){this.outer=new g.phys.FluidProperties;var a=this.outer.zpp_inner;a.outer=null;a.next=c.phys.ZPP_FluidProperties.zpp_pool;
c.phys.ZPP_FluidProperties.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},alloc:function(){},feature_cons:function(){this.shapes=new c.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},copy:function(){var a;null==c.phys.ZPP_FluidProperties.zpp_pool?a=new c.phys.ZPP_FluidProperties:(a=c.phys.ZPP_FluidProperties.zpp_pool,c.phys.ZPP_FluidProperties.zpp_pool=a.next,a.next=null);null;a.viscosity=this.viscosity;
a.density=this.density;return a},gravity_invalidate:function(a){this.gravityx=a.x;this.gravityy=a.y;this.invalidate()},gravity_validate:function(){this.wrap_gravity.zpp_inner.x=this.gravityx;this.wrap_gravity.zpp_inner.y=this.gravityy},getgravity:function(){this.wrap_gravity=g.geom.Vec2.get(this.gravityx,this.gravityy,null);this.wrap_gravity.zpp_inner._inuse=!0;this.wrap_gravity.zpp_inner._invalidate=B(this,this.gravity_invalidate);this.wrap_gravity.zpp_inner._validate=B(this,this.gravity_validate)},
invalidate:function(){for(var a=this.shapes.head;null!=a;)a.elt.invalidate_fluidprops(),a=a.next},__class__:c.phys.ZPP_FluidProperties};c.phys.ZPP_Material=function(){this.dynamicFriction=this.staticFriction=this.density=this.elasticity=this.rollingFriction=0;this.next=this.userData=this.outer=this.shapes=this.wrap_shapes=null;this.shapes=new c.util.ZNPList_ZPP_Shape;this.elasticity=0;this.dynamicFriction=1;this.staticFriction=2;this.density=0.001;this.rollingFriction=0.01};n["zpp_nape.phys.ZPP_Material"]=
c.phys.ZPP_Material;c.phys.ZPP_Material.__name__=["zpp_nape","phys","ZPP_Material"];c.phys.ZPP_Material.prototype={wrapper:function(){if(null==this.outer){this.outer=new g.phys.Material;var a=this.outer.zpp_inner;a.outer=null;a.next=c.phys.ZPP_Material.zpp_pool;c.phys.ZPP_Material.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},free:function(){this.outer=null},alloc:function(){},feature_cons:function(){this.shapes=new c.util.ZNPList_ZPP_Shape},addShape:function(a){this.shapes.add(a)},remShape:function(a){this.shapes.remove(a)},
copy:function(){var a=new c.phys.ZPP_Material;a.dynamicFriction=this.dynamicFriction;a.staticFriction=this.staticFriction;a.density=this.density;a.elasticity=this.elasticity;a.rollingFriction=this.rollingFriction;return a},set:function(a){this.dynamicFriction=a.dynamicFriction;this.staticFriction=a.staticFriction;this.density=a.density;this.elasticity=a.elasticity;this.rollingFriction=a.rollingFriction},invalidate:function(a){for(var b=this.shapes.head;null!=b;)b.elt.invalidate_material(a),b=b.next},
__class__:c.phys.ZPP_Material};c.shape={};c.shape.ZPP_Shape=function(a){this.zip_aabb=!1;this.sweep=this.node=this.pairs=this.aabb=null;this.fluidEnabled=this.sensorEnabled=!1;this.circle=this.polygon=this.refmaterial=this.material=this.filter=this.fluidProperties=null;this.sweepCoef=0;this.zip_sweepRadius=!1;this.sweepRadius=0;this.wrap_localCOM=this.wrap_worldCOM=null;this.zip_worldCOM=!1;this.worldCOMx=this.worldCOMy=0;this.zip_localCOM=!1;this.localCOMx=this.localCOMy=0;this.zip_angDrag=!1;this.inertia=
this.angDrag=0;this.zip_area_inertia=!1;this.type=this.area=0;this.outer=this.body=null;c.phys.ZPP_Interactor.call(this);this.pairs=new c.util.ZNPList_ZPP_AABBPair;this.ishape=this;this.type=a;this.aabb=c.geom.ZPP_AABB.get(0,0,0,0);this.aabb._immutable=!0;this.aabb._validate=B(this,this.aabb_validate);this.zip_area_inertia=this.zip_angDrag=this.zip_localCOM=this.zip_sweepRadius=!0;this.worldCOMy=this.worldCOMx=this.localCOMy=this.localCOMx=0;this.sensorEnabled=this.fluidEnabled=!1;this.body=this.fluidProperties=
null;this.refmaterial=new c.phys.ZPP_Material;this.sweepRadius=this.sweepCoef=0};n["zpp_nape.shape.ZPP_Shape"]=c.shape.ZPP_Shape;c.shape.ZPP_Shape.__name__=["zpp_nape","shape","ZPP_Shape"];c.shape.ZPP_Shape.__super__=c.phys.ZPP_Interactor;c.shape.ZPP_Shape.prototype=K(c.phys.ZPP_Interactor.prototype,{isCircle:function(){return this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE},isPolygon:function(){return this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON},invalidate_sweepRadius:function(){this.zip_sweepRadius=
!0},validate_sweepRadius:function(){this.zip_sweepRadius&&(this.zip_sweepRadius=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_sweepRadius():this.polygon.__validate_sweepRadius())},clear:function(){this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__clear():this.polygon.__clear()},validate_aabb:function(){this.zip_aabb&&null!=this.body&&(this.zip_aabb=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_aabb():this.polygon.__validate_aabb())},
force_validate_aabb:function(){this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle._force_validate_aabb():this.polygon._force_validate_aabb()},invalidate_aabb:function(){this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0)},validate_area_inertia:function(){this.zip_area_inertia&&(this.zip_area_inertia=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_area_inertia():this.polygon.__validate_area_inertia())},validate_angDrag:function(){if(this.zip_angDrag||this.refmaterial.dynamicFriction!=
this.material.dynamicFriction)this.zip_angDrag=!1,this.refmaterial.dynamicFriction=this.material.dynamicFriction,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?this.circle.__validate_angDrag():this.polygon.__validate_angDrag()},validate_localCOM:function(){this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy))},
validate_worldCOM:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+
this.localCOMy*this.body.axisy))},getworldCOM:function(){if(null==this.body)throw"Error: worldCOM only makes sense when Shape belongs to a Body";this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+
(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy));this.wrap_worldCOM.zpp_inner.x=this.worldCOMx;this.wrap_worldCOM.zpp_inner.y=this.worldCOMy},invalidate_area_inertia:function(){this.zip_area_inertia=!0;null!=this.body&&(this.body.invalidate_localCOM(),this.body.invalidate_mass(),this.body.invalidate_inertia())},invalidate_angDrag:function(){this.zip_angDrag=!0},invalidate_localCOM:function(){this.zip_localCOM=
!0;this.invalidate_area_inertia();this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE&&(this.zip_sweepRadius=!0);this.invalidate_angDrag();this.invalidate_worldCOM();null!=this.body&&this.body.invalidate_localCOM()},invalidate_worldCOM:function(){this.zip_aabb=this.zip_worldCOM=!0;null!=this.body&&(this.body.zip_aabb=!0)},invalidate_material:function(a){0!=(a&c.phys.ZPP_Material.WAKE)&&this.wake();0!=(a&c.phys.ZPP_Material.ARBITERS)&&null!=this.body&&this.body.refreshArbiters();0!=(a&c.phys.ZPP_Material.PROPS)&&
null!=this.body&&(this.body.invalidate_localCOM(),this.body.invalidate_mass(),this.body.invalidate_inertia());0!=(a&c.phys.ZPP_Material.ANGDRAG)&&this.invalidate_angDrag();this.refmaterial.set(this.material)},invalidate_filter:function(){this.wake()},invalidate_fluidprops:function(){this.fluidEnabled&&this.wake()},aabb_validate:function(){if(null==this.body)throw"Error: bounds only makes sense when Shape belongs to a Body";this.zip_aabb&&null!=this.body&&(this.zip_aabb=!1,this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
this.circle.__validate_aabb():this.polygon.__validate_aabb())},setMaterial:function(a){this.material!=a&&(null!=this.body&&null!=this.body.space&&null!=this.material&&this.material.shapes.remove(this),this.material=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.wake(),null!=this.body&&this.body.refreshArbiters())},setFilter:function(a){this.filter!=a&&(null!=this.body&&null!=this.body.space&&null!=this.filter&&this.filter.shapes.remove(this),this.filter=a,null!=this.body&&null!=
this.body.space&&a.shapes.add(this),this.wake())},setFluid:function(a){this.fluidProperties!=a&&(null!=this.body&&null!=this.body.space&&null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this),this.fluidProperties=a,null!=this.body&&null!=this.body.space&&a.shapes.add(this),this.fluidEnabled&&this.wake())},__immutable_midstep:function(a){if(null!=this.body&&null!=this.body.space&&this.body.space.midstep)throw"Error: "+a+" cannot be set during a space step()";},addedToBody:function(){this.invalidate_worldCOM();
this.zip_aabb=!0;null!=this.body&&(this.body.zip_aabb=!0)},removedFromBody:function(){},addedToSpace:function(){this.__iaddedToSpace();this.material.shapes.add(this);this.filter.shapes.add(this);null!=this.fluidProperties&&this.fluidProperties.shapes.add(this)},removedFromSpace:function(){this.__iremovedFromSpace();this.material.shapes.remove(this);this.filter.shapes.remove(this);null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this)},copy:function(){var a=null,a=this.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
this.circle.__copy():this.polygon.__copy();this.zip_area_inertia?a.invalidate_area_inertia():(a.area=this.area,a.inertia=this.inertia);this.zip_sweepRadius?a.zip_sweepRadius=!0:(a.sweepRadius=this.sweepRadius,a.sweepCoef=this.sweepCoef);this.zip_angDrag?a.invalidate_angDrag():a.angDrag=this.angDrag;this.zip_aabb?(a.zip_aabb=!0,null!=a.body&&(a.body.zip_aabb=!0)):(a.aabb.minx=this.aabb.minx,a.aabb.miny=this.aabb.miny,a.aabb.maxx=this.aabb.maxx,a.aabb.maxy=this.aabb.maxy);var b=a.material;b.outer=null;
b.next=c.phys.ZPP_Material.zpp_pool;c.phys.ZPP_Material.zpp_pool=b;b=a.filter;b.outer=null;b.next=c.dynamics.ZPP_InteractionFilter.zpp_pool;c.dynamics.ZPP_InteractionFilter.zpp_pool=b;a.material=this.material;a.filter=this.filter;null!=this.fluidProperties&&(a.fluidProperties=this.fluidProperties);a.fluidEnabled=this.fluidEnabled;a.sensorEnabled=this.sensorEnabled;null!=this.userData&&(a.userData=X.copy(this.userData));this.copyto(a.outer);return a.outer},__class__:c.shape.ZPP_Shape});c.shape.ZPP_Circle=
function(){this.radius=0;this.outer_zn=null;c.shape.ZPP_Shape.call(this,c.util.ZPP_Flags.id_ShapeType_CIRCLE);this.circle=this;this.zip_localCOM=!1};n["zpp_nape.shape.ZPP_Circle"]=c.shape.ZPP_Circle;c.shape.ZPP_Circle.__name__=["zpp_nape","shape","ZPP_Circle"];c.shape.ZPP_Circle.__super__=c.shape.ZPP_Shape;c.shape.ZPP_Circle.prototype=K(c.shape.ZPP_Shape.prototype,{__clear:function(){},invalidate_radius:function(){this.invalidate_area_inertia();this.invalidate_angDrag();this.zip_aabb=!0;null!=this.body&&
(this.body.zip_aabb=!0);null!=this.body&&this.body.wake()},localCOM_validate:function(){this.wrap_localCOM.zpp_inner.x=this.localCOMx;this.wrap_localCOM.zpp_inner.y=this.localCOMy},localCOM_invalidate:function(a){this.localCOMx=a.x;this.localCOMy=a.y;this.invalidate_localCOM();null!=this.body&&this.body.wake()},localCOM_immutable:function(){if(null!=this.body&&this.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.body.space)throw"Error: Cannot modify localCOM of Circle added to a static Body whilst within a Space";
},setupLocalCOM:function(){this.wrap_localCOM=g.geom.Vec2.get(this.localCOMx,this.localCOMy,null);this.wrap_localCOM.zpp_inner._inuse=!0;this.wrap_localCOM.zpp_inner._validate=B(this,this.localCOM_validate);this.wrap_localCOM.zpp_inner._invalidate=B(this,this.localCOM_invalidate);this.wrap_localCOM.zpp_inner._isimmutable=B(this,this.localCOM_immutable)},__validate_aabb:function(){this.zip_worldCOM&&null!=this.body&&(this.zip_worldCOM=!1,this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&
this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)),this.body.validate_axis(),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy));var a=this.radius,b=this.radius;this.aabb.minx=this.worldCOMx-a;this.aabb.miny=this.worldCOMy-b;this.aabb.maxx=this.worldCOMx+a;this.aabb.maxy=
this.worldCOMy+b},_force_validate_aabb:function(){this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy);this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy);this.aabb.minx=this.worldCOMx-this.radius;this.aabb.miny=this.worldCOMy-this.radius;this.aabb.maxx=this.worldCOMx+this.radius;this.aabb.maxy=this.worldCOMy+this.radius},__validate_sweepRadius:function(){this.sweepCoef=Math.sqrt(this.localCOMx*this.localCOMx+this.localCOMy*
this.localCOMy);this.sweepRadius=this.sweepCoef+this.radius},__validate_area_inertia:function(){var a=this.radius*this.radius;this.area=a*Math.PI;this.inertia=0.5*a+(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy)},__validate_angDrag:function(){var a=this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy,b=this.radius*this.radius;this.angDrag=(a+2*b)*this.material.dynamicFriction*g.Config.fluidAngularDragFriction+0.5*g.Config.fluidAngularDrag*(1+g.Config.fluidVacuumDrag)*a;this.angDrag/=
2*(a+0.5*b)},__scale:function(a,b){var d;d=((0>a?-a:a)+(0>b?-b:b))/2;this.radius=0>d?this.radius*-d:this.radius*d;this.invalidate_radius();0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy&&(this.localCOMx*=a,this.localCOMy*=b,this.invalidate_localCOM())},__translate:function(a,b){this.localCOMx+=1*a;this.localCOMy+=1*b;this.invalidate_localCOM()},__rotate:function(a,b){if(0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy){var d=0,c=0,d=b*this.localCOMx-a*this.localCOMy,c=
this.localCOMx*a+this.localCOMy*b;this.localCOMx=d;this.localCOMy=c;this.invalidate_localCOM()}},__transform:function(a){var b=a.zpp_inner.a*a.zpp_inner.d-a.zpp_inner.b*a.zpp_inner.c;0>b&&(b=-b);this.radius*=Math.sqrt(b);b=a.zpp_inner.a*this.localCOMx+a.zpp_inner.b*this.localCOMy+a.zpp_inner.tx;this.localCOMy=a.zpp_inner.c*this.localCOMx+a.zpp_inner.d*this.localCOMy+a.zpp_inner.ty;this.localCOMx=b;this.invalidate_radius();this.invalidate_localCOM()},__copy:function(){var a=(new g.shape.Circle(this.radius)).zpp_inner_zn;
a.localCOMx=this.localCOMx;a.localCOMy=this.localCOMy;a.zip_localCOM=!1;return a},__class__:c.shape.ZPP_Circle});c.shape.ZPP_Edge=function(){this.tp0=this.tp1=0;this.lp0=this.gp0=this.lp1=this.gp1=null;this.length=this.lprojection=this.gprojection=0;this.wrap_gnorm=null;this.gnormx=this.gnormy=0;this.wrap_lnorm=null;this.lnormx=this.lnormy=0;this.next=this.polygon=this.outer=null;this.gprojection=this.lprojection=this.length=this.gnormy=this.gnormx=this.lnormy=this.lnormx=0};n["zpp_nape.shape.ZPP_Edge"]=
c.shape.ZPP_Edge;c.shape.ZPP_Edge.__name__=["zpp_nape","shape","ZPP_Edge"];c.shape.ZPP_Edge.prototype={free:function(){this.polygon=null},alloc:function(){},wrapper:function(){null==this.outer&&(c.shape.ZPP_Edge.internal=!0,this.outer=new g.shape.Edge,c.shape.ZPP_Edge.internal=!1,this.outer.zpp_inner=this);return this.outer},lnorm_validate:function(){if(null==this.polygon)throw"Error: Edge not currently in use";this.polygon.validate_laxi();this.wrap_lnorm.zpp_inner.x=this.lnormx;this.wrap_lnorm.zpp_inner.y=
this.lnormy},gnorm_validate:function(){if(null==this.polygon)throw"Error: Edge not currently in use";if(null==this.polygon.body)throw"Error: Edge worldNormal only makes sense if the parent Polygon is contained within a rigid body";this.polygon.validate_gaxi();this.wrap_gnorm.zpp_inner.x=this.gnormx;this.wrap_gnorm.zpp_inner.y=this.gnormy},getlnorm:function(){this.wrap_lnorm=g.geom.Vec2.get(this.lnormx,this.lnormy,null);this.wrap_lnorm.zpp_inner._immutable=!0;this.wrap_lnorm.zpp_inner._validate=B(this,
this.lnorm_validate)},getgnorm:function(){this.wrap_gnorm=g.geom.Vec2.get(this.gnormx,this.gnormy,null);this.wrap_gnorm.zpp_inner._immutable=!0;this.wrap_gnorm.zpp_inner._validate=B(this,this.gnorm_validate)},__class__:c.shape.ZPP_Edge};c.shape.ZPP_Polygon=function(){this.reverse_flag=this.zip_lverts=this.zip_laxi=this.zip_gverts=this.zip_gaxi=this.zip_valid=this.zip_sanitation=!1;this.edgeCnt=0;this.outer_zn=this.lverts=this.wrap_lverts=this.gverts=this.wrap_gverts=this.edges=this.wrap_edges=null;
c.shape.ZPP_Shape.call(this,c.util.ZPP_Flags.id_ShapeType_POLYGON);this.polygon=this;this.lverts=new c.geom.ZPP_Vec2;this.gverts=new c.geom.ZPP_Vec2;this.edges=new c.util.ZNPList_ZPP_Edge;this.edgeCnt=0};n["zpp_nape.shape.ZPP_Polygon"]=c.shape.ZPP_Polygon;c.shape.ZPP_Polygon.__name__=["zpp_nape","shape","ZPP_Polygon"];c.shape.ZPP_Polygon.__super__=c.shape.ZPP_Shape;c.shape.ZPP_Polygon.prototype=K(c.shape.ZPP_Shape.prototype,{__clear:function(){},lverts_pa_invalidate:function(a){this.invalidate_lverts()},
lverts_pa_immutable:function(){if(null!=this.body&&this.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.body.space)throw"Error: Cannot modify local vertex of Polygon added to a static body whilst within a Space";},gverts_pa_validate:function(){if(null==this.body)throw"Error: World vertex only makes sense when Polygon is contained in a rigid body";this.validate_gverts()},lverts_post_adder:function(a){a.zpp_inner._invalidate=B(this,this.lverts_pa_invalidate);a.zpp_inner._isimmutable=B(this,
this.lverts_pa_immutable);for(var b=null,d=null,h=this.lverts.next;null!=h&&h!=a.zpp_inner;)b=null==b?this.gverts.next:b.next,d=null==d?this.edges.head:d.next,h=h.next;a=c.geom.ZPP_Vec2.get(0,0,!0);this.gverts.insert(b,a);null!=this.lverts.next.next&&(null==this.lverts.next.next.next?(null==c.shape.ZPP_Edge.zpp_pool?d=new c.shape.ZPP_Edge:(d=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=d.next,d.next=null),null,d.polygon=this,this.edges.add(d),null==c.shape.ZPP_Edge.zpp_pool?d=new c.shape.ZPP_Edge:
(d=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=d.next,d.next=null),null,d.polygon=this,this.edges.add(d),this.edgeCnt+=2):(null==c.shape.ZPP_Edge.zpp_pool?b=new c.shape.ZPP_Edge:(b=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=b.next,b.next=null),null,b.polygon=this,this.edges.insert(d,b),this.edgeCnt++));a._validate=B(this,this.gverts_pa_validate)},lverts_subber:function(a){this.cleanup_lvert(a.zpp_inner)},lverts_invalidate:function(a){this.invalidate_lverts()},lverts_validate:function(){this.validate_lverts()},
lverts_modifiable:function(){this.immutable_midstep("Polygon::localVerts");if(null!=this.body&&this.body.type==c.util.ZPP_Flags.id_BodyType_STATIC&&null!=this.body.space)throw"Error: Cannot modifiy shapes of static object once added to Space";},gverts_validate:function(){this.validate_gverts()},edges_validate:function(){this.validate_lverts()},getlverts:function(){this.wrap_lverts=c.util.ZPP_MixVec2List.get(this.lverts);this.wrap_lverts.zpp_inner.post_adder=B(this,this.lverts_post_adder);this.wrap_lverts.zpp_inner.subber=
B(this,this.lverts_subber);this.wrap_lverts.zpp_inner._invalidate=B(this,this.lverts_invalidate);this.wrap_lverts.zpp_inner._validate=B(this,this.lverts_validate);this.wrap_lverts.zpp_inner._modifiable=B(this,this.lverts_modifiable);this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag},getgverts:function(){this.wrap_gverts=c.util.ZPP_MixVec2List.get(this.gverts,!0);this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag;this.wrap_gverts.zpp_inner._validate=B(this,this.gverts_validate)},getedges:function(){this.wrap_edges=
c.util.ZPP_EdgeList.get(this.edges,!0);this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag;this.wrap_edges.zpp_inner._validate=B(this,this.edges_validate)},invalidate_lverts:function(){this.invalidate_laxi();this.invalidate_area_inertia();this.invalidate_angDrag();this.invalidate_localCOM();this.invalidate_gverts();this.zip_sanitation=this.zip_valid=this.zip_lverts=!0;null!=this.body&&this.body.wake()},invalidate_laxi:function(){this.invalidate_gaxi();this.zip_laxi=this.zip_sweepRadius=!0},invalidate_gverts:function(){this.zip_aabb=
!0;null!=this.body&&(this.body.zip_aabb=!0);this.zip_gverts=!0},invalidate_gaxi:function(){this.zip_gaxi=!0},valid:function(){if(this.zip_valid){this.zip_valid=!1;this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real());if(3>this.lverts.length)return null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this.validation=c.util.ZPP_Flags.ValidationResult_DEGENERATE;
this.validate_lverts();this.validate_area_inertia();if(this.area<g.Config.epsilon)return null==c.util.ZPP_Flags.ValidationResult_DEGENERATE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_DEGENERATE=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),this.validation=c.util.ZPP_Flags.ValidationResult_DEGENERATE;for(var a=!1,b=!1,d=!0,h=this.lverts.next,e=h,f=h=h.next,h=h.next;null!=h;){var m=h,k=0,l=0,k=m.x-f.x,l=m.y-f.y,n=0,p=0,n=f.x-e.x,p=f.y-e.y,k=p*k-n*l;k>g.Config.epsilon?
b=!0:k<-g.Config.epsilon&&(a=!0);if(b&&a){d=!1;break}e=f;f=m;h=h.next}d&&(m=h=this.lverts.next,l=k=0,k=m.x-f.x,l=m.y-f.y,p=n=0,n=f.x-e.x,p=f.y-e.y,e=p*k-n*l,e>g.Config.epsilon?b=!0:e<-g.Config.epsilon&&(a=!0),b&&a&&(d=!1),d&&(e=f,f=m,m=h.next,d=m.x-f.x,h=m.y-f.y,k=m=0,m=f.x-e.x,k=f.y-e.y,f=k*d-m*h,f>g.Config.epsilon?b=!0:f<-g.Config.epsilon&&(a=!0)));if(b&&a)return null==c.util.ZPP_Flags.ValidationResult_CONCAVE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_CONCAVE=new g.shape.ValidationResult,
c.util.ZPP_Flags.internal=!1),this.validation=c.util.ZPP_Flags.ValidationResult_CONCAVE;f=a=!0;b=e=this.lverts.next;for(e=e.next;null!=e;){d=e;if(!a){f=!1;break}m=!0;h=k=this.lverts.next;for(k=k.next;null!=k;){l=k;if(b!=h&&b!=l&&d!=h&&d!=l){var n=b.x-h.x,p=b.y-h.y,q=0,r=0,q=d.x-b.x,r=d.y-b.y,w=0,s=0,w=l.x-h.x,s=l.y-h.y,x=r*w-q*s;if(x*x>g.Config.epsilon&&(x=1/x,w=(s*n-w*p)*x,w>g.Config.epsilon&&w<1-g.Config.epsilon&&(n=(r*n-q*p)*x,n>g.Config.epsilon&&n<1-g.Config.epsilon))){m=a=!1;break}}h=l;k=k.next}m&&
(p=this.lverts.next,b!=h&&b!=p&&d!=h&&d!=p&&(k=m=0,m=b.x-h.x,k=b.y-h.y,n=l=0,l=d.x-b.x,n=d.y-b.y,q=0,b=p.x-h.x,q=p.y-h.y,h=n*b-l*q,h*h>g.Config.epsilon&&(h=1/h,b=(q*m-b*k)*h,b>g.Config.epsilon&&b<1-g.Config.epsilon&&(b=(n*m-l*k)*h,b>g.Config.epsilon&&b<1-g.Config.epsilon&&(a=!1)))));b=d;e=e.next}if(f){do if(e=this.lverts.next,a){d=!0;f=h=this.lverts.next;for(h=h.next;null!=h;){m=h;if(b!=f&&b!=m&&e!=f&&e!=m&&(l=k=0,k=b.x-f.x,l=b.y-f.y,p=n=0,n=e.x-b.x,p=e.y-b.y,x=r=0,r=m.x-f.x,x=m.y-f.y,q=p*r-n*x,q*
q>g.Config.epsilon&&(q=1/q,r=(x*k-r*l)*q,r>g.Config.epsilon&&r<1-g.Config.epsilon&&(k=(p*k-n*l)*q,k>g.Config.epsilon&&k<1-g.Config.epsilon)))){d=a=!1;break}f=m;h=h.next}d&&(l=this.lverts.next,b!=f&&b!=l&&e!=f&&e!=l&&(d=b.x-f.x,h=b.y-f.y,k=m=0,m=e.x-b.x,k=e.y-b.y,n=0,e=l.x-f.x,n=l.y-f.y,f=k*e-m*n,f*f>g.Config.epsilon&&(f=1/f,e=(n*d-e*h)*f,e>g.Config.epsilon&&e<1-g.Config.epsilon&&(f*=k*d-m*h,f>g.Config.epsilon&&f<1-g.Config.epsilon&&(a=!1)))))}while(0)}a?(null==c.util.ZPP_Flags.ValidationResult_VALID&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),a=this.validation=c.util.ZPP_Flags.ValidationResult_VALID):(null==c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1),a=this.validation=c.util.ZPP_Flags.ValidationResult_SELF_INTERSECTING);return a}return this.validation},validate_lverts:function(){this.zip_lverts&&
(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),0>this.area&&(this.reverse_vertices(),this.area=-this.area)))},cleanup_lvert:function(a){for(var b=null,d=null,h=this.lverts.next;null!=h&&h!=a;)b=null==b?this.gverts.next:b.next,d=null==d?this.edges.head:d.next,h=h.next;a=null==b?this.gverts.next:b.next;this.gverts.erase(b);null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=
a;2==this.edgeCnt?(d=this.edges.pop_unsafe(),d.polygon=null,d.next=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=d,d=this.edges.pop_unsafe(),d.polygon=null,d.next=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=d,this.edgeCnt=0):0!=this.edgeCnt&&(b=null==d?this.edges.head.elt:d.next.elt,this.edges.erase(d),b.polygon=null,b.next=c.shape.ZPP_Edge.zpp_pool,c.shape.ZPP_Edge.zpp_pool=b,this.edgeCnt--)},splice_collinear:function(){this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real())},
splice_collinear_real:function(){if(null!=this.lverts.next&&null!=this.lverts.next.next&&null!=this.lverts.next.next.next){for(var a=null,b=this.lverts.next;null!=b;){var d=b,h=null==b.next?this.lverts.next:b.next;c.geom.ZPP_VecMath.vec_dsq(d.x,d.y,h.x,h.y)<g.Config.epsilon*g.Config.epsilon?(this.cleanup_lvert(b),b=this.lverts.erase(a)):(a=b,b=b.next)}if(null!=this.lverts.next){do for(a=!1,b=this.lverts.next;null!=b;){var d=null==b.next?this.lverts.next:b.next,e=b,h=d,f=null==d.next?this.lverts.next:
d.next,m=0,k=0,m=h.x-e.x,k=h.y-e.y,l=0,e=f.x-h.x,l=f.y-h.y,h=l*m-e*k;h*h>=g.Config.epsilon*g.Config.epsilon||(this.cleanup_lvert(d),this.lverts.erase(null==b.next?null:b),a=!0);b=b.next}while(a)}}},reverse_vertices:function(){this.lverts.reverse();this.gverts.reverse();this.edges.reverse();var a=this.edges.iterator_at(this.edgeCnt-1),b=this.edges.pop_unsafe();this.edges.insert(a,b);this.reverse_flag=!this.reverse_flag;null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag);
null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},validate_laxi:function(){if(this.zip_laxi){this.zip_laxi=!1;this.validate_lverts();for(var a=this.edges.head,b=this.lverts.next,d=b,b=b.next;null!=b;){var c=b,e=a.elt,a=a.next;e.lp0=d;e.lp1=c;var f=0,g=0,f=d.x-c.x,g=d.y-c.y,k=Math.sqrt(f*f+g*g);e.length=k;k=1/k;f*=k;g*=k;k=f;f=-g;g=k;e.lprojection=f*d.x+g*d.y;e.lnormx=f;e.lnormy=g;null!=
e.wrap_lnorm&&(e.wrap_lnorm.zpp_inner.x=f,e.wrap_lnorm.zpp_inner.y=g);d=c;b=b.next}e=this.lverts.next;a=a.elt;a.lp0=d;a.lp1=e;b=d.x-e.x;c=d.y-e.y;e=Math.sqrt(b*b+c*c);a.length=e;e=1/e;f=b*e;b=-(c*e);c=f;a.lprojection=b*d.x+c*d.y;a.lnormx=b;a.lnormy=c;null!=a.wrap_lnorm&&(a.wrap_lnorm.zpp_inner.x=b,a.wrap_lnorm.zpp_inner.y=c)}},validate_gverts:function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1;this.validate_lverts();this.body.validate_axis();for(var a=this.lverts.next,b=this.gverts.next;null!=
b;){var d=b,c=a,a=a.next;d.x=this.body.posx+(this.body.axisy*c.x-this.body.axisx*c.y);d.y=this.body.posy+(c.x*this.body.axisx+c.y*this.body.axisy);b=b.next}}},validate_gaxi:function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=!1;this.validate_laxi();this.body.validate_axis();this.validate_gverts();for(var a=this.edges.head,b=this.gverts.next,d=b,b=b.next;null!=b;){var c=b,e=a.elt,a=a.next;e.gp0=d;e.gp1=c;e.gnormx=this.body.axisy*e.lnormx-this.body.axisx*e.lnormy;e.gnormy=e.lnormx*this.body.axisx+
e.lnormy*this.body.axisy;e.gprojection=this.body.posx*e.gnormx+this.body.posy*e.gnormy+e.lprojection;null!=e.wrap_gnorm&&(e.wrap_gnorm.zpp_inner.x=e.gnormx,e.wrap_gnorm.zpp_inner.y=e.gnormy);e.tp0=e.gp0.y*e.gnormx-e.gp0.x*e.gnormy;e.tp1=e.gp1.y*e.gnormx-e.gp1.x*e.gnormy;d=c;b=b.next}b=this.gverts.next;a=a.elt;a.gp0=d;a.gp1=b;a.gnormx=this.body.axisy*a.lnormx-this.body.axisx*a.lnormy;a.gnormy=a.lnormx*this.body.axisx+a.lnormy*this.body.axisy;a.gprojection=this.body.posx*a.gnormx+this.body.posy*a.gnormy+
a.lprojection;null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=a.gnormy);a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy;a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy}},__validate_aabb:function(){this.validate_gverts();if(null==this.lverts.next)throw"Error: An empty polygon has no meaningful bounds";var a=this.gverts.next;this.aabb.minx=a.x;this.aabb.miny=a.y;this.aabb.maxx=a.x;this.aabb.maxy=a.y;for(a=this.gverts.next.next;null!=a;){var b=a;b.x<this.aabb.minx&&(this.aabb.minx=b.x);
b.x>this.aabb.maxx&&(this.aabb.maxx=b.x);b.y<this.aabb.miny&&(this.aabb.miny=b.y);b.y>this.aabb.maxy&&(this.aabb.maxy=b.y);a=a.next}},_force_validate_aabb:function(){var a=this.lverts.next,b=this.gverts.next,d=a,a=a.next;b.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*d.y);b.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);this.aabb.minx=b.x;this.aabb.miny=b.y;this.aabb.maxx=b.x;this.aabb.maxy=b.y;for(b=this.gverts.next.next;null!=b;){var d=b,c=a,a=a.next;d.x=this.body.posx+(this.body.axisy*
c.x-this.body.axisx*c.y);d.y=this.body.posy+(c.x*this.body.axisx+c.y*this.body.axisy);d.x<this.aabb.minx&&(this.aabb.minx=d.x);d.x>this.aabb.maxx&&(this.aabb.maxx=d.x);d.y<this.aabb.miny&&(this.aabb.miny=d.y);d.y>this.aabb.maxy&&(this.aabb.maxy=d.y);b=b.next}},__validate_sweepRadius:function(){var a=0,b=0;this.validate_laxi();for(var d=this.lverts.next;null!=d;){var c=d,c=c.x*c.x+c.y*c.y;c>a&&(a=c);d=d.next}for(d=this.edges.head;null!=d;){c=d.elt;if(c.lprojection<b&&(b=c.lprojection,0>b))break;d=
d.next}0>b&&(b=0);this.sweepRadius=Math.sqrt(a);this.sweepCoef=this.sweepRadius-b},__validate_area_inertia:function(){if(null==this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.inertia=this.area=0;else{for(var a=this.area=0,b=0,d=this.lverts.next,c=d,e=d=d.next,d=d.next;null!=d;){var f=d,g=e.y*c.x-e.x*c.y,a=a+g*(e.x*e.x+e.y*e.y+(e.x*c.x+e.y*c.y)+(c.x*c.x+c.y*c.y)),b=b+g;this.area+=e.x*(f.y-c.y);c=e;e=f;d=d.next}g=d=this.lverts.next;f=e.y*c.x-e.x*c.y;a+=f*(e.x*e.x+
e.y*e.y+(e.x*c.x+e.y*c.y)+(c.x*c.x+c.y*c.y));this.area+=e.x*(g.y-c.y);c=e;e=g;d=d.next;g=e.y*c.x-e.x*c.y;a+=g*(e.x*e.x+e.y*e.y+(e.x*c.x+e.y*c.y)+(c.x*c.x+c.y*c.y));this.area+=e.x*(d.y-c.y);this.inertia=a/(6*(b+f+g));this.area*=0.5;0>this.area&&(this.area=-this.area,this.reverse_vertices())}},__validate_angDrag:function(){if(3>this.lverts.length)throw"Error: Polygon's with less than 3 vertices have no meaningful angDrag";this.validate_area_inertia();this.validate_laxi();for(var a=0,b=this.edges.head,
d=0,c=this.lverts.next,e=c,c=c.next;null!=c;){var f=c,m=b.elt,b=b.next,d=d+m.length,k=0,l=0,k=f.x-e.x,l=f.y-e.y,a=a+m.length*g.Config.fluidAngularDragFriction*this.material.dynamicFriction*m.lprojection*m.lprojection,n=-(e.y*m.lnormx-e.x*m.lnormy)/(l*m.lnormx-k*m.lnormy);if(0<n){var p;p=1<n?1:n;var q=0,r=0,q=e.x,r=e.y,w=p,q=q+k*w,r=r+l*w,w=m.lnormy*e.x-m.lnormx*e.y,q=m.lnormy*q-m.lnormx*r,a=a+(q*q*q-w*w*w)/(3*(q-w))*p*m.length*g.Config.fluidAngularDrag}1>n&&(n=0>n?0:n,q=p=0,p=e.x,q=e.y,e=n,p+=k*e,
q+=l*e,e=m.lnormy*p-m.lnormx*q,k=m.lnormy*f.x-m.lnormx*f.y,a+=(k*k*k-e*e*e)/(3*(k-e))*g.Config.fluidVacuumDrag*(1-n)*m.length*g.Config.fluidAngularDrag);e=f;c=c.next}c=this.lverts.next;b=b.elt;d+=b.length;f=c.x-e.x;m=c.y-e.y;a+=b.length*g.Config.fluidAngularDragFriction*this.material.dynamicFriction*b.lprojection*b.lprojection;k=-(e.y*b.lnormx-e.x*b.lnormy)/(m*b.lnormx-f*b.lnormy);0<k&&(l=1<k?1:k,p=e.x,q=e.y,n=b.lnormy*e.x-b.lnormx*e.y,p=b.lnormy*(p+f*l)-b.lnormx*(q+m*l),a+=(p*p*p-n*n*n)/(3*(p-n))*
l*b.length*g.Config.fluidAngularDrag);1>k&&(k=0>k?0:k,l=e.x,n=e.y,e=b.lnormy*(l+f*k)-b.lnormx*(n+m*k),c=b.lnormy*c.x-b.lnormx*c.y,a+=(c*c*c-e*e*e)/(3*(c-e))*g.Config.fluidVacuumDrag*(1-k)*b.length*g.Config.fluidAngularDrag);this.angDrag=a/(this.inertia*d)},__validate_localCOM:function(){if(null==this.lverts.next)throw"Error: An empty polygon has no meaningful localCOM";if(null==this.lverts.next.next)this.localCOMx=this.lverts.next.x,this.localCOMy=this.lverts.next.y;else if(null==this.lverts.next.next.next)this.localCOMx=
this.lverts.next.x,this.localCOMy=this.lverts.next.y,this.localCOMx+=1*this.lverts.next.next.x,this.localCOMy+=1*this.lverts.next.next.y,this.localCOMx*=0.5,this.localCOMy*=0.5;else{for(var a=this.localCOMy=this.localCOMx=0,b=this.lverts.next,d=b,c=b=b.next,b=b.next;null!=b;){var e=b,a=a+c.x*(e.y-d.y),d=e.y*c.x-e.x*c.y;this.localCOMx+=(c.x+e.x)*d;this.localCOMy+=(c.y+e.y)*d;d=c;c=e;b=b.next}e=b=this.lverts.next;a+=c.x*(e.y-d.y);d=e.y*c.x-e.x*c.y;this.localCOMx+=(c.x+e.x)*d;this.localCOMy+=(c.y+e.y)*
d;d=c;c=e;b=b.next;a+=c.x*(b.y-d.y);d=b.y*c.x-b.x*c.y;this.localCOMx+=(c.x+b.x)*d;this.localCOMy+=(c.y+b.y)*d;a=1/(3*a);this.localCOMx*=a;this.localCOMy*=a}},localCOM_validate:function(){if(null==this.lverts.next)throw"Error: An empty polygon does not have any meaningful localCOM";this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=
this.localCOMy))},localCOM_invalidate:function(a){this.zip_localCOM&&(this.zip_localCOM=!1,this.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&this.polygon.__validate_localCOM(),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy));var b=0,d=0,b=a.x-this.localCOMx,d=a.y-this.localCOMy;for(a=this.lverts.next;null!=a;){var h=a;h.x+=1*b;h.y+=1*d;a=a.next}this.invalidate_lverts()},setupLocalCOM:function(){this.wrap_localCOM=g.geom.Vec2.get(this.localCOMx,
this.localCOMy,null);this.wrap_localCOM.zpp_inner._inuse=!0;this.wrap_localCOM.zpp_inner._validate=B(this,this.localCOM_validate);this.wrap_localCOM.zpp_inner._invalidate=B(this,this.localCOM_invalidate)},__translate:function(a,b){for(var d=this.lverts.next;null!=d;){var c=d;c.x+=1*a;c.y+=1*b;d=d.next}this.invalidate_lverts()},__scale:function(a,b){for(var d=this.lverts.next;null!=d;){var c=d;c.x*=a;c.y*=b;d=d.next}this.invalidate_lverts()},__rotate:function(a,b){for(var d=this.lverts.next;null!=
d;){var c=d,e=0,f=0,e=b*c.x-a*c.y,f=c.x*a+c.y*b;c.x=e;c.y=f;d=d.next}this.invalidate_lverts()},__transform:function(a){for(var b=this.lverts.next;null!=b;){var d=b,c=a.zpp_inner.a*d.x+a.zpp_inner.b*d.y+a.zpp_inner.tx;d.y=a.zpp_inner.c*d.x+a.zpp_inner.d*d.y+a.zpp_inner.ty;d.x=c;b=b.next}this.invalidate_lverts()},__copy:function(){return(new g.shape.Polygon(this.outer_zn.get_localVerts())).zpp_inner_zn},__class__:c.shape.ZPP_Polygon});c.space={};c.space.ZPP_Broadphase=function(){this.sweep=this.dynab=
this.aabbShape=this.matrix=this.circShape=null;this.is_sweep=!1;this.space=null};n["zpp_nape.space.ZPP_Broadphase"]=c.space.ZPP_Broadphase;c.space.ZPP_Broadphase.__name__=["zpp_nape","space","ZPP_Broadphase"];c.space.ZPP_Broadphase.prototype={insert:function(a){this.is_sweep?this.sweep.__insert(a):this.dynab.__insert(a)},remove:function(a){this.is_sweep?this.sweep.__remove(a):this.dynab.__remove(a)},sync:function(a){this.is_sweep?!this.sweep.space.continuous&&a.zip_aabb&&null!=a.body&&(a.zip_aabb=
!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb()):this.dynab.__sync(a)},broadphase:function(a,b){},clear:function(){},shapesUnderPoint:function(a,b,d,c){return null},bodiesUnderPoint:function(a,b,d,c){return null},updateAABBShape:function(a){if(null==this.aabbShape){var b=g.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);(new b(c.util.ZPP_Flags.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.aabbShape=
new g.shape.Polygon(g.shape.Polygon.rect(a.minx,a.miny,a.maxx-a.minx,a.maxy-a.miny)))}else{var b=this.aabbShape.zpp_inner.aabb,d=(a.maxx-a.minx)/(b.maxx-b.minx),h=(a.maxy-a.miny)/(b.maxy-b.miny);null==this.matrix&&(this.matrix=new g.geom.Mat23);this.matrix.set_a(d);this.matrix.set_b(this.matrix.set_c(0));this.matrix.set_d(h);this.matrix.set_tx(a.minx-d*b.minx);this.matrix.set_ty(a.miny-h*b.miny);this.aabbShape.transform(this.matrix)}this.aabbShape.zpp_inner.validate_aabb();this.aabbShape.zpp_inner.polygon.validate_gaxi()},
shapesInAABB:function(a,b,d,c,e){return null},bodiesInAABB:function(a,b,d,c,e){return null},updateCircShape:function(a,b,d){if(null==this.circShape){var h=g.phys.Body;null==c.util.ZPP_Flags.BodyType_STATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);(new h(c.util.ZPP_Flags.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.circShape=new g.shape.Circle(d,g.geom.Vec2.get(a,b,null)))}else h=this.circShape.zpp_inner.circle,d/=h.radius,
null==this.matrix&&(this.matrix=new g.geom.Mat23),this.matrix.set_a(this.matrix.set_d(d)),this.matrix.set_b(this.matrix.set_c(0)),this.matrix.set_tx(a-d*h.localCOMx),this.matrix.set_ty(b-d*h.localCOMy),this.circShape.transform(this.matrix);this.circShape.zpp_inner.validate_aabb()},shapesInCircle:function(a,b,d,c,e,f){return null},bodiesInCircle:function(a,b,d,c,e,f){return null},validateShape:function(a){a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.validate_gaxi();a.zip_aabb&&null!=a.body&&
(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb());a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+
(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy))},shapesInShape:function(a,b,d,c){return null},bodiesInShape:function(a,b,d,c){return null},rayCast:function(a,b,d){return null},rayMultiCast:function(a,b,d,c){return null},__class__:c.space.ZPP_Broadphase};c.space.ZPP_AABBNode=function(){this.synced=this.first_sync=!1;this.snext=null;this.moved=!1;this.next=this.mnext=null;this.height=this.rayt=0;this.parent=this.child1=this.child2=null;this.dyn=!1;this.aabb=this.shape=null;this.height=-1};n["zpp_nape.space.ZPP_AABBNode"]=
c.space.ZPP_AABBNode;c.space.ZPP_AABBNode.__name__=["zpp_nape","space","ZPP_AABBNode"];c.space.ZPP_AABBNode.prototype={alloc:function(){null==c.geom.ZPP_AABB.zpp_pool?this.aabb=new c.geom.ZPP_AABB:(this.aabb=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=this.aabb.next,this.aabb.next=null);null;this.first_sync=this.synced=this.moved=!1},free:function(){this.height=-1;var a=this.aabb;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a.wrap_min=a.wrap_max=null;a._invalidate=null;a._validate=null;
a.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=a;this.mnext=this.snext=this.next=this.child1=this.child2=this.parent=null},isLeaf:function(){return null==this.child1},__class__:c.space.ZPP_AABBNode};c.space.ZPP_AABBPair=function(){this.arb=this.next=null;this.id=this.di=0;this.first=this.sleeping=!1;this.n1=this.n2=null};n["zpp_nape.space.ZPP_AABBPair"]=c.space.ZPP_AABBPair;c.space.ZPP_AABBPair.__name__=["zpp_nape","space","ZPP_AABBPair"];c.space.ZPP_AABBPair.prototype={alloc:function(){},
free:function(){this.n1=this.n2=null;this.sleeping=!1},__class__:c.space.ZPP_AABBPair};c.space.ZPP_AABBTree=function(){this.root=null};n["zpp_nape.space.ZPP_AABBTree"]=c.space.ZPP_AABBTree;c.space.ZPP_AABBTree.__name__=["zpp_nape","space","ZPP_AABBTree"];c.space.ZPP_AABBTree.prototype={clear:function(){if(null!=this.root){var a;this.root.next=null;for(a=this.root;null!=a;){var b;b=a;a=b.next;b.next=null;null==b.child1?(b.shape.node=null,b.shape.removedFromSpace(),b.shape=null):(null!=b.child1&&(b.child1.next=
a,a=b.child1),null!=b.child2&&(b.child2.next=a,a=b.child2));b.free();b.next=c.space.ZPP_AABBNode.zpp_pool;c.space.ZPP_AABBNode.zpp_pool=b}this.root=null}},insertLeaf:function(a){this.inlined_insertLeaf(a)},inlined_insertLeaf:function(a){if(null==this.root)this.root=a,this.root.parent=null;else{for(var b=a.aabb,d=this.root;null!=d.child1;){var h=d.child1,e=d.child2,f=d.aabb.perimeter();c.space.ZPP_AABBTree.tmpaabb.setCombine(d.aabb,b);var g=c.space.ZPP_AABBTree.tmpaabb.perimeter(),k=2*g,f=2*(g-f);
c.space.ZPP_AABBTree.tmpaabb.setCombine(b,h.aabb);null==h.child1?g=c.space.ZPP_AABBTree.tmpaabb.perimeter()+f:(g=h.aabb.perimeter(),g=c.space.ZPP_AABBTree.tmpaabb.perimeter()-g+f);c.space.ZPP_AABBTree.tmpaabb.setCombine(b,e.aabb);if(null==e.child1)f=c.space.ZPP_AABBTree.tmpaabb.perimeter()+f;else var l=e.aabb.perimeter(),f=c.space.ZPP_AABBTree.tmpaabb.perimeter()-l+f;if(k<g&&k<f)break;else d=g<f?h:e}h=d.parent;null==c.space.ZPP_AABBNode.zpp_pool?e=new c.space.ZPP_AABBNode:(e=c.space.ZPP_AABBNode.zpp_pool,
c.space.ZPP_AABBNode.zpp_pool=e.next,e.next=null);null==c.geom.ZPP_AABB.zpp_pool?e.aabb=new c.geom.ZPP_AABB:(e.aabb=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=e.aabb.next,e.aabb.next=null);null;e.moved=!1;e.synced=!1;e.first_sync=!1;e.parent=h;e.aabb.setCombine(b,d.aabb);e.height=d.height+1;null!=h?(h.child1==d?h.child1=e:h.child2=e,e.child1=d,e.child2=a,d.parent=e,a.parent=e):(e.child1=d,e.child2=a,d.parent=e,this.root=a.parent=e);for(d=a.parent;null!=d;)d=this.balance(d),a=d.child1,b=d.child2,
h=d,e=a.height,k=b.height,e=e>k?e:k,h.height=1+e,d.aabb.setCombine(a.aabb,b.aabb),d=d.parent}},removeLeaf:function(a){this.inlined_removeLeaf(a)},inlined_removeLeaf:function(a){if(a==this.root)this.root=null;else{var b=a.parent,d=b.parent;a=b.child1==a?b.child2:b.child1;if(null!=d)for(d.child1==b?d.child1=a:d.child2=a,a.parent=d,b.free(),b.next=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=b,b=d;null!=b;){var b=this.balance(b),h=b.child1;a=b.child2;b.aabb.setCombine(h.aabb,a.aabb);var d=
b,e=void 0,h=h.height;a=a.height;e=h>a?h:a;d.height=1+e;b=b.parent}else this.root=a,a.parent=null,b.free(),b.next=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=b}},balance:function(a){if(null==a.child1||2>a.height)return a;var b=a.child1,d=a.child2,c=d.height-b.height;if(1<c){var e=d.child1,f=d.child2;d.child1=a;d.parent=a.parent;a.parent=d;null!=d.parent?d.parent.child1==a?d.parent.child1=d:d.parent.child2=d:this.root=d;e.height>f.height?(d.child2=e,a.child2=f,f.parent=a,a.aabb.setCombine(b.aabb,
f.aabb),d.aabb.setCombine(a.aabb,e.aabb),a.height=1+function(a){a=b.height;var d=f.height;return a>d?a:d}(this),d.height=1+function(b){b=a.height;var d=e.height;return b>d?b:d}(this)):(d.child2=f,a.child2=e,e.parent=a,a.aabb.setCombine(b.aabb,e.aabb),d.aabb.setCombine(a.aabb,f.aabb),a.height=1+function(a){a=b.height;var d=e.height;return a>d?a:d}(this),d.height=1+function(b){b=a.height;var d=f.height;return b>d?b:d}(this));return d}if(-1>c){var g=b.child1,k=b.child2;b.child1=a;b.parent=a.parent;a.parent=
b;null!=b.parent?b.parent.child1==a?b.parent.child1=b:b.parent.child2=b:this.root=b;g.height>k.height?(b.child2=g,a.child1=k,k.parent=a,a.aabb.setCombine(d.aabb,k.aabb),b.aabb.setCombine(a.aabb,g.aabb),a.height=1+function(a){a=d.height;var b=k.height;return a>b?a:b}(this),b.height=1+function(b){b=a.height;var d=g.height;return b>d?b:d}(this)):(b.child2=k,a.child1=g,g.parent=a,a.aabb.setCombine(d.aabb,g.aabb),b.aabb.setCombine(a.aabb,k.aabb),a.height=1+function(a){a=d.height;var b=g.height;return a>
b?a:b}(this),b.height=1+function(b){b=a.height;var d=k.height;return b>d?b:d}(this));return b}return a},__class__:c.space.ZPP_AABBTree};c.space.ZPP_DynAABBPhase=function(a){this.stree=this.dtree=this.pairs=this.syncs=this.moves=this.treeStack=this.treeStack2=this.failed=this.openlist=null;c.space.ZPP_Broadphase.call(this);this.space=a;this.is_sweep=!1;this.dynab=this;this.stree=new c.space.ZPP_AABBTree;this.dtree=new c.space.ZPP_AABBTree};n["zpp_nape.space.ZPP_DynAABBPhase"]=c.space.ZPP_DynAABBPhase;
c.space.ZPP_DynAABBPhase.__name__=["zpp_nape","space","ZPP_DynAABBPhase"];c.space.ZPP_DynAABBPhase.__super__=c.space.ZPP_Broadphase;c.space.ZPP_DynAABBPhase.prototype=K(c.space.ZPP_Broadphase.prototype,{dyn:function(a){return a.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?!1:!a.body.component.sleeping},__insert:function(a){var b;null==c.space.ZPP_AABBNode.zpp_pool?b=new c.space.ZPP_AABBNode:(b=c.space.ZPP_AABBNode.zpp_pool,c.space.ZPP_AABBNode.zpp_pool=b.next,b.next=null);null==c.geom.ZPP_AABB.zpp_pool?
b.aabb=new c.geom.ZPP_AABB:(b.aabb=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=b.aabb.next,b.aabb.next=null);null;b.moved=!1;b.synced=!1;b.first_sync=!1;b.shape=a;a.node=b;b.synced=!0;b.first_sync=!0;b.snext=this.syncs;this.syncs=b},__remove:function(a){var b=a.node;b.first_sync||(b.dyn?this.dtree.removeLeaf(b):this.stree.removeLeaf(b));a.node=null;if(b.synced){for(var d=null,h=this.syncs;null!=h&&h!=b;)d=h,h=h.snext;null==d?this.syncs=h.snext:d.snext=h.snext;h.snext=null;b.synced=!1}if(b.moved){d=
null;for(h=this.moves;null!=h&&h!=b;)d=h,h=h.mnext;null==d?this.moves=h.mnext:d.mnext=h.mnext;h.mnext=null;b.moved=!1}for(var d=null,e=this.pairs;null!=e;)h=e.next,e.n1==b||e.n2==b?(null==d?this.pairs=h:d.next=h,null!=e.arb&&(e.arb.pair=null),e.arb=null,e.n1.shape.pairs.remove(e),e.n2.shape.pairs.remove(e),e.n1=e.n2=null,e.sleeping=!1,e.next=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=e):d=e,e=h;for(;null!=a.pairs.head;)d=a.pairs.pop_unsafe(),d.n1==b?d.n2.shape.pairs.remove(d):d.n1.shape.pairs.remove(d),
null!=d.arb&&(d.arb.pair=null),d.arb=null,d.n1=d.n2=null,d.sleeping=!1,d.next=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=d;b.free();b.next=c.space.ZPP_AABBNode.zpp_pool;c.space.ZPP_AABBNode.zpp_pool=b},__sync:function(a){var b=a.node;b.synced||(!this.space.continuous&&a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():a.polygon.__validate_aabb()),b.dyn==(a.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?!1:!a.body.component.sleeping)&&
b.aabb.contains(a.aabb)||(b.synced=!0,b.snext=this.syncs,this.syncs=b))},sync_broadphase:function(){this.space.validation();if(null!=this.syncs)if(null==this.moves){for(var a=this.syncs;null!=a;){var b=a.shape;a.first_sync?a.first_sync=!1:(a.dyn?this.dtree:this.stree).inlined_removeLeaf(a);var d=a.aabb;!this.space.continuous&&b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?b.circle.__validate_aabb():b.polygon.__validate_aabb());d.setExpand(b.aabb,3);((b.body.type==
c.util.ZPP_Flags.id_BodyType_STATIC?a.dyn=!1:a.dyn=!b.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(a);a.synced=!1;a.moved=!0;a.mnext=a.snext;a.snext=null;a=a.mnext}a=this.syncs;this.syncs=this.moves;this.moves=a}else for(;null!=this.syncs;)a=this.syncs,this.syncs=a.snext,a.snext=null,b=a.shape,a.first_sync?a.first_sync=!1:(a.dyn?this.dtree:this.stree).inlined_removeLeaf(a),d=a.aabb,!this.space.continuous&&b.zip_aabb&&null!=b.body&&(b.zip_aabb=!1,b.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
b.circle.__validate_aabb():b.polygon.__validate_aabb()),d.setExpand(b.aabb,3),((b.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?a.dyn=!1:a.dyn=!b.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(a),a.synced=!1,a.moved||(a.moved=!0,a.mnext=this.moves,this.moves=a)},broadphase:function(a,b){for(var d=this.syncs;null!=d;){var h=d.shape;d.first_sync?d.first_sync=!1:(d.dyn?this.dtree:this.stree).inlined_removeLeaf(d);var e=d.aabb;!a.continuous&&h.zip_aabb&&null!=h.body&&(h.zip_aabb=
!1,h.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?h.circle.__validate_aabb():h.polygon.__validate_aabb());e.setExpand(h.aabb,3);((h.body.type==c.util.ZPP_Flags.id_BodyType_STATIC?d.dyn=!1:d.dyn=!h.body.component.sleeping)?this.dtree:this.stree).inlined_insertLeaf(d);d.synced=!1;d=d.snext}for(;null!=this.syncs;)if(d=this.syncs,this.syncs=d.snext,d.snext=null,!d.moved&&(d.moved=!1,h=d.shape,!h.body.component.sleeping)){var e=d.aabb,f=null;for(null!=this.dtree.root&&(this.dtree.root.next=f,f=this.dtree.root);null!=
f;){var g;g=f;f=g.next;g.next=null;if(g!=d)if(null==g.child1){var k=g.shape;if(k.body!=h.body&&(k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&e.intersect(g.aabb)){var l,n;h.id<k.id?(l=h.id,n=k.id):(l=k.id,n=h.id);for(var p=null,q=(h.pairs.length<k.pairs.length?h:k).pairs.head;null!=q;){var r=q.elt;if(r.id==l&&r.di==n){p=r;break}q=q.next}null!=p?p.sleeping&&(p.sleeping=!1,p.next=this.pairs,this.pairs=p,p.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?
p=new c.space.ZPP_AABBPair:(p=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=p.next,p.next=null),null,p.n1=d,p.n2=g,p.id=l,p.di=n,p.next=this.pairs,this.pairs=p,p.first=!0,h.pairs.inlined_add(p),k.pairs.inlined_add(p))}}else e.intersect(g.aabb)&&(null!=g.child1&&(g.child1.next=f,f=g.child1),null!=g.child2&&(g.child2.next=f,f=g.child2))}for(null!=this.stree.root&&(this.stree.root.next=f,f=this.stree.root);null!=f;)if(g=f,f=g.next,g.next=null,g!=d)if(null==g.child1){if(k=g.shape,k.body!=
h.body&&(k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&e.intersect(g.aabb)){h.id<k.id?(l=h.id,n=k.id):(l=k.id,n=h.id);p=null;for(q=(h.pairs.length<k.pairs.length?h:k).pairs.head;null!=q;){r=q.elt;if(r.id==l&&r.di==n){p=r;break}q=q.next}null!=p?p.sleeping&&(p.sleeping=!1,p.next=this.pairs,this.pairs=p,p.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?p=new c.space.ZPP_AABBPair:(p=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=p.next,
p.next=null),null,p.n1=d,p.n2=g,p.id=l,p.di=n,p.next=this.pairs,this.pairs=p,p.first=!0,h.pairs.inlined_add(p),k.pairs.inlined_add(p))}}else e.intersect(g.aabb)&&(null!=g.child1&&(g.child1.next=f,f=g.child1),null!=g.child2&&(g.child2.next=f,f=g.child2))}for(;null!=this.moves;)if(d=this.moves,this.moves=d.mnext,d.mnext=null,d.moved=!1,h=d.shape,!h.body.component.sleeping){e=d.aabb;f=null;for(null!=this.dtree.root&&(this.dtree.root.next=f,f=this.dtree.root);null!=f;)if(g=f,f=g.next,g.next=null,g!=d)if(null==
g.child1){if(k=g.shape,k.body!=h.body&&(k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&e.intersect(g.aabb)){h.id<k.id?(l=h.id,n=k.id):(l=k.id,n=h.id);p=null;for(q=(h.pairs.length<k.pairs.length?h:k).pairs.head;null!=q;){r=q.elt;if(r.id==l&&r.di==n){p=r;break}q=q.next}null!=p?p.sleeping&&(p.sleeping=!1,p.next=this.pairs,this.pairs=p,p.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?p=new c.space.ZPP_AABBPair:(p=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=
p.next,p.next=null),null,p.n1=d,p.n2=g,p.id=l,p.di=n,p.next=this.pairs,this.pairs=p,p.first=!0,h.pairs.inlined_add(p),k.pairs.inlined_add(p))}}else e.intersect(g.aabb)&&(null!=g.child1&&(g.child1.next=f,f=g.child1),null!=g.child2&&(g.child2.next=f,f=g.child2));for(null!=this.stree.root&&(this.stree.root.next=f,f=this.stree.root);null!=f;)if(g=f,f=g.next,g.next=null,g!=d)if(null==g.child1){if(k=g.shape,k.body!=h.body&&(k.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC||h.body.type!=c.util.ZPP_Flags.id_BodyType_STATIC)&&
e.intersect(g.aabb)){h.id<k.id?(l=h.id,n=k.id):(l=k.id,n=h.id);p=null;for(q=(h.pairs.length<k.pairs.length?h:k).pairs.head;null!=q;){r=q.elt;if(r.id==l&&r.di==n){p=r;break}q=q.next}null!=p?p.sleeping&&(p.sleeping=!1,p.next=this.pairs,this.pairs=p,p.first=!0):(null==c.space.ZPP_AABBPair.zpp_pool?p=new c.space.ZPP_AABBPair:(p=c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=p.next,p.next=null),null,p.n1=d,p.n2=g,p.id=l,p.di=n,p.next=this.pairs,this.pairs=p,p.first=!0,h.pairs.inlined_add(p),
k.pairs.inlined_add(p))}}else e.intersect(g.aabb)&&(null!=g.child1&&(g.child1.next=f,f=g.child1),null!=g.child2&&(g.child2.next=f,f=g.child2))}d=null;for(h=this.pairs;null!=h;)h.first||h.n1.aabb.intersect(h.n2.aabb)?(e=h.n1.shape,f=e.body,g=h.n2.shape,k=g.body,h.first||!f.component.sleeping&&f.type!=c.util.ZPP_Flags.id_BodyType_STATIC||!k.component.sleeping&&k.type!=c.util.ZPP_Flags.id_BodyType_STATIC?(h.first=!1,e.aabb.intersect(g.aabb)&&(d=h.arb,h.arb=b?a.narrowPhase(e,g,f.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||
k.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,h.arb,!1):a.continuousEvent(e,g,f.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||k.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,h.arb,!1),null==h.arb?null!=d&&(d.pair=null):h.arb.pair=h),d=h):(h.sleeping=!0,null==d?this.pairs=h.next:d.next=h.next),h=h.next):(null==d?this.pairs=h.next:d.next=h.next,h.n1.shape.pairs.inlined_try_remove(h),h.n2.shape.pairs.inlined_try_remove(h),e=h.next,null!=h.arb&&(h.arb.pair=null),h.arb=null,h.n1=h.n2=null,h.sleeping=!1,h.next=
c.space.ZPP_AABBPair.zpp_pool,c.space.ZPP_AABBPair.zpp_pool=h,h=e)},clear:function(){for(;null!=this.syncs;){var a=this.syncs.snext;this.syncs.snext=null;this.syncs.first_sync&&(this.syncs.shape.node=null,this.syncs.shape.removedFromSpace(),this.syncs.shape=null);this.syncs=a}for(;null!=this.moves;)a=this.moves.mnext,this.moves.mnext=null,this.moves.first_sync&&(this.moves.shape.node=null,this.moves.shape.removedFromSpace(),this.moves.shape=null),this.moves=a;for(;null!=this.pairs;){a=this.pairs.next;
null!=this.pairs.arb&&(this.pairs.arb.pair=null);this.pairs.arb=null;this.pairs.n1.shape.pairs.inlined_try_remove(this.pairs);this.pairs.n2.shape.pairs.inlined_try_remove(this.pairs);var b=this.pairs;b.n1=b.n2=null;b.sleeping=!1;b.next=c.space.ZPP_AABBPair.zpp_pool;c.space.ZPP_AABBPair.zpp_pool=b;this.pairs=a}this.dtree.clear();this.stree.clear()},shapesUnderPoint:function(a,b,d,h){this.sync_broadphase();a=c.geom.ZPP_Vec2.get(a,b,null);h=null==h?new g.shape.ShapeList:h;if(null!=this.stree.root)for(null==
this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){if(null==d||b.shape.filter.shouldCollide(d))b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&h.push(b.shape.outer):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&h.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=
b.child2&&this.treeStack.add(b.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){if(null==d||b.shape.filter.shouldCollide(d))b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&h.push(b.shape.outer):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&h.push(b.shape.outer)}else null!=
b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;return h},bodiesUnderPoint:function(a,b,d,h){this.sync_broadphase();a=c.geom.ZPP_Vec2.get(a,b,null);h=null==h?new g.phys.BodyList:h;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=
this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a))if(null==b.child1){var e=b.shape.body.outer;h.has(e)||null!=d&&!b.shape.filter.shouldCollide(d)||(b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&h.push(e):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&h.push(e))}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=
new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)b=this.treeStack.pop_unsafe(),b.aabb.containsPoint(a)&&(null==b.child1?(e=b.shape.body.outer,h.has(e)||null!=d&&!b.shape.filter.shouldCollide(d)||(b.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(b.shape.circle,a)&&h.push(e):c.geom.ZPP_Collide.polyContains(b.shape.polygon,a)&&h.push(e))):(null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2)));
null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=a;return h},shapesInAABB:function(a,b,d,h,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new g.shape.ShapeList:e;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var f=this.treeStack.pop_unsafe();
if(a.contains(f.aabb))if(null==f.child1)(null==h||f.shape.filter.shouldCollide(h))&&e.push(f.shape.outer);else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(f);null!=this.treeStack2.head;)f=this.treeStack2.pop_unsafe(),null==f.child1?(null==h||f.shape.filter.shouldCollide(h))&&e.push(f.shape.outer):(null!=f.child1&&this.treeStack2.add(f.child1),null!=f.child2&&this.treeStack2.add(f.child2));else if(f.aabb.intersect(a))if(null==f.child1){if(null==
h||f.shape.filter.shouldCollide(h))b?d?c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,f.shape)&&e.push(f.shape.outer):a.contains(f.shape.aabb)?e.push(f.shape.outer):c.geom.ZPP_Collide.testCollide_safe(f.shape,this.aabbShape.zpp_inner)&&e.push(f.shape.outer):d&&!a.contains(f.shape.aabb)||e.push(f.shape.outer)}else null!=f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),
this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(f=this.treeStack.pop_unsafe(),a.contains(f.aabb))if(null==f.child1)(null==h||f.shape.filter.shouldCollide(h))&&e.push(f.shape.outer);else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(f);null!=this.treeStack2.head;)f=this.treeStack2.pop_unsafe(),null==f.child1?(null==h||f.shape.filter.shouldCollide(h))&&e.push(f.shape.outer):(null!=f.child1&&this.treeStack2.add(f.child1),null!=f.child2&&
this.treeStack2.add(f.child2));else if(f.aabb.intersect(a))if(null==f.child1){if(null==h||f.shape.filter.shouldCollide(h))b?d?c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,f.shape)&&e.push(f.shape.outer):a.contains(f.shape.aabb)?e.push(f.shape.outer):c.geom.ZPP_Collide.testCollide_safe(f.shape,this.aabbShape.zpp_inner)&&e.push(f.shape.outer):d&&!a.contains(f.shape.aabb)||e.push(f.shape.outer)}else null!=f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2);
return e},bodiesInAABB:function(a,b,d,h,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new g.phys.BodyList:e;null==this.failed&&(this.failed=new g.phys.BodyList);if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var f=this.treeStack.pop_unsafe();if(a.contains(f.aabb))if(null==f.child1){if(null==h||f.shape.filter.shouldCollide(h)){var m=f.shape.body.outer;
e.has(m)||e.push(m)}}else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(f);null!=this.treeStack2.head;)if(m=this.treeStack2.pop_unsafe(),null==m.child1){if(null==h||m.shape.filter.shouldCollide(h))m=m.shape.body.outer,e.has(m)||e.push(m)}else null!=m.child1&&this.treeStack2.add(m.child1),null!=m.child2&&this.treeStack2.add(m.child2);else if(f.aabb.intersect(a))if(null==f.child1){if(m=f.shape.body.outer,null==h||f.shape.filter.shouldCollide(h))b?d?
this.failed.has(m)||(f=c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,f.shape),!e.has(m)&&f?e.push(m):f||(e.remove(m),this.failed.push(m))):!e.has(m)&&c.geom.ZPP_Collide.testCollide_safe(f.shape,this.aabbShape.zpp_inner)&&e.push(m):d?this.failed.has(m)||(f=a.contains(f.shape.aabb),!e.has(m)&&f?e.push(m):f||(e.remove(m),this.failed.push(m))):!e.has(m)&&a.contains(f.shape.aabb)&&e.push(m)}else null!=f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2)}if(null!=
this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(f=this.treeStack.pop_unsafe(),a.contains(f.aabb))if(null==f.child1){if(null==h||f.shape.filter.shouldCollide(h))m=f.shape.body.outer,e.has(m)||e.push(m)}else for(null==this.treeStack2&&(this.treeStack2=new c.util.ZNPList_ZPP_AABBNode),this.treeStack2.add(f);null!=this.treeStack2.head;)if(m=this.treeStack2.pop_unsafe(),null==m.child1){if(null==
h||m.shape.filter.shouldCollide(h))m=m.shape.body.outer,e.has(m)||e.push(m)}else null!=m.child1&&this.treeStack2.add(m.child1),null!=m.child2&&this.treeStack2.add(m.child2);else if(f.aabb.intersect(a))if(null==f.child1){if(m=f.shape.body.outer,null==h||f.shape.filter.shouldCollide(h))b?d?this.failed.has(m)||(f=c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,f.shape),!e.has(m)&&f?e.push(m):f||(e.remove(m),this.failed.push(m))):!e.has(m)&&c.geom.ZPP_Collide.testCollide_safe(f.shape,this.aabbShape.zpp_inner)&&
e.push(m):d?this.failed.has(m)||(f=a.contains(f.shape.aabb),!e.has(m)&&f?e.push(m):f||(e.remove(m),this.failed.push(m))):!e.has(m)&&a.contains(f.shape.aabb)&&e.push(m)}else null!=f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2);this.failed.clear();return e},shapesInCircle:function(a,b,d,h,e,f){this.sync_broadphase();this.updateCircShape(a,b,d);a=this.circShape.zpp_inner.aabb;f=null==f?new g.shape.ShapeList:f;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=
new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.intersect(a))if(null==b.child1){if(null==e||b.shape.filter.shouldCollide(e))h?c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,b.shape)&&f.push(b.shape.outer):c.geom.ZPP_Collide.testCollide_safe(b.shape,this.circShape.zpp_inner)&&f.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);if(null!=this.dtree.root)for(null==
this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(b=this.treeStack.pop_unsafe(),b.aabb.intersect(a))if(null==b.child1){if(null==e||b.shape.filter.shouldCollide(e))h?c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,b.shape)&&f.push(b.shape.outer):c.geom.ZPP_Collide.testCollide_safe(b.shape,this.circShape.zpp_inner)&&f.push(b.shape.outer)}else null!=b.child1&&this.treeStack.add(b.child1),null!=b.child2&&this.treeStack.add(b.child2);
return f},bodiesInCircle:function(a,b,d,h,e,f){this.sync_broadphase();this.updateCircShape(a,b,d);a=this.circShape.zpp_inner.aabb;f=null==f?new g.phys.BodyList:f;null==this.failed&&(this.failed=new g.phys.BodyList);if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;)if(d=this.treeStack.pop_unsafe(),d.aabb.intersect(a))if(null==d.child1){if(b=d.shape.body.outer,null==e||d.shape.filter.shouldCollide(e))h?
this.failed.has(b)||(d=c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,d.shape),!f.has(b)&&d?f.push(b):d||(f.remove(b),this.failed.push(b))):!f.has(b)&&c.geom.ZPP_Collide.testCollide_safe(d.shape,this.circShape.zpp_inner)&&f.push(b)}else null!=d.child1&&this.treeStack.add(d.child1),null!=d.child2&&this.treeStack.add(d.child2);if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(d=
this.treeStack.pop_unsafe(),d.aabb.intersect(a))if(null==d.child1){if(b=d.shape.body.outer,null==e||d.shape.filter.shouldCollide(e))h?this.failed.has(b)||(d=c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,d.shape),!f.has(b)&&d?f.push(b):d||(f.remove(b),this.failed.push(b))):!f.has(b)&&c.geom.ZPP_Collide.testCollide_safe(d.shape,this.circShape.zpp_inner)&&f.push(b)}else null!=d.child1&&this.treeStack.add(d.child1),null!=d.child2&&this.treeStack.add(d.child2);this.failed.clear();return f},shapesInShape:function(a,
b,d,h){this.sync_broadphase();this.validateShape(a);var e=a.aabb;h=null==h?new g.shape.ShapeList:h;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var f=this.treeStack.pop_unsafe();if(f.aabb.intersect(e))if(null==f.child1){if(null==d||f.shape.filter.shouldCollide(d))b?c.geom.ZPP_Collide.containTest(a,f.shape)&&h.push(f.shape.outer):c.geom.ZPP_Collide.testCollide_safe(f.shape,a)&&h.push(f.shape.outer)}else null!=
f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(f=this.treeStack.pop_unsafe(),f.aabb.intersect(e))if(null==f.child1){if(null==d||f.shape.filter.shouldCollide(d))b?c.geom.ZPP_Collide.containTest(a,f.shape)&&h.push(f.shape.outer):c.geom.ZPP_Collide.testCollide_safe(f.shape,a)&&h.push(f.shape.outer)}else null!=
f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2);return h},bodiesInShape:function(a,b,d,h){this.sync_broadphase();this.validateShape(a);var e=a.aabb;h=null==h?new g.phys.BodyList:h;null==this.failed&&(this.failed=new g.phys.BodyList);if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var f=this.treeStack.pop_unsafe();if(f.aabb.intersect(e))if(null==f.child1){var m=
f.shape.body.outer;if(null==d||f.shape.filter.shouldCollide(d))b?this.failed.has(m)||(f=c.geom.ZPP_Collide.containTest(a,f.shape),!h.has(m)&&f?h.push(m):f||(h.remove(m),this.failed.push(m))):!h.has(m)&&c.geom.ZPP_Collide.testCollide_safe(f.shape,a)&&h.push(m)}else null!=f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2)}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new c.util.ZNPList_ZPP_AABBNode),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;)if(f=
this.treeStack.pop_unsafe(),f.aabb.intersect(e))if(null==f.child1){if(m=f.shape.body.outer,null==d||f.shape.filter.shouldCollide(d))b?this.failed.has(m)||(f=c.geom.ZPP_Collide.containTest(a,f.shape),!h.has(m)&&f?h.push(m):f||(h.remove(m),this.failed.push(m))):!h.has(m)&&c.geom.ZPP_Collide.testCollide_safe(f.shape,a)&&h.push(m)}else null!=f.child1&&this.treeStack.add(f.child1),null!=f.child2&&this.treeStack.add(f.child2);this.failed.clear();return h},rayCast:function(a,b,d){null==this.openlist&&(this.openlist=
new c.util.ZNPList_ZPP_AABBNode);this.sync_broadphase();a.validate_dir();var h=a.maxdist;if(null!=this.dtree.root&&a.aabbtest(this.dtree.root.aabb)){var e=a.aabbsect(this.dtree.root.aabb);if(0<=e&&e<h){this.dtree.root.rayt=e;for(var e=null,f=this.openlist.head;null!=f&&!(this.dtree.root.rayt<f.elt.rayt);)e=f,f=f.next;this.openlist.inlined_insert(e,this.dtree.root)}}if(null!=this.stree.root&&a.aabbtest(this.stree.root.aabb)&&(e=a.aabbsect(this.stree.root.aabb),0<=e&&e<h)){this.stree.root.rayt=e;e=
null;for(f=this.openlist.head;null!=f&&!(this.stree.root.rayt<f.elt.rayt);)e=f,f=f.next;this.openlist.inlined_insert(e,this.stree.root)}for(e=null;null!=this.openlist.head;){f=this.openlist.pop_unsafe();if(f.rayt>=h)break;if(null==f.child1){if(f=f.shape,null==d||f.filter.shouldCollide(d))if(f=f.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(f.circle,b,h):a.aabbtest(f.aabb)?a.polysect(f.polygon,b,h):null,null!=f){if(null!=f.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
h=f.zpp_inner.toiDistance;if(null!=e){if(null!=e.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e.zpp_inner.free()}e=f}}else{if(null!=f.child1&&a.aabbtest(f.child1.aabb)){var g=a.aabbsect(f.child1.aabb);if(0<=g&&g<h){f.child1.rayt=g;for(var g=null,k=this.openlist.head;null!=k&&!(f.child1.rayt<k.elt.rayt);)g=k,k=k.next;this.openlist.inlined_insert(g,f.child1)}}if(null!=f.child2&&a.aabbtest(f.child2.aabb)&&(g=a.aabbsect(f.child2.aabb),0<=g&&g<h)){f.child2.rayt=g;g=
null;for(k=this.openlist.head;null!=k&&!(f.child2.rayt<k.elt.rayt);)g=k,k=k.next;this.openlist.inlined_insert(g,f.child2)}}}this.openlist.clear();return e},rayMultiCast:function(a,b,d,h){null==this.openlist&&(this.openlist=new c.util.ZNPList_ZPP_AABBNode);this.sync_broadphase();a.validate_dir();var e=a.maxdist>=Math.POSITIVE_INFINITY;h=null==h?new g.geom.RayResultList:h;if(null!=this.dtree.root&&a.aabbtest(this.dtree.root.aabb))if(e)this.openlist.add(this.dtree.root);else{var f=a.aabbsect(this.dtree.root.aabb);
0<=f&&f<a.maxdist&&this.openlist.add(this.dtree.root)}for(null!=this.stree.root&&a.aabbtest(this.stree.root.aabb)&&(e?this.openlist.add(this.stree.root):(f=a.aabbsect(this.stree.root.aabb),0<=f&&f<a.maxdist&&this.openlist.add(this.stree.root)));null!=this.openlist.head;)if(f=this.openlist.pop_unsafe(),null==f.child1){if(f=f.shape,null==d||f.filter.shouldCollide(d))f.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(f.circle,b,h):a.aabbtest(f.aabb)&&a.polysect2(f.polygon,b,h)}else{if(null!=
f.child1&&a.aabbtest(f.child1.aabb))if(e)this.openlist.add(f.child1);else{var m=a.aabbsect(f.child1.aabb);0<=m&&m<a.maxdist&&this.openlist.add(f.child1)}null!=f.child2&&a.aabbtest(f.child2.aabb)&&(e?this.openlist.add(f.child2):(m=a.aabbsect(f.child2.aabb),0<=m&&m<a.maxdist&&this.openlist.add(f.child2)))}this.openlist.clear();return h},__class__:c.space.ZPP_DynAABBPhase});c.space.ZPP_Island=function(){this.waket=0;this.sleep=!1;this.comps=null;this.length=0;this._inuse=this.modified=this.pushmod=!1;
this.next=null;this.comps=new c.util.ZNPList_ZPP_Component};n["zpp_nape.space.ZPP_Island"]=c.space.ZPP_Island;c.space.ZPP_Island.__name__=["zpp_nape","space","ZPP_Island"];c.space.ZPP_Island.prototype={elem:function(){return this},begin:function(){return this.next},setbegin:function(a){this.next=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=
a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=
d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a:null},free:function(){},alloc:function(){this.waket=0},__class__:c.space.ZPP_Island};c.space.ZPP_Component=function(){this.woken=!1;this.waket=0;this.sleeping=
!1;this.body=this.constraint=this.island=null;this.isBody=!1;this.rank=0;this.next=this.parent=null;this.sleeping=!1;this.island=null;this.parent=this;this.rank=0;this.woken=!1};n["zpp_nape.space.ZPP_Component"]=c.space.ZPP_Component;c.space.ZPP_Component.__name__=["zpp_nape","space","ZPP_Component"];c.space.ZPP_Component.prototype={free:function(){this.constraint=this.body=null},alloc:function(){},reset:function(){this.sleeping=!1;this.island=null;this.parent=this;this.rank=0},__class__:c.space.ZPP_Component};
c.space.ZPP_CallbackSet=function(){this.freed=this.lazydel=!1;this.length=0;this._inuse=this.modified=this.pushmod=!1;this.int1=this.int2=this.next=null;this.id=this.di=0;this.arbiters=new c.util.ZNPList_ZPP_Arbiter};n["zpp_nape.space.ZPP_CallbackSet"]=c.space.ZPP_CallbackSet;c.space.ZPP_CallbackSet.__name__=["zpp_nape","space","ZPP_CallbackSet"];c.space.ZPP_CallbackSet.get=function(a,b){var d;null==c.space.ZPP_CallbackSet.zpp_pool?d=new c.space.ZPP_CallbackSet:(d=c.space.ZPP_CallbackSet.zpp_pool,
c.space.ZPP_CallbackSet.zpp_pool=d.next,d.next=null);d.freed=!1;d.lazydel=!1;d.COLLISIONstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;d.COLLISIONstamp=0;d.SENSORstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;d.SENSORstamp=0;d.FLUIDstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;d.FLUIDstamp=0;a.id<b.id?(d.int1=a,d.int2=b):(d.int1=b,d.int2=a);d.id=d.int1.id;d.di=d.int2.id;return d};c.space.ZPP_CallbackSet.prototype={elem:function(){return this},begin:function(){return this.next},setbegin:function(a){this.next=a;this.pushmod=
this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){a._inuse=!0;a.next=this.next;this.next=a;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.next;null!=a;)this.add(a),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){b._inuse=!0;null==a?(b.next=this.next,this.next=b):(b.next=a.next,a.next=b);this.pushmod=this.modified=!0;this.length++;return b},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=
this.next;this.next=a.next;a._inuse=!1;null==this.next&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.next;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.next,c=!1;null!=d;){if(d==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=
this.next,c=!1;null!=d;){if(d==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.next,this.next=d=b.next,null==this.next&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));b._inuse=!1;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){},inlined_clear:function(){},reverse:function(){for(var a=
this.next,b=null;null!=a;){var d=a.next;a.next=b;b=this.next=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.next},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.next;null!=d;){if(d==a){b=!0;break}d=d.next}return b},front:function(){return this.next},back:function(){for(var a=this.next,b=a;null!=b;)a=b,b=b.next;return a},iterator_at:function(a){for(var b=this.next;0<a--&&null!=b;)b=b.next;return b},
at:function(a){a=this.iterator_at(a);return null!=a?a:null},free:function(){this.int1=this.int2=null;this.id=this.di=-1;this.freed=!0},alloc:function(){this.lazydel=this.freed=!1;this.COLLISIONstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;this.COLLISIONstamp=0;this.SENSORstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;this.SENSORstamp=0;this.FLUIDstate=c.util.ZPP_Flags.id_PreFlag_ACCEPT;this.FLUIDstamp=0},add_arb:function(a){if(this.arbiters.inlined_has(a))return!1;this.arbiters.inlined_add(a);return!0},try_remove_arb:function(a){return this.arbiters.inlined_try_remove(a)},
remove_arb:function(a){this.arbiters.inlined_try_remove(a)},empty_arb:function(a){var b;b=!0;for(var d=this.arbiters.head;null!=d;)if(0==(d.elt.type&a))d=d.next;else{b=!1;break}return b},really_empty:function(){return null==this.arbiters.head},sleeping:function(){var a;a=!0;for(var b=this.arbiters.head;null!=b;)if(b.elt.sleeping)b=b.next;else{a=!1;break}return a},__class__:c.space.ZPP_CallbackSet};c.space.ZPP_CbSetManager=function(a){this.cbsets=this.space=null;null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?
this.cbsets=new c.util.ZPP_Set_ZPP_CbSet:(this.cbsets=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=this.cbsets.next,this.cbsets.next=null);null;this.cbsets.lt=c.callbacks.ZPP_CbSet.setlt;this.space=a};n["zpp_nape.space.ZPP_CbSetManager"]=c.space.ZPP_CbSetManager;c.space.ZPP_CbSetManager.__name__=["zpp_nape","space","ZPP_CbSetManager"];c.space.ZPP_CbSetManager.prototype={get:function(a){if(null==a.head)return null;var b;null==c.callbacks.ZPP_CbSet.zpp_pool?b=new c.callbacks.ZPP_CbSet:
(b=c.callbacks.ZPP_CbSet.zpp_pool,c.callbacks.ZPP_CbSet.zpp_pool=b.next,b.next=null);null;var d=b.cbTypes;b.cbTypes=a;var h=this.cbsets.find_weak(b);null!=h?a=h.data:(a=c.callbacks.ZPP_CbSet.get(a),this.cbsets.insert(a),a.manager=this);b.cbTypes=d;b.free();b.next=c.callbacks.ZPP_CbSet.zpp_pool;c.callbacks.ZPP_CbSet.zpp_pool=b;return a},remove:function(a){for(this.cbsets.remove(a);null!=a.cbpairs.head;){var b=a.cbpairs.pop_unsafe();b.a!=b.b&&(a==b.a?b.b.cbpairs.remove(b):b.a.cbpairs.remove(b));b.a=
b.b=null;b.listeners.clear();b.next=c.callbacks.ZPP_CbSetPair.zpp_pool;c.callbacks.ZPP_CbSetPair.zpp_pool=b}a.manager=null},clear:function(){},validate:function(){if(!this.cbsets.empty()){for(var a=this.cbsets.parent;null!=a.prev;)a=a.prev;for(;null!=a;)if(a.data.validate(),null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}},pair:function(a,b){for(var d=null,h=(a.cbpairs.length<b.cbpairs.length?a.cbpairs:b.cbpairs).head;null!=h;){var e=
h.elt;if(e.a==a&&e.b==b||e.a==b&&e.b==a){d=e;break}h=h.next}null==d&&(d=c.callbacks.ZPP_CbSetPair.get(a,b),a.cbpairs.add(d),b!=a&&b.cbpairs.add(d));d.zip_listeners&&(d.zip_listeners=!1,d.__validate());return d},valid_listener:function(a){return a.space==this.space},__class__:c.space.ZPP_CbSetManager};c.space.ZPP_Space=function(a,b){this.precb=this.prelisteners=null;this.continuous=!1;this.toiEvents=null;this.pre_dt=0;this.c_arbiters_true=this.c_arbiters_false=this.f_arbiters=this.s_arbiters=this.wrap_arbiters=
this.live=this.wrap_live=this.live_constraints=this.wrap_livecon=this.staticsleep=this.islands=this.listeners=this.wrap_listeners=this.callbacks=this.callbackset_list=this.cbsets=this.convexShapeList=null;this.sortcontacts=!1;this.time=0;this.midstep=!1;this.global_lin_drag=this.global_ang_drag=this.stamp=0;this.wrap_gravity=this.bodies=this.wrap_bodies=this.compounds=this.wrap_compounds=this.constraints=this.wrap_constraints=this.kinematics=this.bphase=this.__static=null;this.gravityx=this.gravityy=
0;this.outer=this.userData=null;this.toiEvents=new c.util.ZNPList_ZPP_ToiEvent;this.global_ang_drag=this.global_lin_drag=0.015;c.callbacks.ZPP_Callback.internal=!0;this.precb=new g.callbacks.PreCallback;this.precb.zpp_inner=new c.callbacks.ZPP_Callback;c.callbacks.ZPP_Callback.internal=!1;this.sortcontacts=!0;this.pre_dt=0;var d;(d=null==b)||(null==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE=new g.space.Broadphase,c.util.ZPP_Flags.internal=
!1),d=b==c.util.ZPP_Flags.Broadphase_DYNAMIC_AABB_TREE);d?this.bphase=new c.space.ZPP_DynAABBPhase(this):(null==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE=new g.space.Broadphase,c.util.ZPP_Flags.internal=!1),b==c.util.ZPP_Flags.Broadphase_SWEEP_AND_PRUNE&&(this.bphase=new c.space.ZPP_SweepPhase(this)));this.time=0;null!=a?(this.gravityx=a.x,this.gravityy=a.y):this.gravityy=this.gravityx=0;this.bodies=new c.util.ZNPList_ZPP_Body;
this.wrap_bodies=c.util.ZPP_BodyList.get(this.bodies);this.wrap_bodies.zpp_inner.adder=B(this,this.bodies_adder);this.wrap_bodies.zpp_inner.subber=B(this,this.bodies_subber);this.wrap_bodies.zpp_inner._modifiable=B(this,this.bodies_modifiable);this.compounds=new c.util.ZNPList_ZPP_Compound;this.wrap_compounds=c.util.ZPP_CompoundList.get(this.compounds);this.wrap_compounds.zpp_inner.adder=B(this,this.compounds_adder);this.wrap_compounds.zpp_inner.subber=B(this,this.compounds_subber);this.wrap_compounds.zpp_inner._modifiable=
B(this,this.compounds_modifiable);this.kinematics=new c.util.ZNPList_ZPP_Body;this.c_arbiters_true=new c.util.ZNPList_ZPP_ColArbiter;this.c_arbiters_false=new c.util.ZNPList_ZPP_ColArbiter;this.f_arbiters=new c.util.ZNPList_ZPP_FluidArbiter;this.s_arbiters=new c.util.ZNPList_ZPP_SensorArbiter;this.islands=new c.space.ZPP_Island;this.live=new c.util.ZNPList_ZPP_Body;this.wrap_live=c.util.ZPP_BodyList.get(this.live,!0);this.staticsleep=new c.util.ZNPList_ZPP_Body;this.constraints=new c.util.ZNPList_ZPP_Constraint;
this.wrap_constraints=c.util.ZPP_ConstraintList.get(this.constraints);this.wrap_constraints.zpp_inner.adder=B(this,this.constraints_adder);this.wrap_constraints.zpp_inner.subber=B(this,this.constraints_subber);this.wrap_constraints.zpp_inner._modifiable=B(this,this.constraints_modifiable);this.live_constraints=new c.util.ZNPList_ZPP_Constraint;this.wrap_livecon=c.util.ZPP_ConstraintList.get(this.live_constraints,!0);this.__static=c.phys.ZPP_Body.__static();this.__static.zpp_inner.space=this;this.callbacks=
new c.callbacks.ZPP_Callback;this.midstep=!1;this.listeners=new c.util.ZNPList_ZPP_Listener;this.wrap_listeners=c.util.ZPP_ListenerList.get(this.listeners);this.wrap_listeners.zpp_inner.adder=B(this,this.listeners_adder);this.wrap_listeners.zpp_inner.subber=B(this,this.listeners_subber);this.wrap_listeners.zpp_inner._modifiable=B(this,this.listeners_modifiable);this.callbackset_list=new c.space.ZPP_CallbackSet;this.mrca1=new c.util.ZNPList_ZPP_Interactor;this.mrca2=new c.util.ZNPList_ZPP_Interactor;
this.prelisteners=new c.util.ZNPList_ZPP_InteractionListener;this.cbsets=new c.space.ZPP_CbSetManager(this)};n["zpp_nape.space.ZPP_Space"]=c.space.ZPP_Space;c.space.ZPP_Space.__name__=["zpp_nape","space","ZPP_Space"];c.space.ZPP_Space.prototype={getgravity:function(){this.wrap_gravity=g.geom.Vec2.get(this.gravityx,this.gravityy,null);this.wrap_gravity.zpp_inner._inuse=!0;this.wrap_gravity.zpp_inner._invalidate=B(this,this.gravity_invalidate);this.wrap_gravity.zpp_inner._validate=B(this,this.gravity_validate)},
gravity_invalidate:function(a){if(this.midstep)throw"Error: Space::gravity cannot be set during space step";this.gravityx=a.x;this.gravityy=a.y;a=new c.util.ZNPList_ZPP_Compound;for(var b=this.bodies.head;null!=b;){var d=b.elt;d.world||(d.component.waket=this.stamp+(this.midstep?0:1),d.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(d.kinematicDelaySleep=!0),d.component.sleeping&&this.really_wake(d,!1));b=b.next}for(b=this.compounds.head;null!=b;)a.add(b.elt),b=b.next;for(;null!=a.head;){b=a.pop_unsafe();
for(d=b.bodies.head;null!=d;){var h=d.elt;h.world||(h.component.waket=this.stamp+(this.midstep?0:1),h.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(h.kinematicDelaySleep=!0),h.component.sleeping&&this.really_wake(h,!1));d=d.next}for(b=b.compounds.head;null!=b;)a.add(b.elt),b=b.next}},gravity_validate:function(){this.wrap_gravity.zpp_inner.x=this.gravityx;this.wrap_gravity.zpp_inner.y=this.gravityy},clear:function(){for(;null!=this.listeners.head;){var a=this.listeners.pop_unsafe();this.remListener(a)}for(;null!=
this.callbackset_list.next;)a=this.callbackset_list.pop_unsafe(),a.arbiters.clear(),a.int1=a.int2=null,a.id=a.di=-1,a.freed=!0,null,a.next=c.space.ZPP_CallbackSet.zpp_pool,c.space.ZPP_CallbackSet.zpp_pool=a;for(;null!=this.c_arbiters_true.head;)this.c_arbiters_true.pop_unsafe().retire();for(;null!=this.c_arbiters_false.head;)this.c_arbiters_false.pop_unsafe().retire();for(;null!=this.s_arbiters.head;)this.s_arbiters.pop_unsafe().retire();for(;null!=this.f_arbiters.head;)this.f_arbiters.pop_unsafe().retire();
for(this.bphase.clear();null!=this.bodies.head;){a=this.bodies.pop_unsafe();if(null!=a.component){var b=a.component.island;if(null!=b){for(;null!=b.comps.head;){var d=b.comps.pop_unsafe();d.sleeping=!1;d.island=null;d.parent=d;d.rank=0}b.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=b}}a.removedFromSpace();a.space=null}for(;null!=this.constraints.head;){a=this.constraints.pop_unsafe();if(null!=a.component&&(b=a.component.island,null!=b)){for(;null!=b.comps.head;)d=b.comps.pop_unsafe(),
d.sleeping=!1,d.island=null,d.parent=d,d.rank=0;b.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=b}a.removedFromSpace();a.space=null}this.kinematics.clear();for(a=new c.util.ZNPList_ZPP_Compound;null!=this.compounds.head;)b=this.compounds.pop_unsafe(),a.add(b);for(;null!=a.head;){b=a.pop_unsafe();b.removedFromSpace();b.space=null;for(d=b.bodies.head;null!=d;){var h=d.elt;if(null!=h.component){var e=h.component.island;if(null!=e){for(;null!=e.comps.head;){var f=e.comps.pop_unsafe();f.sleeping=
!1;f.island=null;f.parent=f;f.rank=0}e.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=e}}h.removedFromSpace();h.space=null;d=d.next}for(d=b.constraints.head;null!=d;){h=d.elt;if(null!=h.component&&(e=h.component.island,null!=e)){for(;null!=e.comps.head;)f=e.comps.pop_unsafe(),f.sleeping=!1,f.island=null,f.parent=f,f.rank=0;e.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=e}h.removedFromSpace();h.space=null;d=d.next}for(b=b.compounds.head;null!=b;)a.add(b.elt),b=b.next}this.staticsleep.clear();
this.live.clear();this.live_constraints.clear();this.time=this.stamp=0;this.mrca1.clear();this.mrca2.clear();this.prelisteners.clear();this.cbsets.clear()},bodies_adder:function(a){if(null!=a.zpp_inner.compound)throw"Error: Cannot set the space of a Body belonging to a Compound, only the root Compound space can be set";return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_bodies.remove(a),this.addBody(a.zpp_inner),!0):!1},bodies_subber:function(a){this.remBody(a.zpp_inner)},
bodies_modifiable:function(){if(this.midstep)throw"Error: Space::bodies cannot be set during space step()";},compounds_adder:function(a){if(null!=a.zpp_inner.compound)throw"Error: Cannot set the space of an inner Compound, only the root Compound space can be set";return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.wrap_compounds.remove(a),this.addCompound(a.zpp_inner),!0):!1},compounds_subber:function(a){this.remCompound(a.zpp_inner)},compounds_modifiable:function(){if(this.midstep)throw"Error: Space::compounds cannot be set during space step()";
},constraints_adder:function(a){if(null!=a.zpp_inner.compound)throw"Error: Cannot set the space of a Constraint belonging to a Compound, only the root Compound space can be set";return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(a),this.addConstraint(a.zpp_inner),!0):!1},constraints_subber:function(a){this.remConstraint(a.zpp_inner)},constraints_modifiable:function(){if(this.midstep)throw"Error: Space::constraints cannot be set during space step()";
},listeners_adder:function(a){return a.zpp_inner.space!=this?(null!=a.zpp_inner.space&&a.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(a),this.addListener(a.zpp_inner),!0):!1},listeners_subber:function(a){this.remListener(a.zpp_inner)},listeners_modifiable:function(){if(this.midstep)throw"Error: Space::listeners cannot be set during space step()";},revoke_listener:function(a){},unrevoke_listener:function(a){},addListener:function(a){a.space=this;a.addedToSpace();null!=a.interaction&&null},
remListener:function(a){null!=a.interaction&&null;a.removedFromSpace();a.space=null},add_callbackset:function(a){a.int1.cbsets.inlined_add(a);a.int2.cbsets.inlined_add(a);this.callbackset_list.inlined_add(a)},remove_callbackset:function(a){a.lazydel=!0;a.int1.cbsets.inlined_try_remove(a);a.int2.cbsets.inlined_try_remove(a)},transmitType:function(a,b){a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&
this.really_wake(a,!1));a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?this.live.remove(a):a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC?(this.kinematics.remove(a),this.staticsleep.remove(a)):a.type==c.util.ZPP_Flags.id_BodyType_STATIC&&this.staticsleep.remove(a);a.type=b;a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.add(a);a.type==c.util.ZPP_Flags.id_BodyType_STATIC&&this.static_validation(a);a.component.sleeping=!0;a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==
c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0))},added_shape:function(a,b){null==b&&(b=!1);if(!b){var d=a.body;d.world||(d.component.waket=this.stamp+(this.midstep?0:1),d.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(d.kinematicDelaySleep=!0),d.component.sleeping&&this.really_wake(d,!1))}this.bphase.insert(a);a.addedToSpace()},removed_shape:function(a,b){null==b&&(b=!1);var d=this,h=a.body;b||h.wake();for(var e=null,f=h.arbiters.head;null!=
f;){var g=[f.elt];if(g[0].ws1==a||g[0].ws2==a){if(0!=g[0].present)for(this.MRCA_chains(g[0].ws1,g[0].ws2),f=this.mrca1.head;null!=f;){for(var k=f.elt,l=this.mrca2.head;null!=l;){var n=l.elt,p=k.cbSet,q=n.cbSet;p.validate();q.validate();p.manager.pair(p,q).empty_intersection()||(n=[c.phys.ZPP_Interactor.get(k,n)],n[0].remove_arb(g[0]),g[0].present--,p.manager.pair(p,q).forall(c.util.ZPP_Flags.id_CbEvent_END,function(a,b){return function(e){if(0!=(e.itype&b[0].type)&&a[0].empty_arb(e.itype)){var h=
d.push_callback(e);h.event=c.util.ZPP_Flags.id_CbEvent_END;c.phys.ZPP_Interactor.int_callback(a[0],e,h);h.set=a[0]}}}(n,g)),null==n[0].arbiters.head&&this.remove_callbackset(n[0]));l=l.next}f=f.next}g[0].b1!=h&&g[0].b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&(f=g[0].b1,f.world||(f.component.waket=this.stamp+(this.midstep?0:1),f.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(f.kinematicDelaySleep=!0),f.component.sleeping&&this.really_wake(f,!1)));g[0].b2!=h&&g[0].b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
(f=g[0].b2,f.world||(f.component.waket=this.stamp+(this.midstep?0:1),f.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(f.kinematicDelaySleep=!0),f.component.sleeping&&this.really_wake(f,!1)));g[0].cleared=!0;null!=h&&g[0].b2!=h||g[0].b1.arbiters.inlined_try_remove(g[0]);null!=h&&g[0].b1!=h||g[0].b2.arbiters.inlined_try_remove(g[0]);null!=g[0].pair&&(g[0].pair.arb=null,g[0].pair=null);g[0].active=!1;this.f_arbiters.modified=!0;f=h.arbiters.erase(e)}else e=f,f=f.next}this.bphase.remove(a);a.removedFromSpace()},
addConstraint:function(a){a.space=this;a.addedToSpace();a.active&&(a.component.sleeping=!0,this.wake_constraint(a,!0))},remConstraint:function(a){a.active&&(this.wake_constraint(a,!0),this.live_constraints.remove(a));a.removedFromSpace();a.space=null},addCompound:function(a){a.space=this;a.addedToSpace();for(var b=a.bodies.head;null!=b;)this.addBody(b.elt),b=b.next;for(b=a.constraints.head;null!=b;)this.addConstraint(b.elt),b=b.next;for(a=a.compounds.head;null!=a;)this.addCompound(a.elt),a=a.next},
remCompound:function(a){for(var b=a.bodies.head;null!=b;)this.remBody(b.elt),b=b.next;for(b=a.constraints.head;null!=b;)this.remConstraint(b.elt),b=b.next;for(b=a.compounds.head;null!=b;)this.remCompound(b.elt),b=b.next;a.removedFromSpace();a.space=null},addBody:function(a,b){null==b&&(b=-1);a.space=this;a.addedToSpace();a.component.sleeping=!0;a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&
this.really_wake(a,!0));for(var d=a.shapes.head;null!=d;)this.added_shape(d.elt,!0),d=d.next;a.type==c.util.ZPP_Flags.id_BodyType_STATIC?this.static_validation(a):a.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC&&b!=c.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.add(a)},remBody:function(a,b){null==b&&(b=-1);a.type==c.util.ZPP_Flags.id_BodyType_STATIC?(a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&
this.really_wake(a,!0)),this.staticsleep.remove(a)):a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC?(a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,!0)),this.live.remove(a)):(b!=c.util.ZPP_Flags.id_BodyType_KINEMATIC&&this.kinematics.remove(a),a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),
a.component.sleeping&&this.really_wake(a,!0)),this.staticsleep.remove(a));for(var d=a.shapes.head;null!=d;)this.removed_shape(d.elt,!0),d=d.next;a.removedFromSpace();a.space=null},shapesUnderPoint:function(a,b,d,c){return this.bphase.shapesUnderPoint(a,b,d,c)},bodiesUnderPoint:function(a,b,d,c){return this.bphase.bodiesUnderPoint(a,b,d,c)},shapesInAABB:function(a,b,d,c,e){return this.bphase.shapesInAABB(a.zpp_inner,b,d,c,e)},bodiesInAABB:function(a,b,d,c,e){return this.bphase.bodiesInAABB(a.zpp_inner,
b,d,c,e)},shapesInCircle:function(a,b,d,c,e){return this.bphase.shapesInCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b,d,c,e)},bodiesInCircle:function(a,b,d,c,e){return this.bphase.bodiesInCircle(function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
a.zpp_inner.validate();return a.zpp_inner.x}(this),function(b){if(null!=a&&a.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";a.zpp_inner.validate();return a.zpp_inner.y}(this),b,d,c,e)},shapesInShape:function(a,b,d,c){return this.bphase.shapesInShape(a,b,d,c)},bodiesInShape:function(a,b,d,c){return this.bphase.bodiesInShape(a,b,d,c)},rayCast:function(a,b,d){return this.bphase.rayCast(a.zpp_inner,b,null==d?null:d.zpp_inner)},rayMultiCast:function(a,b,d,c){return this.bphase.rayMultiCast(a.zpp_inner,
b,null==d?null:d.zpp_inner,c)},convexCast:function(a,b,d,h){var e;null==c.geom.ZPP_ToiEvent.zpp_pool?e=new c.geom.ZPP_ToiEvent:(e=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=e.next,e.next=null);e.failed=!1;e.s1=e.s2=null;e.arbiter=null;a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi();var f=a.body,k=f.posx,l=f.posy;f.sweepTime=0;f.sweep_angvel=f.angvel;f.sweepIntegrate(b);var n=f.posx,q=f.posy;a.validate_sweepRadius();var p=a.sweepRadius,
v;null==c.geom.ZPP_AABB.zpp_pool?v=new c.geom.ZPP_AABB:(v=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=v.next,v.next=null);null;v.minx=(k<n?k:n)-p;v.maxx=(k>n?k:n)+p;v.miny=(l<q?l:q)-p;v.maxy=(l>q?l:q)+p;d=this.convexShapeList=this.bphase.shapesInAABB(v,!1,!1,null==d?null:d.zpp_inner,this.convexShapeList);null!=v.outer&&(v.outer.zpp_inner=null,v.outer=null);v.wrap_min=v.wrap_max=null;v._invalidate=null;v._validate=null;v.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=v;var n=l=n=l=k=
v=k=v=0,q=null,p=b+1,r;d.zpp_inner.valmod();for(r=g.shape.ShapeIterator.get(d);r.hasNext();){var w;r.zpp_critical=!1;w=r.zpp_inner.at(r.zpp_i++);w!=a.outer&&(null!=w.zpp_inner.body?w.zpp_inner.body.outer:null)!=f.outer&&(e.s1=a,e.s2=w.zpp_inner,h?(w.zpp_inner.validate_sweepRadius(),(null!=w.zpp_inner.body?w.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=w.zpp_inner.body?w.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=w.zpp_inner.body?w.zpp_inner.body.outer:null).zpp_inner.sweepTime=
0,c.geom.ZPP_SweepDistance.dynamicSweep(e,b,0,0,!0),(null!=w.zpp_inner.body?w.zpp_inner.body.outer:null).zpp_inner.sweepIntegrate(0),(null!=w.zpp_inner.body?w.zpp_inner.body.outer:null).zpp_inner.sweepValidate(w.zpp_inner)):c.geom.ZPP_SweepDistance.staticSweep(e,b,0,0),e.toi*=b,0<e.toi&&e.toi<p&&(p=e.toi,v=e.axis.x,k=e.axis.y,l=e.c2.x,n=e.c2.y,q=w))}d.clear();h=e;h.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=h;f.sweepIntegrate(0);f.sweepValidate(a);return p<=b?c.geom.ZPP_ConvexRayResult.getConvex(g.geom.Vec2.get(-v,
-k,null),g.geom.Vec2.get(l,n,null),p,q):null},prepareCast:function(a){a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi()},convexMultiCast:function(a,b,d,h,e){var f;null==c.geom.ZPP_ToiEvent.zpp_pool?f=new c.geom.ZPP_ToiEvent:(f=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=f.next,f.next=null);f.failed=!1;f.s1=f.s2=null;f.arbiter=null;a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.validate_worldCOM():a.polygon.validate_gaxi();var k=
a.body,l=k.posx,n=k.posy;k.sweepTime=0;k.sweep_angvel=k.angvel;k.sweepIntegrate(b);var q=k.posx,p=k.posy;a.validate_sweepRadius();var v=a.sweepRadius,r;null==c.geom.ZPP_AABB.zpp_pool?r=new c.geom.ZPP_AABB:(r=c.geom.ZPP_AABB.zpp_pool,c.geom.ZPP_AABB.zpp_pool=r.next,r.next=null);null;r.minx=(l<q?l:q)-v;r.maxx=(l>q?l:q)+v;r.miny=(n<p?n:p)-v;r.maxy=(n>p?n:p)+v;d=this.convexShapeList=this.bphase.shapesInAABB(r,!1,!1,null==d?null:d.zpp_inner,this.convexShapeList);null!=r.outer&&(r.outer.zpp_inner=null,
r.outer=null);r.wrap_min=r.wrap_max=null;r._invalidate=null;r._validate=null;r.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=r;e=null==e?new g.geom.ConvexResultList:e;d.zpp_inner.valmod();for(r=g.shape.ShapeIterator.get(d);r.hasNext();)if(r.zpp_critical=!1,l=r.zpp_inner.at(r.zpp_i++),l!=a.outer&&(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null)!=k.outer&&(f.s1=a,f.s2=l.zpp_inner,h?(l.zpp_inner.validate_sweepRadius(),(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=
(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweepTime=0,c.geom.ZPP_SweepDistance.dynamicSweep(f,b,0,0,!0),(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweepIntegrate(0),(null!=l.zpp_inner.body?l.zpp_inner.body.outer:null).zpp_inner.sweepValidate(l.zpp_inner)):c.geom.ZPP_SweepDistance.staticSweep(f,b,0,0),f.toi*=b,0<f.toi)){l=c.geom.ZPP_ConvexRayResult.getConvex(g.geom.Vec2.get(-f.axis.x,-f.axis.y,
null),g.geom.Vec2.get(f.c2.x,f.c2.y,null),f.toi,l);n=null;for(q=e.zpp_inner.inner.head;null!=q;){p=q.elt;if(null!=l.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";v=l.zpp_inner.toiDistance;if(null!=p.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";if(v<p.zpp_inner.toiDistance)break;n=q;q=q.next}e.zpp_inner.inner.inlined_insert(n,l)}d.clear();b=f;b.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=b;k.sweepIntegrate(0);
k.sweepValidate(a);return e},push_callback:function(a){var b;null==c.callbacks.ZPP_Callback.zpp_pool?b=new c.callbacks.ZPP_Callback:(b=c.callbacks.ZPP_Callback.zpp_pool,c.callbacks.ZPP_Callback.zpp_pool=b.next,b.next=null);null;this.callbacks.push(b);b.listener=a;return b},step:function(a,b,d){var h=this;if(this.midstep)throw"Error: ... REALLY?? you're going to call space.step() inside of space.step()? COME ON!!";this.time+=a;this.pre_dt=a;this.midstep=!0;this.stamp++;this.validation();this.bphase.broadphase(this,
!0);this.prestep(a);if(this.sortcontacts){var e=this.c_arbiters_false;if(null!=e.head&&null!=e.head.next){var f=e.head,g=null,k=null,l=null,n=null,p=1,q,r,w;do{q=0;k=f;for(g=f=null;null!=k;){q++;l=k;r=0;for(w=p;null!=l&&r<p;)r++,l=l.next;for(;0<r||0<w&&null!=l;)0==r?(n=l,l=l.next,w--):0==w||null==l?(n=k,k=k.next,r--):(k.elt.active&&l.elt.active?k.elt.oc1.dist<l.elt.oc1.dist:1)?(n=k,k=k.next,r--):(n=l,l=l.next,w--),null!=g?g.next=n:f=n,g=n;k=l}g.next=null;p<<=1}while(1<q);e.head=f;e.modified=!0;e.pushmod=
!0}}this.updateVel(a);this.warmStart();this.iterateVel(b);for(b=this.kinematics.head;null!=b;)e=b.elt,e.pre_posx=e.posx,e.pre_posy=e.posy,e.pre_rot=e.rot,b=b.next;for(b=this.live.head;null!=b;)e=b.elt,e.pre_posx=e.posx,e.pre_posy=e.posy,e.pre_rot=e.rot,b=b.next;this.updatePos(a);this.continuous=!0;this.continuousCollisions(a);this.continuous=!1;this.iteratePos(d);for(d=this.kinematics.head;null!=d;)b=d.elt,e=b.pre_rot!=b.rot,b.posx==b.pre_posx&&b.posy==b.pre_posy||b.invalidate_pos(),e&&b.invalidate_rot(),
d=d.next;for(d=this.live.head;null!=d;)b=d.elt,e=b.pre_rot!=b.rot,b.posx==b.pre_posx&&b.posy==b.pre_posy||b.invalidate_pos(),e&&b.invalidate_rot(),d=d.next;d=null;for(b=this.staticsleep.head;null!=b;)e=b.elt,e.type!=c.util.ZPP_Flags.id_BodyType_KINEMATIC||0==e.velx&&0==e.vely&&0==e.angvel?e.kinematicDelaySleep?(e.kinematicDelaySleep=!1,b=b.next):(e.component.sleeping=!0,b=this.staticsleep.inlined_erase(d)):(d=b,b=b.next);this.doForests(a);this.sleepArbiters();this.midstep=!1;d=null;for(a=this.callbackset_list.next;null!=
a;)b=[a],null==b[0].arbiters.head?(a=this.callbackset_list.inlined_erase(d),b=b[0],b.int1=b.int2=null,b.id=b.di=-1,b.freed=!0,null,b.next=c.space.ZPP_CallbackSet.zpp_pool,c.space.ZPP_CallbackSet.zpp_pool=b):(d=[b[0].sleeping()],c.callbacks.ZPP_CbSet.find_all(b[0].int1.cbSet,b[0].int2.cbSet,c.util.ZPP_Flags.id_CbEvent_ONGOING,function(a,b){return function(d){if((!a[0]||d.allowSleepingCallbacks)&&!b[0].empty_arb(d.itype)){var e=h.push_callback(d);e.event=c.util.ZPP_Flags.id_CbEvent_ONGOING;c.phys.ZPP_Interactor.int_callback(b[0],
d,e);e.set=b[0]}}}(d,b)),d=a,a=a.next);for(;!this.callbacks.empty();)a=this.callbacks.pop(),a.listener.type==c.util.ZPP_Flags.id_ListenerType_BODY?a.listener.body.handler(a.wrapper_body()):a.listener.type==c.util.ZPP_Flags.id_ListenerType_CONSTRAINT?a.listener.constraint.handler(a.wrapper_con()):a.listener.type==c.util.ZPP_Flags.id_ListenerType_INTERACTION&&a.listener.interaction.handleri(a.wrapper_int()),a.int1=a.int2=null,a.body=null,a.constraint=null,a.listener=null,null!=a.wrap_arbiters&&(a.wrap_arbiters.zpp_inner.inner=
null),a.set=null,a.next=c.callbacks.ZPP_Callback.zpp_pool,c.callbacks.ZPP_Callback.zpp_pool=a},continuousCollisions:function(a){var b=2*Math.PI/a;this.bphase.broadphase(this,!1);for(var d=0;1>d&&null!=this.toiEvents.head;){for(var h=null,d=2,e=!1,f=null,k=null,l=this.toiEvents.head;null!=l;){var n=l.elt,q=n.s1.body,p=n.s2.body;if(q.sweepFrozen&&p.sweepFrozen)if(0!=n.toi&&c.geom.ZPP_Collide.testCollide_safe(n.s1,n.s2))n.toi=0;else{l=this.toiEvents.erase(k);n.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=
n;continue}if(n.frozen1!=q.sweepFrozen||n.frozen2!=p.sweepFrozen)if(n.kinematic){l=this.toiEvents.erase(k);n.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=n;continue}else if(n.frozen1=q.sweepFrozen,n.frozen2=p.sweepFrozen,n.frozen1&&(q=n.s1,n.s1=n.s2,n.s2=q,n.frozen1=!1,n.frozen2=!0),c.geom.ZPP_SweepDistance.staticSweep(n,a,0,g.Config.collisionSlopCCD),0>n.toi){l=this.toiEvents.erase(k);n.next=c.geom.ZPP_ToiEvent.zpp_pool;c.geom.ZPP_ToiEvent.zpp_pool=n;continue}0<=n.toi&&(n.toi<d||
!e&&n.kinematic)&&(h=n,d=n.toi,e=n.kinematic,f=k);k=l;l=l.next}if(null==h)break;this.toiEvents.erase(f);d=h.toi;e=h.s1.body;f=h.s2.body;e.sweepFrozen||(e.sweepIntegrate(d*a),e.sweepValidate(h.s1));f.sweepFrozen||(f.sweepIntegrate(d*a),f.sweepValidate(h.s2));k=this.narrowPhase(h.s1,h.s2,!0,h.arbiter,!0);null==k?null!=h.arbiter&&null!=h.arbiter.pair&&(h.arbiter.pair.arb=null,h.arbiter.pair=null):!this.presteparb(k,a,!0)&&k.type==c.dynamics.ZPP_Arbiter.COL&&k.active&&0!=(k.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&
(k.colarb.warmStart(),k.colarb.applyImpulseVel(),k.colarb.applyImpulseVel(),k.colarb.applyImpulseVel(),k.colarb.applyImpulseVel(),e.sweep_angvel=e.angvel%b,f.sweep_angvel=f.angvel%b);null!=k&&k.active&&0!=(k.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&k.type==c.dynamics.ZPP_Arbiter.COL&&(e.sweepFrozen||e.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC||(e.sweepFrozen=!0,e.angvel=h.failed?e.sweep_angvel=0:h.slipped?e.sweep_angvel*=g.Config.angularCCDSlipScale:e.sweep_angvel),f.sweepFrozen||f.type==
c.util.ZPP_Flags.id_BodyType_KINEMATIC||(f.sweepFrozen=!0,f.angvel=h.failed?f.sweep_angvel=0:h.slipped?f.sweep_angvel*=g.Config.angularCCDSlipScale:f.sweep_angvel))}for(;null!=this.toiEvents.head;)b=this.toiEvents.pop_unsafe(),b.next=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=b;for(b=this.kinematics.head;null!=b;)h=b.elt,h.sweepIntegrate(a),h.sweepTime=0,b=b.next;for(b=this.live.head;null!=b;)h=b.elt,h.sweepFrozen||h.sweepIntegrate(a),h.sweepTime=0,b=b.next},continuousEvent:function(a,
b,d,h,e){if(a.body.sweepFrozen&&b.body.sweepFrozen||a.body.disableCCD||b.body.disableCCD||null!=h&&null==h.colarb||0>=this.interactionType(a,b,a.body,b.body))return h;var f=a.body,k=b.body;if(d||f.bullet||k.bullet)null==c.geom.ZPP_ToiEvent.zpp_pool?e=new c.geom.ZPP_ToiEvent:(e=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=e.next,e.next=null),e.failed=!1,e.s1=e.s2=null,e.arbiter=null,f=f.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC||k.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC,d&&!f?
(a.body.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC?(e.s2=a,e.s1=b):(e.s1=a,e.s2=b),e.kinematic=!1,c.geom.ZPP_SweepDistance.staticSweep(e,this.pre_dt,0,g.Config.collisionSlopCCD)):(e.s1=a,e.s2=b,e.kinematic=f,e.s1.body.sweepFrozen||e.s2.body.sweepFrozen?(e.s1.body.sweepFrozen&&(a=e.s1,e.s1=e.s2,e.s2=a,e.frozen1=!1,e.frozen2=!0),c.geom.ZPP_SweepDistance.staticSweep(e,this.pre_dt,0,g.Config.collisionSlopCCD)):c.geom.ZPP_SweepDistance.dynamicSweep(e,this.pre_dt,0,g.Config.collisionSlopCCD)),d&&0>e.toi||
e.failed?(d=e,d.next=c.geom.ZPP_ToiEvent.zpp_pool,c.geom.ZPP_ToiEvent.zpp_pool=d):(this.toiEvents.add(e),e.frozen1=e.s1.body.sweepFrozen,e.frozen2=e.s2.body.sweepFrozen,e.arbiter=null!=h?h.colarb:null);return h},bodyCbWake:function(a){if(a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&null!=a.cbSet)if(this.midstep)for(var b=a.cbSet.bodylisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_WAKE,d.body=a);b=b.next}else a.component.woken=
!0},bodyCbSleep:function(a){if(a.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&null!=a.cbSet)for(var b=a.cbSet.bodylisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_SLEEP&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_SLEEP,d.body=a);b=b.next}},constraintCbWake:function(a){if(null!=a.cbSet)if(this.midstep)for(var b=a.cbSet.conlisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_WAKE,
d.constraint=a);b=b.next}else a.component.woken=!0},constraintCbSleep:function(a){if(null!=a.cbSet)for(var b=a.cbSet.conlisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_SLEEP&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_SLEEP,d.constraint=a);b=b.next}},constraintCbBreak:function(a){if(null!=a.cbSet)for(var b=a.cbSet.conlisteners.head;null!=b;){var d=b.elt;d.event==c.util.ZPP_Flags.id_CbEvent_BREAK&&(d=this.push_callback(d),d.event=c.util.ZPP_Flags.id_CbEvent_BREAK,
d.constraint=a);b=b.next}},nullListenerType:function(a,b){for(var d=new c.util.ZNPList_ZPP_Interactor,h=a.interactors.head;null!=h;)d.add(h.elt),h=h.next;if(a!=b)for(h=b.interactors.head;null!=h;)d.add(h.elt),h=h.next;for(;null!=d.head;)if(h=d.pop_unsafe(),null!=h.icompound){for(var h=h.icompound,e=h.bodies.head;null!=e;)d.add(e.elt),e=e.next;for(h=h.compounds.head;null!=h;)d.add(h.elt),h=h.next}else for(e=null!=h.ibody?h.ibody:h.ishape.body,h=null!=h.ishape?h.ishape:null,e=e.arbiters.head;null!=
e;){var f=e.elt;if(0!=f.present&&(null==h||f.ws1==h||f.ws2==h))for(this.MRCA_chains(f.ws1,f.ws2),f=this.mrca1.head;null!=f;){var g=f.elt;if(g.cbSet==a||g.cbSet==b)for(var k=this.mrca2.head;null!=k;){var l=k.elt;if(!(g.cbSet==a&&l.cbSet!=b||g.cbSet==b&&l.cbSet!=a)&&(l=c.phys.ZPP_Interactor.get(g,l),null!=l)){for(;null!=l.arbiters.head;)l.arbiters.pop_unsafe().present--;this.remove_callbackset(l)}k=k.next}f=f.next}e=e.next}},nullInteractorType:function(a,b){null==b&&(b=a);if(null!=a.icompound){for(var d=
a.icompound,h=d.bodies.head;null!=h;)this.nullInteractorType(h.elt,b),h=h.next;for(d=d.compounds.head;null!=d;)this.nullInteractorType(d.elt,b),d=d.next}else for(h=null!=a.ibody?a.ibody:a.ishape.body,d=null!=a.ishape?a.ishape:null,h=h.arbiters.head;null!=h;){var e=h.elt;if(0!=e.present&&(null==d||e.ws1==d||e.ws2==d)){this.MRCA_chains(e.ws1,e.ws2);for(var f=this.mrca1.head;null!=f;){for(var g=f.elt,k=this.mrca2.head;null!=k;){var l=k.elt;if(g==b||l==b)l=c.phys.ZPP_Interactor.get(g,l),null!=l&&(e.present--,
l.remove_arb(e),null==l.arbiters.head&&this.remove_callbackset(l));k=k.next}f=f.next}}h=h.next}},freshListenerType:function(a,b){for(var d=new c.util.ZNPList_ZPP_Interactor,h=a.interactors.head;null!=h;)d.add(h.elt),h=h.next;if(a!=b)for(h=b.interactors.head;null!=h;)d.add(h.elt),h=h.next;for(;null!=d.head;)if(h=d.pop_unsafe(),null!=h.icompound){for(var h=h.icompound,e=h.bodies.head;null!=e;)d.add(e.elt),e=e.next;for(h=h.compounds.head;null!=h;)d.add(h.elt),h=h.next}else for(e=null!=h.ibody?h.ibody:
h.ishape.body,h=null!=h.ishape?h.ishape:null,e=e.arbiters.head;null!=e;){var f=e.elt;if(f.presentable&&(null==h||f.ws1==h||f.ws2==h)){this.MRCA_chains(f.ws1,f.ws2);for(var g=this.mrca1.head;null!=g;){var k=g.elt;if(k.cbSet==a||k.cbSet==b)for(var l=this.mrca2.head;null!=l;){var n=l.elt;if(!(k.cbSet==a&&n.cbSet!=b||k.cbSet==b&&n.cbSet!=a)){var p=c.phys.ZPP_Interactor.get(k,n);null==p&&(p=c.space.ZPP_CallbackSet.get(k,n),this.add_callbackset(p));p.arbiters.inlined_has(f)?p=!1:(p.arbiters.inlined_add(f),
p=!0);p&&f.present++}l=l.next}g=g.next}}e=e.next}},freshInteractorType:function(a,b){null==b&&(b=a);if(null!=a.icompound){for(var d=a.icompound,h=d.bodies.head;null!=h;)this.freshInteractorType(h.elt,b),h=h.next;for(d=d.compounds.head;null!=d;)this.freshInteractorType(d.elt,b),d=d.next}else for(h=null!=a.ibody?a.ibody:a.ishape.body,d=null!=a.ishape?a.ishape:null,h=h.arbiters.head;null!=h;){var e=h.elt;if(e.presentable&&(null==d||e.ws1==d||e.ws2==d)){this.MRCA_chains(e.ws1,e.ws2);for(var f=this.mrca1.head;null!=
f;){for(var g=f.elt,k=this.mrca2.head;null!=k;){var l=k.elt;if(g==b||l==b){var n=g.cbSet,p=l.cbSet;n.validate();p.validate();n.manager.pair(n,p).empty_intersection()||(n=c.phys.ZPP_Interactor.get(g,l),null==n&&(n=c.space.ZPP_CallbackSet.get(g,l),this.add_callbackset(n)),n.arbiters.inlined_has(e)?l=!1:(n.arbiters.inlined_add(e),l=!0),l&&e.present++)}k=k.next}f=f.next}}h=h.next}},wakeCompound:function(a){for(var b=a.bodies.head;null!=b;){var d=b.elt;d.world||(d.component.waket=this.stamp+(this.midstep?
0:1),d.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(d.kinematicDelaySleep=!0),d.component.sleeping&&this.really_wake(d,!1));b=b.next}for(b=a.constraints.head;null!=b;)this.wake_constraint(b.elt),b=b.next;for(a=a.compounds.head;null!=a;)this.wakeCompound(a.elt),a=a.next},wakeIsland:function(a){for(;null!=a.comps.head;){var b=a.comps.pop_unsafe();b.waket=this.stamp+(this.midstep?0:1);if(b.isBody){var d=b.body;this.live.add(d);for(var h=d.arbiters.head;null!=h;){var e=h.elt;e.sleeping&&(e.sleeping=
!1,e.up_stamp+=this.stamp-e.sleep_stamp,e.type==c.dynamics.ZPP_Arbiter.COL?(e=e.colarb,e.stat?this.c_arbiters_true.inlined_add(e):this.c_arbiters_false.inlined_add(e)):e.type==c.dynamics.ZPP_Arbiter.FLUID?this.f_arbiters.inlined_add(e.fluidarb):this.s_arbiters.inlined_add(e.sensorarb));h=h.next}this.bodyCbWake(d);b.sleeping=!1;b.island=null;b.parent=b;b.rank=0;if(d.type!=c.util.ZPP_Flags.id_BodyType_STATIC)for(b=d.shapes.head;null!=b;)d=b.elt,null!=d.node&&this.bphase.sync(d),b=b.next}else d=b.constraint,
this.live_constraints.inlined_add(d),this.constraintCbWake(d),b.sleeping=!1,b.island=null,b.parent=b,b.rank=0}a.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=a},non_inlined_wake:function(a,b){null==b&&(b=!1);a.world||(a.component.waket=this.stamp+(this.midstep?0:1),a.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(a.kinematicDelaySleep=!0),a.component.sleeping&&this.really_wake(a,b))},really_wake:function(a,b){null==b&&(b=!1);if(null==a.component.island){a.component.sleeping=!1;a.type==
c.util.ZPP_Flags.id_BodyType_KINEMATIC||a.type==c.util.ZPP_Flags.id_BodyType_STATIC?this.staticsleep.inlined_add(a):this.live.inlined_add(a);for(var d=a.constraints.head;null!=d;){var h=d.elt;h.space==this&&this.wake_constraint(h);d=d.next}for(d=a.arbiters.head;null!=d;){h=d.elt;if(h.sleeping)if(h.sleeping=!1,h.up_stamp+=this.stamp+(this.midstep?0:1)-h.sleep_stamp,h.type==c.dynamics.ZPP_Arbiter.COL){var e=h.colarb;e.stat?this.c_arbiters_true.inlined_add(e):this.c_arbiters_false.inlined_add(e)}else h.type==
c.dynamics.ZPP_Arbiter.FLUID?this.f_arbiters.inlined_add(h.fluidarb):this.s_arbiters.inlined_add(h.sensorarb);h.type!=c.dynamics.ZPP_Arbiter.SENSOR&&!h.cleared&&h.up_stamp>=this.stamp&&0!=(h.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&(h.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&h.b1.component.sleeping&&(e=h.b1,e.world||(e.component.waket=this.stamp+(this.midstep?0:1),e.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!1))),
h.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&h.b2.component.sleeping&&(h=h.b2,h.world||(h.component.waket=this.stamp+(this.midstep?0:1),h.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(h.kinematicDelaySleep=!0),h.component.sleeping&&this.really_wake(h,!1))));d=d.next}b||a.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||this.bodyCbWake(a);if(!b&&!this.bphase.is_sweep&&a.type!=c.util.ZPP_Flags.id_BodyType_STATIC)for(d=a.shapes.head;null!=d;)h=d.elt,null!=h.node&&this.bphase.sync(h),d=d.next}else this.wakeIsland(a.component.island)},
wake_constraint:function(a,b){null==b&&(b=!1);return a.active&&(a.component.waket=this.stamp+(this.midstep?0:1),a.component.sleeping)?(null==a.component.island?(a.component.sleeping=!1,this.live_constraints.inlined_add(a),a.wake_connected(),b||this.constraintCbWake(a)):this.wakeIsland(a.component.island),!0):!1},doForests:function(a){for(var b=this.c_arbiters_false.head;null!=b;){var d=b.elt;if(!d.cleared&&d.up_stamp==this.stamp&&0!=(d.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&d.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
d.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var h;if(d.b1.component==d.b1.component.parent)h=d.b1.component;else{h=d.b1.component;for(var e=null;h!=h.parent;){var f=h.parent;h.parent=e;e=h;h=f}for(;null!=e;)f=e.parent,e.parent=h,e=f}if(d.b2.component==d.b2.component.parent)d=d.b2.component;else{d=d.b2.component;for(e=null;d!=d.parent;)f=d.parent,d.parent=e,e=d,d=f;for(;null!=e;)f=e.parent,e.parent=d,e=f}h!=d&&(h.rank<d.rank?h.parent=d:h.rank>d.rank?d.parent=h:(d.parent=h,h.rank++))}b=b.next}for(b=
this.f_arbiters.head;null!=b;){d=b.elt;if(!d.cleared&&d.up_stamp==this.stamp&&0!=(d.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&d.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&d.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){if(d.b1.component==d.b1.component.parent)h=d.b1.component;else{h=d.b1.component;for(e=null;h!=h.parent;)f=h.parent,h.parent=e,e=h,h=f;for(;null!=e;)f=e.parent,e.parent=h,e=f}if(d.b2.component==d.b2.component.parent)d=d.b2.component;else{d=d.b2.component;for(e=null;d!=d.parent;)f=
d.parent,d.parent=e,e=d,d=f;for(;null!=e;)f=e.parent,e.parent=d,e=f}h!=d&&(h.rank<d.rank?h.parent=d:h.rank>d.rank?d.parent=h:(d.parent=h,h.rank++))}b=b.next}for(b=this.live_constraints.head;null!=b;)b.elt.forest(),b=b.next;for(;null!=this.live.head;){h=this.live.inlined_pop_unsafe();b=h.component;if(b==b.parent)d=b;else{d=b;for(e=null;d!=d.parent;)f=d.parent,d.parent=e,e=d,d=f;for(;null!=e;)f=e.parent,e.parent=d,e=f}null==d.island&&(null==c.space.ZPP_Island.zpp_pool?d.island=new c.space.ZPP_Island:
(d.island=c.space.ZPP_Island.zpp_pool,c.space.ZPP_Island.zpp_pool=d.island.next,d.island.next=null),d.island.waket=0,this.islands.inlined_add(d.island),d.island.sleep=!0);b.island=d.island;b.island.comps.inlined_add(b);h=h.atRest(a);b.island.sleep=b.island.sleep&&h;b.waket>b.island.waket&&(b.island.waket=b.waket)}for(;null!=this.live_constraints.head;){a=this.live_constraints.inlined_pop_unsafe().component;if(a==a.parent)b=a;else{b=a;for(h=null;b!=b.parent;)d=b.parent,b.parent=h,h=b,b=d;for(;null!=
h;)d=h.parent,h.parent=b,h=d}a.island=b.island;a.island.comps.inlined_add(a);a.waket>a.island.waket&&(a.island.waket=a.waket)}for(;null!=this.islands.next;)if(a=this.islands.inlined_pop_unsafe(),a.sleep)for(a=a.comps.head;null!=a;){h=a.elt;if(h.isBody){b=h.body;b.velx=0;b.vely=0;b.angvel=0;h.sleeping=!0;for(h=b.shapes.head;null!=h;)this.bphase.sync(h.elt),h=h.next;this.bodyCbSleep(b)}else this.constraintCbSleep(h.constraint),h.sleeping=!0;a=a.next}else{for(;null!=a.comps.head;)b=a.comps.inlined_pop_unsafe(),
b.waket=a.waket,b.isBody?this.live.inlined_add(b.body):this.live_constraints.inlined_add(b.constraint),b.sleeping=!1,b.island=null,b.parent=b,b.rank=0;a.next=c.space.ZPP_Island.zpp_pool;c.space.ZPP_Island.zpp_pool=a}},sleepArbiters:function(){var a=null,b=this.c_arbiters_true,d=b.head,c=null!=this.c_arbiters_false;for(c&&null==d&&(c=!1,d=this.c_arbiters_false.head,b=this.c_arbiters_false,a=null);null!=d;){var e=d.elt;e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=
!0,d=b.inlined_erase(a)):(a=d,d=d.next);c&&null==d&&(c=!1,d=this.c_arbiters_false.head,b=this.c_arbiters_false,a=null)}a=null;b=this.f_arbiters;d=b.head;for(c=!1;null!=d;)e=d.elt,e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,d=b.inlined_erase(a)):(a=d,d=d.next),c&&null==d&&(c=!1,d=null.begin(),a=b=null);a=null;b=this.s_arbiters;d=b.head;for(c=!1;null!=d;)e=d.elt,e.b1.component.sleeping&&e.b2.component.sleeping?(e.sleep_stamp=this.stamp,e.sleeping=!0,d=b.inlined_erase(a)):
(a=d,d=d.next),c&&null==d&&(c=!1,d=null.begin(),a=b=null)},static_validation:function(a){null!=a.shapes.head&&a.validate_aabb();a.validate_mass();a.validate_inertia();if(0!=a.velx||0!=a.vely||0!=a.angvel)throw"Error: Static body cannot have any real velocity, only kinematic or surface velocities";for(var b=a.shapes.head;null!=b;){var d=b.elt;if(d.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){d.polygon.splice_collinear();var h=d.polygon.valid(),e=h,f=void 0;null==c.util.ZPP_Flags.ValidationResult_VALID&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);f=c.util.ZPP_Flags.ValidationResult_VALID;if(e!=f)throw"Error: Cannot simulate with an invalid Polygon : "+d.polygon.outer.toString()+" is invalid : "+h.toString();d.polygon.validate_gaxi()}b=b.next}a.sweepFrozen=!0},validation:function(){this.cbsets.validate();for(var a=this.live.head;null!=a;){var b=a.elt;b.sweepRadius=0;for(var d=b.shapes.head;null!=d;){var h=d.elt;if(h.type==
c.util.ZPP_Flags.id_ShapeType_POLYGON){h.polygon.splice_collinear();var e=h.polygon.valid(),f=e;null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(f!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Cannot simulate with an invalid Polygon : "+h.polygon.outer.toString()+" is invalid : "+e.toString();h.polygon.validate_gaxi()}h.validate_sweepRadius();h.sweepRadius>b.sweepRadius&&
(b.sweepRadius=h.sweepRadius);d=d.next}b.validate_mass();b.validate_inertia();null!=b.shapes.head&&(b.validate_aabb(),b.validate_worldCOM());b.validate_gravMass();b.zip_axis&&(b.zip_axis=!1,b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot),null);if(!b.nomove&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.mass)throw"Error: Dynamic Body cannot be simulated with 0 mass unless allowMovement is false";if(!b.norotate&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.inertia)throw"Error: Dynamic Body cannot be simulated with 0 inertia unless allowRotation is false";
if(b.component.woken&&null!=b.cbSet)for(d=b.cbSet.bodylisteners.head;null!=d;)h=d.elt,h.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(h=this.push_callback(h),h.event=c.util.ZPP_Flags.id_CbEvent_WAKE,h.body=b),d=d.next;b.component.woken=!1;for(b=b.shapes.head;null!=b;)this.bphase.sync(b.elt),b=b.next;a=a.next}for(a=this.kinematics.head;null!=a;){b=a.elt;b.sweepRadius=0;for(d=b.shapes.head;null!=d;){h=d.elt;if(h.type==c.util.ZPP_Flags.id_ShapeType_POLYGON){h.polygon.splice_collinear();f=e=h.polygon.valid();
null==c.util.ZPP_Flags.ValidationResult_VALID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ValidationResult_VALID=new g.shape.ValidationResult,c.util.ZPP_Flags.internal=!1);if(f!=c.util.ZPP_Flags.ValidationResult_VALID)throw"Error: Cannot simulate with an invalid Polygon : "+h.polygon.outer.toString()+" is invalid : "+e.toString();h.polygon.validate_gaxi()}h.validate_sweepRadius();h.sweepRadius>b.sweepRadius&&(b.sweepRadius=h.sweepRadius);d=d.next}b.validate_mass();b.validate_inertia();null!=b.shapes.head&&
(b.validate_aabb(),b.validate_worldCOM());b.validate_gravMass();b.zip_axis&&(b.zip_axis=!1,b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot),null);if(!b.nomove&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.mass)throw"Error: Dynamic Body cannot be simulated with 0 mass unless allowMovement is false";if(!b.norotate&&b.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&0==b.inertia)throw"Error: Dynamic Body cannot be simulated with 0 inertia unless allowRotation is false";for(b=b.shapes.head;null!=b;)this.bphase.sync(b.elt),
b=b.next;a=a.next}for(a=this.live_constraints.head;null!=a;){b=a.elt;if(b.active){b.validate();if(b.component.woken&&null!=b.cbSet)for(d=b.cbSet.conlisteners.head;null!=d;)h=d.elt,h.event==c.util.ZPP_Flags.id_CbEvent_WAKE&&(h=this.push_callback(h),h.event=c.util.ZPP_Flags.id_CbEvent_WAKE,h.constraint=b),d=d.next;b.component.woken=!1}a=a.next}},updateVel:function(a){for(var b=1-a*this.global_lin_drag,d=1-a*this.global_ang_drag,c=this.live.head;null!=c;){var e=c.elt;if(0!=e.smass){var f=a*e.imass;e.velx=
b*e.velx+(e.forcex+this.gravityx*e.gravMass)*f;e.vely=b*e.vely+(e.forcey+this.gravityy*e.gravMass)*f}if(0!=e.sinertia){var g=0,f=e.worldCOMx-e.posx,g=e.worldCOMy-e.posy;e.angvel=d*e.angvel+(e.torque+(this.gravityy*f-this.gravityx*g)*e.gravMass)*a*e.iinertia}c=c.next}},updatePos:function(a){for(var b=2*Math.PI/a,d=this.live.head;null!=d;){var h=d.elt;h.pre_posx=h.posx;h.pre_posy=h.posy;h.pre_rot=h.rot;h.sweepTime=0;h.sweep_angvel=h.angvel%b;h.sweepIntegrate(a);if(h.disableCCD)h.sweepFrozen=!0,h.bullet=
!1;else{var e=g.Config.staticCCDLinearThreshold*h.sweepRadius,f=g.Config.staticCCDAngularThreshold;if((h.velx*h.velx+h.vely*h.vely)*a*a>e*e||h.angvel*h.angvel*a*a>f*f||h.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC){e=h.sweep_angvel;0>e&&(e=-e);for(var f=1/e,k=h.shapes.head;null!=k;){var l=k.elt,n=l.aabb,q=n.minx,p=n.miny,r=n.maxx,w=n.maxy,x=e*a*l.sweepCoef*0.008333333333333333|0;8<x&&(x=8);var s=e*a/x;h.sweepIntegrate(a);l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():
l.polygon._force_validate_aabb();q<n.minx?n.minx=q:q=n.minx;p<n.miny?n.miny=p:p=n.miny;r>n.maxx?n.maxx=r:r=n.maxx;w>n.maxy?n.maxy=w:w=n.maxy;for(var z=1;z<x;){var B=z++;h.sweepIntegrate(s*B*f);l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb();q<n.minx?n.minx=q:q=n.minx;p<n.miny?n.miny=p:p=n.miny;r>n.maxx?n.maxx=r:r=n.maxx;w>n.maxy?n.maxy=w:w=n.maxy}this.bphase.sync(l);k=k.next}h.sweepFrozen=!1;h.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&
h.bulletEnabled&&(e=g.Config.bulletCCDLinearThreshold*h.sweepRadius,f=g.Config.bulletCCDAngularThreshold,(h.velx*h.velx+h.vely*h.vely)*a*a>e*e||h.angvel*h.angvel*a*a>f*f)&&(h.bullet=!0)}else h.sweepFrozen=!0,h.bullet=!1}d=d.next}for(d=this.kinematics.head;null!=d;){h=d.elt;h.pre_posx=h.posx;h.pre_posy=h.posy;h.pre_rot=h.rot;h.sweepTime=0;h.sweep_angvel=h.angvel%b;h.sweepIntegrate(a);if(h.disableCCD)h.sweepFrozen=!0,h.bullet=!1;else if(e=g.Config.staticCCDLinearThreshold*h.sweepRadius,f=g.Config.staticCCDAngularThreshold,
(h.velx*h.velx+h.vely*h.vely)*a*a>e*e||h.angvel*h.angvel*a*a>f*f||h.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC){e=h.sweep_angvel;0>e&&(e=-e);f=1/e;for(k=h.shapes.head;null!=k;){l=k.elt;n=l.aabb;q=n.minx;p=n.miny;r=n.maxx;w=n.maxy;x=e*a*l.sweepCoef*0.008333333333333333|0;8<x&&(x=8);s=e*a/x;h.sweepIntegrate(a);l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb();q<n.minx?n.minx=q:q=n.minx;p<n.miny?n.miny=p:p=n.miny;r>n.maxx?n.maxx=r:r=n.maxx;
w>n.maxy?n.maxy=w:w=n.maxy;for(z=1;z<x;)B=z++,h.sweepIntegrate(s*B*f),l.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?l.circle._force_validate_aabb():l.polygon._force_validate_aabb(),q<n.minx?n.minx=q:q=n.minx,p<n.miny?n.miny=p:p=n.miny,r>n.maxx?n.maxx=r:r=n.maxx,w>n.maxy?n.maxy=w:w=n.maxy;this.bphase.sync(l);k=k.next}h.sweepFrozen=!1;h.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&h.bulletEnabled&&(e=g.Config.bulletCCDLinearThreshold*h.sweepRadius,f=g.Config.bulletCCDAngularThreshold,(h.velx*h.velx+h.vely*
h.vely)*a*a>e*e||h.angvel*h.angvel*a*a>f*f)&&(h.bullet=!0)}else h.sweepFrozen=!0,h.bullet=!1;d=d.next}},presteparb:function(a,b,d){null==d&&(d=!1);var h=this;if(!a.cleared&&a.b1.component.sleeping&&a.b2.component.sleeping)return a.sleep_stamp=this.stamp,a.sleeping=!0;if(!a.cleared||0!=a.present||a.intchange){var e=!d&&a.up_stamp==this.stamp-1&&!a.cleared&&!a.intchange;d=a.fresh&&!a.cleared&&!a.intchange;e&&(a.endGenerated=this.stamp);if(d||e||a.cleared||a.intchange)for(this.inlined_MRCA_chains(a.ws1,
a.ws2),e=this.mrca1.head;null!=e;){for(var f=e.elt,k=this.mrca2.head;null!=k;){var l=k.elt,n=f.cbSet,q=l.cbSet;if(!n.manager.pair(n,q).empty_intersection()){var p=[c.phys.ZPP_Interactor.get(f,l)];d||a.intchange?(null==p[0]&&(p[0]=c.space.ZPP_CallbackSet.get(f,l),this.add_callbackset(p[0])),n.manager.pair(n,q).forall(c.util.ZPP_Flags.id_CbEvent_BEGIN,function(b){return function(d){if(0!=(d.itype&a.type)&&b[0].empty_arb(d.itype)){var e=h.push_callback(d);e.event=c.util.ZPP_Flags.id_CbEvent_BEGIN;c.phys.ZPP_Interactor.int_callback(b[0],
d,e);e.set=b[0]}}}(p)),p[0].arbiters.inlined_has(a)?l=0:(p[0].arbiters.inlined_add(a),l=!0),l&&a.present++):(a.present--,p[0].remove_arb(a),n.manager.pair(n,q).forall(c.util.ZPP_Flags.id_CbEvent_END,function(b){return function(d){if(0!=(d.itype&a.type)&&b[0].empty_arb(d.itype)){var e=h.push_callback(d);e.event=c.util.ZPP_Flags.id_CbEvent_END;c.phys.ZPP_Interactor.int_callback(b[0],d,e);e.set=b[0]}}}(p)),null==p[0].arbiters.head&&this.remove_callbackset(p[0]))}k=k.next}e=e.next}a.fresh=!1;a.intchange=
!1}if(a.cleared||a.up_stamp+(a.type==c.dynamics.ZPP_Arbiter.COL?g.Config.arbiterExpirationDelay:0)<this.stamp)return a.type==c.dynamics.ZPP_Arbiter.SENSOR?a.sensorarb.retire():a.type==c.dynamics.ZPP_Arbiter.FLUID?a.fluidarb.retire():a.colarb.retire(),!0;d=a.active;a.active=a.presentable=a.up_stamp==this.stamp;0!=(a.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)?a.active&&a.type!=c.dynamics.ZPP_Arbiter.SENSOR&&(null!=a.colarb?a.colarb.preStep(b)&&(a.active=!1):a.fluidarb.preStep(this,b)):null!=a.colarb&&
a.colarb.cleanupContacts()&&(a.active=!1);d!=a.active&&(a.b1.arbiters.modified=!0,a.b2.arbiters.modified=!0,this.c_arbiters_true.modified=this.c_arbiters_false.modified=!0,this.s_arbiters.modified=this.f_arbiters.modified=!0);return!1},prestep:function(a){for(var b=null,d=this.live_constraints.head;null!=d;){var c=d.elt;c.preStep(a)?(d=this.live_constraints.erase(b),c.broken(),this.constraintCbBreak(c),c.removeOnBreak?(c.component.sleeping=!0,this.midstep=!1,null!=c.compound?c.compound.wrap_constraints.remove(c.outer):
this.wrap_constraints.remove(c.outer),this.midstep=!0):c.active=!1,c.clearcache()):(b=d,d=d.next)}var b=null,d=this.c_arbiters_true,c=d.head,e=null!=this.c_arbiters_false;for(e&&null==c&&(e=!1,c=this.c_arbiters_false.head,d=this.c_arbiters_false,b=null);null!=c;)this.presteparb(c.elt,a)?c=d.inlined_erase(b):(b=c,c=c.next),e&&null==c&&(e=!1,c=this.c_arbiters_false.head,d=this.c_arbiters_false,b=null);b=null;d=this.f_arbiters;c=d.head;for(e=!1;null!=c;)this.presteparb(c.elt,a)?c=d.inlined_erase(b):
(b=c,c=c.next),e&&null==c&&(e=!1,c=null.begin(),b=d=null);b=null;d=this.s_arbiters;c=d.head;for(e=!1;null!=c;)this.presteparb(c.elt,a)?c=d.inlined_erase(b):(b=c,c=c.next),e&&null==c&&(e=!1,c=null.begin(),b=d=null)},warmStart:function(){for(var a=this.f_arbiters.head;null!=a;){var b=a.elt;b.active&&0!=(b.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&b.warmStart();a=a.next}a=this.c_arbiters_false.head;b=!0;for(null==a&&(a=this.c_arbiters_true.head,b=!1);null!=a;){var d=a.elt;d.active&&0!=(d.immState&
c.util.ZPP_Flags.id_ImmState_ACCEPT)&&d.warmStart();a=a.next;b&&null==a&&(a=this.c_arbiters_true.head,b=!1)}for(a=this.live_constraints.head;null!=a;)a.elt.warmStart(),a=a.next},iterateVel:function(a){for(var b=0;b<a;){b++;for(var d=this.f_arbiters.head;null!=d;){var h=d.elt;h.active&&0!=(h.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&h.applyImpulseVel();d=d.next}d=null;for(h=this.live_constraints.head;null!=h;){var e=h.elt;e.applyImpulseVel()?(h=this.live_constraints.erase(d),e.broken(),this.constraintCbBreak(e),
e.removeOnBreak?(e.component.sleeping=!0,this.midstep=!1,null!=e.compound?e.compound.wrap_constraints.remove(e.outer):this.wrap_constraints.remove(e.outer),this.midstep=!0):e.active=!1,e.clearcache()):(d=h,h=h.next)}d=this.c_arbiters_false.head;h=!0;for(null==d&&(d=this.c_arbiters_true.head,h=!1);null!=d;)e=d.elt,e.active&&0!=(e.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&e.applyImpulseVel(),d=d.next,h&&null==d&&(d=this.c_arbiters_true.head,h=!1)}},iteratePos:function(a){for(var b=0;b<a;){b++;
for(var d=null,h=this.live_constraints.head;null!=h;){var e=h.elt;!e.__velocity&&e.stiff&&e.applyImpulsePos()?(h=this.live_constraints.erase(d),e.broken(),this.constraintCbBreak(e),e.removeOnBreak?(e.component.sleeping=!0,this.midstep=!1,null!=e.compound?e.compound.wrap_constraints.remove(e.outer):this.wrap_constraints.remove(e.outer),this.midstep=!0):e.active=!1,e.clearcache()):(d=h,h=h.next)}d=this.c_arbiters_false.head;h=!0;for(null==d&&(d=this.c_arbiters_true.head,h=!1);null!=d;)e=d.elt,e.active&&
0!=(e.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)&&e.applyImpulsePos(),d=d.next,h&&null==d&&(d=this.c_arbiters_true.head,h=!1)}},group_ignore:function(a,b){var d=a.lookup_group();if(null==d)return!1;var c=b.lookup_group();if(null==c)return!1;for(var e=!1;null!=d&&null!=c;){if(d==c){e=d.ignore;break}d.depth<c.depth?c=c.group:d=d.group}return e},interactionType:function(a,b,d,c){var e;e=!1;for(var f=d.constraints.head;null!=f;){var g=f.elt;if(g.ignore&&g.pair_exists(d.id,c.id)){e=!0;break}f=f.next}return e||
this.group_ignore(a,b)?-1:(a.sensorEnabled||b.sensorEnabled)&&a.filter.shouldSense(b.filter)?2:!a.fluidEnabled&&!b.fluidEnabled||!a.filter.shouldFlow(b.filter)||0==d.imass&&0==c.imass&&0==d.iinertia&&0==c.iinertia?!a.filter.shouldCollide(b.filter)||0==d.imass&&0==c.imass&&0==d.iinertia&&0==c.iinertia?-1:1:0},narrowPhase:function(a,b,d,h,e){var f=this,k=null,l=a.body,n=b.body,q=this.interactionType(a,b,l,n);if(-1!=q){var p,r;a.type>b.type?(p=b,r=a):a.type==b.type?a.id<b.id?(p=a,r=b):(r=a,p=b):(p=a,
r=b);var w=p==b;if(0==q){var x;if(null==h){for(var s=null,z=(l.arbiters.length<n.arbiters.length?l:n).arbiters.head;null!=z;){var B=z.elt;if(B.id==p.id&&B.di==r.id){s=B;break}z=z.next}x=s}else x=h;var D=null==x,y,E=!1;D?(null==c.dynamics.ZPP_FluidArbiter.zpp_pool?y=new c.dynamics.ZPP_FluidArbiter:(y=c.dynamics.ZPP_FluidArbiter.zpp_pool,c.dynamics.ZPP_FluidArbiter.zpp_pool=y.next,y.next=null),null):null==x.fluidarb?(x.cleared=!0,x.b1.arbiters.inlined_try_remove(x),x.b2.arbiters.inlined_try_remove(x),
null!=x.pair&&(x.pair.arb=null,x.pair=null),x.active=!1,this.f_arbiters.modified=!0,null==c.dynamics.ZPP_FluidArbiter.zpp_pool?y=new c.dynamics.ZPP_FluidArbiter:(y=c.dynamics.ZPP_FluidArbiter.zpp_pool,c.dynamics.ZPP_FluidArbiter.zpp_pool=y.next,y.next=null),null,E=D=y.intchange=!0):y=x.fluidarb;var A=c.util.ZPP_Flags.id_InteractionType_FLUID;if(D||y.stamp!=this.stamp||e)if(y.stamp=this.stamp,c.geom.ZPP_Collide.flowCollide(p,r,y)){D?(y.b1=a.body,y.ws1=a,y.b2=b.body,y.ws2=b,y.id=p.id,y.di=r.id,y.b1.arbiters.inlined_add(y),
y.b2.arbiters.inlined_add(y),y.active=!0,y.present=0,y.cleared=!1,y.sleeping=!1,y.fresh=!1,y.presentable=!1,y.nx=0,y.ny=1,y.dampx=0,y.dampy=0,y.adamp=0,this.f_arbiters.inlined_add(y),y.fresh=!E):y.fresh=y.up_stamp<this.stamp-1||y.endGenerated==this.stamp&&e;y.up_stamp=y.stamp;if(y.fresh||0==(y.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){y.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;var t=!1;this.inlined_MRCA_chains(y.ws1.id>y.ws2.id?y.ws2:y.ws1,y.ws1.id>y.ws2.id?y.ws1:y.ws2);for(var F=this.mrca1.head;null!=
F;){for(var G=F.elt,H=this.mrca2.head;null!=H;){var I=H.elt,K=G.cbSet,N=I.cbSet;if(!K.manager.pair(K,N).empty_intersection()){var M=null,R=null;this.prelisteners.inlined_clear();K.manager.pair(K,N).forall(c.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){0!=(b.itype&A)&&(a[0]=f.prelisteners.inlined_insert(a[0],b),t=t||!b.pure)}}([null]));if(null!=this.prelisteners.head)if(M=c.phys.ZPP_Interactor.get(G,I),null==M&&(R=c.space.ZPP_CallbackSet.get(G,I),this.add_callbackset(R)),null==M||(M.FLUIDstamp!=
this.stamp||e)&&0==(M.FLUIDstate&c.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=R&&(M=R);if(null!=M)for(var S=this.prelisteners.head;null!=S;)S.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY&&(M.COLLISIONstamp=this.stamp,M.SENSORstamp=this.stamp),M.FLUIDstamp=this.stamp,S=S.next;y.mutable=!0;null!=y.wrap_position&&(y.wrap_position.zpp_inner._immutable=!1);var U=y.active;y.active=!0;this.precb.zpp_inner.pre_arbiter=y;this.precb.zpp_inner.set=M;for(var T=this.prelisteners.head;null!=T;){var V=T.elt;
this.precb.zpp_inner.listener=V;c.phys.ZPP_Interactor.int_callback(M,V,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=G!=this.precb.zpp_inner.int1;var X=V.handlerp(this.precb);if(null!=X){var Z=X;null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(Z==c.util.ZPP_Flags.PreFlag_ACCEPT)y.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS;else{var $=X;null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if($==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)y.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;else{var da=X;null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);da==c.util.ZPP_Flags.PreFlag_IGNORE?y.immState=c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS:y.immState=
c.util.ZPP_Flags.id_ImmState_IGNORE}}}T=T.next}y.mutable=!1;null!=y.wrap_position&&(y.wrap_position.zpp_inner._immutable=!0);y.active=U;if(null!=M)for(var ca=this.prelisteners.head;null!=ca;)ca.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY&&(M.COLLISIONstate=y.immState,M.SENSORstate=y.immState),M.FLUIDstate=y.immState,ca=ca.next}else null==M?0==(y.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)&&(y.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT):y.immState=M.FLUIDstate}H=H.next}F=F.next}if(t&&0==
(y.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){if(y.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var aa=y.b1;aa.world||(aa.component.waket=this.stamp+(this.midstep?0:1),aa.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(aa.kinematicDelaySleep=!0),aa.component.sleeping&&this.really_wake(aa,!1))}if(y.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var ga=y.b2;ga.world||(ga.component.waket=this.stamp+(this.midstep?0:1),ga.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ga.kinematicDelaySleep=!0),ga.component.sleeping&&
this.really_wake(ga,!1))}}}if(0!=(y.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)){if(y.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&y.b1.component.sleeping){var ea=y.b1;ea.world||(ea.component.waket=this.stamp+(this.midstep?0:1),ea.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ea.kinematicDelaySleep=!0),ea.component.sleeping&&this.really_wake(ea,!1))}if(y.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&y.b2.component.sleeping){var la=y.b2;la.world||(la.component.waket=this.stamp+(this.midstep?
0:1),la.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(la.kinematicDelaySleep=!0),la.component.sleeping&&this.really_wake(la,!1))}}y.sleeping&&(y.sleeping=!1,this.f_arbiters.inlined_add(y));k=y}else if(D){var ta=y;ta.next=c.dynamics.ZPP_FluidArbiter.zpp_pool;c.dynamics.ZPP_FluidArbiter.zpp_pool=ta;k=null}else k=y;else k=y}else if(1==q){var sa;sa=d?this.c_arbiters_true:this.c_arbiters_false;var ua;if(null==h){for(var Da=null,Fa=(l.arbiters.length<n.arbiters.length?l:n).arbiters.head;null!=Fa;){var Ka=
Fa.elt;if(Ka.id==p.id&&Ka.di==r.id){Da=Ka;break}Fa=Fa.next}ua=Da}else ua=h;var Ja=null==ua,J,eb=!1;Ja?(null==c.dynamics.ZPP_ColArbiter.zpp_pool?J=new c.dynamics.ZPP_ColArbiter:(J=c.dynamics.ZPP_ColArbiter.zpp_pool,c.dynamics.ZPP_ColArbiter.zpp_pool=J.next,J.next=null),null,J.stat=d):null==ua.colarb?(ua.cleared=!0,ua.b1.arbiters.inlined_try_remove(ua),ua.b2.arbiters.inlined_try_remove(ua),null!=ua.pair&&(ua.pair.arb=null,ua.pair=null),ua.active=!1,this.f_arbiters.modified=!0,null==c.dynamics.ZPP_ColArbiter.zpp_pool?
J=new c.dynamics.ZPP_ColArbiter:(J=c.dynamics.ZPP_ColArbiter.zpp_pool,c.dynamics.ZPP_ColArbiter.zpp_pool=J.next,J.next=null),null,J.intchange=!0,J.stat=d,eb=Ja=!0):(J=ua.colarb,w=p!=J.s1,J.stat!=d&&(J.stat=d,J.sleeping||((d?this.c_arbiters_false:this.c_arbiters_true).remove(J),sa.add(J))));var nb=c.util.ZPP_Flags.id_InteractionType_COLLISION;if(Ja||J.stamp!=this.stamp||e)if(J.stamp=this.stamp,c.geom.ZPP_Collide.contactCollide(p,r,J,w)){Ja?(J.b1=a.body,J.ws1=a,J.b2=b.body,J.ws2=b,J.id=p.id,J.di=r.id,
J.b1.arbiters.inlined_add(J),J.b2.arbiters.inlined_add(J),J.active=!0,J.present=0,J.cleared=!1,J.sleeping=!1,J.fresh=!1,J.presentable=!1,J.s1=a,J.s2=b,J.userdef_restitution||(J.restitution=J.s1.material.elasticity<=Math.NEGATIVE_INFINITY||J.s2.material.elasticity<=Math.NEGATIVE_INFINITY?0:J.s1.material.elasticity>=Math.POSITIVE_INFINITY||J.s2.material.elasticity>=Math.POSITIVE_INFINITY?1:(J.s1.material.elasticity+J.s2.material.elasticity)/2,0>J.restitution&&(J.restitution=0),1<J.restitution&&(J.restitution=
1)),J.userdef_dyn_fric||(J.dyn_fric=Math.sqrt(J.s1.material.dynamicFriction*J.s2.material.dynamicFriction)),J.userdef_stat_fric||(J.stat_fric=Math.sqrt(J.s1.material.staticFriction*J.s2.material.staticFriction)),J.userdef_rfric||(J.rfric=Math.sqrt(J.s1.material.rollingFriction*J.s2.material.rollingFriction)),sa.inlined_add(J),J.fresh=!eb):J.fresh=J.up_stamp<this.stamp-1||J.endGenerated==this.stamp&&e;J.up_stamp=J.stamp;if(J.fresh||0==(J.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){J.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;
var va=!1;this.inlined_MRCA_chains(J.ws1.id>J.ws2.id?J.ws2:J.ws1,J.ws1.id>J.ws2.id?J.ws1:J.ws2);for(var gb=this.mrca1.head;null!=gb;){for(var Oa=gb.elt,La=this.mrca2.head;null!=La;){var sb=La.elt,fa=Oa.cbSet,fb=sb.cbSet;if(!fa.manager.pair(fa,fb).empty_intersection()){var L=null,hb=null;this.prelisteners.inlined_clear();fa.manager.pair(fa,fb).forall(c.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){0!=(b.itype&nb)&&(a[0]=f.prelisteners.inlined_insert(a[0],b),va=va||!b.pure)}}([null]));
if(null!=this.prelisteners.head)if(L=c.phys.ZPP_Interactor.get(Oa,sb),null==L&&(hb=c.space.ZPP_CallbackSet.get(Oa,sb),this.add_callbackset(hb)),null==L||(L.COLLISIONstamp!=this.stamp||e)&&0==(L.COLLISIONstate&c.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=hb&&(L=hb);if(null!=L)for(var tb=this.prelisteners.head;null!=tb;)tb.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY?(L.COLLISIONstamp=this.stamp,L.SENSORstamp=this.stamp,L.FLUIDstamp=this.stamp):L.COLLISIONstamp=this.stamp,tb=tb.next;J.mutable=
!0;null!=J.wrap_normal&&(J.wrap_normal.zpp_inner._immutable=!1);null!=J.wrap_contacts&&(J.wrap_contacts.zpp_inner.immutable=!1);var Hb=J.active;J.active=!0;J.cleanupContacts();this.precb.zpp_inner.pre_arbiter=J;this.precb.zpp_inner.set=L;for(var qa=this.prelisteners.head;null!=qa;){var ia=qa.elt;this.precb.zpp_inner.listener=ia;c.phys.ZPP_Interactor.int_callback(L,ia,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=Oa!=this.precb.zpp_inner.int1;var ra=ia.handlerp(this.precb);if(null!=ra){var na=
ra;null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(na==c.util.ZPP_Flags.PreFlag_ACCEPT)J.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS;else{var Pa=ra;null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(Pa==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)J.immState=
c.util.ZPP_Flags.id_ImmState_ACCEPT;else{var Ta=ra;null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);Ta==c.util.ZPP_Flags.PreFlag_IGNORE?J.immState=c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS:J.immState=c.util.ZPP_Flags.id_ImmState_IGNORE}}}qa=qa.next}J.mutable=!1;null!=J.wrap_normal&&(J.wrap_normal.zpp_inner._immutable=!0);null!=J.wrap_contacts&&(J.wrap_contacts.zpp_inner.immutable=
!0);J.active=Hb;if(null!=L)for(var Ua=this.prelisteners.head;null!=Ua;)Ua.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY?(L.COLLISIONstate=J.immState,L.SENSORstate=J.immState,L.FLUIDstate=J.immState):L.COLLISIONstate=J.immState,Ua=Ua.next}else null==L?0==(J.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)&&(J.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT):J.immState=L.COLLISIONstate}La=La.next}gb=gb.next}if(va&&0==(J.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){if(J.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var Va=
J.b1;Va.world||(Va.component.waket=this.stamp+(this.midstep?0:1),Va.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Va.kinematicDelaySleep=!0),Va.component.sleeping&&this.really_wake(Va,!1))}if(J.b1.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC){var Qa=J.b2;Qa.world||(Qa.component.waket=this.stamp+(this.midstep?0:1),Qa.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Qa.kinematicDelaySleep=!0),Qa.component.sleeping&&this.really_wake(Qa,!1))}}}if(0!=(J.immState&c.util.ZPP_Flags.id_ImmState_ACCEPT)){if(J.b1.type==
c.util.ZPP_Flags.id_BodyType_DYNAMIC&&J.b1.component.sleeping){var ma=J.b1;ma.world||(ma.component.waket=this.stamp+(this.midstep?0:1),ma.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(ma.kinematicDelaySleep=!0),ma.component.sleeping&&this.really_wake(ma,!1))}if(J.b2.type==c.util.ZPP_Flags.id_BodyType_DYNAMIC&&J.b2.component.sleeping){var Ra=J.b2;Ra.world||(Ra.component.waket=this.stamp+(this.midstep?0:1),Ra.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(Ra.kinematicDelaySleep=!0),Ra.component.sleeping&&
this.really_wake(Ra,!1))}}J.sleeping&&(J.sleeping=!1,sa.inlined_add(J));k=J}else if(Ja){var Ma=J;Ma.userdef_dyn_fric=!1;Ma.userdef_stat_fric=!1;Ma.userdef_restitution=!1;Ma.userdef_rfric=!1;Ma.__ref_edge1=Ma.__ref_edge2=null;Ma.next=c.dynamics.ZPP_ColArbiter.zpp_pool;c.dynamics.ZPP_ColArbiter.zpp_pool=Ma;k=null}else k=J;else k=J}else{var ja;if(null==h){for(var Sa=null,ub=(l.arbiters.length<n.arbiters.length?l:n).arbiters.head;null!=ub;){var $a=ub.elt;if($a.id==p.id&&$a.di==r.id){Sa=$a;break}ub=ub.next}ja=
Sa}else ja=h;var Ib=null==ja,P,Gb=!1;Ib?(null==c.dynamics.ZPP_SensorArbiter.zpp_pool?P=new c.dynamics.ZPP_SensorArbiter:(P=c.dynamics.ZPP_SensorArbiter.zpp_pool,c.dynamics.ZPP_SensorArbiter.zpp_pool=P.next,P.next=null),null):null==ja.sensorarb?(ja.cleared=!0,ja.b1.arbiters.inlined_try_remove(ja),ja.b2.arbiters.inlined_try_remove(ja),null!=ja.pair&&(ja.pair.arb=null,ja.pair=null),ja.active=!1,this.f_arbiters.modified=!0,null==c.dynamics.ZPP_SensorArbiter.zpp_pool?P=new c.dynamics.ZPP_SensorArbiter:
(P=c.dynamics.ZPP_SensorArbiter.zpp_pool,c.dynamics.ZPP_SensorArbiter.zpp_pool=P.next,P.next=null),null,Gb=Ib=P.intchange=!0):P=ja.sensorarb;var wc=c.util.ZPP_Flags.id_InteractionType_SENSOR;if(Ib||P.stamp!=this.stamp||e)if(P.stamp=this.stamp,c.geom.ZPP_Collide.testCollide(p,r)){Ib?(P.b1=a.body,P.ws1=a,P.b2=b.body,P.ws2=b,P.id=p.id,P.di=r.id,P.b1.arbiters.inlined_add(P),P.b2.arbiters.inlined_add(P),P.active=!0,P.present=0,P.cleared=!1,P.sleeping=!1,P.fresh=!1,P.presentable=!1,this.s_arbiters.inlined_add(P),
P.fresh=!Gb):P.fresh=P.up_stamp<this.stamp-1||P.endGenerated==this.stamp&&e;P.up_stamp=P.stamp;if(P.fresh||0==(P.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){P.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT;var xb=!1;this.inlined_MRCA_chains(P.ws1.id>P.ws2.id?P.ws2:P.ws1,P.ws1.id>P.ws2.id?P.ws1:P.ws2);for(var Na=this.mrca1.head;null!=Na;){for(var yb=Na.elt,ya=this.mrca2.head;null!=ya;){var Jb=ya.elt,Ga=yb.cbSet,Wa=Jb.cbSet;if(!Ga.manager.pair(Ga,Wa).empty_intersection()){var oa=null,Db=null;this.prelisteners.inlined_clear();
Ga.manager.pair(Ga,Wa).forall(c.util.ZPP_Flags.id_CbEvent_PRE,function(a){return function(b){0!=(b.itype&wc)&&(a[0]=f.prelisteners.inlined_insert(a[0],b),xb=xb||!b.pure)}}([null]));if(null!=this.prelisteners.head)if(oa=c.phys.ZPP_Interactor.get(yb,Jb),null==oa&&(Db=c.space.ZPP_CallbackSet.get(yb,Jb),this.add_callbackset(Db)),null==oa||(oa.SENSORstamp!=this.stamp||e)&&0==(oa.SENSORstate&c.util.ZPP_Flags.id_ImmState_ALWAYS)){null!=Db&&(oa=Db);if(null!=oa)for(var ob=this.prelisteners.head;null!=ob;)ob.elt.itype==
c.util.ZPP_Flags.id_InteractionType_ANY?(oa.COLLISIONstamp=this.stamp,oa.SENSORstamp=this.stamp,oa.FLUIDstamp=this.stamp):oa.SENSORstamp=this.stamp,ob=ob.next;var pa=P.active;P.active=!0;this.precb.zpp_inner.pre_arbiter=P;this.precb.zpp_inner.set=oa;for(var Xa=this.prelisteners.head;null!=Xa;){var ib=Xa.elt;this.precb.zpp_inner.listener=ib;c.phys.ZPP_Interactor.int_callback(oa,ib,this.precb.zpp_inner);this.precb.zpp_inner.pre_swapped=yb!=this.precb.zpp_inner.int1;var Eb=ib.handlerp(this.precb);if(null!=
Eb){var ac=Eb;null==c.util.ZPP_Flags.PreFlag_ACCEPT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(ac==c.util.ZPP_Flags.PreFlag_ACCEPT)P.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT|c.util.ZPP_Flags.id_ImmState_ALWAYS;else{var jb=Eb;null==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);if(jb==c.util.ZPP_Flags.PreFlag_ACCEPT_ONCE)P.immState=
c.util.ZPP_Flags.id_ImmState_ACCEPT;else{var kb=Eb;null==c.util.ZPP_Flags.PreFlag_IGNORE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.PreFlag_IGNORE=new g.callbacks.PreFlag,c.util.ZPP_Flags.internal=!1);kb==c.util.ZPP_Flags.PreFlag_IGNORE?P.immState=c.util.ZPP_Flags.id_ImmState_IGNORE|c.util.ZPP_Flags.id_ImmState_ALWAYS:P.immState=c.util.ZPP_Flags.id_ImmState_IGNORE}}}Xa=Xa.next}P.active=pa;if(null!=oa)for(var vb=this.prelisteners.head;null!=vb;)vb.elt.itype==c.util.ZPP_Flags.id_InteractionType_ANY?
(oa.COLLISIONstate=P.immState,oa.SENSORstate=P.immState,oa.FLUIDstate=P.immState):oa.SENSORstate=P.immState,vb=vb.next}else null==oa?0==(P.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)&&(P.immState=c.util.ZPP_Flags.id_ImmState_ACCEPT):P.immState=oa.SENSORstate}ya=ya.next}Na=Na.next}if(xb&&0==(P.immState&c.util.ZPP_Flags.id_ImmState_ALWAYS)){if(P.b1.type!=c.util.ZPP_Flags.id_BodyType_STATIC){var ab=P.b1;ab.world||(ab.component.waket=this.stamp+(this.midstep?0:1),ab.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&
(ab.kinematicDelaySleep=!0),ab.component.sleeping&&this.really_wake(ab,!1))}if(P.b2.type!=c.util.ZPP_Flags.id_BodyType_STATIC){var bb=P.b2;bb.world||(bb.component.waket=this.stamp+(this.midstep?0:1),bb.type==c.util.ZPP_Flags.id_BodyType_KINEMATIC&&(bb.kinematicDelaySleep=!0),bb.component.sleeping&&this.really_wake(bb,!1))}}}P.sleeping&&(P.sleeping=!1,this.s_arbiters.inlined_add(P));k=P}else if(Ib){var cb=P;cb.next=c.dynamics.ZPP_SensorArbiter.zpp_pool;c.dynamics.ZPP_SensorArbiter.zpp_pool=cb;k=null}else k=
P;else k=P}}return k},MRCA_chains:function(a,b){this.inlined_MRCA_chains(a,b)},inlined_MRCA_chains:function(a,b){this.mrca1.inlined_clear();this.mrca2.inlined_clear();null!=a.cbSet&&this.mrca1.inlined_add(a);null!=a.body.cbSet&&this.mrca1.inlined_add(a.body);null!=b.cbSet&&this.mrca2.inlined_add(b);null!=b.body.cbSet&&this.mrca2.inlined_add(b.body);for(var d=a.body.compound,c=b.body.compound;d!=c;)(null==d?0:d.depth)<(null==c?0:c.depth)?(null!=c.cbSet&&this.mrca2.inlined_add(c),c=c.compound):(null!=
d.cbSet&&this.mrca1.inlined_add(d),d=d.compound)},__class__:c.space.ZPP_Space};c.space.ZPP_SweepData=function(){this.next=this.prev=this.shape=this.aabb=null};n["zpp_nape.space.ZPP_SweepData"]=c.space.ZPP_SweepData;c.space.ZPP_SweepData.__name__=["zpp_nape","space","ZPP_SweepData"];c.space.ZPP_SweepData.prototype={free:function(){this.aabb=this.shape=this.prev=null},alloc:function(){},gt:function(a){return this.aabb.minx>a.aabb.minx},__class__:c.space.ZPP_SweepData};c.space.ZPP_SweepPhase=function(a){this.list=
this.failed=null;c.space.ZPP_Broadphase.call(this);this.space=a;this.is_sweep=!0;this.sweep=this};n["zpp_nape.space.ZPP_SweepPhase"]=c.space.ZPP_SweepPhase;c.space.ZPP_SweepPhase.__name__=["zpp_nape","space","ZPP_SweepPhase"];c.space.ZPP_SweepPhase.__super__=c.space.ZPP_Broadphase;c.space.ZPP_SweepPhase.prototype=K(c.space.ZPP_Broadphase.prototype,{__insert:function(a){var b;null==c.space.ZPP_SweepData.zpp_pool?b=new c.space.ZPP_SweepData:(b=c.space.ZPP_SweepData.zpp_pool,c.space.ZPP_SweepData.zpp_pool=
b.next,b.next=null);null;a.sweep=b;b.shape=a;b.aabb=a.aabb;b.next=this.list;null!=this.list&&(this.list.prev=b);this.list=b},__remove:function(a){var b=a.sweep;null==b.prev?this.list=b.next:b.prev.next=b.next;null!=b.next&&(b.next.prev=b.prev);a.sweep=null;b.prev=null;b.shape=null;b.aabb=null;b.next=c.space.ZPP_SweepData.zpp_pool;c.space.ZPP_SweepData.zpp_pool=b},__sync:function(a){!this.space.continuous&&a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circle.__validate_aabb():
a.polygon.__validate_aabb())},sync_broadphase:function(){this.space.validation();null!=this.list&&this.sync_broadphase_fast()},sync_broadphase_fast:function(){for(var a=this.list.next;null!=a;){var b=a.next,d=a.prev;if(!(a.aabb.minx>d.aabb.minx)){for(;null!=d.prev&&d.prev.aabb.minx>a.aabb.minx;)d=d.prev;var c=a.prev;c.next=a.next;null!=a.next&&(a.next.prev=c);null==d.prev?(a.prev=null,this.list=a,a.next=d,d.prev=a):(a.prev=d.prev,d.prev=a,a.prev.next=a,a.next=d)}a=b}},broadphase:function(a,b){if(null!=
this.list){this.sync_broadphase_fast();for(var d=this.list;null!=d;){for(var h=d.next,e=d.shape,f=e.body,g=d.aabb.maxx;null!=h&&!(h.aabb.minx>g);){var k=h.shape,l=k.body;l==f||f.type==c.util.ZPP_Flags.id_BodyType_STATIC&&l.type==c.util.ZPP_Flags.id_BodyType_STATIC||f.component.sleeping&&l.component.sleeping||e.aabb.intersectY(k.aabb)&&(b?a.narrowPhase(e,k,f.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||l.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,null,!1):a.continuousEvent(e,k,f.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC||
l.type!=c.util.ZPP_Flags.id_BodyType_DYNAMIC,null,!1));h=h.next}d=d.next}}},clear:function(){for(;null!=this.list;)this.list.shape.removedFromSpace(),this.__remove(this.list.shape)},shapesUnderPoint:function(a,b,d,h){this.sync_broadphase();var e=c.geom.ZPP_Vec2.get(a,b,null);h=null==h?new g.shape.ShapeList:h;for(var f=this.list;null!=f&&f.aabb.minx>a;)f=f.next;for(;null!=f&&f.aabb.minx<=a;){if(f.aabb.maxx>=a&&f.aabb.miny<=b&&f.aabb.maxy>=b){var k=f.shape;if(null==d||k.filter.shouldCollide(d))k.type==
c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(k.circle,e)&&h.push(k.outer):c.geom.ZPP_Collide.polyContains(k.polygon,e)&&h.push(k.outer)}f=f.next}null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e._isimmutable=null;e._validate=null;e._invalidate=null;e.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=e;return h},bodiesUnderPoint:function(a,b,d,h){this.sync_broadphase();var e=c.geom.ZPP_Vec2.get(a,b,null);h=null==h?new g.phys.BodyList:h;for(var f=this.list;null!=
f&&f.aabb.minx>a;)f=f.next;for(;null!=f&&f.aabb.minx<=a;){if(f.aabb.maxx>=a&&f.aabb.miny<=b&&f.aabb.maxy>=b){var k=f.shape,l=k.body.outer;h.has(l)||null!=d&&!k.filter.shouldCollide(d)||(k.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?c.geom.ZPP_Collide.circleContains(k.circle,e)&&h.push(l):c.geom.ZPP_Collide.polyContains(k.polygon,e)&&h.push(l))}f=f.next}null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e._isimmutable=null;e._validate=null;e._invalidate=null;e.next=c.geom.ZPP_Vec2.zpp_pool;c.geom.ZPP_Vec2.zpp_pool=
e;return h},shapesInAABB:function(a,b,d,h,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new g.shape.ShapeList:e;for(var f=this.list;null!=f&&f.aabb.maxx<a.minx;)f=f.next;for(;null!=f&&f.aabb.minx<=a.maxx;){var k=f.shape;if(null==h||k.filter.shouldCollide(h))b?d?c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,k)&&e.push(k.outer):a.contains(f.aabb)?e.push(k.outer):f.aabb.intersect(a)&&c.geom.ZPP_Collide.testCollide_safe(k,this.aabbShape.zpp_inner)&&
e.push(k.outer):(d?a.contains(f.aabb):f.aabb.intersect(a))&&e.push(k.outer);f=f.next}return e},bodiesInAABB:function(a,b,d,h,e){this.sync_broadphase();this.updateAABBShape(a);a=this.aabbShape.zpp_inner.aabb;e=null==e?new g.phys.BodyList:e;null==this.failed&&(this.failed=new g.phys.BodyList);for(var f=this.list;null!=f&&f.aabb.maxx<a.minx;)f=f.next;for(;null!=f&&f.aabb.minx<=a.maxx;){var k=f.shape,l=k.body.outer;f.aabb.intersect(a)&&(null==h||k.filter.shouldCollide(h))&&(b?d?this.failed.has(l)||(k=
c.geom.ZPP_Collide.containTest(this.aabbShape.zpp_inner,k),!e.has(l)&&k?e.push(l):k||(e.remove(l),this.failed.push(l))):!e.has(l)&&c.geom.ZPP_Collide.testCollide_safe(k,this.aabbShape.zpp_inner)&&e.push(l):d?this.failed.has(l)||(k=a.contains(k.aabb),!e.has(l)&&k?e.push(l):k||(e.remove(l),this.failed.push(l))):!e.has(l)&&a.contains(k.aabb)&&e.push(l));f=f.next}this.failed.clear();return e},shapesInCircle:function(a,b,d,h,e,f){this.sync_broadphase();this.updateCircShape(a,b,d);a=this.circShape.zpp_inner.aabb;
f=null==f?new g.shape.ShapeList:f;for(b=this.list;null!=b&&b.aabb.maxx<a.minx;)b=b.next;for(;null!=b&&b.aabb.minx<=a.maxx;)b.aabb.intersect(a)&&(d=b.shape,null==e||d.filter.shouldCollide(e))&&(h?c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,d)&&f.push(d.outer):c.geom.ZPP_Collide.testCollide_safe(d,this.circShape.zpp_inner)&&f.push(d.outer)),b=b.next;return f},bodiesInCircle:function(a,b,d,h,e,f){this.sync_broadphase();this.updateCircShape(a,b,d);a=this.circShape.zpp_inner.aabb;f=null==f?
new g.phys.BodyList:f;null==this.failed&&(this.failed=new g.phys.BodyList);for(b=this.list;null!=b&&b.aabb.maxx<a.minx;)b=b.next;for(;null!=b&&b.aabb.minx<=a.maxx;){if(b.aabb.intersect(a)){var k=b.shape;d=k.body.outer;if(null==e||k.filter.shouldCollide(e))h?this.failed.has(d)||(k=c.geom.ZPP_Collide.containTest(this.circShape.zpp_inner,k),!f.has(d)&&k?f.push(d):k||(f.remove(d),this.failed.push(d))):!f.has(d)&&c.geom.ZPP_Collide.testCollide_safe(k,this.circShape.zpp_inner)&&f.push(d)}b=b.next}this.failed.clear();
return f},shapesInShape:function(a,b,d,h){this.sync_broadphase();this.validateShape(a);var e=a.aabb;h=null==h?new g.shape.ShapeList:h;for(var f=this.list;null!=f&&f.aabb.maxx<e.minx;)f=f.next;for(;null!=f&&f.aabb.minx<=e.maxx;){if(f.aabb.intersect(e)){var k=f.shape;if(null==d||k.filter.shouldCollide(d))b?c.geom.ZPP_Collide.containTest(a,k)&&h.push(k.outer):c.geom.ZPP_Collide.testCollide_safe(k,a)&&h.push(k.outer)}f=f.next}return h},bodiesInShape:function(a,b,d,h){this.sync_broadphase();this.validateShape(a);
var e=a.aabb;h=null==h?new g.phys.BodyList:h;null==this.failed&&(this.failed=new g.phys.BodyList);for(var f=this.list;null!=f&&f.aabb.maxx<e.minx;)f=f.next;for(;null!=f&&f.aabb.minx<=e.maxx;){if(f.aabb.intersect(e)){var k=f.shape,l=k.body.outer;if(null==d||k.filter.shouldCollide(d))b?this.failed.has(l)||(k=c.geom.ZPP_Collide.containTest(a,k),!h.has(l)&&k?h.push(l):k||(h.remove(l),this.failed.push(l))):!h.has(l)&&c.geom.ZPP_Collide.testCollide_safe(a,k)&&h.push(l)}f=f.next}this.failed.clear();return h},
rayCast:function(a,b,d){this.sync_broadphase();a.validate_dir();var h=a.rayAABB(),e=a.maxdist,f=null;if(0==a.dirx)for(var g=this.list;null!=g&&g.aabb.minx<=h.minx;){if(g.aabb.intersect(h)&&(null==d||g.shape.filter.shouldCollide(d))){var k=a.aabbsect(g.aabb);if(0<=k&&k<e&&(k=g.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(g.shape.circle,b,e):a.polysect(g.shape.polygon,b,e),null!=k)){if(null!=k.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";e=k.zpp_inner.toiDistance;
if(null!=f){if(null!=f.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";f.zpp_inner.free()}f=k}}g=g.next}else if(0>a.dirx){g=this.list;for(k=null;null!=g&&g.aabb.minx<=h.maxx;)k=g,g=g.next;for(g=k;null!=g;){if(g.aabb.intersect(h)&&(null==d||g.shape.filter.shouldCollide(d))&&(k=a.aabbsect(g.aabb),0<=k&&k<e&&(k=g.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(g.shape.circle,b,e):a.polysect(g.shape.polygon,b,e),null!=k))){if(null!=k.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
e=k.zpp_inner.toiDistance;if(null!=f){if(null!=f.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";f.zpp_inner.free()}f=k}g=g.prev}}else for(g=this.list;null!=g&&g.aabb.minx<=h.maxx&&g.aabb.minx<a.originx+a.dirx*e;){if(g.aabb.intersect(h)&&(null==d||g.shape.filter.shouldCollide(d))&&(k=a.aabbsect(g.aabb),0<=k&&k<e&&(k=g.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect(g.shape.circle,b,e):a.polysect(g.shape.polygon,b,e),null!=k))){if(null!=k.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";
e=k.zpp_inner.toiDistance;if(null!=f){if(null!=f.zpp_inner.next)throw"Error: This object has been disposed of and cannot be used";f.zpp_inner.free()}f=k}g=g.next}null!=h.outer&&(h.outer.zpp_inner=null,h.outer=null);h.wrap_min=h.wrap_max=null;h._invalidate=null;h._validate=null;h.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=h;return f},rayMultiCast:function(a,b,d,h){this.sync_broadphase();a.validate_dir();var e=a.rayAABB();h=null==h?new g.geom.RayResultList:h;if(0==a.dirx)for(var f=this.list;null!=
f&&f.aabb.minx<=e.minx;)f.aabb.intersect(e)&&(null==d||f.shape.filter.shouldCollide(d))&&0<=a.aabbsect(f.aabb)&&(f.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(f.shape.circle,b,h):a.polysect2(f.shape.polygon,b,h)),f=f.next;else if(0>a.dirx){for(var f=this.list,k=null;null!=f&&f.aabb.minx<=e.maxx;)k=f,f=f.next;for(f=k;null!=f;)f.aabb.intersect(e)&&(null==d||f.shape.filter.shouldCollide(d))&&0<=a.aabbsect(f.aabb)&&(f.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(f.shape.circle,
b,h):a.polysect2(f.shape.polygon,b,h)),f=f.prev}else for(f=this.list;null!=f&&f.aabb.minx<=e.maxx;)f.aabb.intersect(e)&&(null==d||f.shape.filter.shouldCollide(d))&&0<=a.aabbsect(f.aabb)&&(f.shape.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?a.circlesect2(f.shape.circle,b,h):a.polysect2(f.shape.polygon,b,h)),f=f.next;null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null);e.wrap_min=e.wrap_max=null;e._invalidate=null;e._validate=null;e.next=c.geom.ZPP_AABB.zpp_pool;c.geom.ZPP_AABB.zpp_pool=e;return h},
__class__:c.space.ZPP_SweepPhase});c.util.ZNPArray2_Float=function(a,b){this.width=0;this.list=null;this.width=a;this.list=[]};n["zpp_nape.util.ZNPArray2_Float"]=c.util.ZNPArray2_Float;c.util.ZNPArray2_Float.__name__=["zpp_nape","util","ZNPArray2_Float"];c.util.ZNPArray2_Float.prototype={resize:function(a,b,d){this.width=a;var c=0;for(a*=b;c<a;)b=c++,this.list[b]=d},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,d){return this.list[b*this.width+a]=d},__class__:c.util.ZNPArray2_Float};
c.util.ZNPArray2_ZPP_GeomVert=function(a,b){this.width=0;this.list=null;this.width=a;this.list=[]};n["zpp_nape.util.ZNPArray2_ZPP_GeomVert"]=c.util.ZNPArray2_ZPP_GeomVert;c.util.ZNPArray2_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPArray2_ZPP_GeomVert"];c.util.ZNPArray2_ZPP_GeomVert.prototype={resize:function(a,b,d){this.width=a;var c=0;for(a*=b;c<a;)b=c++,this.list[b]=d},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,d){return this.list[b*this.width+a]=d},__class__:c.util.ZNPArray2_ZPP_GeomVert};
c.util.ZNPArray2_ZPP_MarchPair=function(a,b){this.width=0;this.list=null;this.width=a;this.list=[]};n["zpp_nape.util.ZNPArray2_ZPP_MarchPair"]=c.util.ZNPArray2_ZPP_MarchPair;c.util.ZNPArray2_ZPP_MarchPair.__name__=["zpp_nape","util","ZNPArray2_ZPP_MarchPair"];c.util.ZNPArray2_ZPP_MarchPair.prototype={resize:function(a,b,d){this.width=a;var c=0;for(a*=b;c<a;)b=c++,this.list[b]=d},get:function(a,b){return this.list[b*this.width+a]},set:function(a,b,d){return this.list[b*this.width+a]=d},__class__:c.util.ZNPArray2_ZPP_MarchPair};
c.util.ZPP_Debug=function(a,b){this.viewport=this.iport=this.tmpab=null;this.xdet=this.width=this.height=0;this.xnull=!1;this.xform=null;this.bg_r=this.bg_g=this.bg_b=this.bg_col=0;this.d_shape=null;this.isbmp=!1;this.outer=null;this.xnull=!0;this.xdet=1;this.width=a;this.height=b;this.viewport=c.geom.ZPP_AABB.get(0,0,a,b);this.iport=c.geom.ZPP_AABB.get(0,0,a,b);this.tmpab=new c.geom.ZPP_AABB};n["zpp_nape.util.ZPP_Debug"]=c.util.ZPP_Debug;c.util.ZPP_Debug.__name__=["zpp_nape","util","ZPP_Debug"];
c.util.ZPP_Debug.prototype={xform_invalidate:function(){this.xdet=c.util.ZPP_Math.sqrt(function(a){a=a.xform.outer.get_determinant();return 0>a?-a:a}(this));this.xnull=1==this.xform.a&&0==this.xform.b&&0==this.xform.c&&1==this.xform.d&&0==this.xform.tx&&0==this.xform.ty;var a=this.xform.outer.inverse(),b=g.geom.Vec2.get(null,null,null),d=a.transform(b);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();this.iport.minx=d.zpp_inner.x;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();this.iport.miny=d.zpp_inner.y;this.iport.maxx=this.iport.minx;this.iport.maxy=this.iport.miny;d.dispose();b.set_x(this.width);d=a.transform(b);this.iport.setExpandPoint(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();b.set_y(this.height);
d=a.transform(b);this.iport.setExpandPoint(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.y}(this));d.dispose();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.immutable();if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
b.zpp_inner.validate();0!=b.zpp_inner.x&&(b.zpp_inner.x=0,b.zpp_inner.invalidate());if(null!=b&&b.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";b.zpp_inner.validate();b.zpp_inner.x;d=a.transform(b);this.iport.setExpandPoint(function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();return d.zpp_inner.x}(this),function(a){if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();
return d.zpp_inner.y}(this));d.dispose();b.dispose()},setform:function(){this.xform=(new g.geom.Mat23).zpp_inner;this.xform._invalidate=B(this,this.xform_invalidate)},cull:function(a){if(this.xnull)return a.intersect(this.viewport);var b=0,d=0,c=0,e=0,c=a.minx,e=a.miny;this.tmpab.minx=this.xform.a*c+this.xform.b*e+this.xform.tx;this.tmpab.miny=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.maxx=this.tmpab.minx;this.tmpab.maxy=this.tmpab.miny;c=a.maxx;b=this.xform.a*c+this.xform.b*e+this.xform.tx;
d=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,d);e=a.maxy;b=this.xform.a*c+this.xform.b*e+this.xform.tx;d=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,d);c=a.minx;b=this.xform.a*c+this.xform.b*e+this.xform.tx;d=this.xform.c*c+this.xform.d*e+this.xform.ty;this.tmpab.setExpandPoint(b,d);return this.tmpab.intersect(this.viewport)},sup_setbg:function(a){this.bg_r=a>>16&255;this.bg_g=a>>8&255;this.bg_b=a&255;this.bg_col=a},__class__:c.util.ZPP_Debug};
c.util.ZPP_ShapeDebug=function(a,b){this.outer_zn=this.shape=this.graphics=this.compoundstack=this.shapeList=this.bodyList=null;c.util.ZPP_Debug.call(this,a,b);this.shape=new l.display.Shape;this.shape.set_scrollRect(new l.geom.Rectangle(0,0,a,b));this.graphics=this.shape.graphics;this.isbmp=!1;this.d_shape=this};n["zpp_nape.util.ZPP_ShapeDebug"]=c.util.ZPP_ShapeDebug;c.util.ZPP_ShapeDebug.__name__=["zpp_nape","util","ZPP_ShapeDebug"];c.util.ZPP_ShapeDebug.__super__=c.util.ZPP_Debug;c.util.ZPP_ShapeDebug.prototype=
K(c.util.ZPP_Debug.prototype,{setbg:function(a){this.sup_setbg(a)},draw_compound:function(a,b,d,c){for(var e=a.compounds.head;null!=e;)this.draw_compound(e.elt,b,d,c),e=e.next;for(e=a.bodies.head;null!=e;){var f=e.elt;f.outer.debugDraw&&this.draw_body(f,b,d,c);e=e.next}for(a=a.constraints.head;null!=a;)b=a.elt,b.active&&b.outer.debugDraw&&b.draw(this.outer),a=a.next},draw_space:function(a,b,d,h){if(this.outer.cullingEnabled){if(this.outer.drawBodies)if(this.outer.drawBodyDetail)for(var e=this.bodyList=
a.bphase.bodiesInAABB(this.iport,!1,!1,null,this.bodyList);null!=e.zpp_inner.inner.head;){var f=e.shift();f.debugDraw&&this.draw_body(f.zpp_inner,b,d,h)}else for(e=this.shapeList=a.bphase.shapesInAABB(this.iport,!1,!1,null,this.shapeList);null!=e.zpp_inner.inner.head;)f=e.shift(),(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).debugDraw&&this.draw_shape(f.zpp_inner,b,d,h)}else if(this.outer.drawBodies){null==this.compoundstack&&(this.compoundstack=new c.util.ZNPList_ZPP_Compound);for(e=a.bodies.head;null!=
e;)f=e.elt,f.outer.debugDraw&&this.draw_body(f,b,d,h),e=e.next;for(e=a.compounds.head;null!=e;)this.compoundstack.add(e.elt),e=e.next;for(;null!=this.compoundstack.head;){e=this.compoundstack.pop_unsafe();for(f=e.bodies.head;null!=f;){var g=f.elt;g.outer.debugDraw&&this.draw_body(g,b,d,h);f=f.next}for(e=e.compounds.head;null!=e;)this.compoundstack.add(e.elt),e=e.next}}if(this.outer.drawCollisionArbiters||this.outer.drawFluidArbiters||this.outer.drawSensorArbiters)for(e=a.outer.get_arbiters().iterator();e.hasNext();)e.zpp_critical=
!1,f=e.zpp_inner.at(e.zpp_i++),this.draw_arbiter(f.zpp_inner,b,d,h);if(this.outer.drawConstraints){null==this.compoundstack&&(this.compoundstack=new c.util.ZNPList_ZPP_Compound);for(b=a.constraints.head;null!=b;)d=b.elt,d.active&&d.outer.debugDraw&&d.draw(this.outer),b=b.next;for(a=a.compounds.head;null!=a;)this.compoundstack.add(a.elt),a=a.next;for(;null!=this.compoundstack.head;){a=this.compoundstack.pop_unsafe();for(b=a.constraints.head;null!=b;)d=b.elt,d.active&&d.outer.debugDraw&&d.draw(this.outer),
b=b.next;for(a=a.compounds.head;null!=a;)this.compoundstack.add(a.elt),a=a.next}}},draw_body:function(a,b,d,c){for(var e=a.shapes.head;null!=e;)this.draw_shape(e.elt,b,d,c),e=e.next;if(this.outer.drawBodyDetail){var f;f=null==this.outer.colour?H["int"](16777215*Math.exp(-(a.id%500)/1500)):this.outer.colour(a.id);d=0.7*((f&16711680)>>16);e=0.7*((f&65280)>>8);f=0.7*(f&255);null!=a.space&&a.outer.get_isSleeping()&&(d=0.4*d+0.6*this.bg_r,e=0.4*e+0.6*this.bg_g,f=0.4*f+0.6*this.bg_b);d=-16777216|(d|0)<<
16|(e|0)<<8|f|0;this.graphics.lineStyle(this.outer_zn.thickness,-16777216|(0.8*(d>>16&255)+255*(1-0.8)|0)<<16|(0.8*(d>>8&255)+0*(1-0.8)|0)<<8|0.8*(d&255)+0*(1-0.8)|0,1);var g=f=e=d=0;if(null!=a.shapes.head)if(a.validate_worldCOM(),c?(d=a.worldCOMx,e=a.worldCOMy):(d=b.a*a.worldCOMx+b.b*a.worldCOMy+b.tx,e=b.c*a.worldCOMx+b.d*a.worldCOMy+b.ty),this.graphics.drawCircle(d,e,1),a.validate_aabb(),c)this.graphics.drawRect(a.aabb.minx,a.aabb.miny,a.aabb.width(),a.aabb.height());else{d=b.a*a.aabb.minx+b.b*
a.aabb.miny+b.tx;e=b.c*a.aabb.minx+b.d*a.aabb.miny+b.ty;f=a.aabb.width();var g=0,k=b.a*f+b.b*g,g=b.c*f+b.d*g;f=k;var k=0,l=a.aabb.height(),n=b.a*k+b.b*l,l=b.c*k+b.d*l,k=n;this.graphics.moveTo(d,e);this.graphics.lineTo(d+f,e+g);this.graphics.lineTo(d+f+k,e+g+l);this.graphics.lineTo(d+k,e+l);this.graphics.lineTo(d,e)}c?(f=a.pre_posx,g=a.pre_posy):(f=b.a*a.pre_posx+b.b*a.pre_posy+b.tx,g=b.c*a.pre_posx+b.d*a.pre_posy+b.ty);c?(d=a.posx,e=a.posy):(d=b.a*a.posx+b.b*a.posy+b.tx,e=b.c*a.posx+b.d*a.posy+b.ty);
this.graphics.moveTo(f,g);this.graphics.lineTo(d,e);this.graphics.drawCircle(d,e,1)}},draw_shape:function(a,b,d,h){var e,f;f=null==this.outer.colour?H["int"](16777215*Math.exp(-(a.id%500)/1500)):this.outer.colour(a.id);e=-16777216|(0.7*((f&16711680)>>16)|0)<<16|(0.7*((f&65280)>>8)|0)<<8|0.7*(f&255)|0;f=a.body;if(null!=f){var g;g=null==this.outer.colour?H["int"](16777215*Math.exp(-(f.id%500)/1500)):this.outer.colour(f.id);var k=0.7*((g&16711680)>>16),l=0.7*((g&65280)>>8),n=0.7*(g&255);null!=f.space&&
f.outer.get_isSleeping()&&(k=0.4*k+0.6*this.bg_r,l=0.4*l+0.6*this.bg_g,n=0.4*n+0.6*this.bg_b);g=e;k=-16777216|(k|0)<<16|(l|0)<<8|n|0;e=-16777216|(0.2*(g>>16&255)+0.8*(k>>16&255)|0)<<16|(0.2*(g>>8&255)+0.8*(k>>8&255)|0)<<8|0.2*(g&255)+0.8*(k&255)|0;this.graphics.lineStyle(this.outer_zn.thickness,e,1);if(a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE)k=a.circle,k.zip_worldCOM&&null!=k.body&&(k.zip_worldCOM=!1,k.zip_localCOM&&(k.zip_localCOM=!1,k.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&k.polygon.__validate_localCOM(),
null!=k.wrap_localCOM&&(k.wrap_localCOM.zpp_inner.x=k.localCOMx,k.wrap_localCOM.zpp_inner.y=k.localCOMy)),k.body.validate_axis(),k.worldCOMx=k.body.posx+(k.body.axisy*k.localCOMx-k.body.axisx*k.localCOMy),k.worldCOMy=k.body.posy+(k.localCOMx*k.body.axisx+k.localCOMy*k.body.axisy)),l=k.worldCOMx,g=k.worldCOMy,h||(n=b.a*l+b.b*g+b.tx,g=b.c*l+b.d*g+b.ty,l=n),this.graphics.drawCircle(l,g,k.radius*d),this.outer.drawShapeAngleIndicators&&(d=k.worldCOMx+0.3*k.radius*f.axisy,l=k.worldCOMy+0.3*k.radius*f.axisx,
g=k.worldCOMx+k.radius*f.axisy,f=k.worldCOMy+k.radius*f.axisx,h||(k=b.a*d+b.b*l+b.tx,l=b.c*d+b.d*l+b.ty,d=k),h||(k=b.a*g+b.b*f+b.tx,f=b.c*g+b.d*f+b.ty,g=k),this.graphics.moveTo(d,l),this.graphics.lineTo(g,f));else{f=a.polygon;f.validate_gverts();k=f.gverts.next;d=k.x;k=k.y;h||(l=b.a*d+b.b*k+b.tx,k=b.c*d+b.d*k+b.ty,d=l);this.graphics.moveTo(d,k);l=d;g=k;for(n=f.gverts.next.next;null!=n;){k=n;d=k.x;k=k.y;if(!h){var p=b.a*d+b.b*k+b.tx,k=b.c*d+b.d*k+b.ty;d=p}this.graphics.lineTo(d,k);n=n.next}this.graphics.lineTo(l,
g);this.outer.drawShapeAngleIndicators&&(f.zip_worldCOM&&null!=f.body&&(f.zip_worldCOM=!1,f.zip_localCOM&&(f.zip_localCOM=!1,f.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&f.polygon.__validate_localCOM(),null!=f.wrap_localCOM&&(f.wrap_localCOM.zpp_inner.x=f.localCOMx,f.wrap_localCOM.zpp_inner.y=f.localCOMy)),f.body.validate_axis(),f.worldCOMx=f.body.posx+(f.body.axisy*f.localCOMx-f.body.axisx*f.localCOMy),f.worldCOMy=f.body.posy+(f.localCOMx*f.body.axisx+f.localCOMy*f.body.axisy)),h?(d=f.worldCOMx,
k=f.worldCOMy):(d=b.a*f.worldCOMx+b.b*f.worldCOMy+b.tx,k=b.c*f.worldCOMx+b.d*f.worldCOMy+b.ty),this.graphics.moveTo(d,k),this.graphics.lineTo(l,g))}this.outer.drawShapeDetail&&(a.zip_worldCOM&&null!=a.body&&(a.zip_worldCOM=!1,a.zip_localCOM&&(a.zip_localCOM=!1,a.type==c.util.ZPP_Flags.id_ShapeType_POLYGON&&a.polygon.__validate_localCOM(),null!=a.wrap_localCOM&&(a.wrap_localCOM.zpp_inner.x=a.localCOMx,a.wrap_localCOM.zpp_inner.y=a.localCOMy)),a.body.validate_axis(),a.worldCOMx=a.body.posx+(a.body.axisy*
a.localCOMx-a.body.axisx*a.localCOMy),a.worldCOMy=a.body.posy+(a.localCOMx*a.body.axisx+a.localCOMy*a.body.axisy)),this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=e;return-16777216|(0.8*(a>>16&255)+255*(1-0.8)|0)<<16|(0.8*(a>>8&255)+0*(1-0.8)|0)<<8|0.8*(a&255)+0*(1-0.8)|0}(this),1),d=f=0,h?(f=a.worldCOMx,d=a.worldCOMy):(f=b.a*a.worldCOMx+b.b*a.worldCOMy+b.tx,d=b.c*a.worldCOMx+b.d*a.worldCOMy+b.ty),this.graphics.drawCircle(f,d,1),a.zip_aabb&&null!=a.body&&(a.zip_aabb=!1,a.type==c.util.ZPP_Flags.id_ShapeType_CIRCLE?
a.circle.__validate_aabb():a.polygon.__validate_aabb()),h?this.graphics.drawRect(a.aabb.minx,a.aabb.miny,a.aabb.width(),a.aabb.height()):(f=h=0,h=b.a*a.aabb.minx+b.b*a.aabb.miny+b.tx,f=b.c*a.aabb.minx+b.d*a.aabb.miny+b.ty,d=a.aabb.width(),k=0,l=b.a*d+b.b*k,k=b.c*d+b.d*k,d=l,l=0,a=a.aabb.height(),g=b.a*l+b.b*a,a=b.c*l+b.d*a,l=g,this.graphics.moveTo(h,f),this.graphics.lineTo(h+d,f+k),this.graphics.lineTo(h+d+l,f+k+a),this.graphics.lineTo(h+l,f+a),this.graphics.lineTo(h,f)))}},draw_arbiter:function(a,
b,d,h){var e=0,f=0;if(a.outer.zpp_inner.type==c.dynamics.ZPP_Arbiter.SENSOR){if(this.outer.drawSensorArbiters){a=a.outer;this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-0.7)|0)<<16|(178.5+(a>>8&255)*(1-0.7)|0)<<8|0+(a&255)*(1-0.7)|0}(this),1);if(h){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
f=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()}else{d=b.a;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";d*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x();var g=b.b;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=d+g*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()+b.tx;d=b.c;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
d*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_x();g=b.d;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";f=d+g*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws2.outer:a.zpp_inner.ws1.outer).get_worldCOM().get_y()+b.ty}this.graphics.moveTo(e,f);if(h){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x();
if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";f=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()}else{h=b.a;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";h*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x();d=b.b;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";e=h+d*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:
a.zpp_inner.ws2.outer).get_worldCOM().get_y()+b.tx;h=b.c;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";h*=(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_x();d=b.d;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";f=h+d*(a.zpp_inner.ws1.id>a.zpp_inner.ws2.id?a.zpp_inner.ws1.outer:a.zpp_inner.ws2.outer).get_worldCOM().get_y()+b.ty}this.graphics.lineTo(e,f)}}else if(a.outer.zpp_inner.type==c.dynamics.ZPP_Arbiter.FLUID){if(this.outer.drawFluidArbiters){a=
a.outer.get_fluidArbiter();this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|178.5+(a&255)*(1-0.7)|0}(this),1);if(h){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();e=a.zpp_inner.fluidarb.wrap_position.get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&
a.zpp_inner.fluidarb.getposition();f=a.zpp_inner.fluidarb.wrap_position.get_y()}else{h=b.a;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();h*=a.zpp_inner.fluidarb.wrap_position.get_x();d=b.b;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();e=h+d*a.zpp_inner.fluidarb.wrap_position.get_y()+b.tx;h=b.c;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();h*=a.zpp_inner.fluidarb.wrap_position.get_x();d=b.d;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.fluidarb.wrap_position&&a.zpp_inner.fluidarb.getposition();f=h+d*a.zpp_inner.fluidarb.wrap_position.get_y()+b.ty}this.graphics.drawCircle(e,f,0.75)}}else if(this.outer.drawCollisionArbiters){a=a.outer.get_collisionArbiter();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";
null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();if(!a.zpp_inner.colarb.wrap_contacts.empty()){var k=0;d=0;if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();if(2==a.zpp_inner.colarb.wrap_contacts.get_length()){if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();g=a.zpp_inner.colarb.wrap_contacts.at(0).get_position();
if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();d=a.zpp_inner.colarb.wrap_contacts.at(1).get_position();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();var k=a.zpp_inner.colarb.wrap_normal,l=0.661437828,n=0.75;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e=k.zpp_inner.y;
if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();e*=g.zpp_inner.x;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f=k.zpp_inner.x;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();e-=f*g.zpp_inner.y;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f=k.zpp_inner.y;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();var f=f*d.zpp_inner.x,p;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();p=k.zpp_inner.x;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();e<f-p*d.zpp_inner.y&&(l=-l,n=-n);this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(0+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|178.5+(a&255)*(1-0.7)|0}(this),1);if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
g.zpp_inner.validate();e=g.zpp_inner.x;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e+=k.zpp_inner.x*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e-=k.zpp_inner.y*l;if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();f=g.zpp_inner.y;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();
f+=k.zpp_inner.y*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f+=k.zpp_inner.x*l;h||(p=b.a*e+b.b*f+b.tx,f=b.c*e+b.d*f+b.ty,e=p);this.graphics.moveTo(e,f);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();e=d.zpp_inner.x;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e+=k.zpp_inner.x*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
k.zpp_inner.validate();e+=k.zpp_inner.y*l;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();f=d.zpp_inner.y;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f+=k.zpp_inner.y*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f-=k.zpp_inner.x*l;h||(p=b.a*e+b.b*f+b.tx,f=b.c*e+b.d*f+b.ty,e=p);this.graphics.lineTo(e,f);this.graphics.lineStyle(this.outer_zn.thickness,
function(a){a=~a.bg_col;return-16777216|(178.5+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|0+(a&255)*(1-0.7)|0}(this),1);if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();e=g.zpp_inner.x;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e-=k.zpp_inner.x*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e-=k.zpp_inner.y*l;if(null!=
g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();f=g.zpp_inner.y;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f-=k.zpp_inner.y*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f+=k.zpp_inner.x*l;h||(p=b.a*e+b.b*f+b.tx,f=b.c*e+b.d*f+b.ty,e=p);this.graphics.moveTo(e,f);if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
d.zpp_inner.validate();e=d.zpp_inner.x;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e-=k.zpp_inner.x*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();e+=k.zpp_inner.y*l;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();f=d.zpp_inner.y;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();
n=f-k.zpp_inner.y*n;if(null!=k&&k.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";k.zpp_inner.validate();f=n-k.zpp_inner.x*l;h||(k=b.a*e+b.b*f+b.tx,f=b.c*e+b.d*f+b.ty,e=k);this.graphics.lineTo(e,f);if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";g.zpp_inner.validate();e=g.zpp_inner.x;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();k=0.5*(e+d.zpp_inner.x);if(null!=g&&g.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";
g.zpp_inner.validate();g=g.zpp_inner.y;if(null!=d&&d.zpp_disp)throw"Error: Vec2 has been disposed and cannot be used!";d.zpp_inner.validate();d=0.5*(g+d.zpp_inner.y);h||(g=b.a*k+b.b*d+b.tx,d=b.c*k+b.d*d+b.ty,k=g)}else{if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&a.zpp_inner.colarb.setupcontacts();k=a.zpp_inner.colarb.wrap_contacts.at(0).get_position().get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_contacts&&
a.zpp_inner.colarb.setupcontacts();d=a.zpp_inner.colarb.wrap_contacts.at(0).get_position().get_y();h||(g=b.a*k+b.b*d+b.tx,d=b.c*k+b.d*d+b.ty,k=g);this.graphics.lineStyle(this.outer_zn.thickness,function(a){a=~a.bg_col;return-16777216|(178.5+(a>>16&255)*(1-0.7)|0)<<16|(0+(a>>8&255)*(1-0.7)|0)<<8|178.5+(a&255)*(1-0.7)|0}(this),1);this.graphics.drawCircle(k,d,1)}this.graphics.lineStyle(this.outer_zn.thickness,function(a){var b=~a.bg_col;a=a.bg_col;return-16777216|(0.7*(b>>16&255)+(a>>16&255)*(1-0.7)|
0)<<16|(0.7*(b>>8&255)+(a>>8&255)*(1-0.7)|0)<<8|0.7*(b&255)+(a&255)*(1-0.7)|0}(this),1);this.graphics.moveTo(k,d);if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();e=5*a.zpp_inner.colarb.wrap_normal.get_x();if(!a.zpp_inner.active)throw"Error: Arbiter not currently in use";null==a.zpp_inner.colarb.wrap_normal&&a.zpp_inner.colarb.getnormal();f=5*a.zpp_inner.colarb.wrap_normal.get_y();h||(h=b.a*e+b.b*f,f=b.c*e+b.d*f,
e=h);this.graphics.lineTo(k+e,d+f)}}},__class__:c.util.ZPP_ShapeDebug});c.util.Hashable2_Boolfalse=function(){this.id=this.di=0;this.next=this.hnext=null;this.value=!1};n["zpp_nape.util.Hashable2_Boolfalse"]=c.util.Hashable2_Boolfalse;c.util.Hashable2_Boolfalse.__name__=["zpp_nape","util","Hashable2_Boolfalse"];c.util.Hashable2_Boolfalse.get=function(a,b,d){a=c.util.Hashable2_Boolfalse.getpersist(a,b);a.value=d;return a};c.util.Hashable2_Boolfalse.getpersist=function(a,b){var d;null==c.util.Hashable2_Boolfalse.zpp_pool?
d=new c.util.Hashable2_Boolfalse:(d=c.util.Hashable2_Boolfalse.zpp_pool,c.util.Hashable2_Boolfalse.zpp_pool=d.next,d.next=null);null;d.id=a;d.di=b;return d};c.util.Hashable2_Boolfalse.ordered_get=function(a,b,d){return a<=b?c.util.Hashable2_Boolfalse.get(a,b,d):c.util.Hashable2_Boolfalse.get(b,a,d)};c.util.Hashable2_Boolfalse.ordered_get_persist=function(a,b){return a<=b?c.util.Hashable2_Boolfalse.getpersist(a,b):c.util.Hashable2_Boolfalse.getpersist(b,a)};c.util.Hashable2_Boolfalse.prototype={free:function(){},
alloc:function(){},__class__:c.util.Hashable2_Boolfalse};c.util.FastHash2_Hashable2_Boolfalse=function(){this.cnt=0;this.table=null;this.cnt=0;this.table=[];for(var a=0;1048576>a;)a++,this.table.push(null)};n["zpp_nape.util.FastHash2_Hashable2_Boolfalse"]=c.util.FastHash2_Hashable2_Boolfalse;c.util.FastHash2_Hashable2_Boolfalse.__name__=["zpp_nape","util","FastHash2_Hashable2_Boolfalse"];c.util.FastHash2_Hashable2_Boolfalse.prototype={empty:function(){return 0==this.cnt},clear:function(){for(var a=
0,b=this.table.length;a<b;){var d=a++,c=this.table[d];if(null!=c){for(;null!=c;){var e=c.hnext;c.hnext=null;c;c=e}this.table[d]=null}}},get:function(a,b){var d=this.table[106039*a+b&1048575];if(null==d)return null;if(d.id!=a||d.di!=b){do d=d.hnext;while(null!=d&&(d.id!=a||d.di!=b))}return d},ordered_get:function(a,b){if(a>b){var d=a;a=b;b=d}return this.get(a,b)},has:function(a,b){var d=this.table[106039*a+b&1048575];if(null==d)return!1;if(d.id==a&&d.di==b)return!0;do d=d.hnext;while(null!=d&&(d.id!=
a||d.di!=b));return null!=d},maybeAdd:function(a){var b=106039*a.id+a.di&1048575,d=this.table[b];null==d?(this.table[b]=a,a.hnext=null):(a.hnext=d.hnext,d.hnext=a);this.cnt++},add:function(a){var b=106039*a.id+a.di&1048575,d=this.table[b];null==d?(this.table[b]=a,a.hnext=null):(a.hnext=d.hnext,d.hnext=a);this.cnt++},remove:function(a){var b=106039*a.id+a.di&1048575,d=this.table[b];if(d==a)this.table[b]=d.hnext;else if(null!=d){do b=d,d=d.hnext;while(null!=d&&d!=a);b.hnext=d.hnext}a.hnext=null;this.cnt--},
hash:function(a,b){return 106039*a+b&1048575},__class__:c.util.FastHash2_Hashable2_Boolfalse};c.util.ZNPList_ZPP_CallbackSet=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_CallbackSet"]=c.util.ZNPList_ZPP_CallbackSet;c.util.ZNPList_ZPP_CallbackSet.__name__=["zpp_nape","util","ZNPList_ZPP_CallbackSet"];c.util.ZNPList_ZPP_CallbackSet.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CallbackSet.zpp_pool?b=new c.util.ZNPNode_ZPP_CallbackSet:(b=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CallbackSet.zpp_pool?
d=new c.util.ZNPNode_ZPP_CallbackSet:(d=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool,c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool;c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=
!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},
erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CallbackSet.zpp_pool;c.util.ZNPNode_ZPP_CallbackSet.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=
this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CallbackSet};c.util.ZNPList_ZPP_Body=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Body"]=c.util.ZNPList_ZPP_Body;c.util.ZNPList_ZPP_Body.__name__=["zpp_nape","util","ZNPList_ZPP_Body"];c.util.ZNPList_ZPP_Body.prototype={begin:function(){return this.head},
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Body.zpp_pool?b=new c.util.ZNPNode_ZPP_Body:(b=c.util.ZNPNode_ZPP_Body.zpp_pool,c.util.ZNPNode_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_Body.zpp_pool?d=new c.util.ZNPNode_ZPP_Body:(d=c.util.ZNPNode_ZPP_Body.zpp_pool,c.util.ZNPNode_ZPP_Body.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Body.zpp_pool;c.util.ZNPNode_ZPP_Body.zpp_pool=a;null==this.head&&(this.pushmod=
!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=
!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Body.zpp_pool;c.util.ZNPNode_ZPP_Body.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=
this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Body};c.util.ZNPList_ZPP_Compound=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Compound"]=c.util.ZNPList_ZPP_Compound;c.util.ZNPList_ZPP_Compound.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"];c.util.ZNPList_ZPP_Compound.prototype=
{begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Compound.zpp_pool?b=new c.util.ZNPNode_ZPP_Compound:(b=c.util.ZNPNode_ZPP_Compound.zpp_pool,c.util.ZNPNode_ZPP_Compound.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,
b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Compound.zpp_pool?d=new c.util.ZNPNode_ZPP_Compound:(d=c.util.ZNPNode_ZPP_Compound.zpp_pool,c.util.ZNPNode_ZPP_Compound.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Compound.zpp_pool;
c.util.ZNPNode_ZPP_Compound.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Compound.zpp_pool;c.util.ZNPNode_ZPP_Compound.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&
null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=
d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Compound};c.util.ZNPList_ZPP_Arbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Arbiter"]=c.util.ZNPList_ZPP_Arbiter;
c.util.ZNPList_ZPP_Arbiter.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"];c.util.ZNPList_ZPP_Arbiter.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Arbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_Arbiter:(b=c.util.ZNPNode_ZPP_Arbiter.zpp_pool,c.util.ZNPNode_ZPP_Arbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;
this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Arbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_Arbiter:(d=c.util.ZNPNode_ZPP_Arbiter.zpp_pool,c.util.ZNPNode_ZPP_Arbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},
inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Arbiter.zpp_pool;c.util.ZNPNode_ZPP_Arbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},
inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Arbiter.zpp_pool;c.util.ZNPNode_ZPP_Arbiter.zpp_pool=
a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Arbiter};c.util.ZNPList_ZPP_CbSetPair=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};
n["zpp_nape.util.ZNPList_ZPP_CbSetPair"]=c.util.ZNPList_ZPP_CbSetPair;c.util.ZNPList_ZPP_CbSetPair.__name__=["zpp_nape","util","ZNPList_ZPP_CbSetPair"];c.util.ZNPList_ZPP_CbSetPair.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CbSetPair.zpp_pool?b=new c.util.ZNPNode_ZPP_CbSetPair:(b=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CbSetPair.zpp_pool?d=new c.util.ZNPNode_ZPP_CbSetPair:(d=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool,c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,
a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool;c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CbSetPair.zpp_pool;c.util.ZNPNode_ZPP_CbSetPair.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=
!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CbSetPair};
c.util.ZNPList_ZPP_CutInt=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_CutInt"]=c.util.ZNPList_ZPP_CutInt;c.util.ZNPList_ZPP_CutInt.__name__=["zpp_nape","util","ZNPList_ZPP_CutInt"];c.util.ZNPList_ZPP_CutInt.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CutInt.zpp_pool?b=new c.util.ZNPNode_ZPP_CutInt:
(b=c.util.ZNPNode_ZPP_CutInt.zpp_pool,c.util.ZNPNode_ZPP_CutInt.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CutInt.zpp_pool?d=new c.util.ZNPNode_ZPP_CutInt:(d=c.util.ZNPNode_ZPP_CutInt.zpp_pool,c.util.ZNPNode_ZPP_CutInt.zpp_pool=d.next,d.next=null);null;
d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutInt.zpp_pool;c.util.ZNPNode_ZPP_CutInt.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},
remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&
(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutInt.zpp_pool;c.util.ZNPNode_ZPP_CutInt.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=
null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},
at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CutInt};c.util.ZNPList_ZPP_CutVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_CutVert"]=c.util.ZNPList_ZPP_CutVert;c.util.ZNPList_ZPP_CutVert.__name__=["zpp_nape","util","ZNPList_ZPP_CutVert"];c.util.ZNPList_ZPP_CutVert.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_CutVert.zpp_pool?b=new c.util.ZNPNode_ZPP_CutVert:(b=c.util.ZNPNode_ZPP_CutVert.zpp_pool,c.util.ZNPNode_ZPP_CutVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_CutVert.zpp_pool?d=new c.util.ZNPNode_ZPP_CutVert:
(d=c.util.ZNPNode_ZPP_CutVert.zpp_pool,c.util.ZNPNode_ZPP_CutVert.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutVert.zpp_pool;c.util.ZNPNode_ZPP_CutVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_CutVert.zpp_pool;c.util.ZNPNode_ZPP_CutVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_CutVert};c.util.ZNPList_ZPP_PartitionVertex=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_PartitionVertex"]=c.util.ZNPList_ZPP_PartitionVertex;c.util.ZNPList_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionVertex"];c.util.ZNPList_ZPP_PartitionVertex.prototype={begin:function(){return this.head},
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZNPNode_ZPP_PartitionVertex:(b=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,
b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool?d=new c.util.ZNPNode_ZPP_PartitionVertex:(d=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool,c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=
null;a.next=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool;c.util.ZNPNode_ZPP_PartitionVertex.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_PartitionVertex};c.util.ZNPList_ZPP_PartitionedPoly=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_PartitionedPoly"]=
c.util.ZNPList_ZPP_PartitionedPoly;c.util.ZNPList_ZPP_PartitionedPoly.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionedPoly"];c.util.ZNPList_ZPP_PartitionedPoly.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool?b=new c.util.ZNPNode_ZPP_PartitionedPoly:(b=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=
b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool?d=new c.util.ZNPNode_ZPP_PartitionedPoly:(d=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool,c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=
d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},
try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=
d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool;c.util.ZNPNode_ZPP_PartitionedPoly.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;
a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);
return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_PartitionedPoly};c.util.ZNPList_ZPP_SimplifyP=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_SimplifyP"]=c.util.ZNPList_ZPP_SimplifyP;c.util.ZNPList_ZPP_SimplifyP.__name__=["zpp_nape","util","ZNPList_ZPP_SimplifyP"];c.util.ZNPList_ZPP_SimplifyP.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SimplifyP.zpp_pool?b=new c.util.ZNPNode_ZPP_SimplifyP:(b=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SimplifyP.zpp_pool?d=new c.util.ZNPNode_ZPP_SimplifyP:
(d=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool,c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool;c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimplifyP.zpp_pool;c.util.ZNPNode_ZPP_SimplifyP.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_SimplifyP};c.util.ZNPList_ZPP_GeomVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_GeomVert"]=c.util.ZNPList_ZPP_GeomVert;c.util.ZNPList_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPList_ZPP_GeomVert"];c.util.ZNPList_ZPP_GeomVert.prototype={begin:function(){return this.head},setbegin:function(a){this.head=
a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_GeomVert.zpp_pool?b=new c.util.ZNPNode_ZPP_GeomVert:(b=c.util.ZNPNode_ZPP_GeomVert.zpp_pool,c.util.ZNPNode_ZPP_GeomVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,
b){var d;null==c.util.ZNPNode_ZPP_GeomVert.zpp_pool?d=new c.util.ZNPNode_ZPP_GeomVert:(d=c.util.ZNPNode_ZPP_GeomVert.zpp_pool,c.util.ZNPNode_ZPP_GeomVert.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomVert.zpp_pool;c.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;null==
this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);
c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomVert.zpp_pool;c.util.ZNPNode_ZPP_GeomVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},
back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_GeomVert};c.util.ZNPList_ZPP_SimpleVert=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_SimpleVert"]=c.util.ZNPList_ZPP_SimpleVert;c.util.ZNPList_ZPP_SimpleVert.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleVert"];
c.util.ZNPList_ZPP_SimpleVert.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SimpleVert.zpp_pool?b=new c.util.ZNPNode_ZPP_SimpleVert:(b=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=
a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SimpleVert.zpp_pool?d=new c.util.ZNPNode_ZPP_SimpleVert:(d=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool,c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=
this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool;c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},
inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleVert.zpp_pool;c.util.ZNPNode_ZPP_SimpleVert.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=
!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;
b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_SimpleVert};c.util.ZNPList_ZPP_SimpleEvent=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_SimpleEvent"]=
c.util.ZNPList_ZPP_SimpleEvent;c.util.ZNPList_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleEvent"];c.util.ZNPList_ZPP_SimpleEvent.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZNPNode_ZPP_SimpleEvent:(b=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=b.next,
b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool?d=new c.util.ZNPNode_ZPP_SimpleEvent:(d=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool,c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,
a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool;c.util.ZNPNode_ZPP_SimpleEvent.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=
this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},
__class__:c.util.ZNPList_ZPP_SimpleEvent};c.util.ZNPList_ZPP_AABBPair=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_AABBPair"]=c.util.ZNPList_ZPP_AABBPair;c.util.ZNPList_ZPP_AABBPair.__name__=["zpp_nape","util","ZNPList_ZPP_AABBPair"];c.util.ZNPList_ZPP_AABBPair.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==c.util.ZNPNode_ZPP_AABBPair.zpp_pool?b=new c.util.ZNPNode_ZPP_AABBPair:(b=c.util.ZNPNode_ZPP_AABBPair.zpp_pool,c.util.ZNPNode_ZPP_AABBPair.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_AABBPair.zpp_pool?d=new c.util.ZNPNode_ZPP_AABBPair:(d=c.util.ZNPNode_ZPP_AABBPair.zpp_pool,
c.util.ZNPNode_ZPP_AABBPair.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBPair.zpp_pool;c.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,
this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBPair.zpp_pool;c.util.ZNPNode_ZPP_AABBPair.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_AABBPair};c.util.ZNPList_ZPP_Edge=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Edge"]=c.util.ZNPList_ZPP_Edge;c.util.ZNPList_ZPP_Edge.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"];c.util.ZNPList_ZPP_Edge.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},
inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Edge.zpp_pool?b=new c.util.ZNPNode_ZPP_Edge:(b=c.util.ZNPNode_ZPP_Edge.zpp_pool,c.util.ZNPNode_ZPP_Edge.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Edge.zpp_pool?d=new c.util.ZNPNode_ZPP_Edge:(d=c.util.ZNPNode_ZPP_Edge.zpp_pool,
c.util.ZNPNode_ZPP_Edge.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Edge.zpp_pool;c.util.ZNPNode_ZPP_Edge.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,
this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Edge.zpp_pool;c.util.ZNPNode_ZPP_Edge.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Edge};c.util.ZNPList_ZPP_AABBNode=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_AABBNode"]=c.util.ZNPList_ZPP_AABBNode;c.util.ZNPList_ZPP_AABBNode.__name__=["zpp_nape","util","ZNPList_ZPP_AABBNode"];c.util.ZNPList_ZPP_AABBNode.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},
add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_AABBNode.zpp_pool?b=new c.util.ZNPNode_ZPP_AABBNode:(b=c.util.ZNPNode_ZPP_AABBNode.zpp_pool,c.util.ZNPNode_ZPP_AABBNode.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_AABBNode.zpp_pool?
d=new c.util.ZNPNode_ZPP_AABBNode:(d=c.util.ZNPNode_ZPP_AABBNode.zpp_pool,c.util.ZNPNode_ZPP_AABBNode.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBNode.zpp_pool;c.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},
pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},
inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_AABBNode.zpp_pool;c.util.ZNPNode_ZPP_AABBNode.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;
return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_AABBNode};c.util.ZNPList_ZPP_Component=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Component"]=c.util.ZNPList_ZPP_Component;c.util.ZNPList_ZPP_Component.__name__=["zpp_nape","util","ZNPList_ZPP_Component"];c.util.ZNPList_ZPP_Component.prototype={begin:function(){return this.head},
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_Component.zpp_pool?b=new c.util.ZNPNode_ZPP_Component:(b=c.util.ZNPNode_ZPP_Component.zpp_pool,c.util.ZNPNode_ZPP_Component.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,
b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Component.zpp_pool?d=new c.util.ZNPNode_ZPP_Component:(d=c.util.ZNPNode_ZPP_Component.zpp_pool,c.util.ZNPNode_ZPP_Component.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Component.zpp_pool;c.util.ZNPNode_ZPP_Component.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Component.zpp_pool;c.util.ZNPNode_ZPP_Component.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Component};c.util.ZNPList_ZPP_InteractionGroup=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_InteractionGroup"]=c.util.ZNPList_ZPP_InteractionGroup;c.util.ZNPList_ZPP_InteractionGroup.__name__=
["zpp_nape","util","ZNPList_ZPP_InteractionGroup"];c.util.ZNPList_ZPP_InteractionGroup.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool?b=new c.util.ZNPNode_ZPP_InteractionGroup:(b=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;
this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool?d=new c.util.ZNPNode_ZPP_InteractionGroup:(d=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool,c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=
this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool;c.util.ZNPNode_ZPP_InteractionGroup.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=
this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},
__class__:c.util.ZNPList_ZPP_InteractionGroup};c.util.ZNPList_ZPP_ColArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_ColArbiter"]=c.util.ZNPList_ZPP_ColArbiter;c.util.ZNPList_ZPP_ColArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_ColArbiter"];c.util.ZNPList_ZPP_ColArbiter.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==c.util.ZNPNode_ZPP_ColArbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_ColArbiter:(b=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_ColArbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_ColArbiter:
(d=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool,c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool;c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},
inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,
d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_ColArbiter.zpp_pool;c.util.ZNPNode_ZPP_ColArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();
this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_ColArbiter};c.util.ZNPList_ZPP_FluidArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_FluidArbiter"]=c.util.ZNPList_ZPP_FluidArbiter;c.util.ZNPList_ZPP_FluidArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_FluidArbiter"];c.util.ZNPList_ZPP_FluidArbiter.prototype={begin:function(){return this.head},setbegin:function(a){this.head=
a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_FluidArbiter:(b=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},
inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_FluidArbiter:(d=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool,c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;
c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool;c.util.ZNPNode_ZPP_FluidArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<
b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=
d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_FluidArbiter};c.util.ZNPList_ZPP_SensorArbiter=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_SensorArbiter"]=c.util.ZNPList_ZPP_SensorArbiter;
c.util.ZNPList_ZPP_SensorArbiter.__name__=["zpp_nape","util","ZNPList_ZPP_SensorArbiter"];c.util.ZNPList_ZPP_SensorArbiter.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool?b=new c.util.ZNPNode_ZPP_SensorArbiter:(b=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=b.next,b.next=null);
null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool?d=new c.util.ZNPNode_ZPP_SensorArbiter:(d=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool,c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=
d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=
null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));
a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool;c.util.ZNPNode_ZPP_SensorArbiter.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=
this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},
__class__:c.util.ZNPList_ZPP_SensorArbiter};c.util.ZNPList_ZPP_Listener=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_Listener"]=c.util.ZNPList_ZPP_Listener;c.util.ZNPList_ZPP_Listener.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"];c.util.ZNPList_ZPP_Listener.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;
null==c.util.ZNPNode_ZPP_Listener.zpp_pool?b=new c.util.ZNPNode_ZPP_Listener:(b=c.util.ZNPNode_ZPP_Listener.zpp_pool,c.util.ZNPNode_ZPP_Listener.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_Listener.zpp_pool?d=new c.util.ZNPNode_ZPP_Listener:(d=c.util.ZNPNode_ZPP_Listener.zpp_pool,
c.util.ZNPNode_ZPP_Listener.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_Listener.zpp_pool;c.util.ZNPNode_ZPP_Listener.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=
this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,
this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_Listener.zpp_pool;c.util.ZNPNode_ZPP_Listener.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=
this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=
b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_Listener};c.util.ZNPList_ZPP_ToiEvent=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_ToiEvent"]=c.util.ZNPList_ZPP_ToiEvent;c.util.ZNPList_ZPP_ToiEvent.__name__=["zpp_nape","util","ZNPList_ZPP_ToiEvent"];c.util.ZNPList_ZPP_ToiEvent.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=
!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_ToiEvent.zpp_pool?b=new c.util.ZNPNode_ZPP_ToiEvent:(b=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_ToiEvent.zpp_pool?
d=new c.util.ZNPNode_ZPP_ToiEvent:(d=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool,c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool;c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},
pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},
inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_ToiEvent.zpp_pool;c.util.ZNPNode_ZPP_ToiEvent.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=
this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;
return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_ToiEvent};c.util.ZNPList_ConvexResult=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ConvexResult"]=c.util.ZNPList_ConvexResult;c.util.ZNPList_ConvexResult.__name__=["zpp_nape","util","ZNPList_ConvexResult"];c.util.ZNPList_ConvexResult.prototype={begin:function(){return this.head},
setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ConvexResult.zpp_pool?b=new c.util.ZNPNode_ConvexResult:(b=c.util.ZNPNode_ConvexResult.zpp_pool,c.util.ZNPNode_ConvexResult.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,
b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ConvexResult.zpp_pool?d=new c.util.ZNPNode_ConvexResult:(d=c.util.ZNPNode_ConvexResult.zpp_pool,c.util.ZNPNode_ConvexResult.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ConvexResult.zpp_pool;c.util.ZNPNode_ConvexResult.zpp_pool=
a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==
a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ConvexResult.zpp_pool;c.util.ZNPNode_ConvexResult.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},
clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},
front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ConvexResult};c.util.ZNPList_ZPP_GeomPoly=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};n["zpp_nape.util.ZNPList_ZPP_GeomPoly"]=c.util.ZNPList_ZPP_GeomPoly;c.util.ZNPList_ZPP_GeomPoly.__name__=
["zpp_nape","util","ZNPList_ZPP_GeomPoly"];c.util.ZNPList_ZPP_GeomPoly.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_ZPP_GeomPoly.zpp_pool?b=new c.util.ZNPNode_ZPP_GeomPoly:(b=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=b.next,b.next=null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;
return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_ZPP_GeomPoly.zpp_pool?d=new c.util.ZNPNode_ZPP_GeomPoly:(d=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool,c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=!0;this.length++;return d},pop:function(){this.inlined_pop()},
inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool;c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},
inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_ZPP_GeomPoly.zpp_pool;c.util.ZNPNode_ZPP_GeomPoly.zpp_pool=
a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},has:function(a){return this.inlined_has(a)},
inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_ZPP_GeomPoly};c.util.ZNPList_RayResult=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};
n["zpp_nape.util.ZNPList_RayResult"]=c.util.ZNPList_RayResult;c.util.ZNPList_RayResult.__name__=["zpp_nape","util","ZNPList_RayResult"];c.util.ZNPList_RayResult.prototype={begin:function(){return this.head},setbegin:function(a){this.head=a;this.pushmod=this.modified=!0},add:function(a){return this.inlined_add(a)},inlined_add:function(a){var b;null==c.util.ZNPNode_RayResult.zpp_pool?b=new c.util.ZNPNode_RayResult:(b=c.util.ZNPNode_RayResult.zpp_pool,c.util.ZNPNode_RayResult.zpp_pool=b.next,b.next=
null);null;b.elt=a;b.next=this.head;this.head=b;this.modified=!0;this.length++;return a},addAll:function(a){for(a=a.head;null!=a;)this.add(a.elt),a=a.next},insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var d;null==c.util.ZNPNode_RayResult.zpp_pool?d=new c.util.ZNPNode_RayResult:(d=c.util.ZNPNode_RayResult.zpp_pool,c.util.ZNPNode_RayResult.zpp_pool=d.next,d.next=null);null;d.elt=b;null==a?(d.next=this.head,this.head=d):(d.next=a.next,a.next=d);this.pushmod=this.modified=
!0;this.length++;return d},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=c.util.ZNPNode_RayResult.zpp_pool;c.util.ZNPNode_RayResult.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},remove:function(a){this.inlined_try_remove(a)},try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=
d;){if(d.elt==a){this.erase(b);c=!0;break}b=d;d=d.next}return c},inlined_remove:function(a){this.inlined_try_remove(a)},inlined_try_remove:function(a){for(var b=null,d=this.head,c=!1;null!=d;){if(d.elt==a){this.inlined_erase(b);c=!0;break}b=d;d=d.next}return c},erase:function(a){return this.inlined_erase(a)},inlined_erase:function(a){var b,d;null==a?(b=this.head,this.head=d=b.next,null==this.head&&(this.pushmod=!0)):(b=a.next,d=b.next,a.next=d,null==d&&(this.pushmod=!0));a=b;a.elt=null;a.next=c.util.ZNPNode_RayResult.zpp_pool;
c.util.ZNPNode_RayResult.zpp_pool=a;this.modified=!0;this.length--;this.pushmod=!0;return d},splice:function(a,b){for(;0<b--&&null!=a.next;)this.erase(a);return a.next},clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},inlined_clear:function(){for(;null!=this.head;)this.inlined_pop();this.pushmod=!0},reverse:function(){for(var a=this.head,b=null;null!=a;){var d=a.next;a.next=b;b=this.head=a;a=d}this.pushmod=this.modified=!0},empty:function(){return null==this.head},size:function(){return this.length},
has:function(a){return this.inlined_has(a)},inlined_has:function(a){var b;b=!1;for(var d=this.head;null!=d;){if(d.elt==a){b=!0;break}d=d.next}return b},front:function(){return this.head.elt},back:function(){for(var a=this.head,b=a;null!=b;)a=b,b=b.next;return a.elt},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},at:function(a){a=this.iterator_at(a);return null!=a?a.elt:null},__class__:c.util.ZNPList_RayResult};c.util.ZNPNode_ZPP_CbType=function(){this.next=this.elt=
null};n["zpp_nape.util.ZNPNode_ZPP_CbType"]=c.util.ZNPNode_ZPP_CbType;c.util.ZNPNode_ZPP_CbType.__name__=["zpp_nape","util","ZNPNode_ZPP_CbType"];c.util.ZNPNode_ZPP_CbType.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CbType};c.util.ZNPNode_ZPP_CallbackSet=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_CallbackSet"]=c.util.ZNPNode_ZPP_CallbackSet;c.util.ZNPNode_ZPP_CallbackSet.__name__=["zpp_nape","util",
"ZNPNode_ZPP_CallbackSet"];c.util.ZNPNode_ZPP_CallbackSet.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CallbackSet};c.util.ZNPNode_ZPP_Shape=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Shape"]=c.util.ZNPNode_ZPP_Shape;c.util.ZNPNode_ZPP_Shape.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"];c.util.ZNPNode_ZPP_Shape.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},
__class__:c.util.ZNPNode_ZPP_Shape};c.util.ZNPNode_ZPP_Body=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Body"]=c.util.ZNPNode_ZPP_Body;c.util.ZNPNode_ZPP_Body.__name__=["zpp_nape","util","ZNPNode_ZPP_Body"];c.util.ZNPNode_ZPP_Body.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Body};c.util.ZNPNode_ZPP_Constraint=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Constraint"]=c.util.ZNPNode_ZPP_Constraint;
c.util.ZNPNode_ZPP_Constraint.__name__=["zpp_nape","util","ZNPNode_ZPP_Constraint"];c.util.ZNPNode_ZPP_Constraint.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Constraint};c.util.ZNPNode_ZPP_Compound=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Compound"]=c.util.ZNPNode_ZPP_Compound;c.util.ZNPNode_ZPP_Compound.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"];c.util.ZNPNode_ZPP_Compound.prototype={alloc:function(){},
free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Compound};c.util.ZNPNode_ZPP_Arbiter=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Arbiter"]=c.util.ZNPNode_ZPP_Arbiter;c.util.ZNPNode_ZPP_Arbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"];c.util.ZNPNode_ZPP_Arbiter.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Arbiter};c.util.ZNPNode_ZPP_InteractionListener=
function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_InteractionListener"]=c.util.ZNPNode_ZPP_InteractionListener;c.util.ZNPNode_ZPP_InteractionListener.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionListener"];c.util.ZNPNode_ZPP_InteractionListener.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_InteractionListener};c.util.ZNPNode_ZPP_CbSet=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_CbSet"]=
c.util.ZNPNode_ZPP_CbSet;c.util.ZNPNode_ZPP_CbSet.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSet"];c.util.ZNPNode_ZPP_CbSet.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CbSet};c.util.ZNPNode_ZPP_Interactor=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Interactor"]=c.util.ZNPNode_ZPP_Interactor;c.util.ZNPNode_ZPP_Interactor.__name__=["zpp_nape","util","ZNPNode_ZPP_Interactor"];c.util.ZNPNode_ZPP_Interactor.prototype=
{alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Interactor};c.util.ZNPNode_ZPP_BodyListener=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_BodyListener"]=c.util.ZNPNode_ZPP_BodyListener;c.util.ZNPNode_ZPP_BodyListener.__name__=["zpp_nape","util","ZNPNode_ZPP_BodyListener"];c.util.ZNPNode_ZPP_BodyListener.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_BodyListener};
c.util.ZNPNode_ZPP_CbSetPair=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_CbSetPair"]=c.util.ZNPNode_ZPP_CbSetPair;c.util.ZNPNode_ZPP_CbSetPair.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSetPair"];c.util.ZNPNode_ZPP_CbSetPair.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CbSetPair};c.util.ZNPNode_ZPP_ConstraintListener=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_ConstraintListener"]=
c.util.ZNPNode_ZPP_ConstraintListener;c.util.ZNPNode_ZPP_ConstraintListener.__name__=["zpp_nape","util","ZNPNode_ZPP_ConstraintListener"];c.util.ZNPNode_ZPP_ConstraintListener.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_ConstraintListener};c.util.ZNPNode_ZPP_CutInt=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_CutInt"]=c.util.ZNPNode_ZPP_CutInt;c.util.ZNPNode_ZPP_CutInt.__name__=["zpp_nape","util","ZNPNode_ZPP_CutInt"];
c.util.ZNPNode_ZPP_CutInt.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CutInt};c.util.ZNPNode_ZPP_CutVert=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_CutVert"]=c.util.ZNPNode_ZPP_CutVert;c.util.ZNPNode_ZPP_CutVert.__name__=["zpp_nape","util","ZNPNode_ZPP_CutVert"];c.util.ZNPNode_ZPP_CutVert.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_CutVert};
c.util.ZNPNode_ZPP_PartitionVertex=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_PartitionVertex"]=c.util.ZNPNode_ZPP_PartitionVertex;c.util.ZNPNode_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionVertex"];c.util.ZNPNode_ZPP_PartitionVertex.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_PartitionVertex};c.util.ZNPNode_ZPP_PartitionedPoly=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_PartitionedPoly"]=
c.util.ZNPNode_ZPP_PartitionedPoly;c.util.ZNPNode_ZPP_PartitionedPoly.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionedPoly"];c.util.ZNPNode_ZPP_PartitionedPoly.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_PartitionedPoly};c.util.ZNPNode_ZPP_SimplifyP=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_SimplifyP"]=c.util.ZNPNode_ZPP_SimplifyP;c.util.ZNPNode_ZPP_SimplifyP.__name__=["zpp_nape","util","ZNPNode_ZPP_SimplifyP"];
c.util.ZNPNode_ZPP_SimplifyP.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SimplifyP};c.util.ZNPNode_ZPP_GeomVert=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_GeomVert"]=c.util.ZNPNode_ZPP_GeomVert;c.util.ZNPNode_ZPP_GeomVert.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomVert"];c.util.ZNPNode_ZPP_GeomVert.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_GeomVert};
c.util.ZNPNode_ZPP_SimpleVert=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_SimpleVert"]=c.util.ZNPNode_ZPP_SimpleVert;c.util.ZNPNode_ZPP_SimpleVert.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleVert"];c.util.ZNPNode_ZPP_SimpleVert.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SimpleVert};c.util.ZNPNode_ZPP_SimpleEvent=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_SimpleEvent"]=c.util.ZNPNode_ZPP_SimpleEvent;
c.util.ZNPNode_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleEvent"];c.util.ZNPNode_ZPP_SimpleEvent.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SimpleEvent};c.util.ZNPNode_ZPP_AABBPair=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_AABBPair"]=c.util.ZNPNode_ZPP_AABBPair;c.util.ZNPNode_ZPP_AABBPair.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBPair"];c.util.ZNPNode_ZPP_AABBPair.prototype=
{alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_AABBPair};c.util.ZNPNode_ZPP_Vec2=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Vec2"]=c.util.ZNPNode_ZPP_Vec2;c.util.ZNPNode_ZPP_Vec2.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"];c.util.ZNPNode_ZPP_Vec2.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Vec2};c.util.ZNPNode_ZPP_Edge=function(){this.next=
this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Edge"]=c.util.ZNPNode_ZPP_Edge;c.util.ZNPNode_ZPP_Edge.__name__=["zpp_nape","util","ZNPNode_ZPP_Edge"];c.util.ZNPNode_ZPP_Edge.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Edge};c.util.ZNPNode_ZPP_AABBNode=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_AABBNode"]=c.util.ZNPNode_ZPP_AABBNode;c.util.ZNPNode_ZPP_AABBNode.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBNode"];
c.util.ZNPNode_ZPP_AABBNode.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_AABBNode};c.util.ZNPNode_ZPP_Component=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Component"]=c.util.ZNPNode_ZPP_Component;c.util.ZNPNode_ZPP_Component.__name__=["zpp_nape","util","ZNPNode_ZPP_Component"];c.util.ZNPNode_ZPP_Component.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},
__class__:c.util.ZNPNode_ZPP_Component};c.util.ZNPNode_ZPP_InteractionGroup=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"]=c.util.ZNPNode_ZPP_InteractionGroup;c.util.ZNPNode_ZPP_InteractionGroup.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionGroup"];c.util.ZNPNode_ZPP_InteractionGroup.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_InteractionGroup};c.util.ZNPNode_ZPP_ColArbiter=function(){this.next=
this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_ColArbiter"]=c.util.ZNPNode_ZPP_ColArbiter;c.util.ZNPNode_ZPP_ColArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_ColArbiter"];c.util.ZNPNode_ZPP_ColArbiter.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_ColArbiter};c.util.ZNPNode_ZPP_FluidArbiter=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_FluidArbiter"]=c.util.ZNPNode_ZPP_FluidArbiter;c.util.ZNPNode_ZPP_FluidArbiter.__name__=
["zpp_nape","util","ZNPNode_ZPP_FluidArbiter"];c.util.ZNPNode_ZPP_FluidArbiter.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_FluidArbiter};c.util.ZNPNode_ZPP_SensorArbiter=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_SensorArbiter"]=c.util.ZNPNode_ZPP_SensorArbiter;c.util.ZNPNode_ZPP_SensorArbiter.__name__=["zpp_nape","util","ZNPNode_ZPP_SensorArbiter"];c.util.ZNPNode_ZPP_SensorArbiter.prototype={alloc:function(){},
free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_SensorArbiter};c.util.ZNPNode_ZPP_Listener=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_Listener"]=c.util.ZNPNode_ZPP_Listener;c.util.ZNPNode_ZPP_Listener.__name__=["zpp_nape","util","ZNPNode_ZPP_Listener"];c.util.ZNPNode_ZPP_Listener.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_Listener};c.util.ZNPNode_ZPP_ToiEvent=
function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_ToiEvent"]=c.util.ZNPNode_ZPP_ToiEvent;c.util.ZNPNode_ZPP_ToiEvent.__name__=["zpp_nape","util","ZNPNode_ZPP_ToiEvent"];c.util.ZNPNode_ZPP_ToiEvent.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_ToiEvent};c.util.ZNPNode_ConvexResult=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ConvexResult"]=c.util.ZNPNode_ConvexResult;c.util.ZNPNode_ConvexResult.__name__=
["zpp_nape","util","ZNPNode_ConvexResult"];c.util.ZNPNode_ConvexResult.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_ConvexResult};c.util.ZNPNode_ZPP_GeomPoly=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_ZPP_GeomPoly"]=c.util.ZNPNode_ZPP_GeomPoly;c.util.ZNPNode_ZPP_GeomPoly.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomPoly"];c.util.ZNPNode_ZPP_GeomPoly.prototype={alloc:function(){},free:function(){this.elt=null},
elem:function(){return this.elt},__class__:c.util.ZNPNode_ZPP_GeomPoly};c.util.ZNPNode_RayResult=function(){this.next=this.elt=null};n["zpp_nape.util.ZNPNode_RayResult"]=c.util.ZNPNode_RayResult;c.util.ZNPNode_RayResult.__name__=["zpp_nape","util","ZNPNode_RayResult"];c.util.ZNPNode_RayResult.prototype={alloc:function(){},free:function(){this.elt=null},elem:function(){return this.elt},__class__:c.util.ZNPNode_RayResult};c.util.ZPP_MixVec2List=function(){this.at_index=0;this.at_ite=null;this.zip_length=
!1;this._length=0;this.inner=null;g.geom.Vec2List.call(this);this.at_ite=null;this.at_index=0;this.zip_length=!0;this._length=0};n["zpp_nape.util.ZPP_MixVec2List"]=c.util.ZPP_MixVec2List;c.util.ZPP_MixVec2List.__name__=["zpp_nape","util","ZPP_MixVec2List"];c.util.ZPP_MixVec2List.get=function(a,b){null==b&&(b=!1);var d=new c.util.ZPP_MixVec2List;d.inner=a;d.zpp_inner.immutable=b;return d};c.util.ZPP_MixVec2List.__super__=g.geom.Vec2List;c.util.ZPP_MixVec2List.prototype=K(g.geom.Vec2List.prototype,
{zpp_gl:function(){this.zpp_vm();if(this.zip_length){this._length=0;for(var a=this.inner.next;null!=a;)this._length++,a=a.next;this.zip_length=!1}return this._length},zpp_vm:function(){this.zpp_inner.validate();this.inner.modified&&(this.zip_length=!0,this._length=0,this.at_ite=null)},at:function(a){this.zpp_vm();if(0>a||a>=this.zpp_gl())throw"Error: Index out of bounds";this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.at_index||null==this.at_ite)for(this.at_index=0,this.at_ite=this.inner.next;;)break;
for(;this.at_index!=a;)for(this.at_index++,this.at_ite=this.at_ite.next;;)break;return this.at_ite.wrapper()},push:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();if(a.zpp_inner._inuse)throw"Error: Vec2 is already in use";var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0){if(this.zpp_inner.reverse_flag)this.inner.add(a.zpp_inner);else{var d=this.inner.iterator_at(this.zpp_gl()-1);this.inner.insert(d,a.zpp_inner)}this.zpp_inner.invalidate();
null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a)}return b},unshift:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();this.zpp_vm();if(a.zpp_inner._inuse)throw"Error: Vec2 is already in use";var b;if(b=null!=this.zpp_inner.adder?this.zpp_inner.adder(a):!0){if(this.zpp_inner.reverse_flag){var d=this.inner.iterator_at(this.zpp_gl()-1);this.inner.insert(d,a.zpp_inner)}else this.inner.add(a.zpp_inner);this.zpp_inner.invalidate();null!=
this.zpp_inner.post_adder&&this.zpp_inner.post_adder(a)}return b},pop:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){var a=this.inner.next,b=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(b);this.zpp_inner.dontremove||this.inner.pop()}else{null!=this.at_ite&&null==this.at_ite.next&&(this.at_ite=null);var b=1==
this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2),a=null==b?this.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.inner.erase(b)}this.zpp_inner.invalidate();return a.wrapper()},shift:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";this.zpp_inner.modify_test();if(this.empty())throw"Error: Cannot remove from empty list";this.zpp_vm();var a=null;if(this.zpp_inner.reverse_flag){null!=this.at_ite&&
null==this.at_ite.next&&(this.at_ite=null);var b;b=1==this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2);var a=null==b?this.inner.next:b.next,d=a.wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(d);this.zpp_inner.dontremove||this.inner.erase(b)}else a=this.inner.next,b=a.wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(b),this.zpp_inner.dontremove||this.inner.pop();this.zpp_inner.invalidate();return a.wrapper()},remove:function(a){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";
this.zpp_inner.modify_test();this.zpp_vm();var b;b=!1;for(var d=this.inner.next;null!=d;){if(a.zpp_inner==d){b=!0;break}d=d.next}b&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.inner.remove(a.zpp_inner),this.zpp_inner.invalidate());return b},clear:function(){if(this.zpp_inner.immutable)throw"Error: Vec2List is immutable";if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},__class__:c.util.ZPP_MixVec2List});
c.util.ZPP_ConstraintList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Constraint;this._invalidated=!0};n["zpp_nape.util.ZPP_ConstraintList"]=c.util.ZPP_ConstraintList;c.util.ZPP_ConstraintList.__name__=["zpp_nape","util","ZPP_ConstraintList"];
c.util.ZPP_ConstraintList.get=function(a,b){null==b&&(b=!1);var d=new g.constraint.ConstraintList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ConstraintList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=
this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_ConstraintList};c.util.ZPP_BodyList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=
null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Body;this._invalidated=!0};n["zpp_nape.util.ZPP_BodyList"]=c.util.ZPP_BodyList;c.util.ZPP_BodyList.__name__=["zpp_nape","util","ZPP_BodyList"];c.util.ZPP_BodyList.get=function(a,b){null==b&&(b=!1);var d=new g.phys.BodyList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_BodyList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&
(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_BodyList};c.util.ZPP_InteractorList=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Interactor;this._invalidated=!0};n["zpp_nape.util.ZPP_InteractorList"]=c.util.ZPP_InteractorList;c.util.ZPP_InteractorList.__name__=["zpp_nape","util","ZPP_InteractorList"];c.util.ZPP_InteractorList.get=function(a,
b){null==b&&(b=!1);var d=new g.phys.InteractorList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_InteractorList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_InteractorList};c.util.ZPP_CompoundList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;
this.inner=new c.util.ZNPList_ZPP_Compound;this._invalidated=!0};n["zpp_nape.util.ZPP_CompoundList"]=c.util.ZPP_CompoundList;c.util.ZPP_CompoundList.__name__=["zpp_nape","util","ZPP_CompoundList"];c.util.ZPP_CompoundList.get=function(a,b){null==b&&(b=!1);var d=new g.phys.CompoundList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_CompoundList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),
this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_CompoundList};c.util.ZPP_ListenerList=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Listener;this._invalidated=!0};n["zpp_nape.util.ZPP_ListenerList"]=c.util.ZPP_ListenerList;c.util.ZPP_ListenerList.__name__=["zpp_nape","util","ZPP_ListenerList"];c.util.ZPP_ListenerList.get=function(a,b){null==
b&&(b=!1);var d=new g.callbacks.ListenerList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ListenerList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_ListenerList};c.util.ZPP_CbTypeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=
new c.util.ZNPList_ZPP_CbType;this._invalidated=!0};n["zpp_nape.util.ZPP_CbTypeList"]=c.util.ZPP_CbTypeList;c.util.ZPP_CbTypeList.__name__=["zpp_nape","util","ZPP_CbTypeList"];c.util.ZPP_CbTypeList.get=function(a,b){null==b&&(b=!1);var d=new g.callbacks.CbTypeList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_CbTypeList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=
!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_CbTypeList};c.util.ZPP_Vec2List=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=
null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Vec2;this._invalidated=!0};n["zpp_nape.util.ZPP_Vec2List"]=c.util.ZPP_Vec2List;c.util.ZPP_Vec2List.__name__=["zpp_nape","util","ZPP_Vec2List"];c.util.ZPP_Vec2List.get=function(a,b){null==b&&(b=!1);var d=new g.geom.Vec2List;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=
!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_Vec2List.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=
!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_Vec2List};c.util.ZPP_GeomPolyList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_GeomPoly;this._invalidated=!0};n["zpp_nape.util.ZPP_GeomPolyList"]=c.util.ZPP_GeomPolyList;
c.util.ZPP_GeomPolyList.__name__=["zpp_nape","util","ZPP_GeomPolyList"];c.util.ZPP_GeomPolyList.get=function(a,b){null==b&&(b=!1);var d=new g.geom.GeomPolyList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_GeomPolyList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=
this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_GeomPolyList};c.util.ZPP_RayResultList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=
this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_RayResult;this._invalidated=!0};n["zpp_nape.util.ZPP_RayResultList"]=c.util.ZPP_RayResultList;c.util.ZPP_RayResultList.__name__=["zpp_nape","util","ZPP_RayResultList"];c.util.ZPP_RayResultList.get=function(a,b){null==b&&(b=!1);var d=new g.geom.RayResultList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_RayResultList.prototype=
{valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},
__class__:c.util.ZPP_RayResultList};c.util.ZPP_ConvexResultList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ConvexResult;this._invalidated=!0};n["zpp_nape.util.ZPP_ConvexResultList"]=c.util.ZPP_ConvexResultList;c.util.ZPP_ConvexResultList.__name__=
["zpp_nape","util","ZPP_ConvexResultList"];c.util.ZPP_ConvexResultList.get=function(a,b){null==b&&(b=!1);var d=new g.geom.ConvexResultList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ConvexResultList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=
null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_ConvexResultList};c.util.ZPP_EdgeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=
this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Edge;this._invalidated=!0};n["zpp_nape.util.ZPP_EdgeList"]=c.util.ZPP_EdgeList;c.util.ZPP_EdgeList.__name__=["zpp_nape","util","ZPP_EdgeList"];c.util.ZPP_EdgeList.get=function(a,b){null==b&&(b=!1);var d=new g.shape.EdgeList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_EdgeList.prototype={valmod:function(){this.validate();
this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_EdgeList};
c.util.ZPP_ShapeList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Shape;this._invalidated=!0};n["zpp_nape.util.ZPP_ShapeList"]=c.util.ZPP_ShapeList;c.util.ZPP_ShapeList.__name__=["zpp_nape","util","ZPP_ShapeList"];c.util.ZPP_ShapeList.get=
function(a,b){null==b&&(b=!1);var d=new g.shape.ShapeList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ShapeList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_ShapeList};c.util.ZPP_InteractionGroupList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=
null;this.inner=new c.util.ZNPList_ZPP_InteractionGroup;this._invalidated=!0};n["zpp_nape.util.ZPP_InteractionGroupList"]=c.util.ZPP_InteractionGroupList;c.util.ZPP_InteractionGroupList.__name__=["zpp_nape","util","ZPP_InteractionGroupList"];c.util.ZPP_InteractionGroupList.get=function(a,b){null==b&&(b=!1);var d=new g.dynamics.InteractionGroupList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_InteractionGroupList.prototype={valmod:function(){this.validate();
this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_InteractionGroupList};
c.util.ZPP_ArbiterList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.util.ZNPList_ZPP_Arbiter;this._invalidated=!0};n["zpp_nape.util.ZPP_ArbiterList"]=c.util.ZPP_ArbiterList;c.util.ZPP_ArbiterList.__name__=["zpp_nape","util","ZPP_ArbiterList"];
c.util.ZPP_ArbiterList.get=function(a,b){null==b&&(b=!1);var d=new g.dynamics.ArbiterList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ArbiterList.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&
this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_ArbiterList};c.util.ZPP_ContactList=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.dontremove=this.reverse_flag=!1;this._invalidate=this._validate=this._modifiable=this.adder=this.post_adder=this.subber=null;this.immutable=
this._invalidated=!1;this.outer=this.inner=null;this.inner=new c.dynamics.ZPP_Contact;this._invalidated=!0};n["zpp_nape.util.ZPP_ContactList"]=c.util.ZPP_ContactList;c.util.ZPP_ContactList.__name__=["zpp_nape","util","ZPP_ContactList"];c.util.ZPP_ContactList.get=function(a,b){null==b&&(b=!1);var d=new g.dynamics.ContactList;d.zpp_inner.inner=a;b&&(d.zpp_inner.immutable=!0);d.zpp_inner.zip_length=!0;return d};c.util.ZPP_ContactList.prototype={valmod:function(){this.validate();this.inner.modified&&
(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},modified:function(){this.zip_length=!0;this.push_ite=this.at_ite=null},modify_test:function(){null!=this._modifiable&&this._modifiable()},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},invalidate:function(){this._invalidated=!0;null!=this._invalidate&&this._invalidate(this)},__class__:c.util.ZPP_ContactList};c.util.ZPP_Math=
function(){};n["zpp_nape.util.ZPP_Math"]=c.util.ZPP_Math;c.util.ZPP_Math.__name__=["zpp_nape","util","ZPP_Math"];c.util.ZPP_Math.sqrt=function(a){return Math.sqrt(a)};c.util.ZPP_Math.invsqrt=function(a){return 1/Math.sqrt(a)};c.util.ZPP_Math.sqr=function(a){return a*a};c.util.ZPP_Math.clamp2=function(a,b){return c.util.ZPP_Math.clamp(a,-b,b)};c.util.ZPP_Math.clamp=function(a,b,d){return a<b?b:a>d?d:a};c.util.ZPP_PubPool=function(){};n["zpp_nape.util.ZPP_PubPool"]=c.util.ZPP_PubPool;c.util.ZPP_PubPool.__name__=
["zpp_nape","util","ZPP_PubPool"];c.util.ZPP_Set_ZPP_Body=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_Body"]=c.util.ZPP_Set_ZPP_Body;c.util.ZPP_Set_ZPP_Body.__name__=["zpp_nape","util","ZPP_Set_ZPP_Body"];c.util.ZPP_Set_ZPP_Body.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=
!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=
this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=
this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=
a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},
predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var h=d.prev;if(-1==h.colour){this.__fix_neg_red(h);break}else if(0==
h.colour){if(null!=h.prev&&0==h.prev.colour){this.__fix_dbl_red(h.prev);break}if(null!=h.next&&0==h.next.colour){this.__fix_dbl_red(h.next);break}}h=d.next;if(-1==h.colour){this.__fix_neg_red(h);break}else if(0==h.colour){if(null!=h.prev&&0==h.prev.colour){this.__fix_dbl_red(h.prev);break}if(null!=h.next&&0==h.next.colour){this.__fix_dbl_red(h.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=
b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_Body.zpp_pool;c.util.ZPP_Set_ZPP_Body.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=
null;a.next=c.util.ZPP_Set_ZPP_Body.zpp_pool;c.util.ZPP_Set_ZPP_Body.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var d=a.prev,c=a.next,e=c.prev,f=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=f;null!=f&&(f.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,f=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&
(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=f,null!=f&&(f.parent=c),c.prev=b.prev,null!=b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,f,g,k,l,n;b==d.prev?(f=d,n=d.next,a==b.prev?(c=a,e=b,g=a.prev,k=a.next,l=b.next):
(c=b,e=a,g=b.prev,k=a.prev,l=a.next)):(c=d,g=d.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,n=b.next):(e=b,f=a,k=b.prev,l=a.prev,n=a.next));a=d.parent;null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=g;null!=g&&(g.parent=c);c.next=k;null!=k&&(k.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=n;null!=n&&(n.parent=f);e.colour=d.colour-1;c.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&
0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,
b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==
c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==
c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_Body.zpp_pool?b=new c.util.ZPP_Set_ZPP_Body:(b=c.util.ZPP_Set_ZPP_Body.zpp_pool,c.util.ZPP_Set_ZPP_Body.zpp_pool=b.next,b.next=
null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_Body};c.util.ZPP_Set_ZPP_CbSetPair=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_CbSetPair"]=
c.util.ZPP_Set_ZPP_CbSetPair;c.util.ZPP_Set_ZPP_CbSetPair.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSetPair"];c.util.ZPP_Set_ZPP_CbSetPair.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,
b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=
b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=
null;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=
a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=
a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var h=d.prev;if(-1==h.colour){this.__fix_neg_red(h);break}else if(0==h.colour){if(null!=h.prev&&0==h.prev.colour){this.__fix_dbl_red(h.prev);break}if(null!=h.next&&0==h.next.colour){this.__fix_dbl_red(h.next);break}}h=
d.next;if(-1==h.colour){this.__fix_neg_red(h);break}else if(0==h.colour){if(null!=h.prev&&0==h.prev.colour){this.__fix_dbl_red(h.prev);break}if(null!=h.next&&0==h.next.colour){this.__fix_dbl_red(h.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=
a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool;c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==
a){var d=a.prev,c=a.next,e=c.prev,f=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=f;null!=f&&(f.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,f=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=f,null!=f&&(f.parent=c),c.prev=b.prev,null!=
b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,f,g,k,l,n;b==d.prev?(f=d,n=d.next,a==b.prev?(c=a,e=b,g=a.prev,k=a.next,l=b.next):(c=b,e=a,g=b.prev,k=a.prev,l=a.next)):(c=d,g=d.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,n=b.next):(e=b,f=a,k=b.prev,l=a.prev,n=a.next));a=d.parent;
null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=g;null!=g&&(g.parent=c);c.next=k;null!=k&&(k.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=n;null!=n&&(n.parent=f);e.colour=d.colour-1;c.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?
b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==
c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,
c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:
(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSetPair:(b=c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool,c.util.ZPP_Set_ZPP_CbSetPair.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==
this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_CbSetPair};c.util.ZPP_Set_ZPP_PartitionPair=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_PartitionPair"]=c.util.ZPP_Set_ZPP_PartitionPair;
c.util.ZPP_Set_ZPP_PartitionPair.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionPair"];c.util.ZPP_Set_ZPP_PartitionPair.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,
e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,
null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=
this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=
a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=
b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var h=d.prev;if(-1==h.colour){this.__fix_neg_red(h);break}else if(0==h.colour){if(null!=h.prev&&0==h.prev.colour){this.__fix_dbl_red(h.prev);break}if(null!=h.next&&0==h.next.colour){this.__fix_dbl_red(h.next);break}}h=d.next;if(-1==
h.colour){this.__fix_neg_red(h);break}else if(0==h.colour){if(null!=h.prev&&0==h.prev.colour){this.__fix_dbl_red(h.prev);break}if(null!=h.next&&0==h.next.colour){this.__fix_dbl_red(h.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=
a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool;c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==
a){var d=a.prev,c=a.next,e=c.prev,f=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=f;null!=f&&(f.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,f=c.prev,d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=f,null!=f&&(f.parent=c),c.prev=b.prev,null!=
b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,f,g,k,l,n;b==d.prev?(f=d,n=d.next,a==b.prev?(c=a,e=b,g=a.prev,k=a.next,l=b.next):(c=b,e=a,g=b.prev,k=a.prev,l=a.next)):(c=d,g=d.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,n=b.next):(e=b,f=a,k=b.prev,l=a.prev,n=a.next));a=d.parent;
null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=g;null!=g&&(g.parent=c);c.next=k;null!=k&&(k.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=n;null!=n&&(n.parent=f);e.colour=d.colour-1;c.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?
b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,
a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=
new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,
a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionPair:
(b=c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool,c.util.ZPP_Set_ZPP_PartitionPair.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_PartitionPair};c.util.ZPP_Set_ZPP_PartitionVertex=function(){this.colour=
0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_PartitionVertex"]=c.util.ZPP_Set_ZPP_PartitionVertex;c.util.ZPP_Set_ZPP_PartitionVertex.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionVertex"];c.util.ZPP_Set_ZPP_PartitionVertex.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=
this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&
null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=
this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var d=this.parent;null!=d.prev;)d=d.prev;for(;null!=d;){var c=d.data;if(!this.lt(c,a)){b=c;break}if(null!=d.next)for(d=d.next;null!=d.prev;)d=d.prev;else{for(;null!=d.parent&&d==d.parent.next;)d=d.parent;d=d.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=
a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},
predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var g=d.prev;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==
g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}g=d.next;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=
b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=
null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool;c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var d=a.prev,c=a.next,e=c.prev,f=c.next;d.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=c.data;c.data=a;null!=this.swapped&&this.swapped(b.data,c.data);c.prev=f;null!=f&&(f.parent=c);c.next=b.next;null!=b.next&&(b.next.parent=c);b.next=c}else d=a.next,c=a.prev,e=c.next,f=c.prev,
d.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=c.data,c.data=a,null!=this.swapped&&this.swapped(b.data,c.data),c.next=f,null!=f&&(f.parent=c),c.prev=b.prev,null!=b.prev&&(b.prev.parent=c),b.prev=c;null!=c&&(c.parent=b);b=d;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,d=b.parent;if(null==d){b.colour=1;break}var c,e,f,g,k,l,n;b==d.prev?(f=d,n=d.next,
a==b.prev?(c=a,e=b,g=a.prev,k=a.next,l=b.next):(c=b,e=a,g=b.prev,k=a.prev,l=a.next)):(c=d,g=d.prev,a==b.prev?(e=a,f=b,k=a.prev,l=a.next,n=b.next):(e=b,f=a,k=b.prev,l=a.prev,n=a.next));a=d.parent;null==a?this.parent=e:a.prev==d?a.prev=e:a.next=e;null!=e&&(e.parent=a);c.prev=g;null!=g&&(g.parent=c);c.next=k;null!=k&&(k.parent=c);e.prev=c;null!=c&&(c.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=l;null!=l&&(l.parent=f);f.next=n;null!=n&&(n.parent=f);e.colour=d.colour-1;c.colour=1;f.colour=1;if(e==
this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?
b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;
else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?
b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;
else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool?b=new c.util.ZPP_Set_ZPP_PartitionVertex:(b=c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool,c.util.ZPP_Set_ZPP_PartitionVertex.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;
else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_PartitionVertex};c.util.ZPP_Set_ZPP_SimpleVert=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_SimpleVert"]=c.util.ZPP_Set_ZPP_SimpleVert;c.util.ZPP_Set_ZPP_SimpleVert.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleVert"];c.util.ZPP_Set_ZPP_SimpleVert.prototype=
{free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,d=!0;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var e=c.data;if(!d){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)d=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}if(null!=
a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=
this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var g=c.data;if(!this.lt(g,a)){b=g;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=
c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=
a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;
if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var g=d.prev;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}g=d.next;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=
g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=
b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool;c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,g=a.next,e=g.prev,f=g.next;c.colour=0;a.colour=b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=g.data;g.data=
a;null!=this.swapped&&this.swapped(b.data,g.data);g.prev=f;null!=f&&(f.parent=g);g.next=b.next;null!=b.next&&(b.next.parent=g);b.next=g}else c=a.next,g=a.prev,e=g.next,f=g.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=g.data,g.data=a,null!=this.swapped&&this.swapped(b.data,g.data),g.next=f,null!=f&&(f.parent=g),g.prev=b.prev,null!=b.prev&&(b.prev.parent=g),b.prev=g;null!=g&&(g.parent=b);b=c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&
0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var g,e,f,k,l,n,q;b==c.prev?(f=c,q=c.next,a==b.prev?(g=a,e=b,k=a.prev,l=a.next,n=b.next):(g=b,e=a,k=b.prev,l=a.prev,n=a.next)):(g=c,k=c.prev,a==b.prev?(e=a,f=b,l=a.prev,n=a.next,q=b.next):(e=b,f=a,l=b.prev,n=a.prev,q=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);g.prev=k;null!=k&&(k.parent=g);g.next=l;null!=l&&(l.parent=
g);e.prev=g;null!=g&&(g.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=n;null!=n&&(n.parent=f);f.next=q;null!=q&&(q.parent=f);e.colour=c.colour-1;g.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,
b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=
b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=
b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleVert:(b=c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool,c.util.ZPP_Set_ZPP_SimpleVert.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==
a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_SimpleVert};c.util.ZPP_Set_ZPP_SimpleSeg=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_SimpleSeg"]=c.util.ZPP_Set_ZPP_SimpleSeg;c.util.ZPP_Set_ZPP_SimpleSeg.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleSeg"];
c.util.ZPP_Set_ZPP_SimpleSeg.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var g=this.parent;null!=g.prev;)g=g.prev;for(;null!=g;){var e=g.data;if(!c){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)c=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=g.next)for(g=g.next;null!=g.prev;)g=g.prev;else{for(;null!=g.parent&&
g==g.parent.next;)g=g.parent;g=g.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=
b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var g=c.data;if(!this.lt(g,
a)){b=g;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&
a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=
this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var g=d.prev;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}g=d.next;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=
g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=
this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool;c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,g=a.next,e=g.prev,f=g.next;c.colour=0;a.colour=b.colour=1;a.next=e;
null!=e&&(e.parent=a);a=b.data;b.data=g.data;g.data=a;null!=this.swapped&&this.swapped(b.data,g.data);g.prev=f;null!=f&&(f.parent=g);g.next=b.next;null!=b.next&&(b.next.parent=g);b.next=g}else c=a.next,g=a.prev,e=g.next,f=g.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=g.data,g.data=a,null!=this.swapped&&this.swapped(b.data,g.data),g.next=f,null!=f&&(f.parent=g),g.prev=b.prev,null!=b.prev&&(b.prev.parent=g),b.prev=g;null!=g&&(g.parent=b);b=c;null!=b.prev&&0==b.prev.colour?
this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var g,e,f,k,l,n,q;b==c.prev?(f=c,q=c.next,a==b.prev?(g=a,e=b,k=a.prev,l=a.next,n=b.next):(g=b,e=a,k=b.prev,l=a.prev,n=a.next)):(g=c,k=c.prev,a==b.prev?(e=a,f=b,l=a.prev,n=a.next,q=b.next):(e=b,f=a,l=b.prev,n=a.prev,q=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);g.prev=k;null!=k&&
(k.parent=g);g.next=l;null!=l&&(l.parent=g);e.prev=g;null!=g&&(g.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=n;null!=n&&(n.parent=f);f.next=q;null!=q&&(q.parent=f);e.colour=c.colour-1;g.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=
b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;
else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,
b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleSeg:(b=c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool,c.util.ZPP_Set_ZPP_SimpleSeg.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==
a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_SimpleSeg};c.util.ZPP_Set_ZPP_SimpleEvent=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_SimpleEvent"]=c.util.ZPP_Set_ZPP_SimpleEvent;c.util.ZPP_Set_ZPP_SimpleEvent.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleEvent"];
c.util.ZPP_Set_ZPP_SimpleEvent.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var g=this.parent;null!=g.prev;)g=g.prev;for(;null!=g;){var e=g.data;if(!c){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)c=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=g.next)for(g=g.next;null!=g.prev;)g=g.prev;else{for(;null!=g.parent&&
g==g.parent.next;)g=g.parent;g=g.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=b.parent&&b==b.parent.next;)b=
b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=c;){var g=c.data;if(!this.lt(g,
a)){b=g;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=a;for(a=a.parent;null!=a&&
a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=b.data;b.data=d;null!=
this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var g=d.prev;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}g=d.next;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=
g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a},clear:function(){this.clear_with(function(a){})},clear_with:function(a){if(null!=
this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool;c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,g=a.next,e=g.prev,f=g.next;c.colour=0;a.colour=b.colour=1;a.next=
e;null!=e&&(e.parent=a);a=b.data;b.data=g.data;g.data=a;null!=this.swapped&&this.swapped(b.data,g.data);g.prev=f;null!=f&&(f.parent=g);g.next=b.next;null!=b.next&&(b.next.parent=g);b.next=g}else c=a.next,g=a.prev,e=g.next,f=g.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=g.data,g.data=a,null!=this.swapped&&this.swapped(b.data,g.data),g.next=f,null!=f&&(f.parent=g),g.prev=b.prev,null!=b.prev&&(b.prev.parent=g),b.prev=g;null!=g&&(g.parent=b);b=c;null!=b.prev&&0==
b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var g,e,f,k,l,n,q;b==c.prev?(f=c,q=c.next,a==b.prev?(g=a,e=b,k=a.prev,l=a.next,n=b.next):(g=b,e=a,k=b.prev,l=a.prev,n=a.next)):(g=c,k=c.prev,a==b.prev?(e=a,f=b,l=a.prev,n=a.next,q=b.next):(e=b,f=a,l=b.prev,n=a.prev,q=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=e&&(e.parent=a);g.prev=
k;null!=k&&(k.parent=g);g.next=l;null!=l&&(l.parent=g);e.prev=g;null!=g&&(g.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=n;null!=n&&(n.parent=f);f.next=q;null!=q&&(q.parent=f);e.colour=c.colour-1;g.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:
(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=
b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,
c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool?b=new c.util.ZPP_Set_ZPP_SimpleEvent:(b=c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool,c.util.ZPP_Set_ZPP_SimpleEvent.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=
this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_SimpleEvent};c.util.ZPP_Set_ZPP_CbSet=function(){this.colour=0;this.lt=this.swapped=this.data=this.prev=this.next=this.parent=null};n["zpp_nape.util.ZPP_Set_ZPP_CbSet"]=c.util.ZPP_Set_ZPP_CbSet;c.util.ZPP_Set_ZPP_CbSet.__name__=
["zpp_nape","util","ZPP_Set_ZPP_CbSet"];c.util.ZPP_Set_ZPP_CbSet.prototype={free:function(){this.swapped=this.lt=this.data=null},alloc:function(){},verify:function(){if(!this.empty()){for(var a=this.parent;null!=a.prev;)a=a.prev;for(;null!=a;){var b=a.data,c=!0;if(!this.empty()){for(var g=this.parent;null!=g.prev;)g=g.prev;for(;null!=g;){var e=g.data;if(!c){if(!this.lt(b,e)&&this.lt(e,b))return!1}else if(b==e)c=!1;else if(!this.lt(e,b)&&this.lt(b,e))return!1;if(null!=g.next)for(g=g.next;null!=g.prev;)g=
g.prev;else{for(;null!=g.parent&&g==g.parent.next;)g=g.parent;g=g.parent}}}if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{for(;null!=a.parent&&a==a.parent.next;)a=a.parent;a=a.parent}}}return!0},empty:function(){return null==this.parent},singular:function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},size:function(){var a=0;if(!this.empty()){for(var b=this.parent;null!=b.prev;)b=b.prev;for(;null!=b;)if(a++,null!=b.next)for(b=b.next;null!=b.prev;)b=b.prev;else{for(;null!=
b.parent&&b==b.parent.next;)b=b.parent;b=b.parent}}return a},has:function(a){return null!=this.find(a)},find:function(a){for(var b=this.parent;null!=b&&b.data!=a;)b=this.lt(a,b.data)?b.prev:b.next;return b},has_weak:function(a){return null!=this.find_weak(a)},find_weak:function(a){for(var b=this.parent;null!=b;)if(this.lt(a,b.data))b=b.prev;else if(this.lt(b.data,a))b=b.next;else break;return b},lower_bound:function(a){var b=null;if(!this.empty()){for(var c=this.parent;null!=c.prev;)c=c.prev;for(;null!=
c;){var g=c.data;if(!this.lt(g,a)){b=g;break}if(null!=c.next)for(c=c.next;null!=c.prev;)c=c.prev;else{for(;null!=c.parent&&c==c.parent.next;)c=c.parent;c=c.parent}}}return b},first:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;return a.data},pop_front:function(){for(var a=this.parent;null!=a.prev;)a=a.prev;var b=a.data;this.remove_node(a);return b},remove:function(a){a=this.find(a);this.remove_node(a)},successor_node:function(a){if(null!=a.next)for(a=a.next;null!=a.prev;)a=a.prev;else{var b=
a;for(a=a.parent;null!=a&&a.prev!=b;)b=a,a=a.parent}return a},predecessor_node:function(a){if(null!=a.prev)for(a=a.prev;null!=a.next;)a=a.next;else{var b=a;for(a=a.parent;null!=a&&a.next!=b;)b=a,a=a.parent}return a},successor:function(a){a=this.successor_node(this.find(a));return null==a?null:a.data},predecessor:function(a){a=this.predecessor_node(this.find(a));return null==a?null:a.data},remove_node:function(a){if(null!=a.next&&null!=a.prev){for(var b=a.next;null!=b.prev;)b=b.prev;var d=a.data;a.data=
b.data;b.data=d;null!=this.swapped&&this.swapped(a.data,b.data);a=b}b=null==a.prev?a.next:a.prev;if(1==a.colour)if(null!=a.prev||null!=a.next)b.colour=1;else if(null!=a.parent)for(d=a.parent;;){d.colour++;d.prev.colour--;d.next.colour--;var g=d.prev;if(-1==g.colour){this.__fix_neg_red(g);break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}g=d.next;if(-1==g.colour){this.__fix_neg_red(g);
break}else if(0==g.colour){if(null!=g.prev&&0==g.prev.colour){this.__fix_dbl_red(g.prev);break}if(null!=g.next&&0==g.next.colour){this.__fix_dbl_red(g.next);break}}if(2==d.colour)if(null==d.parent)d.colour=1;else{d=d.parent;continue}break}d=a.parent;null==d?this.parent=b:d.prev==a?d.prev=b:d.next=b;null!=b&&(b.parent=d);a.parent=a.prev=a.next=null;a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSet.zpp_pool;c.util.ZPP_Set_ZPP_CbSet.zpp_pool=a},clear:function(){this.clear_with(function(a){})},
clear_with:function(a){if(null!=this.parent){for(var b=this.parent;null!=b;)b=null!=b.prev?b.prev:null!=b.next?b.next:this.clear_node(b,a);this.parent=null}},clear_node:function(a,b){b(a.data);var d=a.parent;null!=d&&(a==d.prev?d.prev=null:d.next=null,a.parent=null);a.data=null;a.lt=null;a.swapped=null;a.next=c.util.ZPP_Set_ZPP_CbSet.zpp_pool;c.util.ZPP_Set_ZPP_CbSet.zpp_pool=a;return d},__fix_neg_red:function(a){var b=a.parent;if(b.prev==a){var c=a.prev,g=a.next,e=g.prev,f=g.next;c.colour=0;a.colour=
b.colour=1;a.next=e;null!=e&&(e.parent=a);a=b.data;b.data=g.data;g.data=a;null!=this.swapped&&this.swapped(b.data,g.data);g.prev=f;null!=f&&(f.parent=g);g.next=b.next;null!=b.next&&(b.next.parent=g);b.next=g}else c=a.next,g=a.prev,e=g.next,f=g.prev,c.colour=0,a.colour=b.colour=1,a.prev=e,null!=e&&(e.parent=a),a=b.data,b.data=g.data,g.data=a,null!=this.swapped&&this.swapped(b.data,g.data),g.next=f,null!=f&&(f.parent=g),g.prev=b.prev,null!=b.prev&&(b.prev.parent=g),b.prev=g;null!=g&&(g.parent=b);b=
c;null!=b.prev&&0==b.prev.colour?this.__fix_dbl_red(b.prev):null!=b.next&&0==b.next.colour&&this.__fix_dbl_red(b.next)},__fix_dbl_red:function(a){for(;;){var b=a.parent,c=b.parent;if(null==c){b.colour=1;break}var g,e,f,k,l,n,q;b==c.prev?(f=c,q=c.next,a==b.prev?(g=a,e=b,k=a.prev,l=a.next,n=b.next):(g=b,e=a,k=b.prev,l=a.prev,n=a.next)):(g=c,k=c.prev,a==b.prev?(e=a,f=b,l=a.prev,n=a.next,q=b.next):(e=b,f=a,l=b.prev,n=a.prev,q=a.next));a=c.parent;null==a?this.parent=e:a.prev==c?a.prev=e:a.next=e;null!=
e&&(e.parent=a);g.prev=k;null!=k&&(k.parent=g);g.next=l;null!=l&&(l.parent=g);e.prev=g;null!=g&&(g.parent=e);e.next=f;null!=f&&(f.parent=e);f.prev=n;null!=n&&(n.parent=f);f.next=q;null!=q&&(q.parent=f);e.colour=c.colour-1;g.colour=1;f.colour=1;if(e==this.parent)this.parent.colour=1;else if(0==e.colour&&0==e.parent.colour){a=e;continue}break}},try_insert_bool:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,
c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,
c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;if(null==b)return!1;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return!0},try_insert:function(a){var b=null,d=null;if(null==this.parent)null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null),null,b.data=a,this.parent=b;else for(d=this.parent;;)if(this.lt(a,
d.data))if(null==d.prev){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.prev=b;b.parent=d;break}else d=d.prev;else if(this.lt(d.data,a))if(null==d.next){null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;d.next=b;b.parent=d;break}else d=d.next;else break;
if(null==b)return d;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},insert:function(a){var b;null==c.util.ZPP_Set_ZPP_CbSet.zpp_pool?b=new c.util.ZPP_Set_ZPP_CbSet:(b=c.util.ZPP_Set_ZPP_CbSet.zpp_pool,c.util.ZPP_Set_ZPP_CbSet.zpp_pool=b.next,b.next=null);null;b.data=a;if(null==this.parent)this.parent=b;else for(a=this.parent;;)if(this.lt(b.data,a.data))if(null==a.prev){a.prev=b;b.parent=a;break}else a=a.prev;else if(null==a.next){a.next=b;b.parent=a;break}else a=
a.next;null==b.parent?b.colour=1:(b.colour=0,0==b.parent.colour&&this.__fix_dbl_red(b));return b},__class__:c.util.ZPP_Set_ZPP_CbSet};var ga,Nd=0;(function(){l.display.DisplayObject.routedEvents=new r.ds.StringMap;for(var a="mouseMove mouseOver mouseOut mouseClick mouseDown mouseUp rightClick rightMouseDown rightMouseUp middleClick middleMouseDown middleMouseUp mouseWheel".split(" "),b=-1,c=a.length;++b<c;)l.display.DisplayObject.routedEvents.set(a[b],1)})();Array.prototype.indexOf&&(S.indexOf=function(a,
b,c){return Array.prototype.indexOf.call(a,b,c)});Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;n.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=n.String=String;String.__name__=["String"];n.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=n.Date=Date;Date.__name__=["Date"];var Ee=n.Int={__name__:["Int"]},Fe=n.Dynamic={__name__:["Dynamic"]},
wc=n.Float=Number;wc.__name__=["Float"];var Ic=n.Bool=Boolean;Ic.__ename__=["Bool"];var Ge=n.Class={__name__:["Class"]},He={};R.Element="element";R.PCData="pcdata";R.CData="cdata";R.Comment="comment";R.DocType="doctype";R.ProcessingInstruction="processingInstruction";R.Document="document";l.Lib.__init();(function(){var a=Event.prototype,b=l.events.Event.prototype;a.clone=b.clone;a.isDefaultPrevented=b.isDefaultPrevented;a.get_target=b.get_target;a.set_target=b.set_target;a.get_currentTarget=b.get_currentTarget;
a.set_currentTarget=b.set_currentTarget})();r.Resource.content=[{name:"levels",data:"PGxldmVscz4NCgkNCg0KDQo8bGV2ZWwgbmFtZT0iMSIgdGl0bGU9ImZpcnN0Ij48b2JqZWN0IHR5cGU9InBsYXllciIgeD0iMTY5MCIgeT0iNjY4IiByb3Q9IjAiLz48b2JqZWN0IHR5cGU9ImhhbmdhcnN0YXJ0IiB4PSIyMjUiIHk9IjIyNSIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIxNTAwIiB5PSIwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI4MjUiIHk9IjM3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI4MjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZ2FyZmluaXNoIiB4PSI0Mjc1IiB5PSIxNTAiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iaGFuZ2FyY2hlY2twb2ludCIgeD0iMTIwMCIgeT0iMjI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIyNzAwIiB5PSItMTUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIyMDYyLjUiIHk9IjM3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI1NjIuNSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIxNTAwIiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZ2FyY2hlY2twb2ludCIgeD0iMjAyNSIgeT0iMjI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIzMTg3LjUiIHk9IjM3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI1NjIuNSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxMCIgeD0iMjU4Ny41IiB5PSIxNTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMTIiIHg9IjI4MTIuNSIgeT0iMTUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjI3MDAiIHk9IjMwMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyNzAwIiB5PSIzMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxNTAiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI4IiB4PSIyNjYyLjUiIHk9IjQ4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIzNjAwIiB5PSIwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDEyNSIgeT0iNDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzc1IiBoYWxmSGVpZ2h0PSIzMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0ic3RvbmUiIHg9IjM3NTAiIHk9IjAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBvbHkiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iNCIgdmVydGljZXM9IjAsLTc1LC05MDAsLTMwMCwtOTAwLC02NzUsMCwtMzc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSItMjI1IiB5PSItNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjI1IiBoYWxmSGVpZ2h0PSI2MDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxMDg3LjUiIHk9Ii0zNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNDEyLjUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjIxNzUiIHk9Ii02MDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNjc1IiBoYWxmSGVpZ2h0PSIzMDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0ODAwIiB5PSIwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMwMCIgaGFsZkhlaWdodD0iMzc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJzdG9uZSIgeD0iMzc1MCIgeT0iLTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwb2x5IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLC0zMDAsNzUwLC0zMDAsNzUwLDAsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIzMzAwIiB5PSIyMjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjMiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjMzNy41IiB5PSItMjI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMzNy41IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9Imluc3RydWN0aW9ucyIgeD0iNDUwIiB5PSI3NSIgcm90PSIwIj48cHJvcGVydGllcyBmcmFtZT0iMSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZCIgeD0iMTE5NSIgeT0iLTY0IiByb3Q9IjE4MCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjAiIHBvaW50dHlwZT0icG9pbnQiLz48L29iamVjdD48L2xldmVsPjxsZXZlbCBuYW1lPSIyIiB0aXRsZT0iaGlsbHMtZWFzeSI+PG9iamVjdCB0eXBlPSJwbGF5ZXIiIHg9IjEzNTUiIHk9IjM1NiIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJoYW5nYXJzdGFydCIgeD0iNDUwIiB5PSIxNTAiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iOTc1IiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iODI1IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmZpbmlzaCIgeD0iNDQyNSIgeT0iLTUyNSIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIyNTUwIiB5PSItNjc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIzMjI1IiB5PSItNzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjM3NTAiIHk9Ii02MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjAiIHk9Ii0xNTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjI1IiBoYWxmSGVpZ2h0PSI2MDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjE3MjUiIHk9Ii02NzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEwIiB4PSIxNDI1IiB5PSItMTg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzc1IiBoYWxmSGVpZ2h0PSI0MTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMTY1MCIgeT0iNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMTUzNy41IiB5PSIxNTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzM3LjUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIxNjUwIiB5PSIwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMwMCIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE2MTIuNSIgeT0iNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjYyLjUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIxNzYyLjUiIHk9Ii0yMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIxNjg3LjUiIHk9Ii0xODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSIxODcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMTYxMi41IiB5PSItMTg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE1MzcuNSIgeT0iLTE1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMTYxMi41IiB5PSItMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTg3LjUiIGhhbGZIZWlnaHQ9IjM3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjIiIHg9IjIxMzcuNSIgeT0iLTU2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMzNy41IiBoYWxmSGVpZ2h0PSIzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIyMDI1IiB5PSItNjAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNTI1IiB5PSItMTg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzAwIiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjkzNy41IiB5PSItMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTE2Mi41IiB5PSItNDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTM4Ny41IiB5PSItNzEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTYxMi41IiB5PSItOTM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTgzNy41IiB5PSItMTAxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjIwNjIuNSIgeT0iLTEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEyIiB4PSIyNzM3LjUiIHk9Ii0yMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjYyLjUiIGhhbGZIZWlnaHQ9IjM3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMjEzNy41IiB5PSItMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzMzcuNSIgaGFsZkhlaWdodD0iNDg3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE4MDAiIHk9IjM3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEwIiB4PSIzNjc1IiB5PSItMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjI1IiBoYWxmSGVpZ2h0PSIyNjIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMiIgeD0iMzIyNSIgeT0iLTM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjI1IiBoYWxmSGVpZ2h0PSIzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIzMTEyLjUiIHk9IjIyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI2MzcuNSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyNTEyLjUiIHk9Ii0yMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyNTg3LjUiIHk9Ii0xNTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyNjYyLjUiIHk9Ii03NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjI3MzcuNSIgeT0iMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjI4MTIuNSIgeT0iNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyODg3LjUiIHk9IjE1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjM1NjIuNSIgeT0iMTUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjM3LjUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMzYzNy41IiB5PSI3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjM3MTIuNSIgeT0iMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNy41IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjM3ODcuNSIgeT0iLTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjM3LjUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMzg2Mi41IiB5PSItMTUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjM3LjUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjIyODcuNSIgeT0iLTEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyNTEyLjUiIHk9Ii05MzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyNzM3LjUiIHk9Ii04NjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyOTYyLjUiIHk9Ii02MzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMTg3LjUiIHk9Ii00MTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjIiIHg9IjQyNzUiIHk9Ii00ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNzUiIGhhbGZIZWlnaHQ9IjM3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjQyNzUiIHk9IjAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzc1IiBoYWxmSGVpZ2h0PSI0NTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjM4MjUiIHk9IjI2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxODcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM0MTIuNSIgeT0iLTYzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM2MzcuNSIgeT0iLTg2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMTI3NSIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTUwIiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM4NjIuNSIgeT0iLTEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0MDg3LjUiIHk9Ii0xMDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDMxMi41IiB5PSItMTAxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ1MzcuNSIgeT0iLTg2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ3NjIuNSIgeT0iLTcxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ3NjIuNSIgeT0iLTQ4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ3NjIuNSIgeT0iLTI2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQxMjUiIHk9Ii02MDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PC9sZXZlbD48bGV2ZWwgbmFtZT0iMyIgdGl0bGU9InZlcnR5Ij48b2JqZWN0IHR5cGU9InBsYXllciIgeD0iMjk0NiIgeT0iMTYwOCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJoYW5nYXJzdGFydCIgeD0iOTAwIiB5PSI5NzUiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iMTQyNSIgeT0iMTEyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI4MjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZ2FyZmluaXNoIiB4PSI0ODc1IiB5PSIzMDAiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMzAwMCIgeT0iMTUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIyNTUwIiB5PSIyMjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjQyNzUiIHk9Ijc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI0NTAiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyMjUiIGhhbGZIZWlnaHQ9IjYwMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMjI1MCIgeT0iMTUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIxNzI1IiB5PSI5NzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjEiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0MzEyLjUiIHk9Ii0xODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0NTM3LjUiIHk9Ii0yNjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0NzYyLjUiIHk9Ii0xODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0OTg3LjUiIHk9Ii0zNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjUyMTIuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNTIxMi41IiB5PSIzMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI1MjEyLjUiIHk9IjU2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ1NzUiIHk9IjIyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxMjc1IiB5PSI5MDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTI3NSIgeT0iNjAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE1NzUiIHk9Ijc1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjEyNzUiIHk9IjM3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI2MDAiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE4MzcuNSIgeT0iLTExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE4MzcuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIzNjAwIiB5PSIxMDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNjc1IiBoYWxmSGVpZ2h0PSIxODcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iNDY4Ny41IiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI0MTIuNSIgaGFsZkhlaWdodD0iNDg3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNjAwIiB5PSIxODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxNTAiIGhhbGZIZWlnaHQ9IjQxMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzQxMi41IiB5PSItMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzYzNy41IiB5PSItMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzg2Mi41IiB5PSItMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDA4Ny41IiB5PSItMTg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzMzNy41IiB5PSIzMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzODYyLjUiIHk9IjQ4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjMzMzcuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzMzNy41IiB5PSI1NjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjM2MDAiIHk9IjkwMCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMyIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI1ODcuNSIgeT0iNzUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMzNy41IiBoYWxmSGVpZ2h0PSI1MjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyNjI1IiB5PSItMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNjc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjwvbGV2ZWw+PGxldmVsIG5hbWU9IjQiIHRpdGxlPSJtb3Z5Ij48b2JqZWN0IHR5cGU9InBsYXllciIgeD0iNzA0MCIgeT0iMjYzMiIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJoYW5nYXJzdGFydCIgeD0iNTI1IiB5PSI4MjUiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iMTA1MCIgeT0iOTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjgyNSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJmaW5pc2giIHg9IjQ1MDAiIHk9IjYwMCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIyOTI1IiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjEiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjMzMDAiIHk9Ijc1MCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMiIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMzk3NSIgeT0iMjI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI3NSIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyNSIgaGFsZkhlaWdodD0iNjAwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIxMzUwIiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjIxMDAiIHk9Ijc1MCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQwODcuNSIgeT0iMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNjM3LjUiIHk9IjM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDMxMi41IiB5PSIzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ1MzcuNSIgeT0iMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjkwMCIgeT0iMjI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjYwMCIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTQ2Mi41IiB5PSItMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTQ2Mi41IiB5PSItMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjMyMjUiIHk9IjkzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjY3NSIgaGFsZkhlaWdodD0iMTg3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMTg3LjUiIHk9IjI2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM2MzcuNSIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzg2Mi41IiB5PSIzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI5NjIuNSIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzQxMi41IiB5PSIyNjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyMjEyLjUiIHk9IjEyNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzM3LjUiIGhhbGZIZWlnaHQ9IjUyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjIxNzUiIHk9IjMzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjY3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjUzMjUiIHk9IjQxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMwMCIgaGFsZkhlaWdodD0iNzEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRiaWciIHg9IjEwNTAiIHk9Ijk3NSIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejAiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejAiIHg9IjkwMCIgeT0iODI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwtMzc1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZHNtYWxsIiB4PSIyNDc1IiB5PSI3NTAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3oxIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3oxIiB4PSIyNDAwIiB5PSI4MjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iMyIgdmVydGljZXM9IjAsLTc1LDAsLTM3NSwwLC03NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgeD0iMjU1MCIgeT0iNzUwIiByb3Q9IjAiIGlkPSJvejIiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwtMzAwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgeD0iMjcwMCIgeT0iNzUwIiByb3Q9IjAiIGlkPSJvejMiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwtMzAwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgeD0iMjg1MCIgeT0iNzUwIiByb3Q9IjAiIGlkPSJvejQiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwtMzAwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZHNtYWxsIiB4PSIyNTUwIiB5PSI3NTAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3oyIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkc21hbGwiIHg9IjI3MDAiIHk9Ijc1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejMiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRzbWFsbCIgeD0iMjkyNSIgeT0iODI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96NCIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96NSIgeD0iMTEyNSIgeT0iNDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwzNzUsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYmlnIiB4PSIxMjc1IiB5PSIzNzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o1IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYmlnIiB4PSIxNzI1IiB5PSI1MjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o2IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3o2IiB4PSIxNzI1IiB5PSI1MjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iMyIgdmVydGljZXM9IjAsMCwwLDE1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejciIHg9IjEzNTAiIHk9IjgyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsLTM3NSwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRiaWciIHg9IjE1MDAiIHk9Ijc1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejciIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRidGlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzgyNSIgeT0iODI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96OCIgbG9vcD0idHJ1ZSIvPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejgiIHg9IjM5NzUiIHk9IjgyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsLTQ1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjQ0NjIuNSIgeT0iODYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNTYyLjUiIGhhbGZIZWlnaHQ9IjI2Mi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDc2Mi41IiB5PSIzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQ5NTAiIHk9IjM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PC9sZXZlbD48bGV2ZWwgbmFtZT0iNSIgdGl0bGU9ImZpdmV5Ij48b2JqZWN0IHR5cGU9InBsYXllciIgeD0iMjk4OCIgeT0iMTM4MCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJoYW5nYXJzdGFydCIgeD0iOTAwIiB5PSI5NzUiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iaGFuZ2FyZmluaXNoIiB4PSI0ODAwIiB5PSIzMDAiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMzAwMCIgeT0iNzUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIzNzUwIiB5PSI5MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjQyNzUiIHk9Ijc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI0NTAiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyMjUiIGhhbGZIZWlnaHQ9IjYwMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMjMyNSIgeT0iMTUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIyNjI1IiB5PSIzNzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjEiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0MzEyLjUiIHk9Ii0xODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0NTM3LjUiIHk9Ii0yNjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0NzYyLjUiIHk9Ii0xODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0OTg3LjUiIHk9Ii0zNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjUyMTIuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNTIxMi41IiB5PSIzMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI1MjEyLjUiIHk9IjU2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQyMDAiIHk9IjUyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxODM3LjUiIHk9Ii0xMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxODM3LjUiIHk9IjExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iMzYwMCIgeT0iMTA4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjY3NSIgaGFsZkhlaWdodD0iMTg3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjQ2ODcuNSIgeT0iNzg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNDEyLjUiIGhhbGZIZWlnaHQ9IjQ4Ny41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzQ1MCIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTUwIiBoYWxmSGVpZ2h0PSI0MTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM0MTIuNSIgeT0iLTExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM2MzcuNSIgeT0iLTExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM4NjIuNSIgeT0iLTExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjQwODcuNSIgeT0iLTE4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjMxODcuNSIgeT0iMzM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzcxMi41IiB5PSI1NjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMTg3LjUiIHk9IjExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjMxODcuNSIgeT0iNTYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjYyNSIgeT0iLTExMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjY3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEwIiB4PSIyMDI1IiB5PSI3MTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzMDAiIGhhbGZIZWlnaHQ9IjMzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIyNjI1IiB5PSI4MjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzAwIiBoYWxmSGVpZ2h0PSI0NTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjE1MDAiIHk9IjExMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iODI1IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjIzMjUiIHk9Ijc1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyMjUwIiB5PSI4MjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMjE3NSIgeT0iOTAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjIxMDAiIHk9Ijk3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyMDI1IiB5PSIxMDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE5NTAiIHk9IjExMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMjQwMCIgeT0iNjc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjIiIHg9IjIzNjIuNSIgeT0iNDEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjExNjIuNSIgeT0iNjM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNDg3LjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJzdG9uZSIgeD0iMTY1MCIgeT0iNzUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwb2x5IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjUiIHZlcnRpY2VzPSIwLC0yMjUsNzUsLTUyNSwzMDAsLTUyNSw2MDAsLTQ1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzOTAwIiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDIwMCIgeT0iMjI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM5MDAiIHk9Ijc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWViaWciIHg9IjQ0MjUiIHk9IjIyNSIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejAiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejAiIHg9IjQ1MDAiIHk9IjIyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsLTIyNSwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNzEyLjUiIHk9IjMzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM3MTIuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIyIiB4PSIyMTM3LjUiIHk9IjEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyNjIuNSIgaGFsZkhlaWdodD0iMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMjMyNSIgeT0iMTE2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjwvbGV2ZWw+PGxldmVsIG5hbWU9IjciIHRpdGxlPSJsb29weSI+PG9iamVjdCB0eXBlPSJwbGF5ZXIiIHg9IjY4NTIiIHk9IjI0NDUiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iaGFuZ2Fyc3RhcnQiIHg9IjY3NSIgeT0iNjc1IiByb3Q9IjAiLz48b2JqZWN0IHR5cGU9ImhhbmdhcmZpbmlzaCIgeD0iNDU3NSIgeT0iMCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIzMDc1IiB5PSItMTUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIzNDUwIiB5PSI1MjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjQwNTAiIHk9Ii0yMjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjIyNSIgeT0iMzc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyNSIgaGFsZkhlaWdodD0iNjAwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIyMDI1IiB5PSItMTUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIyNDAwIiB5PSIwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDExNi41IiB5PSItNDk3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDM0MS41IiB5PSItNTcyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDU2Ni41IiB5PSItNDk3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDc5MS41IiB5PSItMzQ3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNTAxNi41IiB5PSItMTk3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNTAxNi41IiB5PSIyNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjUwMTYuNSIgeT0iMjUyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzk3NSIgeT0iMjI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE2MTIuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIzMzc1IiB5PSI3MTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI2NzUiIGhhbGZIZWlnaHQ9IjE4Ny41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI0NDYyLjUiIHk9IjQ4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQxMi41IiBoYWxmSGVpZ2h0PSI0ODcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjMxODcuNSIgeT0iLTQxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM0MTIuNSIgeT0iLTQxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM2MzcuNSIgeT0iLTQxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM4NjIuNSIgeT0iLTQ4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI4MTIuNSIgeT0iMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjgxMi41IiB5PSItMTg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzExMi41IiB5PSIxMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyNDAwIiB5PSItNDEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNjc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM2NzUiIHk9Ijc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM5NzUiIHk9Ijc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM2NzUiIHk9Ii0yMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZWJpZyIgeD0iNDIyOSIgeT0iLTg1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96MCIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MCIgeD0iNDMwNCIgeT0iLTg1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwtMjI1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjMzMzcuNSIgeT0iMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMzM3LjUiIHk9Ii0xODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNTI1IiB5PSItMjI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM1MjUiIHk9Ii03NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNTI1IiB5PSI3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNjc1IiB5PSItNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzk3NSIgeT0iLTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM3NTAiIHk9IjQ1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNjAwIiB5PSIyMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzA3NSIgeT0iMzAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI3NzUiIHk9IjMwMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI3ODcuNSIgeT0iMzAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMzNy41IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE0MjUiIHk9Ijc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjEyNzUiIHk9Ijc4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjgyNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjIyMTIuNSIgeT0iNDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ4Ny41IiBoYWxmSGVpZ2h0PSI0NTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxNDI1IiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjM3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE2MTIuNSIgeT0iMzM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTYxMi41IiB5PSI1NjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxMDUwIiB5PSIwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxMzUwIiB5PSItMzM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZGJpZyIgeD0iMTEyNSIgeT0iNjAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96MSIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MSIgeD0iMTI3NSIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsLTE1MCwtMTUwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZGJpZyIgeD0iMTcyNSIgeT0iLTc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96MiIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MiIgeD0iMTY1MCIgeT0iLTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjMiIHZlcnRpY2VzPSIwLDAsMCwtNzUsMCwwIi8+PC9vYmplY3Q+PC9sZXZlbD48bGV2ZWwgbmFtZT0iOCIgdGl0bGU9ImJhY2t1cCI+PG9iamVjdCB0eXBlPSJwbGF5ZXIiIHg9IjEwMzk5IiB5PSIyOTY1IiByb3Q9IjAiLz48b2JqZWN0IHR5cGU9ImhhbmdhcnN0YXJ0IiB4PSIxMDUwIiB5PSI3NSIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTM4Ny41IiB5PSIwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIzNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMDAiIHk9Ijc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyNSIgaGFsZkhlaWdodD0iNjc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTAxMi41IiB5PSItNDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNDg3LjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNzg3LjUiIHk9Ijk3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3MTIuNSIgaGFsZkhlaWdodD0iMjI1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSI3NTAiIHk9Ijc1MCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWViaWciIHg9IjEyNzUiIHk9IjY3NSIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejAiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejAiIHg9IjExMjUiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI1IiB2ZXJ0aWNlcz0iMCwwLC0xNTAsLTE1MCwwLC0zMDAsMTUwLC0xNTAsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJmaW5pc2giIHg9IjM3NTAiIHk9IjY3NSIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTAxMi41IiB5PSIyMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjYyLjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MSIgeD0iMTM1MCIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjUiIHZlcnRpY2VzPSIwLDAsMTUwLC0xNTAsMzAwLDAsMTUwLDE1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxibHVlYmlnIiB4PSIxNTc1IiB5PSI2NzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3oxIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTU3NSIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTcyNSIgeT0iMzM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTg3NSIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjAyNSIgeT0iMzM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjE3NSIgeT0iMjYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTU3NSIgeT0iODI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxNzI1IiB5PSI3NTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE4NzUiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjAyNSIgeT0iNzUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyMTc1IiB5PSI2NzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZ2FyY2hlY2twb2ludCIgeD0iMjQ3NSIgeT0iNTI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjQ3NSIgeT0iNjc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyNSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjUxMi41IiB5PSIyMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjYyLjUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSIzMDc1IiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3oyIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3oyIiB4PSIyODUwIiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iOSIgdmVydGljZXM9IjAsMCwxNTAsMCwxNTAsMjI1LDAsMjI1LDAsMTUwLDc1LDE1MCw3NSw3NSwwLDc1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MyIgeD0iMzA3NSIgeT0iNDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjciIHZlcnRpY2VzPSIwLDAsNzUsLTc1LDE1MCwtNzUsMTUwLDE1MCwwLDE1MCw3NSw3NSwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxibHVlc21hbGwiIHg9IjMyMjUiIHk9IjY3NSIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejMiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejQiIHg9IjMwNzUiIHk9IjUyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI1IiB2ZXJ0aWNlcz0iMCwwLC0xNTAsLTc1LDAsLTE1MCwxNTAsLTc1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWVzbWFsbCIgeD0iMzAwMCIgeT0iNjc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96NCIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWViaWciIHg9IjM0NTAiIHk9IjYwMCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejUiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejUiIHg9IjMzNzUiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsLTIyNSwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMDc1IiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzE4Ny41IiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNDEyLjUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIzNzUwIiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzMDAiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI0MTYyLjUiIHk9IjYzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIyNjIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM5MzcuNSIgeT0iMzAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMzNy41IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iNjAwIiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjE4NzUiIHk9IjQ1MCIgcm90PSIwIj48cHJvcGVydGllcyBwb3NpdGlvbj0iMSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMzA3NSIgeT0iNTI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZWJpZyIgeD0iMzYwMCIgeT0iNTI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96NiIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96NiIgeD0iMzUyNSIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwxNTAsMCwtNzUsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSIyNzc1IiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o3IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3o3IiB4PSIzMDc1IiB5PSI2MDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iMyIgdmVydGljZXM9IjAsMCwwLC0yMjUsMCwwIi8+PC9vYmplY3Q+PC9sZXZlbD48bGV2ZWwgbmFtZT0iOSIgdGl0bGU9InR3aXN0eSI+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNzg3LjUiIHk9IjE4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSI0MTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZ2Fyc3RhcnQiIHg9IjExMjUiIHk9IjMwMCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTAxMi41IiB5PSItMTEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzM3LjUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwbGF5ZXIiIHg9IjIyMzc4IiB5PSI3MDMwIiByb3Q9IjAiLz48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxNjUwIiB5PSIwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjE1MCIgaGFsZkhlaWdodD0iNjAwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIxMzUwIiB5PSItNDUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTA1MCIgeT0iLTc4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijk3NSIgaGFsZkhlaWdodD0iMTg3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9Ijk3NSIgeT0iLTIyNSIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9Ijc4Ny41IiB5PSI2NzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIxMDUwIiB5PSIxMjAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjY3NSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjI1IiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTUwIiBoYWxmSGVpZ2h0PSI5NzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjYwMCIgeT0iMTA1MCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMiIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMTAiIHg9IjkwMCIgeT0iMTAxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMTAiIHg9IjEyMDAiIHk9IjEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEwIiB4PSIxNTAwIiB5PSIxMDEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxMCIgeD0iMTgwMCIgeT0iMTAxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMTIiIHg9IjEwNTAiIHk9IjEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEyIiB4PSIxMzUwIiB5PSIxMDEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxMiIgeD0iMTY1MCIgeT0iMTAxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMTIiIHg9IjE5NTAiIHk9IjEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrIiB4PSI5MDAiIHk9Ijc1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icG9seSIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIxMSIgdmVydGljZXM9IjAsLTE1MCwxMTI1LC0xNTAsMTEyNSwxNTAsOTc1LDAsODI1LDE1MCw2NzUsMCw1MjUsMTUwLDM3NSwwLDIyNSwxNTAsNzUsMCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9Ijk3NSIgeT0iMTA4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIxMjc1IiB5PSIxMDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjM3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE1NzUiIHk9IjEwODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMTg3NSIgeT0iMTA4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIyNDAwIiB5PSIxMDUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIzIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJmaW5pc2giIHg9IjM2NzUiIHk9IjYwMCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSIxMjAwIiB5PSI0NTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzAwIiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyMTAwIiB5PSI2NzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjI1MCIgeT0iNjc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI0MDAiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyNTUwIiB5PSI2NzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjcwMCIgeT0iNjc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iMjUxMi41IiB5PSIxMjAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ4Ny41IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE5MTIuNSIgeT0iMTIzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjE4Ny41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMiIgeD0iMjA2Mi41IiB5PSIxMDg3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzcuNSIgaGFsZkhlaWdodD0iMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0ic3RvbmUiIHg9IjI3NzUiIHk9Ijc1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icG9seSIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI4IiB2ZXJ0aWNlcz0iMCwtNTI1LDY3NSwtNTI1LDUyNSwtMzAwLDQ1MCwtNzUsMzQ0LDc1LDIyMiwxODQsMTUwLDE1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InN0b25lIiB4PSIzMDAwIiB5PSIxMDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwb2x5IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjgiIHZlcnRpY2VzPSIwLDAsNzUsLTc1LDIyNSwtMjI1LDMwMCwtMzc1LDMwMCwtNDUwLDkwMCwtNDUwLDkwMCwzMDAsMCwzMDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNDUwIiB5PSIxMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI2NzUiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDAxMi41IiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iNTYyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjUiIHg9IjE3MjUiIHk9IjEyMzcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjM3NTAiIHk9IjMwMCIgcm90PSIwIj48cHJvcGVydGllcyBwb3NpdGlvbj0iMiIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMjE3NSIgeT0iODI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PC9sZXZlbD48bGV2ZWwgbmFtZT0iNiIgdGl0bGU9InRyaWNrZXkiPjxvYmplY3QgdHlwZT0icGxheWVyIiB4PSIyNDYwNCIgeT0iODI5MCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJoYW5nYXJzdGFydCIgeD0iMzc1IiB5PSI2MDAiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMTk1MCIgeT0iMzAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSIxIiB4PSI5NzUiIHk9Ijc1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI4MjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaGFuZ2FyZmluaXNoIiB4PSI0NDI1IiB5PSI1MjUiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iaGFuZ2FyY2hlY2twb2ludCIgeD0iMTM1MCIgeT0iNjAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIG9yZGVyPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJmbHlpbmdzdGFyIiB4PSIyODUwIiB5PSIzMDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgcG9zaXRpb249IjEiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9IjIyMTIuNSIgeT0iNzUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjU2Mi41IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjIxNzUiIHk9IjYwMCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMiIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iMzMzNy41IiB5PSI3NTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNTYyLjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMTAiIHg9IjI3MzcuNSIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEyIiB4PSIyOTYyLjUiIHk9IjUyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIyODUwIiB5PSI2NzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iNSIgeD0iMjg1MCIgeT0iNzEyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTUwIiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iOCIgeD0iMjgxMi41IiB5PSI4NjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMzIyNSIgeT0iMjI1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIyIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDI3NSIgeT0iODYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzc1IiBoYWxmSGVpZ2h0PSIzMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0ic3RvbmUiIHg9IjM5MDAiIHk9IjM3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icG9seSIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI0IiB2ZXJ0aWNlcz0iMCwtNzUsLTkwMCwtMzAwLC05MDAsLTY3NSwwLC0zNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjEiIHg9Ii03NSIgeT0iMzAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyNSIgaGFsZkhlaWdodD0iNjAwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTIzNy41IiB5PSIwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQxMi41IiBoYWxmSGVpZ2h0PSIyMjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyMzI1IiB5PSItNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNjc1IiBoYWxmSGVpZ2h0PSIzMDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0OTUwIiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzAwIiBoYWxmSGVpZ2h0PSIzNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InN0b25lIiB4PSIzOTAwIiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBvbHkiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iNCIgdmVydGljZXM9IjAsLTMwMCw3NTAsLTMwMCw3NTAsMCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjM0NTAiIHk9IjYwMCIgcm90PSIwIj48cHJvcGVydGllcyBvcmRlcj0iMyIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIHRpbGVGcmFtZT0iMSIgeD0iNDg3LjUiIHk9Ijc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjMzNy41IiBoYWxmSGVpZ2h0PSIxNTAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI4MjUiIHk9IjUyNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyMjUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iODI1IiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjI1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWVzbWFsbCIgeD0iMTEyNSIgeT0iMzc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im5vbmUiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxibHVlc21hbGwiIHg9IjEyMDAiIHk9IjQ1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJub25lIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSIxMjAwIiB5PSIzNzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ibm9uZSIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE2NTAiIHk9IjMwMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImdyYXNzbXVkIiB0aWxlRnJhbWU9IjIiIHg9IjE2NTAiIHk9IjYzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSIzNy41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJncmFzc211ZCIgdGlsZUZyYW1lPSI1IiB4PSIxNjUwIiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxNjUwIiB5PSI1MjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYmlnIiB4PSIxODAwIiB5PSI1MjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ibm9uZSIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZGJpZyIgeD0iMTgwMCIgeT0iMzc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im5vbmUiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRiaWciIHg9IjIwMjUiIHk9IjQ1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJub25lIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJzdG9uZSIgeD0iMjQwMCIgeT0iMTUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwb2x5IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjYiIHZlcnRpY2VzPSIwLC03NSw3NTAsLTc1LDY3NSwzMDAsNDUwLDc1LDIyNSwzMDAsMCw3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MCIgeD0iMzc1MCIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwtMjI1LDAsLTc1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWVzbWFsbCIgeD0iMzc1MCIgeT0iNjAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96MCIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MSIgeD0iMzgyNSIgeT0iNDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwtMTUwLDAsNzUsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSIzODI1IiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3oxIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3oyIiB4PSIzOTAwIiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iNCIgdmVydGljZXM9IjAsMCwwLC03NSwwLDE1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxibHVlc21hbGwiIHg9IjM5MDAiIHk9IjYwMCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejIiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejMiIHg9IjM5NzUiIHk9IjMwMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsMjI1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWVzbWFsbCIgeD0iMzk3NSIgeT0iNjAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96MyIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96NSIgeD0iNDA1MCIgeT0iNTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwtMjI1LDAsLTc1LDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96NiIgeD0iNDEyNSIgeT0iNDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwtMTUwLDAsNzUsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSI0MDUwIiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o1IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSI0MTI1IiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o2IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZXNtYWxsIiB4PSI0MjAwIiB5PSI2MDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o0IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3o0IiB4PSI0MjAwIiB5PSIzNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iNCIgdmVydGljZXM9IjAsMCwwLC03NSwwLDE1MCwwLDAiLz48L29iamVjdD48L2xldmVsPjxsZXZlbCBuYW1lPSIxMCIgdGl0bGU9InRvdWdoaWUiPjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE4Ny41IiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTg3LjUiIGhhbGZIZWlnaHQ9IjUyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjgyNSIgeT0iLTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ1MCIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJzdGFydCIgeD0iNjAwIiB5PSI1MjUiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjgyNSIgeT0iNjc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ1MCIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYnRpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjExMjUiIHk9IjQ1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejAiIGxvb3A9InRydWUiLz48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejAiIHg9IjExMjUiIHk9IjQ1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsLTMwMCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejEiIHg9IjEzNTAiIHk9IjE1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsMzAwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZGJ0aWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxMzUwIiB5PSI0NTAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3oxIiBsb29wPSJ0cnVlIi8+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTcyNSIgeT0iNjc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ1MCIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMTcyNSIgeT0iLTc1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ1MCIgaGFsZkhlaWdodD0iMTUwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJjaGVja3BvaW50IiB4PSIyODUwIiB5PSI1MjUiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjEiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjMxNTAiIHk9IjI1NTAiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIHg9IjM3NTAiIHk9IjEyMDAiIHJvdD0iMCI+PHByb3BlcnRpZXMgb3JkZXI9IjMiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjI0MDAiIHk9IjIyNSIgcm90PSIwIj48cHJvcGVydGllcyBwb3NpdGlvbj0iMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iZmx5aW5nc3RhciIgeD0iMzYwMCIgeT0iOTc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIHBvc2l0aW9uPSIxIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJoYW5nYXJmaW5pc2giIHg9IjYzNzUiIHk9IjEyMDAiIHJvdD0iMCIvPjxvYmplY3QgdHlwZT0icGxheWVyIiB4PSIyNjg4OCIgeT0iODc4MCIgcm90PSIwIi8+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3oyIiB4PSIxNTc1IiB5PSI0NTAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iMyIgdmVydGljZXM9IjAsMCwwLC0zMDAsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYnRpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjE1NzUiIHk9IjQ1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejIiIGxvb3A9InRydWUiLz48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejMiIHg9IjE4MDAiIHk9IjE1MCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSIzIiB2ZXJ0aWNlcz0iMCwwLDAsMzAwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZGJ0aWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIxODAwIiB5PSI0NTAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3ozIiBsb29wPSJ0cnVlIi8+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiBpZD0ib3o0IiB4PSIyMDI1IiB5PSIzMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iNCIgdmVydGljZXM9IjAsMCwwLC0xNTAsMCwxNTAsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYnRpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjIwMjUiIHk9IjQ1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejQiIGxvb3A9InRydWUiLz48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRidGlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjI1MCIgeT0iNDUwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96NSIgbG9vcD0idHJ1ZSIvPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9Ijc1IiBoYWxmSGVpZ2h0PSI3NSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96NSIgeD0iMjI1MCIgeT0iMzAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwtMTUwLDAsMTUwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96NiIgeD0iMjQ3NSIgeT0iMzAwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjQiIHZlcnRpY2VzPSIwLDAsMCwtMTUwLDAsMTUwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbHJlZGJ0aWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyNDc1IiB5PSI0NTAiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o2IiBsb29wPSJ0cnVlIi8+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9Ijc1Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMjczNy41IiB5PSItNzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNTYyLjUiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI2MjUiIHk9IjY3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI0NTAiIGhhbGZIZWlnaHQ9IjE1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjM0MTIuNSIgeT0iNDUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjE4Ny41IiBoYWxmSGVpZ2h0PSIzNzUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIyODg3LjUiIHk9IjExNjIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxODcuNSIgaGFsZkhlaWdodD0iMzM3LjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNjM3LjUiIHk9IjEzMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMzc1IiB5PSIyMDYyLjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjI1IiBoYWxmSGVpZ2h0PSIyNjIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iY2xvdWR0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI4ODcuNSIgeT0iMTgzNy41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjE4Ny41IiBoYWxmSGVpZ2h0PSIzMzcuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiB0aWxlRnJhbWU9IjEiIHg9IjI4MTIuNSIgeT0iMjQ3NSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMzAwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJicmlja3RpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzM3NSIgeT0iMjY2Mi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ1MCIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzMTUwIiB5PSIxMjM3LjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNzUiIGhhbGZIZWlnaHQ9IjE4Ny41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iMzQxMi41IiB5PSIxMTI1IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjExMi41IiBoYWxmSGVpZ2h0PSIzMDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzODYyLjUiIHk9IjEzMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMTIuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJyaWNrdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSIzNzEyLjUiIHk9IjE4NzUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTEyLjUiIGhhbGZIZWlnaHQ9IjQ1MCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0ic3RvbmUiIHg9IjM4MjUiIHk9IjIzMjUiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBvbHkiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iMyIgdmVydGljZXM9IjAsLTkwMCwxNTAsLTkwMCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InN0b25lIiB4PSIzODI1IiB5PSIyNTUwIiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJwb2x5IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjYiIHZlcnRpY2VzPSIwLDAsNzUsLTc1LDIyNSwtMTEyNSwzMDAsLTExMjUsMzAwLDIyNSwwLDIyNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgeD0iNDI3NSIgeT0iMTA1MCIgcm90PSIwIiBpZD0ib3o3Ij48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI1IiB2ZXJ0aWNlcz0iMCwwLDE1MCwtMTUwLDMwMCwwLDE1MCwxNTAsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJwYXRoIiB4PSI0NTc1IiB5PSIxMDUwIiByb3Q9IjAiIGlkPSJvejkiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjUiIHZlcnRpY2VzPSIwLDAsMTUwLC0xNTAsMzAwLDAsMTUwLDE1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIHg9IjQ4NzUiIHk9IjEwNTAiIHJvdD0iMCIgaWQ9Im96MTEiPjxnZW9tZXRyeSB0eXBlPSJwYXRoIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBuVmVydGljZXM9IjUiIHZlcnRpY2VzPSIwLDAsMTUwLC0xNTAsMzAwLDAsMTUwLDE1MCwwLDAiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRtZWRpdW0iIHg9IjQ0MjUiIHk9IjEyNzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o3IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkc21hbGwiIHg9IjQ1NzUiIHk9IjEyNzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgbGluaz0ib3o4IiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkYmlnIiB4PSI0NzI1IiB5PSIxMjc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im96OSIgbG9vcD0idHJ1ZSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWVzbWFsbCIgeD0iNDk1MCIgeT0iMTI3NSIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejExIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZW1lZGl1bSIgeD0iNDg3NSIgeT0iMTI3NSIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJvejEwIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZWJpZyIgeD0iNTAyNSIgeT0iMTA1MCIgcm90PSIwIj48cHJvcGVydGllcyBsaW5rPSJub25lIiBsb29wPSJ0cnVlIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNDM4Ny41IiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3ODcuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI2Nzg3LjUiIHk9IjEwMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxODcuNSIgaGFsZkhlaWdodD0iNDEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI1NDM3LjUiIHk9Ijc4Ny41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjI2Mi41IiBoYWxmSGVpZ2h0PSIxMTIuNSIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0iaW5zdHJ1Y3Rpb25zIiB4PSI1ODUwIiB5PSI5NzUiIHJvdD0iMCI+PHByb3BlcnRpZXMgZnJhbWU9IjIiLz48L29iamVjdD48b2JqZWN0IHR5cGU9InBhdGgiIGlkPSJvejgiIHg9IjQ1NzUiIHk9IjEyMDAiIHJvdD0iMCI+PGdlb21ldHJ5IHR5cGU9InBhdGgiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIG5WZXJ0aWNlcz0iNSIgdmVydGljZXM9IjAsMCwtMTUwLC0xNTAsMCwtMzAwLDE1MCwtMTUwLDAsMCIvPjwvb2JqZWN0PjxvYmplY3QgdHlwZT0icGF0aCIgaWQ9Im96MTAiIHg9IjQ4NzUiIHk9IjkwMCIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icGF0aCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI1IiB2ZXJ0aWNlcz0iMCwwLDE1MCwxNTAsMCwzMDAsLTE1MCwxNTAsMCwwIi8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZWJpZyIgeD0iNTE3NSIgeT0iOTc1IiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im5vbmUiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxibHVlYmlnIiB4PSI1MTc1IiB5PSIxMjAwIiByb3Q9IjAiPjxwcm9wZXJ0aWVzIGxpbms9Im5vbmUiIGxvb3A9InRydWUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI2MTUwIiB5PSI3ODcuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI0NTAiIGhhbGZIZWlnaHQ9IjExMi41Ii8+PC9vYmplY3Q+PG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIHRpbGVGcmFtZT0iMSIgeD0iNjE1MCIgeT0iMTMxMi41IiByb3Q9IjAiPjxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjQ1MCIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImNsb3VkdGlsZSIgdGlsZUZyYW1lPSIxIiB4PSI0OTEyLjUiIHk9IjEzMTIuNSIgcm90PSIwIj48Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3ODcuNSIgaGFsZkhlaWdodD0iMTEyLjUiLz48L29iamVjdD48b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIHg9IjUyNTAiIHk9Ijk3NSIgcm90PSIwIj48cHJvcGVydGllcyBwb3NpdGlvbj0iMiIvPjwvb2JqZWN0PjwvbGV2ZWw+PC9sZXZlbHM+"},
{name:"definitions",data:"PGRlZmluaXRpb25zPg0KPG9iamVjdHM+DQoJPG9iamVjdCB0eXBlPSJncm91bmQ2NTB4NjAiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY0dyb3VuZDY1MHg2MCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIzMjUiIGhhbGZIZWlnaHQ9IjMwIi8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9Imdyb3VuZDQwMHgyNSIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0ic3RhdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jR3JvdW5kNDAweDI1IiBkZXB0aD0iMCIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIwMCIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iZ3JvdW5kMjAweDI1IiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNHcm91bmQyMDB4MjUiIGRlcHRoPSIwIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTAwIiBoYWxmSGVpZ2h0PSIxMiIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJncm91bmQxMDB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY0dyb3VuZDEwMHgyNSIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI1MCIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iZ3JvdW5kNTB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY0dyb3VuZDUweDI1IiBkZXB0aD0iMCIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjI1IiBoYWxmSGVpZ2h0PSIxMiIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJDQoJPG9iamVjdCB0eXBlPSJzbm93Z3JvdW5kNDAweDI1IiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJzbm93eSIgdHlwZT0ic3RhdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jU25vd1BsYXRmb3JtNDAweDI1IiBkZXB0aD0iMCIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIwMCIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0ic25vd2dyb3VuZDIwMHgyNSIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ic25vd3kiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY1Nub3dQbGF0Zm9ybTIwMHgyNSIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMDAiIGhhbGZIZWlnaHQ9IjEyIi8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9InNub3dncm91bmQxMDB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9InNub3d5IiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNTbm93UGxhdGZvcm0xMDB4MjUiIGRlcHRoPSIwIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNTAiIGhhbGZIZWlnaHQ9IjEyIi8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9InNub3dncm91bmQ1MHgyNSIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ic25vd3kiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY1Nub3dQbGF0Zm9ybTUweDI1IiBkZXB0aD0iMCIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjI1IiBoYWxmSGVpZ2h0PSIxMiIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJDQoJPG9iamVjdCB0eXBlPSJtZXRhbGdyb3VuZDQwMHgyNSIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0ic3RhdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jTWV0YWxQbGF0Zm9ybTQwMHgyNCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyMDAiIGhhbGZIZWlnaHQ9IjEyIi8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9Im1ldGFsZ3JvdW5kMjAweDI1IiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNNZXRhbFBsYXRmb3JtMjAweDI0IiBkZXB0aD0iMCIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjEwMCIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0ibWV0YWxncm91bmQxMDB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY01ldGFsUGxhdGZvcm0xMDB4MjQiIGRlcHRoPSIwIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNTAiIGhhbGZIZWlnaHQ9IjEyIi8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9Im1ldGFsZ3JvdW5kNTB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY01ldGFsUGxhdGZvcm01MHgyNCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyNSIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCQ0KCTxvYmplY3QgdHlwZT0iaWNlcGxhdGZvcm0xNTB4MjQiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9InNub3d5IiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNJY2VQbGF0Zm9ybTE1MHgyNCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI3NSIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iaWNlcGxhdGZvcm0xMDB4MjQiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9InNub3d5IiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNJY2VQbGF0Zm9ybTEwMHgyNCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI1MCIgaGFsZkhlaWdodD0iMTIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCQ0KCTxvYmplY3QgdHlwZT0icGxheWVyIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jUGxheWVyIiBkZXB0aD0iMiIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJwb2x5IiB4PSI0OTYiIHk9IjE2MCIgZGVncmVlcz0iMCIgblZlcnRpY2VzPSI3IiB2ZXJ0aWNlcz0iLTIyLjM3LC0xNC41LDE1LjM4LC0xNCwyMi4zOCwtOCwxOS4zOCw2LDEyLjM4LDE0LC0xNy42MiwxNC41LC0yMi4zNyw1LjUiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCQ0KCQ0KCTxvYmplY3QgdHlwZT0iYWxpZW4xIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jQWxpZW4xIiBkZXB0aD0iMCIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjE4IiBoYWxmSGVpZ2h0PSIzNCIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJhbGllbjIiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNBbGllbjIiIGRlcHRoPSIwIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjQiIGhhbGZIZWlnaHQ9IjMyIi8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9ImFsaWVuMyIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0iZHluYW1pYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY0FsaWVuMyIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyMiIgaGFsZkhlaWdodD0iMzIiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCQ0KCTxvYmplY3QgdHlwZT0id29vZGVuY3JhdGUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNXb29kZW5DcmF0ZSIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxNSIgaGFsZkhlaWdodD0iMTUiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0id29vZGVud2hlZWwiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNXb29kZW5XaGVlbCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0iY2lyYyIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgcmFkaXVzPSIxNSIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJtZXRhbGNyYXRlIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJtZXRhbCIgdHlwZT0iZHluYW1pYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY01ldGFsQ3JhdGUiIGRlcHRoPSIwIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMTUiIGhhbGZIZWlnaHQ9IjE1Ii8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9Im1ldGFsd2hlZWwiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im1ldGFsIiB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jTWV0YWxXaGVlbCIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0iY2lyYyIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgcmFkaXVzPSIyNSIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJzcGlrZXdoZWVsIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJtZXRhbCIgdHlwZT0iZHluYW1pYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY1NwaWtlV2hlZWwiIGRlcHRoPSIwIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9ImNpcmMiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIHJhZGl1cz0iMjUiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iZXhwbG9zaXZlY3JhdGUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNFeHBsb3NpdmVDcmF0ZSIgZGVwdGg9IjAiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxNSIgaGFsZkhlaWdodD0iMTUiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0idGVsZXBvcnRpbiIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0ia2luZW1hdGljIiBzZW5zb3I9InRydWUiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNUZWxlcG9ydEluIiBkZXB0aD0iMSIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJjaXJjIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiByYWRpdXM9IjE0Ii8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9ImxpbmsiIC8+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJ0ZWxlcG9ydG91dCIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0ia2luZW1hdGljIiBzZW5zb3I9InRydWUiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNUZWxlcG9ydE91dCIgZGVwdGg9IjEiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0iY2lyYyIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgcmFkaXVzPSIxNSIvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsaW5rIiAvPg0KCQk8cHJvcGVydHkgbmFtZT0ibG9vcCIgLz4NCiAgICA8L29iamVjdD4NCgkNCgk8b2JqZWN0IHR5cGU9ImJvbWIiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9InJvbGx6aWUiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNCb21iIiBkZXB0aD0iMSIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJjaXJjIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiByYWRpdXM9IjEyIiAvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJidWxsZXQiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9ImJ1bGxldHkiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNCdWxsZXQiIGRlcHRoPSIxIiAvPg0KICAgICAgICAgICAgPGdlb21ldHJ5IHR5cGU9ImNpcmMiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIHJhZGl1cz0iMiIgLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iYmFycmVsIiBzaXplPSI0MCIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jQmFycmVsIiBkZXB0aD0iMSIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyIiBoYWxmSGVpZ2h0PSIyOCIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJDQoJPG9iamVjdCB0eXBlPSJpbnN0cnVjdGlvbnMiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgaW5pdD0iZmFsc2UiIG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jSW5zdHJ1Y3Rpb25zIiBkZXB0aD0iMSIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjgwIiBoYWxmSGVpZ2h0PSI1MCIvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJmcmFtZSIgLz4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9ImhhbmQiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgaW5pdD0iZmFsc2UiIG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jSGFuZCIgZGVwdGg9IjEiIC8+DQogICAgICAgICAgICA8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyNSIgaGFsZkhlaWdodD0iNDAiLz4NCiAgICAgICAgPC9ib2R5Pg0KCQk8cHJvcGVydHkgbmFtZT0icG9zaXRpb24iIC8+DQoJCTxwcm9wZXJ0eSBuYW1lPSJwb2ludHR5cGUiIC8+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJkYXNoZWRjaXJjbGUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgaW5pdD0iZmFsc2UiIG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJkeW5hbWljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jRGFzaGVkQ2lyY2xlIiBkZXB0aD0iMSIgLz4NCiAgICAgICAgICAgIDxnZW9tZXRyeSB0eXBlPSJjaXJjIiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiByYWRpdXM9IjIwIiAvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJwb3NpdGlvbiIgLz4NCiAgICA8L29iamVjdD4NCgkNCgk8b2JqZWN0IHR5cGU9ImZseWluZ3N0YXIiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ic3RhdGljIiBzZW5zb3I9InRydWUiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNGbHlpbmdTdGFyIiBkZXB0aD0iMSIgLz4NCgkJCTxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjIyIiBoYWxmSGVpZ2h0PSIyMiIvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJwb3NpdGlvbiIgLz4NCiAgICA8L29iamVjdD4NCgkNCgk8b2JqZWN0IHR5cGU9ImhhbmdhcnN0YXJ0IiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IHR5cGU9InN0YXRpYyIgbWF0ZXJpYWw9ImhhbmdhcnkiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNIYW5nYXJTdGFydCIgZGVwdGg9IjAiIC8+DQoJCQk8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIyMDEiIGhhbGZIZWlnaHQ9IjgiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iaGFuZ2FyZmluaXNoIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IHR5cGU9InN0YXRpYyIgbWF0ZXJpYWw9ImhhbmdhcnkiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNIYW5nYXJGaW5pc2giIGRlcHRoPSIwIiAvPg0KCQkJPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjAxIiBoYWxmSGVpZ2h0PSI4Ii8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9ImhhbmdhcmNoZWNrcG9pbnQiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ic3RhdGljIiBtYXRlcmlhbD0iaGFuZ2FyeSI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY0hhbmdhckNoZWNrUG9pbnQiIGRlcHRoPSIwIiAvPg0KCQkJPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjAxIiBoYWxmSGVpZ2h0PSI4Ii8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9Im9yZGVyIiAvPg0KICAgIDwvb2JqZWN0Pg0KCQ0KCTxvYmplY3QgdHlwZT0iZ3Jhc3NtdWQiIGVkaXRvcj0icmVjdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InRpbGUiIHNyYz0iY21jVGlsZUdyYXNzTXVkIiBzaXplPSI3NSIgZGVwdGg9IjAiIHRpbGVFeGNsdWRlPSIxMSwxMyIgdGlsZVVwNDU9IjEwLDExIiB0aWxlRG93bjQ1PSIxMiwxMyIgc2NhbGU5PSIxIiAvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJjbG91ZHRpbGUiIGVkaXRvcj0icmVjdCI+DQogICAgICAgIDxib2R5IG1hdGVyaWFsPSJvcmdhbmljIiB0eXBlPSJzdGF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InRpbGUiIHNyYz0iY21jQ2xvdWRUaWxlcyIgc2l6ZT0iNzUiIGRlcHRoPSIwIiBzY2FsZTk9IjEiLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iYnJpY2t0aWxlIiBlZGl0b3I9InJlY3QiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0ic3RhdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJ0aWxlIiBzcmM9ImNtY0JyaWNrVGlsZXMiIHNpemU9Ijc1IiBkZXB0aD0iMCIgc2NhbGU5PSIxIiAvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJDQoJPG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkc21hbGwiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jUmVkTWV0YWxTbWFsbCIgZGVwdGg9IjAiIC8+DQoJCQk8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMyIgaGFsZkhlaWdodD0iMTMiLz4NCiAgICAgICAgPC9ib2R5Pg0KCQk8cHJvcGVydHkgbmFtZT0ibGluayIgLz4NCgkJPHByb3BlcnR5IG5hbWU9Imxvb3AiIC8+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJibG9ja21ldGFscmVkbWVkaXVtIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IHR5cGU9ImtpbmVtYXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY1JlZE1ldGFsTWVkaXVtIiBkZXB0aD0iMCIgLz4NCgkJCTxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjI1IiBoYWxmSGVpZ2h0PSIyNSIvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsaW5rIiAvPg0KCQk8cHJvcGVydHkgbmFtZT0ibG9vcCIgLz4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRiaWciIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jUmVkTWV0YWxCaWciIGRlcHRoPSIwIiAvPg0KCQkJPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMzciIGhhbGZIZWlnaHQ9IjM3Ii8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9ImxpbmsiIC8+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsb29wIiAvPg0KICAgIDwvb2JqZWN0Pg0KCQ0KCTxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWVzbWFsbCIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSB0eXBlPSJraW5lbWF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNCbHVlTWV0YWxTbWFsbCIgZGVwdGg9IjAiIC8+DQoJCQk8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSIxMyIgaGFsZkhlaWdodD0iMTMiLz4NCiAgICAgICAgPC9ib2R5Pg0KCQk8cHJvcGVydHkgbmFtZT0ibGluayIgLz4NCgkJPHByb3BlcnR5IG5hbWU9Imxvb3AiIC8+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJibG9ja21ldGFsYmx1ZW1lZGl1bSIgZWRpdG9yPSJkb3QiPg0KICAgICAgICA8Ym9keSB0eXBlPSJraW5lbWF0aWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNCbHVlTWV0YWxNZWRpdW0iIGRlcHRoPSIwIiAvPg0KCQkJPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iMjUiIGhhbGZIZWlnaHQ9IjI1Ii8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9ImxpbmsiIC8+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsb29wIiAvPg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0iYmxvY2ttZXRhbGJsdWViaWciIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jQmx1ZU1ldGFsQmlnIiBkZXB0aD0iMCIgLz4NCgkJCTxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjM3IiBoYWxmSGVpZ2h0PSIzNyIvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsaW5rIiAvPg0KCQk8cHJvcGVydHkgbmFtZT0ibG9vcCIgLz4NCiAgICA8L29iamVjdD4NCgkNCgk8b2JqZWN0IHR5cGU9ImJsb2NrbWV0YWxyZWRidGlja3RpbGUiIGVkaXRvcj0icmVjdCI+DQogICAgICAgIDxib2R5IHR5cGU9ImtpbmVtYXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0idGlsZSIgc3JjPSJjbWNCcmlja1RpbGVzIiBzaXplPSI3NSIgZGVwdGg9IjAiIHN0YXRpY1RpbGU9ImZhbHNlIiBzY2FsZTk9IjEiIC8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9ImxpbmsiIC8+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsb29wIiAvPg0KICAgIDwvb2JqZWN0Pg0KCQ0KCQ0KCTxvYmplY3QgdHlwZT0ibXVkIiBlZGl0b3I9InBvbHkiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ib3JnYW5pYyIgdHlwZT0ic3RhdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJmaWxsIiBzcmM9ImJtcE11ZCIgbGluZXdpZHRoPSIyIiBsaW5lY29sb3I9Ijg1NzE0MiIgaGVpZ2h0PSIyNTYiIHdpZHRoPSIyNTYiIGRlcHRoPSIwIiAvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJzdG9uZSIgZWRpdG9yPSJwb2x5Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0iZmlsbCIgc3JjPSJibXBTdG9uZSIgbGluZXdpZHRoPSIyIiBsaW5lY29sb3I9IjNGNTE2NCIgaGVpZ2h0PSIyNTYiIHdpZHRoPSIyNTYiIGRlcHRoPSIwIiAvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQogICAgPG9iamVjdCB0eXBlPSJicmljayIgZWRpdG9yPSJwb2x5Ij4NCiAgICAgICAgPGJvZHkgbWF0ZXJpYWw9Im9yZ2FuaWMiIHR5cGU9InN0YXRpYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0iZmlsbCIgc3JjPSJibXBCcmljayIgbGluZXdpZHRoPSIyIiBsaW5lY29sb3I9Ijc3NjM0QiIgaGVpZ2h0PSIyNTYiIHdpZHRoPSIyNTYiIGRlcHRoPSIwIiAvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJ3b29kIiBlZGl0b3I9InBvbHkiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0id29vZCIgdHlwZT0iZHluYW1pYyI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0iZmlsbCIgc3JjPSJibXBXb29kIiBsaW5ld2lkdGg9IjIiIGxpbmVjb2xvcj0iNzQ1MzNhIiBoZWlnaHQ9IjI1NiIgd2lkdGg9IjI1NiIgZGVwdGg9IjAiIC8+DQogICAgICAgIDwvYm9keT4NCiAgICA8L29iamVjdD4NCgk8b2JqZWN0IHR5cGU9Im1ldGFsIiBlZGl0b3I9InBvbHkiPg0KICAgICAgICA8Ym9keSBtYXRlcmlhbD0ibWV0YWwiIHR5cGU9ImR5bmFtaWMiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9ImZpbGwiIHNyYz0iYm1wTWV0YWwiIGxpbmV3aWR0aD0iMiIgbGluZWNvbG9yPSI0NDYzNkMiIGhlaWdodD0iMjU2IiB3aWR0aD0iMjU2IiBkZXB0aD0iMCIgLz4NCiAgICAgICAgPC9ib2R5Pg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0icGxhdGZvcm0xMDB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jUGxhdGZvcm0xMDB4MjUiIGRlcHRoPSIyIiAvPg0KCQkJPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iNTAiIGhhbGZIZWlnaHQ9IjEyIi8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9ImxpbmsiIC8+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsb29wIiAvPg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0icGxhdGZvcm0xNjB4MjUiIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jUGxhdGZvcm0xNjB4MjUiIGRlcHRoPSIyIiAvPg0KCQkJPGdlb21ldHJ5IHR5cGU9InJlY3QiIHg9IjAiIHk9IjAiIGRlZ3JlZXM9IjAiIGhhbGZXaWR0aD0iODAiIGhhbGZIZWlnaHQ9IjEyIi8+DQogICAgICAgIDwvYm9keT4NCgkJPHByb3BlcnR5IG5hbWU9ImxpbmsiIC8+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsb29wIiAvPg0KICAgIDwvb2JqZWN0Pg0KCTxvYmplY3QgdHlwZT0icnViYmVycGxhdGZvcm0iIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIiBtYXRlcmlhbD0ianVtcHkiPg0KICAgICAgICAgICAgPGdyYXBoaWNzIHR5cGU9InNwcml0ZSIgc3JjPSJjbWNSdWJiZXJQbGF0Zm9ybSIgZGVwdGg9IjIiIC8+DQoJCQk8Z2VvbWV0cnkgdHlwZT0icmVjdCIgeD0iMCIgeT0iMCIgZGVncmVlcz0iMCIgaGFsZldpZHRoPSI4MCIgaGFsZkhlaWdodD0iMTAiLz4NCiAgICAgICAgPC9ib2R5Pg0KCQk8cHJvcGVydHkgbmFtZT0ibGluayIgLz4NCgkJPHByb3BlcnR5IG5hbWU9Imxvb3AiIC8+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJydWJiZXJkeW5hbWljIiBlZGl0b3I9ImRvdCI+DQogICAgICAgIDxib2R5IHR5cGU9ImR5bmFtaWMiIG1hdGVyaWFsPSJqdW1weSI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ic3ByaXRlIiBzcmM9ImNtY1J1YmJlclBsYXRmb3JtIiBkZXB0aD0iMiIgLz4NCgkJCTxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjgwIiBoYWxmSGVpZ2h0PSIxMCIvPg0KICAgICAgICA8L2JvZHk+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJzd2l0Y2giIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGJvZHkgdHlwZT0ia2luZW1hdGljIj4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jU3dpdGNoIiBkZXB0aD0iMiIgLz4NCgkJCTxnZW9tZXRyeSB0eXBlPSJyZWN0IiB4PSIwIiB5PSIwIiBkZWdyZWVzPSIwIiBoYWxmV2lkdGg9IjE1IiBoYWxmSGVpZ2h0PSIxNSIvPg0KICAgICAgICA8L2JvZHk+DQoJCTxwcm9wZXJ0eSBuYW1lPSJsaW5rIiAvPg0KCQk8cHJvcGVydHkgbmFtZT0ib25vZmYiIC8+DQogICAgPC9vYmplY3Q+DQogICAgPG9iamVjdCB0eXBlPSJwaW4iIGVkaXRvcj0iZG90Ij4NCiAgICAgICAgPGpvaW50IHR5cGU9InBpdm90Ij4NCiAgICAgICAgICAgIDxncmFwaGljcyB0eXBlPSJzcHJpdGUiIHNyYz0iY21jRG90IiBkZXB0aD0iMiIgLz4NCiAgICAgICAgPC9qb2ludD4NCgkJPHByb3BlcnR5IG5hbWU9InJvdGF0aW9uIiAvPg0KICAgIDwvb2JqZWN0Pg0KICAgIDxvYmplY3QgdHlwZT0iZGlzdGFuY2UiIGVkaXRvcj0ibGluZSI+DQogICAgICAgIDxqb2ludCB0eXBlPSJkaXN0YW5jZSI+DQogICAgICAgICAgICA8Z3JhcGhpY3MgdHlwZT0ibGluZSIgc3JjPSJjbWNDaGFpbiIgZGVwdGg9IjIiIGVuZD0iY21jQ2hhaW5QaW4iIC8+DQogICAgICAgIDwvam9pbnQ+DQogICAgPC9vYmplY3Q+DQoJPG9iamVjdCB0eXBlPSJwYXRoIiBlZGl0b3I9InBhdGgiPg0KICAgICAgICA8Z3JhcGhpY3MgdHlwZT0icGF0aCIgbGluZWNvbG9yPSIwMGZmMDAiIGRlcHRoPSIyIiAvPg0KICAgIDwvb2JqZWN0Pg0KPC9vYmplY3RzPg0KPHByb3BlcnRpZXM+DQoJPCEtLSA8cHJvcGVydHkgbmFtZT0iY29sb3JfbG9vcCIgY2hvb3NlX3R5cGU9Imxpc3QiIHZhbHVlX3R5cGU9InN0cmluZyIgdmFsdWVzPSJvbmUsdHdvLHRocmVlLGxvb3BfaGVyZV9ub29wIiBkZWZhdWx0PSJvbmUiIC8+DQoJPHByb3BlcnR5IG5hbWU9InJvdGF0aW9uIiB2YWx1ZV90eXBlPSJpbnQiIHJhbmdlPSItOTo5IiBkZWZhdWx0PSIwIiAvPg0KCTxwcm9wZXJ0eSBuYW1lPSJsb2dpYyIgY2hvb3NlX3R5cGU9Im5vbmUiIGRlZmF1bHQ9IjAiIC8+IA0KCTxwcm9wZXJ0eSBuYW1lPSJwbGFjZWQiIGNob29zZV90eXBlPSJsaXN0IiB2YWx1ZV90eXBlPSJzdHJpbmciIHZhbHVlcz0idHJ1ZSxmYWxzZSIgZGVmYXVsdD0iZmFsc2UiIC8+IC0tPg0KCTxwcm9wZXJ0eSBuYW1lPSJwb2ludHR5cGUiIGNob29zZV90eXBlPSJsaXN0IiB2YWx1ZV90eXBlPSJzdHJpbmciIHZhbHVlcz0icG9pbnQsZHJhZyIgZGVmYXVsdD0icG9pbnQiIC8+DQoJPHByb3BlcnR5IG5hbWU9Imdob3N0Y29sb3IiIGNob29zZV90eXBlPSJsaXN0IiB2YWx1ZV90eXBlPSJzdHJpbmciIHZhbHVlcz0iZ3JlZW4scHVycGxlIiBkZWZhdWx0PSJncmVlbiIgLz4NCgk8cHJvcGVydHkgbmFtZT0iY29sb3IiIGNob29zZV90eXBlPSJsaXN0IiB2YWx1ZV90eXBlPSJzdHJpbmciIHZhbHVlcz0iZ3JlZW4scHVycGxlLHBpbmsiIGRlZmF1bHQ9ImdyZWVuIiAvPg0KCTxwcm9wZXJ0eSBuYW1lPSJwbGFjZWQiIGNob29zZV90eXBlPSJsaXN0IiB2YWx1ZV90eXBlPSJzdHJpbmciIHZhbHVlcz0idHJ1ZSxmYWxzZSIgZGVmYXVsdD0iZmFsc2UiIC8+DQoJPHByb3BlcnR5IG5hbWU9Im9ub2ZmIiBjaG9vc2VfdHlwZT0ibGlzdCIgdmFsdWVfdHlwZT0ic3RyaW5nIiB2YWx1ZXM9Im9uLG9mZiIgZGVmYXVsdD0ib2ZmIiAvPg0KCTxwcm9wZXJ0eSBuYW1lPSJsb29wIiBjaG9vc2VfdHlwZT0ibGlzdCIgdmFsdWVfdHlwZT0ic3RyaW5nIiB2YWx1ZXM9InRydWUsZmFsc2UiIGRlZmF1bHQ9InRydWUiIC8+DQoJPHByb3BlcnR5IG5hbWU9InBvc2l0aW9uIiBkZWZhdWx0PSIwIi8+DQoJPHByb3BlcnR5IG5hbWU9Im9yZGVyIiBkZWZhdWx0PSIxIi8+DQoJPHByb3BlcnR5IG5hbWU9ImZyYW1lIiBkZWZhdWx0PSIxIi8+DQoJPHByb3BlcnR5IG5hbWU9ImxpbmsiIGNob29zZV90eXBlPSJsaW5rIiBkZWZhdWx0PSJub25lIi8+DQoJPHByb3BlcnR5IG5hbWU9InJvdGF0aW9uIiBjaG9vc2VfdHlwZT0ibGlzdCIgdmFsdWVfdHlwZT0iaW50IiB2YWx1ZXM9Ii05LC04LC03LC02LC01LC00LC0zLC0yLC0xLDAsMSwyLDMsNCw1LDYsNyw4LDkiIGRlZmF1bHQ9IjAiIC8+DQogICAgPCEtLSA8cHJvcGVydHkgbmFtZT0iY29sb3IiIGNob29zZV90eXBlPSJsaXN0IiB2YWx1ZV90eXBlPSJzdHJpbmciIHZhbHVlcz0icHVycGxlLHB1cnBsZU5DLGJsdWUsZ3JlZW4iIGRlZmF1bHQ9InB1cnBsZSIgLz4NCiAgICA8cHJvcGVydHkgbmFtZT0iZ3Jhdml0eSIgY2hvb3NlX3R5cGU9Imxpc3QiIHZhbHVlX3R5cGU9InN0cmluZyIgdmFsdWVzPSJkb3duLHJpZ2h0LHVwLGxlZnQsc3RhdGljIiBkZWZhdWx0PSJkb3duIiAvPiAtLT4NCjwvcHJvcGVydGllcz4NCjxtYXRlcmlhbHM+DQoJPG1hdGVyaWFsIG5hbWU9InJvbGx6aWUiIGVsYXN0aWNpdHk9IjAuMiIgc3RhdGljRnJpY3Rpb249IjAuNCIgZHluYW1pY0ZyaWN0aW9uPSIwLjIiIC8+DQoJPG1hdGVyaWFsIG5hbWU9ImhhbmdhcnkiIGVsYXN0aWNpdHk9IjAuMiIgc3RhdGljRnJpY3Rpb249IjAuNCIgZHluYW1pY0ZyaWN0aW9uPSIxIiAvPg0KCTxtYXRlcmlhbCBuYW1lPSJoZWF2eWJhbGwiIGRlbnNpdHk9IjEwMCIgZWxhc3RpY2l0eT0iNSIgZHluYW1pY0ZyaWN0aW9uPSIwIiAvPg0KCTxtYXRlcmlhbCBuYW1lPSJ3b29kIiBkZW5zaXR5PSIwLjMiIHN0YXRpY0ZyaWN0aW9uPSIwIiBkeW5hbWljRnJpY3Rpb249IjAuNSIgLz4NCgk8bWF0ZXJpYWwgbmFtZT0ianVtcHkiIGVsYXN0aWNpdHk9IjEuMiIgZGVuc2l0eT0iMC4zIiBzdGF0aWNGcmljdGlvbj0iMC4xIiBkeW5hbWljRnJpY3Rpb249IjAuMSIgLz4NCgk8bWF0ZXJpYWwgbmFtZT0ic25vd3kiIGRlbnNpdHk9IjAuMyIgc3RhdGljRnJpY3Rpb249IjAuMDEiIGR5bmFtaWNGcmljdGlvbj0iMC4wMSIgLz4NCgk8bWF0ZXJpYWwgbmFtZT0iYnVsbGV0eSIgZGVuc2l0eT0iNSIgc3RhdGljRnJpY3Rpb249IjEiIGR5bmFtaWNGcmljdGlvbj0iMSIgLz4NCgk8bWF0ZXJpYWwgbmFtZT0ib3JnYW5pYyIgLz4NCgk8bWF0ZXJpYWwgbmFtZT0ibWV0YWwiIGRlbnNpdHk9IjUiIHN0YXRpY0ZyaWN0aW9uPSIwLjIiIC8+DQo8L21hdGVyaWFscz4NCjwvZGVmaW5pdGlvbnM+"}];
I.JQuery=window.jQuery;M.embeds=0;w.NAME="fly-again";w.PACKAGE_DIR_NAME="com/ozdy/flyagain";w.TILE_SIZE=75;w.WIDTH=640;w.WIDTH_MIN=640;w.WIDTH_MAX=854;w.HEIGHT=480;w.HEIGHT_MIN=480;w.HEIGHT_MAX=480;w.FPS=30;w.started=!1;w.systemPaused=!1;w.hadSound=!0;N.hasMusic=!1;N.hasSound=!1;N.loaded=!1;N.initted=!1;N.muteMusic=!1;N.muteSound=!1;G.currentLevel=0;G.NUMLEVELS=10;G.LEVELS_XML="levelsflyagain.xml";G.isCool=!1;G.isHooda=!1;G.ext="";F.KEYNUM=256;F.UP=38;F.DOWN=40;F.LEFT=37;F.RIGHT=39;F.INSERT=45;F.DELETE=
46;F.PAGE_UP=33;F.PAGE_DOWN=34;F.END=35;F.HOME=36;F.SPACE=32;F.D0=48;F.D1=49;F.D2=50;F.D3=51;F.D4=52;F.D5=53;F.D6=54;F.D7=55;F.D8=56;F.D9=57;F.mOffsetX=0;F.mOffsetY=0;q.Frames=[[344,1035,128,128,0,0],[649,1222,64,64,0,0],[475,1035,128,128,0,0],[606,1035,128,128,0,0],[1457,1251,64,64,0,0],[1387,577,233,71,113,32],[1093,1100,58,56,29,28],[1180,966,233,71,113,32],[1422,1045,103,100,50,48],[1528,1045,103,100,50,48],[751,1034,233,71,112,32],[3,1087,103,100,50,48],[880,1434,58,58,27,27],[444,941,304,91,
150,44],[668,835,400,103,198,50],[1152,1434,58,58,27,27],[237,1385,62,62,27,27],[1213,1434,56,56,26,26],[1272,1434,56,56,26,26],[1632,113,8,8,4,4],[1580,472,62,77,29,35],[1487,147,62,71,29,32],[64,1429,51,71,24,32],[628,1488,54,25,-5,7],[321,1133,18,26,9,13],[1154,1130,21,23,10,12],[1403,1407,21,23,10,12],[3,3,859,486,107,3],[987,1034,48,60,24,30],[1270,221,286,160,36,0],[783,1451,46,58,23,29],[415,1222,75,75,37,37],[452,1456,51,51,25,25],[1379,1221,27,27,13,13],[206,1401,25,25,12,12],[1118,1481,
26,36,13,23],[1613,1378,26,37,13,24],[1613,1301,26,39,13,26],[1061,1443,54,53,25,24],[207,965,134,135,65,65],[1270,3,214,215,105,105],[1387,384,190,190,93,92],[1476,876,165,166,80,80],[1487,3,142,141,69,68],[1040,966,137,131,68,68],[1180,1040,123,117,61,60],[1306,1040,113,109,56,56],[1528,1148,103,98,51,50],[724,1211,95,90,47,46],[822,1211,86,81,42,41],[3,3,0,0,0,0],[3,3,0,0,0,0],[3,3,0,0,0,0],[3,3,0,0,0,0],[3,3,0,0,0,0],[3,3,0,0,0,0],[3,3,0,0,0,0],[3,3,0,0,0,0],[1200,1386,26,18,13,9],[493,1222,75,
75,0,0],[571,1222,75,75,0,0],[911,1230,75,75,0,0],[989,1230,75,75,0,0],[1067,1230,75,75,0,0],[1145,1230,75,75,0,0],[1223,1230,75,75,0,0],[1301,1230,75,75,0,0],[3,1245,75,75,0,0],[81,1245,75,75,0,0],[159,1245,75,75,0,0],[1528,1249,75,75,0,0],[1379,1251,75,75,0,0],[822,1295,75,75,0,0],[334,1300,75,75,0,0],[412,1300,75,75,0,0],[1632,133,8,4,4,2],[949,1182,32,15,16,8],[1623,552,24,24,11,11],[232,1456,112,25,57,14],[232,1456,112,25,57,14],[232,1456,112,25,57,14],[232,1456,112,25,57,14],[232,1456,112,25,
57,14],[941,1443,117,25,57,14],[941,1443,117,25,57,14],[941,1443,117,25,57,14],[941,1443,117,25,57,14],[941,1443,117,25,57,14],[1508,1434,123,25,57,14],[1508,1434,123,25,57,14],[1508,1434,123,25,57,14],[1508,1434,123,25,57,14],[1508,1434,123,25,57,14],[668,798,129,25,57,14],[668,798,129,25,57,14],[668,798,129,25,57,14],[668,798,129,25,57,14],[668,798,129,25,57,14],[1643,113,4,4,2,2],[817,682,300,150,0,150],[3,965,201,119,0,120],[386,1485,60,30,0,30],[490,1300,75,75,0,0],[568,1300,75,75,0,0],[646,
1300,75,75,0,0],[724,1304,75,75,0,0],[237,1307,75,75,0,0],[900,1308,75,75,0,0],[978,1308,75,75,0,0],[1056,1308,75,75,0,0],[1134,1308,75,75,0,0],[118,1429,60,60,28,28],[865,3,402,418,52,-14],[1623,579,24,24,10,10],[1352,1152,66,66,31,31],[335,1485,48,48,24,24],[181,1429,48,60,24,30],[1632,102,9,8,5,4],[1623,631,20,17,11,13],[641,918,20,17,9,13],[1561,1490,32,33,16,16],[171,1492,32,33,16,16],[817,565,45,45,23,23],[817,613,45,45,23,22],[994,1471,48,49,23,22],[444,868,194,66,98,33],[663,1460,100,25,50,
13],[997,1386,200,25,100,13],[321,1166,400,25,200,13],[685,1488,50,25,25,13],[3,802,662,63,329,33],[1580,363,64,106,30,51],[412,492,402,150,201,146],[3,492,406,154,201,146],[412,645,402,150,201,146],[3,649,402,150,201,146],[802,1304,17,25,8,12],[1634,1071,13,21,7,10],[1420,1493,21,21,11,11],[1040,941,23,21,11,10],[911,1211,27,15,14,7],[347,1456,102,26,51,13],[997,1414,152,26,76,13],[1229,1386,18,17,9,9],[1093,1160,242,36,69,11],[3,1206,242,36,69,11],[1580,552,31,19,16,9],[315,1307,14,20,7,10],[1154,
1100,19,27,10,13],[321,1103,19,27,10,13],[987,1100,103,100,50,48],[109,1103,103,100,50,48],[215,1103,103,100,50,48],[737,1108,103,100,50,48],[843,1108,103,100,50,48],[1422,1148,103,100,50,48],[1559,147,70,130,33,63],[1563,651,70,130,33,63],[1613,1343,31,32,16,16],[232,1484,100,24,50,12],[1200,1407,200,24,100,12],[949,1203,400,24,200,12],[118,1492,50,24,25,12],[1331,1434,56,56,26,26],[560,1485,65,27,71,-1],[817,661,31,17,16,9],[1120,682,440,94,220,47],[560,1456,100,26,50,13],[1446,1405,161,26,80,13],
[1071,835,45,30,23,15],[832,1451,45,30,23,15],[1212,1308,75,75,37,37],[506,1456,51,51,25,25],[1390,1493,27,27,13,13],[1358,1493,29,31,15,15],[1387,651,166,26,82,12],[206,1492,23,21,12,10],[1071,876,402,87,201,44],[1559,280,88,80,45,38],[1118,1443,27,35,14,18],[738,1488,35,31,17,16],[949,1108,35,35,17,17],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,363,18,18,9,9],[1559,
363,18,18,9,9],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,57,15,15,7,7],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,75,12,12,6,6],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,90,9,9,4,
4],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,90,9,9,4,4],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1632,124,6,6,3,3],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1644,90,3,3,1,1],[1508,1462,100,25,50,13],[3,1401,200,25,
100,13],[321,1194,400,25,200,13],[1508,1490,50,25,25,13],[3,1429,58,63,27,29],[1416,966,57,68,28,34],[1390,1434,56,56,26,26],[1449,1434,56,56,26,26],[1444,1493,21,21,12,12],[1623,606,24,22,10,10],[641,868,24,22,10,10],[641,893,24,22,10,10],[865,424,519,255,267,94],[1253,1493,32,32,16,16],[1288,1493,32,32,16,16],[248,1222,83,82,40,40],[1563,784,84,81,39,38],[1290,1308,75,75,0,0],[3,1323,75,75,0,0],[81,1323,75,75,0,0],[159,1323,75,75,0,0],[1457,1327,75,75,0,0],[1535,1327,75,75,0,0],[334,1222,78,75,
0,0],[1368,1329,75,75,0,0],[802,1373,75,75,0,0],[315,1378,75,75,0,0],[393,1378,75,75,0,0],[471,1378,75,75,0,0],[549,1378,75,75,0,0],[627,1378,75,75,0,0],[705,1382,75,75,0,0],[880,1386,114,45,56,20],[817,492,37,70,16,54],[1606,1249,37,49,16,33],[1213,1493,37,28,16,12],[3,3,0,0,1,0],[344,965,88,50,12,1],[1632,3,15,25,8,12],[800,798,13,29,7,15],[1632,31,15,23,8,11],[1634,1045,13,23,6,11],[949,1146,33,33,16,17],[1323,1493,32,32,16,16],[1120,779,440,94,220,47],[3,868,438,94,219,47],[751,941,286,90,142,
48],[1611,1462,36,35,18,17],[832,1484,36,35,18,17],[1270,384,103,35,28,15],[941,1471,50,50,0,0]];q.bmpBrick={name:"bmpBrick",tilesheetId:-1,frames:[0]};q.bmpMetal={name:"bmpMetal",tilesheetId:-1,frames:[1]};q.bmpMud={name:"bmpMud",tilesheetId:-1,frames:[2]};q.bmpStone={name:"bmpStone",tilesheetId:-1,frames:[3]};q.bmpWood={name:"bmpWood",tilesheetId:-1,frames:[4]};q.btnBack={name:"btnBack",tilesheetId:-1,frames:[5]};q.btnCancel={name:"btnCancel",tilesheetId:-1,frames:[6]};q.btnCredits={name:"btnCredits",
tilesheetId:-1,frames:[7]};q.btnIconPlay={name:"btnIconPlay",tilesheetId:-1,frames:[8]};q.btnLevels={name:"btnLevels",tilesheetId:-1,frames:[9]};q.btnMoreGames={name:"btnMoreGames",tilesheetId:-1,frames:[10]};q.btnNext={name:"btnNext",tilesheetId:-1,frames:[11]};q.btnPause={name:"btnPause",tilesheetId:-1,frames:[12]};q.btnPlay={name:"btnPlay",tilesheetId:-1,frames:[13]};q.btnRestart={name:"btnRestart",tilesheetId:-1,frames:[14]};q.cbtnAudio={name:"cbtnAudio",tilesheetId:-1,frames:[15,16]};q.cbtnFacebook=
{name:"cbtnFacebook",tilesheetId:-1,frames:[17]};q.cbtnTwitter={name:"cbtnTwitter",tilesheetId:-1,frames:[18]};q.cmcAimBall={name:"cmcAimBall",tilesheetId:-1,frames:[19]};q.cmcAlien1={name:"cmcAlien1",tilesheetId:-1,frames:[20]};q.cmcAlien2={name:"cmcAlien2",tilesheetId:-1,frames:[21]};q.cmcAlien3={name:"cmcAlien3",tilesheetId:-1,frames:[22]};q.cmcArm={name:"cmcArm",tilesheetId:-1,frames:[23]};q.cmcArm1={name:"cmcArm1",tilesheetId:-1,frames:[24]};q.cmcArm2={name:"cmcArm2",tilesheetId:-1,frames:[25]};
q.cmcArm3={name:"cmcArm3",tilesheetId:-1,frames:[26]};q.cmcBG={name:"cmcBG",tilesheetId:-1,frames:[27]};q.cmcBGGGG={name:"cmcBGGGG",tilesheetId:-1,frames:[28]};q.cmcBGSolid={name:"cmcBGSolid",tilesheetId:-1,frames:[29]};q.cmcBarrel={name:"cmcBarrel",tilesheetId:-1,frames:[30]};q.cmcBlueMetalBig={name:"cmcBlueMetalBig",tilesheetId:-1,frames:[31]};q.cmcBlueMetalMedium={name:"cmcBlueMetalMedium",tilesheetId:-1,frames:[32]};q.cmcBlueMetalSmall={name:"cmcBlueMetalSmall",tilesheetId:-1,frames:[33]};q.cmcBlueStar=
{name:"cmcBlueStar",tilesheetId:-1,frames:[34]};q.cmcBomb={name:"cmcBomb",tilesheetId:-1,frames:[35,36,37]};q.cmcBoomOneThird={name:"cmcBoomOneThird",tilesheetId:-1,frames:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57]};q.cmcBrain={name:"cmcBrain",tilesheetId:-1,frames:[58]};q.cmcBrickTiles={name:"cmcBrickTiles",tilesheetId:-1,frames:[59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74]};q.cmcBullet={name:"cmcBullet",tilesheetId:-1,frames:[75]};q.cmcChain={name:"cmcChain",tilesheetId:-1,
frames:[76]};q.cmcChainPin={name:"cmcChainPin",tilesheetId:-1,frames:[77]};q.cmcChecking={name:"cmcChecking",tilesheetId:-1,frames:[78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97]};q.cmcChess={name:"cmcChess",tilesheetId:-1,frames:[98]};q.cmcCloudBig={name:"cmcCloudBig",tilesheetId:-1,frames:[99]};q.cmcCloudMedium={name:"cmcCloudMedium",tilesheetId:-1,frames:[100]};q.cmcCloudSmall={name:"cmcCloudSmall",tilesheetId:-1,frames:[101]};q.cmcCloudTiles={name:"cmcCloudTiles",tilesheetId:-1,
frames:[102,103,104,105,106,107,108,109,110]};q.cmcCrate={name:"cmcCrate",tilesheetId:-1,frames:[111]};q.cmcCreditsText={name:"cmcCreditsText",tilesheetId:-1,frames:[112]};q.cmcCross={name:"cmcCross",tilesheetId:-1,frames:[113]};q.cmcCrossHair={name:"cmcCrossHair",tilesheetId:-1,frames:[114]};q.cmcDashedCircle={name:"cmcDashedCircle",tilesheetId:-1,frames:[115]};q.cmcDialogBG={name:"cmcDialogBG",tilesheetId:-1,frames:[116]};q.cmcDot={name:"cmcDot",tilesheetId:-1,frames:[117,118,119]};q.cmcExplosiveCrate=
{name:"cmcExplosiveCrate",tilesheetId:-1,frames:[120,121]};q.cmcFlyingStar={name:"cmcFlyingStar",tilesheetId:-1,frames:[122]};q.cmcGoldStar={name:"cmcGoldStar",tilesheetId:-1,frames:[123,124]};q.cmcGooglePlay={name:"cmcGooglePlay",tilesheetId:-1,frames:[125]};q.cmcGround100x25={name:"cmcGround100x25",tilesheetId:-1,frames:[126]};q.cmcGround200x25={name:"cmcGround200x25",tilesheetId:-1,frames:[127]};q.cmcGround400x25={name:"cmcGround400x25",tilesheetId:-1,frames:[128]};q.cmcGround50x25={name:"cmcGround50x25",
tilesheetId:-1,frames:[129]};q.cmcGround650x60={name:"cmcGround650x60",tilesheetId:-1,frames:[130]};q.cmcHand={name:"cmcHand",tilesheetId:-1,frames:[131]};q.cmcHangarCheckPoint={name:"cmcHangarCheckPoint",tilesheetId:-1,frames:[132,133]};q.cmcHangarFinish={name:"cmcHangarFinish",tilesheetId:-1,frames:[134]};q.cmcHangarStart={name:"cmcHangarStart",tilesheetId:-1,frames:[135]};q.cmcHeart={name:"cmcHeart",tilesheetId:-1,frames:[136]};q.cmcIceFragment1={name:"cmcIceFragment1",tilesheetId:-1,frames:[137]};
q.cmcIceFragment2={name:"cmcIceFragment2",tilesheetId:-1,frames:[138]};q.cmcIceFragment3={name:"cmcIceFragment3",tilesheetId:-1,frames:[139]};q.cmcIceFragment4={name:"cmcIceFragment4",tilesheetId:-1,frames:[140]};q.cmcIcePlatform100x24={name:"cmcIcePlatform100x24",tilesheetId:-1,frames:[141]};q.cmcIcePlatform150x24={name:"cmcIcePlatform150x24",tilesheetId:-1,frames:[142]};q.cmcInLabel={name:"cmcInLabel",tilesheetId:-1,frames:[143]};q.cmcInstructions={name:"cmcInstructions",tilesheetId:-1,frames:[144,
145]};q.cmcIntestine={name:"cmcIntestine",tilesheetId:-1,frames:[146]};q.cmcLeg1={name:"cmcLeg1",tilesheetId:-1,frames:[147]};q.cmcLeg2={name:"cmcLeg2",tilesheetId:-1,frames:[148]};q.cmcLeg3={name:"cmcLeg3",tilesheetId:-1,frames:[149]};q.cmcLevelSelectButton={name:"cmcLevelSelectButton",tilesheetId:-1,frames:[150,151,152,153,154,155]};q.cmcLevelsLeft={name:"cmcLevelsLeft",tilesheetId:-1,frames:[156]};q.cmcLevelsRight={name:"cmcLevelsRight",tilesheetId:-1,frames:[157]};q.cmcMetalCrate={name:"cmcMetalCrate",
tilesheetId:-1,frames:[158]};q.cmcMetalPlatform100x24={name:"cmcMetalPlatform100x24",tilesheetId:-1,frames:[159]};q.cmcMetalPlatform200x24={name:"cmcMetalPlatform200x24",tilesheetId:-1,frames:[160]};q.cmcMetalPlatform400x24={name:"cmcMetalPlatform400x24",tilesheetId:-1,frames:[161]};q.cmcMetalPlatform50x24={name:"cmcMetalPlatform50x24",tilesheetId:-1,frames:[162]};q.cmcMetalWheel={name:"cmcMetalWheel",tilesheetId:-1,frames:[163]};q.cmcNext={name:"cmcNext",tilesheetId:-1,frames:[164]};q.cmcOutLabel=
{name:"cmcOutLabel",tilesheetId:-1,frames:[165]};q.cmcPausedText={name:"cmcPausedText",tilesheetId:-1,frames:[166]};q.cmcPlatform100x25={name:"cmcPlatform100x25",tilesheetId:-1,frames:[167]};q.cmcPlatform160x25={name:"cmcPlatform160x25",tilesheetId:-1,frames:[168]};q.cmcPlayer={name:"cmcPlayer",tilesheetId:-1,frames:[169,170]};q.cmcRedMetalBig={name:"cmcRedMetalBig",tilesheetId:-1,frames:[171]};q.cmcRedMetalMedium={name:"cmcRedMetalMedium",tilesheetId:-1,frames:[172]};q.cmcRedMetalSmall={name:"cmcRedMetalSmall",
tilesheetId:-1,frames:[173]};q.cmcRibs={name:"cmcRibs",tilesheetId:-1,frames:[174]};q.cmcRubberPlatform={name:"cmcRubberPlatform",tilesheetId:-1,frames:[175]};q.cmcSaucerPart={name:"cmcSaucerPart",tilesheetId:-1,frames:[176]};q.cmcSelectALevel={name:"cmcSelectALevel",tilesheetId:-1,frames:[177]};q.cmcShotCounter={name:"cmcShotCounter",tilesheetId:-1,frames:[178]};q.cmcSkull1={name:"cmcSkull1",tilesheetId:-1,frames:[179]};q.cmcSkull2={name:"cmcSkull2",tilesheetId:-1,frames:[180]};q.cmcSkull3={name:"cmcSkull3",
tilesheetId:-1,frames:[181]};q.cmcSmoke={name:"cmcSmoke",tilesheetId:-1,frames:[182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241]};q.cmcSnowPlatform100x25={name:"cmcSnowPlatform100x25",tilesheetId:-1,frames:[242]};q.cmcSnowPlatform200x25={name:"cmcSnowPlatform200x25",tilesheetId:-1,frames:[243]};q.cmcSnowPlatform400x25=
{name:"cmcSnowPlatform400x25",tilesheetId:-1,frames:[244]};q.cmcSnowPlatform50x25={name:"cmcSnowPlatform50x25",tilesheetId:-1,frames:[245]};q.cmcSoulBoy={name:"cmcSoulBoy",tilesheetId:-1,frames:[246]};q.cmcSoulGirl={name:"cmcSoulGirl",tilesheetId:-1,frames:[247]};q.cmcSpikeWheel={name:"cmcSpikeWheel",tilesheetId:-1,frames:[248,249]};q.cmcStarGold={name:"cmcStarGold",tilesheetId:-1,frames:[250]};q.cmcStarGreen={name:"cmcStarGreen",tilesheetId:-1,frames:[251]};q.cmcStarPink={name:"cmcStarPink",tilesheetId:-1,
frames:[252]};q.cmcStarPurple={name:"cmcStarPurple",tilesheetId:-1,frames:[253]};q.cmcSuperHoodaTitle={name:"cmcSuperHoodaTitle",tilesheetId:-1,frames:[254]};q.cmcSwitch={name:"cmcSwitch",tilesheetId:-1,frames:[255,256]};q.cmcTeleportIn={name:"cmcTeleportIn",tilesheetId:-1,frames:[257]};q.cmcTeleportOut={name:"cmcTeleportOut",tilesheetId:-1,frames:[258]};q.cmcTileGrassMud={name:"cmcTileGrassMud",tilesheetId:-1,frames:[259,260,261,262,263,264,265,266,267,268,269,270,271,272,273]};q.cmcTryCounter={name:"cmcTryCounter",
tilesheetId:-1,frames:[274]};q.cmcTryStars={name:"cmcTryStars",tilesheetId:-1,frames:[275,276,277,278]};q.cmcWhiteRect={name:"cmcWhiteRect",tilesheetId:-1,frames:[279]};q.cmcWoodFragment1={name:"cmcWoodFragment1",tilesheetId:-1,frames:[280]};q.cmcWoodFragment2={name:"cmcWoodFragment2",tilesheetId:-1,frames:[281]};q.cmcWoodFragment3={name:"cmcWoodFragment3",tilesheetId:-1,frames:[282]};q.cmcWoodFragment4={name:"cmcWoodFragment4",tilesheetId:-1,frames:[283]};q.cmcWoodenCrate={name:"cmcWoodenCrate",
tilesheetId:-1,frames:[284]};q.cmcWoodenWheel={name:"cmcWoodenWheel",tilesheetId:-1,frames:[285]};q.cmcYouLoseText={name:"cmcYouLoseText",tilesheetId:-1,frames:[286]};q.cmcYouWinText={name:"cmcYouWinText",tilesheetId:-1,frames:[287]};q.sponsorGGG={name:"sponsorGGG",tilesheetId:-1,frames:[288]};q.sysRateStar={name:"sysRateStar",tilesheetId:-1,frames:[289,290]};q.sysRateUs={name:"sysRateUs",tilesheetId:-1,frames:[291]};q.sysRectBlack={name:"sysRectBlack",tilesheetId:-1,frames:[292]};q.BitmapName="Objects.png";
Z.initted=!1;Z.hideLogo=!1;l.geom.Transform.DEG_TO_RAD=Math.PI/180;l.geom.Matrix.pool=[];r.ds.ObjectMap.count=0;l.Lib.qTimeStamp=Date.now()+0;l.Lib.mouseX=0;l.Lib.mouseY=0;l.media.Sound.library=new r.ds.StringMap;c.callbacks.ZPP_CbType.ANY_SHAPE=new g.callbacks.CbType;c.callbacks.ZPP_CbType.ANY_BODY=new g.callbacks.CbType;c.callbacks.ZPP_CbType.ANY_COMPOUND=new g.callbacks.CbType;c.callbacks.ZPP_CbType.ANY_CONSTRAINT=new g.callbacks.CbType;c.ZPP_ID._Constraint=0;c.ZPP_ID._Interactor=0;c.ZPP_ID._CbType=
0;c.ZPP_ID._CbSet=0;c.ZPP_ID._Listener=0;c.ZPP_ID._ZPP_SimpleVert=0;c.ZPP_ID._ZPP_SimpleSeg=0;c.ZPP_ID._InteractionGroup=0;c.ZPP_ID._Space=0;E.tileInfos=new r.ds.StringMap;E.bombCT=new g.callbacks.CbType;E.teleportInCT=new g.callbacks.CbType;E.alienCT=new g.callbacks.CbType;E.bulletCT=new g.callbacks.CbType;E.switchCT=new g.callbacks.CbType;E.iceCT=new g.callbacks.CbType;E.barrelCT=new g.callbacks.CbType;E.spikeCT=new g.callbacks.CbType;E.hangarCT=new g.callbacks.CbType;E.planeCT=new g.callbacks.CbType;
E.starCT=new g.callbacks.CbType;E.collideableCT=new g.callbacks.CbType;E.bulletFilter=new g.dynamics.InteractionFilter;E.playerFilter=new g.dynamics.InteractionFilter;E.REMOVE=-1;E.GREEN=0;E.PURPLE=1;E.PINK=2;E.DOG=1;E.CAT=2;E.DOG_CAP=3;E.CAT_CAP=4;E.BARREL=5;E.CLICKPOLYGON=6;E.PLAYER=200;E.ZOMBIE=201;E.WOOD=202;E.METAL=203;E.EXPLOSIVE_CRATE=204;E.BOMB=205;E.PLATFORM=206;E.PATH=207;E.SWITCH=208;E.TELEPORT_IN=209;E.TELEPORT_OUT=210;E.RUBBER_PLATFORM=211;E.BULLET=212;E.ALIEN1=213;E.ALIEN2=214;E.ALIEN3=
215;E.ICE_PLATFORM=216;E.SPIKE_WHEEL=217;E.HANGAR_START=301;E.HANGAR_CHECKPOINT=302;E.HANGAR_FINISH=303;E.FLYING_STAR=304;E.BLOCK_METAL=305;E.HAND=100;E.DASHED_CIRCLE=101;E.INSTRUCTIONS=102;E.FLAG_ON=1;E.FLAG_LOOP=2;E.FLAG_STOPPED=4;E.tempVec1=new g.geom.Vec2;E.tempVec2=new g.geom.Vec2;E.pointVec=new g.geom.Vec2;r.Serializer.USE_CACHE=!1;r.Serializer.USE_ENUM_INDEX=!1;r.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";r.Unserializer.DEFAULT_RESOLVER=U;r.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";r.crypto.Base64.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";r.crypto.Base64.BYTES=r.io.Bytes.ofString(r.crypto.Base64.CHARS);r.xml.Parser.escapes=function(a){a=new r.ds.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);g.Config.epsilon=1E-8;g.Config.fluidAngularDragFriction=2.5;g.Config.fluidAngularDrag=
100;g.Config.fluidVacuumDrag=0.5;g.Config.fluidLinearDrag=0.5;g.Config.collisionSlop=0.2;g.Config.collisionSlopCCD=0.5;g.Config.distanceThresholdCCD=0.05;g.Config.staticCCDLinearThreshold=0.05;g.Config.staticCCDAngularThreshold=0.005;g.Config.bulletCCDLinearThreshold=0.125;g.Config.bulletCCDAngularThreshold=0.0125;g.Config.dynamicSweepLinearThreshold=17;g.Config.dynamicSweepAngularThreshold=0.6;g.Config.angularCCDSlipScale=0.75;g.Config.arbiterExpirationDelay=6;g.Config.staticFrictionThreshold=2;
g.Config.elasticThreshold=20;g.Config.sleepDelay=60;g.Config.linearSleepThreshold=0.2;g.Config.angularSleepThreshold=0.4;g.Config.contactBiasCoef=0.3;g.Config.contactStaticBiasCoef=0.6;g.Config.contactContinuousBiasCoef=0.4;g.Config.contactContinuousStaticBiasCoef=0.5;g.Config.constraintLinearSlop=0.1;g.Config.constraintAngularSlop=0.001;g.Config.illConditionedThreshold=2E8;x.Assets.cache=new x.AssetCache;x.Assets.libraries=new r.ds.StringMap;x.Assets.initialized=!1;k.OzAPI.initted=!1;k.OzAPI.initFirst=
!1;k.OzAPI.requestInitted=!1;k.OzAPI.numTries=0;k.OzAPI.numAdsLoaded=0;k.OzAPI.numAdsFailed=0;k.OzAPI.Platform="html5";k.OzEvent.CLICK=1;k.OzEvent.DOWN=2;k.OzEvent.OVER=3;k.OzEvent.OUT=4;k.OzGeometry.MAX_OBJECTS=1E4;k.OzGeometry.RECTANGLE=1;k.OzGeometry.CIRCLE=2;k.OzGeometry.POLYGON=3;k.OzGeometry.LINE=4;k.OzGeometry.DOT=5;k.OzGeometry.TRIANGLE=6;k.OzGeometry.PATH=7;k.OzGeometry.oo=2E6;k.OzGeometry._d=":";k.OzGeometry.temp2=[];k.OzMatrix.MAX_MATRICES=200;k.OzMobileUtils.PreviousRating=0;k.OzParticle.MAX_PARTICLES=
500;k.OzParticle.HEAD=-1;k.OzParticle.CIRCLE=1;k.OzParticle.LINE=2;k.OzSprite.PAD_VERTICAL=1;k.OzSprite.PAD_VERTICAL_HALF=2;k.OzSprite.PAD_MINUS_VERTICAL=4;k.OzSprite.PAD_MINUS_VERTICAL_HALF=8;k.OzSprite.PAD_VERTICAL_CENTER=16;k.OzSprite.PAD_HORIZONTAL=32;k.OzSprite.PAD_HORIZONTAL_HALF=64;k.OzSprite.PAD_MINUS_HORIZONTAL=128;k.OzSprite.PAD_MINUS_HORIZONTAL_HALF=256;k.OzSprite.PAD_HORIZONTAL_CENTER=512;k.OzSprite.FLAG_LINK=1;k.OzSprite.MAX_SPRITES=400;k.OzTileMap.EMPTY=0;k.OzTileMap.FULL=1;k.OzTileMap.DOWN45=
2;k.OzTileMap.UP45=3;k.OzTween.MAX_TWEENS=500;k.OzUtil.EPS=1E-6;k.OzUtil.loggedMoment=0;D.StateLevels.NUMPAGES=1;D.StateLevels.PER_PAGE=10;D.StateMenu.Shown=0;D.StatePlay.StateCounter=0;D.StatePlay.WinShown=0;D.StatePlay.NORMAL=0;D.StatePlay.WAITING=1;D.StatePlay.WIN=2;D.StatePlay.LOSE=3;D.StatePlay.OffsetX=-450;D.StatePlay.OffsetY=-4500;D.StatePlay.BoundsWidth=18E3;D.StatePlay.BoundsHeight=9E3;D.StatePlay.GRAVITY=500;D.StatePlay.MUP=0;D.StatePlay.MDOWN=1;c.ZPP_Const.FMAX=1E100;c.callbacks.ZPP_Callback.internal=
!1;c.util.ZPP_Flags.internal=!1;c.util.ZPP_Flags.id_ImmState_ACCEPT=1;c.util.ZPP_Flags.id_ImmState_IGNORE=2;c.util.ZPP_Flags.id_ImmState_ALWAYS=4;c.util.ZPP_Flags.id_GravMassMode_DEFAULT=0;c.util.ZPP_Flags.id_GravMassMode_FIXED=1;c.util.ZPP_Flags.id_GravMassMode_SCALED=2;c.util.ZPP_Flags.id_InertiaMode_DEFAULT=0;c.util.ZPP_Flags.id_InertiaMode_FIXED=1;c.util.ZPP_Flags.id_MassMode_DEFAULT=0;c.util.ZPP_Flags.id_MassMode_FIXED=1;c.util.ZPP_Flags.id_BodyType_STATIC=1;c.util.ZPP_Flags.id_BodyType_DYNAMIC=
2;c.util.ZPP_Flags.id_BodyType_KINEMATIC=3;c.util.ZPP_Flags.id_ListenerType_BODY=0;c.util.ZPP_Flags.id_PreFlag_ACCEPT=1;c.util.ZPP_Flags.id_ListenerType_CONSTRAINT=1;c.util.ZPP_Flags.id_PreFlag_IGNORE=2;c.util.ZPP_Flags.id_ListenerType_INTERACTION=2;c.util.ZPP_Flags.id_PreFlag_ACCEPT_ONCE=3;c.util.ZPP_Flags.id_ListenerType_PRE=3;c.util.ZPP_Flags.id_PreFlag_IGNORE_ONCE=4;c.util.ZPP_Flags.id_CbEvent_BEGIN=0;c.util.ZPP_Flags.id_InteractionType_COLLISION=1;c.util.ZPP_Flags.id_CbEvent_ONGOING=6;c.util.ZPP_Flags.id_InteractionType_SENSOR=
2;c.util.ZPP_Flags.id_CbEvent_END=1;c.util.ZPP_Flags.id_InteractionType_FLUID=4;c.util.ZPP_Flags.id_CbEvent_WAKE=2;c.util.ZPP_Flags.id_InteractionType_ANY=7;c.util.ZPP_Flags.id_CbEvent_SLEEP=3;c.util.ZPP_Flags.id_CbEvent_BREAK=4;c.util.ZPP_Flags.id_CbEvent_PRE=5;c.util.ZPP_Flags.id_Winding_UNDEFINED=0;c.util.ZPP_Flags.id_Winding_CLOCKWISE=1;c.util.ZPP_Flags.id_Winding_ANTICLOCKWISE=2;c.util.ZPP_Flags.id_ValidationResult_VALID=0;c.util.ZPP_Flags.id_ValidationResult_DEGENERATE=1;c.util.ZPP_Flags.id_ValidationResult_CONCAVE=
2;c.util.ZPP_Flags.id_ValidationResult_SELF_INTERSECTING=3;c.util.ZPP_Flags.id_ShapeType_CIRCLE=0;c.util.ZPP_Flags.id_ShapeType_POLYGON=1;c.util.ZPP_Flags.id_Broadphase_DYNAMIC_AABB_TREE=0;c.util.ZPP_Flags.id_Broadphase_SWEEP_AND_PRUNE=1;c.util.ZPP_Flags.id_ArbiterType_COLLISION=1;c.util.ZPP_Flags.id_ArbiterType_SENSOR=2;c.util.ZPP_Flags.id_ArbiterType_FLUID=4;c.callbacks.ZPP_Listener.internal=!1;var ta=c.callbacks.ZPP_Listener,sa;null==c.util.ZPP_Flags.ListenerType_BODY&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.ListenerType_BODY=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);sa=c.util.ZPP_Flags.ListenerType_BODY;var la;null==c.util.ZPP_Flags.ListenerType_CONSTRAINT&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_CONSTRAINT=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);la=c.util.ZPP_Flags.ListenerType_CONSTRAINT;null==c.util.ZPP_Flags.ListenerType_INTERACTION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_INTERACTION=new g.callbacks.ListenerType,
c.util.ZPP_Flags.internal=!1);var Sc=c.util.ZPP_Flags.ListenerType_INTERACTION;null==c.util.ZPP_Flags.ListenerType_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ListenerType_PRE=new g.callbacks.ListenerType,c.util.ZPP_Flags.internal=!1);ta.types=[sa,la,Sc,c.util.ZPP_Flags.ListenerType_PRE];ta=c.callbacks.ZPP_Listener;null==c.util.ZPP_Flags.CbEvent_BEGIN&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BEGIN=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);sa=c.util.ZPP_Flags.CbEvent_BEGIN;
null==c.util.ZPP_Flags.CbEvent_END&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_END=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);la=c.util.ZPP_Flags.CbEvent_END;null==c.util.ZPP_Flags.CbEvent_WAKE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_WAKE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);var Sc=c.util.ZPP_Flags.CbEvent_WAKE,Tc;null==c.util.ZPP_Flags.CbEvent_SLEEP&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_SLEEP=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=
!1);Tc=c.util.ZPP_Flags.CbEvent_SLEEP;var Uc;null==c.util.ZPP_Flags.CbEvent_BREAK&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_BREAK=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);Uc=c.util.ZPP_Flags.CbEvent_BREAK;var Vc;null==c.util.ZPP_Flags.CbEvent_PRE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_PRE=new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);Vc=c.util.ZPP_Flags.CbEvent_PRE;null==c.util.ZPP_Flags.CbEvent_ONGOING&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.CbEvent_ONGOING=
new g.callbacks.CbEvent,c.util.ZPP_Flags.internal=!1);ta.events=[sa,la,Sc,Tc,Uc,Vc,c.util.ZPP_Flags.CbEvent_ONGOING];c.callbacks.ZPP_InteractionListener.UCbSet=new c.util.ZNPList_ZPP_CbSet;c.callbacks.ZPP_InteractionListener.VCbSet=new c.util.ZNPList_ZPP_CbSet;c.callbacks.ZPP_InteractionListener.WCbSet=new c.util.ZNPList_ZPP_CbSet;c.callbacks.ZPP_InteractionListener.UCbType=new c.util.ZNPList_ZPP_CbType;c.callbacks.ZPP_InteractionListener.VCbType=new c.util.ZNPList_ZPP_CbType;c.callbacks.ZPP_InteractionListener.WCbType=
new c.util.ZNPList_ZPP_CbType;c.constraint.ZPP_AngleDraw.maxarc=Math.PI/4;c.dynamics.ZPP_Arbiter.internal=!1;c.dynamics.ZPP_Arbiter.COL=1;c.dynamics.ZPP_Arbiter.FLUID=4;c.dynamics.ZPP_Arbiter.SENSOR=2;ta=c.dynamics.ZPP_Arbiter;null==c.util.ZPP_Flags.ArbiterType_COLLISION&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_COLLISION=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);sa=c.util.ZPP_Flags.ArbiterType_COLLISION;null==c.util.ZPP_Flags.ArbiterType_SENSOR&&(c.util.ZPP_Flags.internal=
!0,c.util.ZPP_Flags.ArbiterType_SENSOR=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);la=c.util.ZPP_Flags.ArbiterType_SENSOR;null==c.util.ZPP_Flags.ArbiterType_FLUID&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ArbiterType_FLUID=new g.dynamics.ArbiterType,c.util.ZPP_Flags.internal=!1);ta.types=[null,sa,la,null,c.util.ZPP_Flags.ArbiterType_FLUID];c.dynamics.ZPP_ColArbiter.FACE1=0;c.dynamics.ZPP_ColArbiter.FACE2=1;c.dynamics.ZPP_ColArbiter.CIRCLE=2;c.dynamics.ZPP_Contact.internal=!1;c.dynamics.ZPP_InteractionGroup.SHAPE=
1;c.dynamics.ZPP_InteractionGroup.BODY=2;c.geom.ZPP_Collide.flowpoly=new c.util.ZNPList_ZPP_Vec2;c.geom.ZPP_Collide.flowsegs=new c.util.ZNPList_ZPP_Vec2;c.geom.ZPP_ConvexRayResult.internal=!1;c.geom.ZPP_GeomVertexIterator.internal=!1;c.geom.ZPP_MarchingSquares.me=new c.geom.ZPP_MarchingSquares;c.geom.ZPP_MarchingSquares.look_march=[-1,224,56,216,14,-1,54,214,131,99,-1,91,141,109,181,85];c.geom.ZPP_PartitionVertex.nextId=0;c.geom.ZPP_Ray.internal=!1;ta=c.phys.ZPP_Body;null==c.util.ZPP_Flags.BodyType_STATIC&&
(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_STATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);sa=c.util.ZPP_Flags.BodyType_STATIC;null==c.util.ZPP_Flags.BodyType_DYNAMIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_DYNAMIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);la=c.util.ZPP_Flags.BodyType_DYNAMIC;null==c.util.ZPP_Flags.BodyType_KINEMATIC&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.BodyType_KINEMATIC=new g.phys.BodyType,c.util.ZPP_Flags.internal=!1);ta.types=
[null,sa,la,c.util.ZPP_Flags.BodyType_KINEMATIC];c.phys.ZPP_Body.cur_graph_depth=0;c.phys.ZPP_Material.WAKE=1;c.phys.ZPP_Material.PROPS=2;c.phys.ZPP_Material.ANGDRAG=4;c.phys.ZPP_Material.ARBITERS=8;ta=c.shape.ZPP_Shape;null==c.util.ZPP_Flags.ShapeType_CIRCLE&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_CIRCLE=new g.shape.ShapeType,c.util.ZPP_Flags.internal=!1);sa=c.util.ZPP_Flags.ShapeType_CIRCLE;null==c.util.ZPP_Flags.ShapeType_POLYGON&&(c.util.ZPP_Flags.internal=!0,c.util.ZPP_Flags.ShapeType_POLYGON=
new g.shape.ShapeType,c.util.ZPP_Flags.internal=!1);ta.types=[sa,c.util.ZPP_Flags.ShapeType_POLYGON];c.shape.ZPP_Edge.internal=!1;c.space.ZPP_AABBTree.tmpaabb=new c.geom.ZPP_AABB;c.space.ZPP_DynAABBPhase.FATTEN=3;c.space.ZPP_DynAABBPhase.VEL_STEPS=2;c.util.ZPP_Debug.internal=!1;c.util.ZPP_ConstraintList.internal=!1;c.util.ZPP_BodyList.internal=!1;c.util.ZPP_InteractorList.internal=!1;c.util.ZPP_CompoundList.internal=!1;c.util.ZPP_ListenerList.internal=!1;c.util.ZPP_CbTypeList.internal=!1;c.util.ZPP_Vec2List.internal=
!1;c.util.ZPP_GeomPolyList.internal=!1;c.util.ZPP_RayResultList.internal=!1;c.util.ZPP_ConvexResultList.internal=!1;c.util.ZPP_EdgeList.internal=!1;c.util.ZPP_ShapeList.internal=!1;c.util.ZPP_InteractionGroupList.internal=!1;c.util.ZPP_ArbiterList.internal=!1;c.util.ZPP_ContactList.internal=!1;M.main()})();
